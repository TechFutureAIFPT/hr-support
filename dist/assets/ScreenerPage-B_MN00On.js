var IC=Object.defineProperty;var mv=n=>{throw TypeError(n)};var FC=(n,e,t)=>e in n?IC(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Le=(n,e,t)=>FC(n,typeof e!="symbol"?e+"":e,t),Of=(n,e,t)=>e.has(n)||mv("Cannot "+t);var m=(n,e,t)=>(Of(n,e,"read from private field"),t?t.call(n):e.get(n)),W=(n,e,t)=>e.has(n)?mv("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),M=(n,e,t,i)=>(Of(n,e,"write to private field"),i?i.call(n,t):e.set(n,t),t),P=(n,e,t)=>(Of(n,e,"access private method"),t);var St=(n,e,t,i)=>({set _(r){M(n,e,r,t)},get _(){return m(n,e,i)}});import{_ as Hu,g as Yh,a as i2,c as Ln,M as Kh,r as We,j as E,R as ah}from"./index-DLDdFW1N.js";var Ol={};Ol.d=(n,e)=>{for(var t in e)Ol.o(e,t)&&!Ol.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:e[t]})};Ol.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var Me=globalThis.pdfjsLib={};Ol.d(Me,{AbortException:()=>To,AnnotationEditorLayer:()=>Pm,AnnotationEditorParamsType:()=>Pe,AnnotationEditorType:()=>Ge,AnnotationEditorUIManager:()=>go,AnnotationLayer:()=>RE,AnnotationMode:()=>_r,CMapCompressionType:()=>Eg,ColorPicker:()=>hh,DOMSVGFactory:()=>oy,DrawLayer:()=>Wm,FeatureTest:()=>an,GlobalWorkerOptions:()=>lr,ImageKind:()=>cd,InvalidPDFException:()=>s2,MissingPDFException:()=>Do,OPS:()=>$n,Outliner:()=>ym,PDFDataRangeTransport:()=>j2,PDFDateString:()=>h2,PDFWorker:()=>Go,PasswordResponses:()=>PC,PermissionFlag:()=>MC,PixelsPerInch:()=>zr,RenderingCancelledException:()=>ay,TextLayer:()=>Ja,UnexpectedResponseException:()=>ef,Util:()=>Ue,VerbosityLevel:()=>jh,XfaLayer:()=>Q2,build:()=>uE,createValidAbsoluteUrl:()=>WC,fetchData:()=>af,getDocument:()=>tE,getFilenameFromUrl:()=>KC,getPdfFilenameFromUrl:()=>jC,getXfaPageViewport:()=>ZC,isDataScheme:()=>ly,isPdfFile:()=>cy,noContextMenu:()=>cn,normalizeUnicode:()=>zC,renderTextLayer:()=>zA,setLayerDimensions:()=>po,shadow:()=>$e,updateTextLayer:()=>XA,version:()=>cE});const Vt=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),r2=[1,0,0,1,0,0],Ag=[.001,0,0,.001,0,0],kC=1e7,Wf=1.35,Nn={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},_r={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},NC="pdfjs_internal_editor_",Ge={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},Pe={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},MC={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Ot={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},cd={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},vt={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,WIDGET:20},ol={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},jh={ERRORS:0,WARNINGS:1,INFOS:5},Eg={NONE:0,BINARY:1},$n={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},PC={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Zh=jh.WARNINGS;function LC(n){Number.isInteger(n)&&(Zh=n)}function BC(){return Zh}function Qh(n){Zh>=jh.INFOS&&console.log(`Info: ${n}`)}function Be(n){Zh>=jh.WARNINGS&&console.log(`Warning: ${n}`)}function nt(n){throw new Error(n)}function _t(n,e){n||nt(e)}function OC(n){switch(n==null?void 0:n.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function WC(n,e=null,t=null){if(!n)return null;try{if(t&&typeof n=="string"){if(t.addDefaultProtocol&&n.startsWith("www.")){const r=n.match(/\./g);(r==null?void 0:r.length)>=2&&(n=`http://${n}`)}if(t.tryConvertEncoding)try{n=$C(n)}catch{}}const i=e?new URL(n,e):new URL(n);if(OC(i))return i}catch{}return null}function $e(n,e,t,i=!1){return Object.defineProperty(n,e,{value:t,enumerable:!i,configurable:!0,writable:!1}),t}const jr=(function(){function e(t,i){this.constructor===e&&nt("Cannot initialize BaseException."),this.message=t,this.name=i}return e.prototype=new Error,e.constructor=e,e})();class wg extends jr{constructor(e,t){super(e,"PasswordException"),this.code=t}}class Sg extends jr{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class s2 extends jr{constructor(e){super(e,"InvalidPDFException")}}class Do extends jr{constructor(e){super(e,"MissingPDFException")}}class ef extends jr{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}}class qC extends jr{constructor(e){super(e,"FormatError")}}class To extends jr{constructor(e){super(e,"AbortException")}}function o2(n){(typeof n!="object"||(n==null?void 0:n.length)===void 0)&&nt("Invalid argument for bytesToString");const e=n.length,t=8192;if(e<t)return String.fromCharCode.apply(null,n);const i=[];for(let r=0;r<e;r+=t){const s=Math.min(r+t,e),o=n.subarray(r,s);i.push(String.fromCharCode.apply(null,o))}return i.join("")}function tf(n){typeof n!="string"&&nt("Invalid argument for stringToBytes");const e=n.length,t=new Uint8Array(e);for(let i=0;i<e;++i)t[i]=n.charCodeAt(i)&255;return t}function VC(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function ry(n){const e=Object.create(null);for(const[t,i]of n)e[t]=i;return e}function HC(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function GC(){try{return new Function(""),!0}catch{return!1}}class an{static get isLittleEndian(){return $e(this,"isLittleEndian",HC())}static get isEvalSupported(){return $e(this,"isEvalSupported",GC())}static get isOffscreenCanvasSupported(){return $e(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?$e(this,"platform",{isMac:navigator.platform.includes("Mac")}):$e(this,"platform",{isMac:!1})}static get isCSSRoundSupported(){var e,t;return $e(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const qf=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));var ur,ud,Ug;class Ue{static makeHexColor(e,t,i){return`#${qf[e]}${qf[t]}${qf[i]}`}static scaleMinMax(e,t){let i;e[0]?(e[0]<0&&(i=t[0],t[0]=t[2],t[2]=i),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(i=t[1],t[1]=t[3],t[3]=i),t[1]*=e[3],t[3]*=e[3]):(i=t[0],t[0]=t[1],t[1]=i,i=t[2],t[2]=t[3],t[3]=i,e[1]<0&&(i=t[1],t[1]=t[3],t[3]=i),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(i=t[0],t[0]=t[2],t[2]=i),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){const i=e[0]*t[0]+e[1]*t[2]+t[4],r=e[0]*t[1]+e[1]*t[3]+t[5];return[i,r]}static applyInverseTransform(e,t){const i=t[0]*t[3]-t[1]*t[2],r=(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/i,s=(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/i;return[r,s]}static getAxialAlignedBoundingBox(e,t){const i=this.applyTransform(e,t),r=this.applyTransform(e.slice(2,4),t),s=this.applyTransform([e[0],e[3]],t),o=this.applyTransform([e[2],e[1]],t);return[Math.min(i[0],r[0],s[0],o[0]),Math.min(i[1],r[1],s[1],o[1]),Math.max(i[0],r[0],s[0],o[0]),Math.max(i[1],r[1],s[1],o[1])]}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e){const t=[e[0],e[2],e[1],e[3]],i=e[0]*t[0]+e[1]*t[2],r=e[0]*t[1]+e[1]*t[3],s=e[2]*t[0]+e[3]*t[2],o=e[2]*t[1]+e[3]*t[3],a=(i+o)/2,l=Math.sqrt((i+o)**2-4*(i*o-s*r))/2,c=a+l||1,u=a-l||1;return[Math.sqrt(c),Math.sqrt(u)]}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const i=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),r=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(i>r)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),o=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return s>o?null:[i,s,r,o]}static bezierBoundingBox(e,t,i,r,s,o,a,l,c){return c?(c[0]=Math.min(c[0],e,a),c[1]=Math.min(c[1],t,l),c[2]=Math.max(c[2],e,a),c[3]=Math.max(c[3],t,l)):c=[Math.min(e,a),Math.min(t,l),Math.max(e,a),Math.max(t,l)],P(this,ur,Ug).call(this,e,i,s,a,t,r,o,l,3*(-e+3*(i-s)+a),6*(e-2*i+s),3*(i-e),c),P(this,ur,Ug).call(this,e,i,s,a,t,r,o,l,3*(-t+3*(r-o)+l),6*(t-2*r+o),3*(r-t),c),c}}ur=new WeakSet,ud=function(e,t,i,r,s,o,a,l,c,u){if(c<=0||c>=1)return;const f=1-c,p=c*c,g=p*c,b=f*(f*(f*e+3*c*t)+3*p*i)+g*r,y=f*(f*(f*s+3*c*o)+3*p*a)+g*l;u[0]=Math.min(u[0],b),u[1]=Math.min(u[1],y),u[2]=Math.max(u[2],b),u[3]=Math.max(u[3],y)},Ug=function(e,t,i,r,s,o,a,l,c,u,f,p){if(Math.abs(c)<1e-12){Math.abs(u)>=1e-12&&P(this,ur,ud).call(this,e,t,i,r,s,o,a,l,-f/u,p);return}const g=u**2-4*f*c;if(g<0)return;const b=Math.sqrt(g),y=2*c;P(this,ur,ud).call(this,e,t,i,r,s,o,a,l,(-u+b)/y,p),P(this,ur,ud).call(this,e,t,i,r,s,o,a,l,(-u-b)/y,p)},W(Ue,ur);function $C(n){return decodeURIComponent(escape(n))}let Vf=null,yv=null;function zC(n){return Vf||(Vf=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,yv=new Map([["ﬅ","ſt"]])),n.replaceAll(Vf,(e,t,i)=>t?t.normalize("NFKC"):yv.get(i))}function XC(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const n=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(n);else for(let e=0;e<32;e++)n[e]=Math.floor(Math.random()*255);return o2(n)}const a2="pdfjs_internal_id_",Si={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};class nf{constructor(){this.constructor===nf&&nt("Cannot initialize BaseFilterFactory.")}addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,i,r,s){return"none"}destroy(e=!1){}}class rf{constructor(){this.constructor===rf&&nt("Cannot initialize BaseCanvasFactory.")}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const i=this._createCanvas(e,t);return{canvas:i,context:i.getContext("2d")}}reset(e,t,i){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||i<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=i}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){nt("Abstract method `_createCanvas` called.")}}class sf{constructor({baseUrl:e=null,isCompressed:t=!0}){this.constructor===sf&&nt("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":""),i=this.isCompressed?Eg.BINARY:Eg.NONE;return this._fetchData(t,i).catch(r=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}_fetchData(e,t){nt("Abstract method `_fetchData` called.")}}class of{constructor({baseUrl:e=null}){this.constructor===of&&nt("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetchData(t).catch(i=>{throw new Error(`Unable to load font data at: ${t}`)})}_fetchData(e){nt("Abstract method `_fetchData` called.")}}class sy{constructor(){this.constructor===sy&&nt("Cannot initialize BaseSVGFactory.")}create(e,t,i=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),i||(r.setAttribute("width",`${e}px`),r.setAttribute("height",`${t}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${e} ${t}`),r}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){nt("Abstract method `_createSVG` called.")}}const Fi="http://www.w3.org/2000/svg",gs=class gs{};Le(gs,"CSS",96),Le(gs,"PDF",72),Le(gs,"PDF_TO_CSS_UNITS",gs.CSS/gs.PDF);let zr=gs;var ys,li,Li,rn,Uh,vs,we,Wt,No,Mo,dd,l2,Rg,Po,Tl,_l,Ig,Cl;class JC extends nf{constructor({docId:t,ownerDocument:i=globalThis.document}={}){super();W(this,we);W(this,ys);W(this,li);W(this,Li);W(this,rn);W(this,Uh);W(this,vs,0);M(this,Li,t),M(this,rn,i)}addFilter(t){if(!t)return"none";let i=m(this,we,Wt).get(t);if(i)return i;const[r,s,o]=P(this,we,dd).call(this,t),a=t.length===1?r:`${r}${s}${o}`;if(i=m(this,we,Wt).get(a),i)return m(this,we,Wt).set(t,i),i;const l=`g_${m(this,Li)}_transfer_map_${St(this,vs)._++}`,c=`url(#${l})`;m(this,we,Wt).set(t,c),m(this,we,Wt).set(a,c);const u=P(this,we,Po).call(this,l);return P(this,we,_l).call(this,r,s,o,u),c}addHCMFilter(t,i){var b;const r=`${t}-${i}`,s="base";let o=m(this,we,No).get(s);if((o==null?void 0:o.key)===r||(o?((b=o.filter)==null||b.remove(),o.key=r,o.url="none",o.filter=null):(o={key:r,url:"none",filter:null},m(this,we,No).set(s,o)),!t||!i))return o.url;const a=P(this,we,Cl).call(this,t);t=Ue.makeHexColor(...a);const l=P(this,we,Cl).call(this,i);if(i=Ue.makeHexColor(...l),m(this,we,Mo).style.color="",t==="#000000"&&i==="#ffffff"||t===i)return o.url;const c=new Array(256);for(let y=0;y<=255;y++){const v=y/255;c[y]=v<=.03928?v/12.92:((v+.055)/1.055)**2.4}const u=c.join(","),f=`g_${m(this,Li)}_hcm_filter`,p=o.filter=P(this,we,Po).call(this,f);P(this,we,_l).call(this,u,u,u,p),P(this,we,Rg).call(this,p);const g=(y,v)=>{const x=a[y]/255,D=l[y]/255,T=new Array(v+1);for(let C=0;C<=v;C++)T[C]=x+C/v*(D-x);return T.join(",")};return P(this,we,_l).call(this,g(0,5),g(1,5),g(2,5),p),o.url=`url(#${f})`,o.url}addAlphaFilter(t){let i=m(this,we,Wt).get(t);if(i)return i;const[r]=P(this,we,dd).call(this,[t]),s=`alpha_${r}`;if(i=m(this,we,Wt).get(s),i)return m(this,we,Wt).set(t,i),i;const o=`g_${m(this,Li)}_alpha_map_${St(this,vs)._++}`,a=`url(#${o})`;m(this,we,Wt).set(t,a),m(this,we,Wt).set(s,a);const l=P(this,we,Po).call(this,o);return P(this,we,Ig).call(this,r,l),a}addLuminosityFilter(t){let i=m(this,we,Wt).get(t||"luminosity");if(i)return i;let r,s;if(t?([r]=P(this,we,dd).call(this,[t]),s=`luminosity_${r}`):s="luminosity",i=m(this,we,Wt).get(s),i)return m(this,we,Wt).set(t,i),i;const o=`g_${m(this,Li)}_luminosity_map_${St(this,vs)._++}`,a=`url(#${o})`;m(this,we,Wt).set(t,a),m(this,we,Wt).set(s,a);const l=P(this,we,Po).call(this,o);return P(this,we,l2).call(this,l),t&&P(this,we,Ig).call(this,r,l),a}addHighlightHCMFilter(t,i,r,s,o){var D;const a=`${i}-${r}-${s}-${o}`;let l=m(this,we,No).get(t);if((l==null?void 0:l.key)===a||(l?((D=l.filter)==null||D.remove(),l.key=a,l.url="none",l.filter=null):(l={key:a,url:"none",filter:null},m(this,we,No).set(t,l)),!i||!r))return l.url;const[c,u]=[i,r].map(P(this,we,Cl).bind(this));let f=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),p=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),[g,b]=[s,o].map(P(this,we,Cl).bind(this));p<f&&([f,p,g,b]=[p,f,b,g]),m(this,we,Mo).style.color="";const y=(T,C,_)=>{const A=new Array(256),R=(p-f)/_,k=T/255,I=(C-T)/(255*_);let L=0;for(let J=0;J<=_;J++){const U=Math.round(f+J*R),O=k+J*I;for(let S=L;S<=U;S++)A[S]=O;L=U+1}for(let J=L;J<256;J++)A[J]=A[L-1];return A.join(",")},v=`g_${m(this,Li)}_hcm_${t}_filter`,x=l.filter=P(this,we,Po).call(this,v);return P(this,we,Rg).call(this,x),P(this,we,_l).call(this,y(g[0],b[0],5),y(g[1],b[1],5),y(g[2],b[2],5),x),l.url=`url(#${v})`,l.url}destroy(t=!1){t&&m(this,we,No).size!==0||(m(this,li)&&(m(this,li).parentNode.parentNode.remove(),M(this,li,null)),m(this,ys)&&(m(this,ys).clear(),M(this,ys,null)),M(this,vs,0))}}ys=new WeakMap,li=new WeakMap,Li=new WeakMap,rn=new WeakMap,Uh=new WeakMap,vs=new WeakMap,we=new WeakSet,Wt=function(){return m(this,ys)||M(this,ys,new Map)},No=function(){return m(this,Uh)||M(this,Uh,new Map)},Mo=function(){if(!m(this,li)){const t=m(this,rn).createElement("div"),{style:i}=t;i.visibility="hidden",i.contain="strict",i.width=i.height=0,i.position="absolute",i.top=i.left=0,i.zIndex=-1;const r=m(this,rn).createElementNS(Fi,"svg");r.setAttribute("width",0),r.setAttribute("height",0),M(this,li,m(this,rn).createElementNS(Fi,"defs")),t.append(r),r.append(m(this,li)),m(this,rn).body.append(t)}return m(this,li)},dd=function(t){if(t.length===1){const c=t[0],u=new Array(256);for(let p=0;p<256;p++)u[p]=c[p]/255;const f=u.join(",");return[f,f,f]}const[i,r,s]=t,o=new Array(256),a=new Array(256),l=new Array(256);for(let c=0;c<256;c++)o[c]=i[c]/255,a[c]=r[c]/255,l[c]=s[c]/255;return[o.join(","),a.join(","),l.join(",")]},l2=function(t){const i=m(this,rn).createElementNS(Fi,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(i)},Rg=function(t){const i=m(this,rn).createElementNS(Fi,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(i)},Po=function(t){const i=m(this,rn).createElementNS(Fi,"filter");return i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("id",t),m(this,we,Mo).append(i),i},Tl=function(t,i,r){const s=m(this,rn).createElementNS(Fi,i);s.setAttribute("type","discrete"),s.setAttribute("tableValues",r),t.append(s)},_l=function(t,i,r,s){const o=m(this,rn).createElementNS(Fi,"feComponentTransfer");s.append(o),P(this,we,Tl).call(this,o,"feFuncR",t),P(this,we,Tl).call(this,o,"feFuncG",i),P(this,we,Tl).call(this,o,"feFuncB",r)},Ig=function(t,i){const r=m(this,rn).createElementNS(Fi,"feComponentTransfer");i.append(r),P(this,we,Tl).call(this,r,"feFuncA",t)},Cl=function(t){return m(this,we,Mo).style.color=t,uy(getComputedStyle(m(this,we,Mo)).getPropertyValue("color"))};class YC extends rf{constructor({ownerDocument:e=globalThis.document}={}){super(),this._document=e}_createCanvas(e,t){const i=this._document.createElement("canvas");return i.width=e,i.height=t,i}}async function af(n,e="text"){if(Al(n,document.baseURI)){const t=await fetch(n);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,i)=>{const r=new XMLHttpRequest;r.open("GET",n,!0),r.responseType=e,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(r.response);return}t(r.responseText);return}i(new Error(r.statusText))}},r.send(null)})}class c2 extends sf{_fetchData(e,t){return af(e,this.isCompressed?"arraybuffer":"text").then(i=>({cMapData:i instanceof ArrayBuffer?new Uint8Array(i):tf(i),compressionType:t}))}}class u2 extends of{_fetchData(e){return af(e,"arraybuffer").then(t=>new Uint8Array(t))}}class oy extends sy{_createSVG(e){return document.createElementNS(Fi,e)}}class Nu{constructor({viewBox:e,scale:t,rotation:i,offsetX:r=0,offsetY:s=0,dontFlip:o=!1}){this.viewBox=e,this.scale=t,this.rotation=i,this.offsetX=r,this.offsetY=s;const a=(e[2]+e[0])/2,l=(e[3]+e[1])/2;let c,u,f,p;switch(i%=360,i<0&&(i+=360),i){case 180:c=-1,u=0,f=0,p=1;break;case 90:c=0,u=1,f=1,p=0;break;case 270:c=0,u=-1,f=-1,p=0;break;case 0:c=1,u=0,f=0,p=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(f=-f,p=-p);let g,b,y,v;c===0?(g=Math.abs(l-e[1])*t+r,b=Math.abs(a-e[0])*t+s,y=(e[3]-e[1])*t,v=(e[2]-e[0])*t):(g=Math.abs(a-e[0])*t+r,b=Math.abs(l-e[1])*t+s,y=(e[2]-e[0])*t,v=(e[3]-e[1])*t),this.transform=[c*t,u*t,f*t,p*t,g-c*t*a-f*t*l,b-u*t*a-p*t*l],this.width=y,this.height=v}get rawDims(){const{viewBox:e}=this;return $e(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:i=this.offsetX,offsetY:r=this.offsetY,dontFlip:s=!1}={}){return new Nu({viewBox:this.viewBox.slice(),scale:e,rotation:t,offsetX:i,offsetY:r,dontFlip:s})}convertToViewportPoint(e,t){return Ue.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){const t=Ue.applyTransform([e[0],e[1]],this.transform),i=Ue.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],i[0],i[1]]}convertToPdfPoint(e,t){return Ue.applyInverseTransform([e,t],this.transform)}}class ay extends jr{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function ly(n){const e=n.length;let t=0;for(;t<e&&n[t].trim()==="";)t++;return n.substring(t,t+5).toLowerCase()==="data:"}function cy(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function KC(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function jC(n,e="document.pdf"){if(typeof n!="string")return e;if(ly(n))return Be('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const t=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,i=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,r=t.exec(n);let s=i.exec(r[1])||i.exec(r[2])||i.exec(r[3]);if(s&&(s=s[0],s.includes("%")))try{s=i.exec(decodeURIComponent(s))[0]}catch{}return s||e}class vv{constructor(){Le(this,"started",Object.create(null));Le(this,"times",[])}time(e){e in this.started&&Be(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||Be(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:i}of this.times)t=Math.max(i.length,t);for(const{name:i,start:r,end:s}of this.times)e.push(`${i.padEnd(t)} ${s-r}ms
`);return e.join("")}}function Al(n,e){try{const{protocol:t}=e?new URL(n,e):new URL(n);return t==="http:"||t==="https:"}catch{return!1}}function cn(n){n.preventDefault()}function d2(n){console.log("Deprecated API usage: "+n)}let bv;class h2{static toDateObject(e){if(!e||typeof e!="string")return null;bv||(bv=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=bv.exec(e);if(!t)return null;const i=parseInt(t[1],10);let r=parseInt(t[2],10);r=r>=1&&r<=12?r-1:0;let s=parseInt(t[3],10);s=s>=1&&s<=31?s:1;let o=parseInt(t[4],10);o=o>=0&&o<=23?o:0;let a=parseInt(t[5],10);a=a>=0&&a<=59?a:0;let l=parseInt(t[6],10);l=l>=0&&l<=59?l:0;const c=t[7]||"Z";let u=parseInt(t[8],10);u=u>=0&&u<=23?u:0;let f=parseInt(t[9],10)||0;return f=f>=0&&f<=59?f:0,c==="-"?(o+=u,a+=f):c==="+"&&(o-=u,a-=f),new Date(Date.UTC(i,r,s,o,a,l))}}function ZC(n,{scale:e=1,rotation:t=0}){const{width:i,height:r}=n.attributes.style,s=[0,0,parseInt(i),parseInt(r)];return new Nu({viewBox:s,scale:e,rotation:t})}function uy(n){if(n.startsWith("#")){const e=parseInt(n.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(e=>parseInt(e)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(Be(`Not a valid color format: "${n}"`),[0,0,0])}function QC(n){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const t of n.keys()){e.style.color=t;const i=window.getComputedStyle(e).color;n.set(t,uy(i))}e.remove()}function dt(n){const{a:e,b:t,c:i,d:r,e:s,f:o}=n.getTransform();return[e,t,i,r,s,o]}function Ui(n){const{a:e,b:t,c:i,d:r,e:s,f:o}=n.getTransform().invertSelf();return[e,t,i,r,s,o]}function po(n,e,t=!1,i=!0){if(e instanceof Nu){const{pageWidth:r,pageHeight:s}=e.rawDims,{style:o}=n,a=an.isCSSRoundSupported,l=`var(--scale-factor) * ${r}px`,c=`var(--scale-factor) * ${s}px`,u=a?`round(${l}, 1px)`:`calc(${l})`,f=a?`round(${c}, 1px)`:`calc(${c})`;!t||e.rotation%180===0?(o.width=u,o.height=f):(o.width=f,o.height=u)}i&&n.setAttribute("data-main-rotation",e.rotation)}var bs,xs,ci,Ds,Rh,f2,Zt,p2,g2,hd,m2,kg;const Ih=class Ih{constructor(e){W(this,Zt);W(this,bs,null);W(this,xs,null);W(this,ci);W(this,Ds,null);M(this,ci,e)}render(){const e=M(this,bs,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",cn),e.addEventListener("pointerdown",P(Ih,Rh,f2));const t=M(this,Ds,document.createElement("div"));t.className="buttons",e.append(t);const i=m(this,ci).toolbarPosition;if(i){const{style:r}=e,s=m(this,ci)._uiManager.direction==="ltr"?1-i[0]:i[0];r.insetInlineEnd=`${100*s}%`,r.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return P(this,Zt,m2).call(this),e}hide(){var e;m(this,bs).classList.add("hidden"),(e=m(this,xs))==null||e.hideDropdown()}show(){m(this,bs).classList.remove("hidden")}addAltTextButton(e){P(this,Zt,hd).call(this,e),m(this,Ds).prepend(e,m(this,Zt,kg))}addColorPicker(e){M(this,xs,e);const t=e.renderButton();P(this,Zt,hd).call(this,t),m(this,Ds).prepend(t,m(this,Zt,kg))}remove(){var e;m(this,bs).remove(),(e=m(this,xs))==null||e.destroy(),M(this,xs,null)}};bs=new WeakMap,xs=new WeakMap,ci=new WeakMap,Ds=new WeakMap,Rh=new WeakSet,f2=function(e){e.stopPropagation()},Zt=new WeakSet,p2=function(e){m(this,ci)._focusEventsAllowed=!1,e.preventDefault(),e.stopPropagation()},g2=function(e){m(this,ci)._focusEventsAllowed=!0,e.preventDefault(),e.stopPropagation()},hd=function(e){e.addEventListener("focusin",P(this,Zt,p2).bind(this),{capture:!0}),e.addEventListener("focusout",P(this,Zt,g2).bind(this),{capture:!0}),e.addEventListener("contextmenu",cn)},m2=function(){const e=document.createElement("button");e.className="delete",e.tabIndex=0,e.setAttribute("data-l10n-id",`pdfjs-editor-remove-${m(this,ci).editorType}-button`),P(this,Zt,hd).call(this,e),e.addEventListener("click",t=>{m(this,ci)._uiManager.delete()}),m(this,Ds).append(e)},kg=function(){const e=document.createElement("div");return e.className="divider",e},W(Ih,Rh);let Fg=Ih;var jl,Ts,Zl,Yr,y2,v2,b2;class eA{constructor(e){W(this,Yr);W(this,jl,null);W(this,Ts,null);W(this,Zl);M(this,Zl,e)}show(e,t,i){const[r,s]=P(this,Yr,v2).call(this,t,i),{style:o}=m(this,Ts)||M(this,Ts,P(this,Yr,y2).call(this));e.append(m(this,Ts)),o.insetInlineEnd=`${100*r}%`,o.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){m(this,Ts).remove()}}jl=new WeakMap,Ts=new WeakMap,Zl=new WeakMap,Yr=new WeakSet,y2=function(){const e=M(this,Ts,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",cn);const t=M(this,jl,document.createElement("div"));return t.className="buttons",e.append(t),P(this,Yr,b2).call(this),e},v2=function(e,t){let i=0,r=0;for(const s of e){const o=s.y+s.height;if(o<i)continue;const a=s.x+(t?s.width:0);if(o>i){r=a,i=o;continue}t?a>r&&(r=a):a<r&&(r=a)}return[t?1-r:r,i]},b2=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label"),e.addEventListener("contextmenu",cn),e.addEventListener("click",()=>{m(this,Zl).highlightSelection("floating_button")}),m(this,jl).append(e)};function lh(n,e,t){for(const i of t)e.addEventListener(i,n[i].bind(n))}function tA(n){return Math.round(Math.min(255,Math.max(1,255*n))).toString(16).padStart(2,"0")}var Fh;class nA{constructor(){W(this,Fh,0)}get id(){return`${NC}${St(this,Fh)._++}`}}Fh=new WeakMap;var Ql,kh,wn,ec,Mg;const dv=class dv{constructor(){W(this,ec);W(this,Ql,XC());W(this,kh,0);W(this,wn,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',i=new OffscreenCanvas(1,3).getContext("2d"),r=new Image;r.src=e;const s=r.decode().then(()=>(i.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(i.getImageData(0,0,1,1).data.buffer)[0]===0));return $e(this,"_isSVGFittingCanvas",s)}async getFromFile(e){const{lastModified:t,name:i,size:r,type:s}=e;return P(this,ec,Mg).call(this,`${t}_${i}_${r}_${s}`,e)}async getFromUrl(e){return P(this,ec,Mg).call(this,e,e)}async getFromId(e){m(this,wn)||M(this,wn,new Map);const t=m(this,wn).get(e);return t?t.bitmap?(t.refCounter+=1,t):t.file?this.getFromFile(t.file):this.getFromUrl(t.url):null}getSvgUrl(e){const t=m(this,wn).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){m(this,wn)||M(this,wn,new Map);const t=m(this,wn).get(e);t&&(t.refCounter-=1,t.refCounter===0&&(t.bitmap=null))}isValidId(e){return e.startsWith(`image_${m(this,Ql)}_`)}};Ql=new WeakMap,kh=new WeakMap,wn=new WeakMap,ec=new WeakSet,Mg=async function(e,t){m(this,wn)||M(this,wn,new Map);let i=m(this,wn).get(e);if(i===null)return null;if(i!=null&&i.bitmap)return i.refCounter+=1,i;try{i||(i={bitmap:null,id:`image_${m(this,Ql)}_${St(this,kh)._++}`,refCounter:0,isSvg:!1});let r;if(typeof t=="string"?(i.url=t,r=await af(t,"blob")):r=i.file=t,r.type==="image/svg+xml"){const s=dv._isSVGFittingCanvas,o=new FileReader,a=new Image,l=new Promise((c,u)=>{a.onload=()=>{i.bitmap=a,i.isSvg=!0,c()},o.onload=async()=>{const f=i.svgUrl=o.result;a.src=await s?`${f}#svgView(preserveAspectRatio(none))`:f},a.onerror=o.onerror=u});o.readAsDataURL(r),await l}else i.bitmap=await createImageBitmap(r);i.refCounter=1}catch(r){console.error(r),i=null}return m(this,wn).set(e,i),i&&m(this,wn).set(i.id,i),i};let Ng=dv;var At,Cr,tc,Et;class iA{constructor(e=128){W(this,At,[]);W(this,Cr,!1);W(this,tc);W(this,Et,-1);M(this,tc,e)}add({cmd:e,undo:t,post:i,mustExec:r,type:s=NaN,overwriteIfSameType:o=!1,keepUndo:a=!1}){if(r&&e(),m(this,Cr))return;const l={cmd:e,undo:t,post:i,type:s};if(m(this,Et)===-1){m(this,At).length>0&&(m(this,At).length=0),M(this,Et,0),m(this,At).push(l);return}if(o&&m(this,At)[m(this,Et)].type===s){a&&(l.undo=m(this,At)[m(this,Et)].undo),m(this,At)[m(this,Et)]=l;return}const c=m(this,Et)+1;c===m(this,tc)?m(this,At).splice(0,1):(M(this,Et,c),c<m(this,At).length&&m(this,At).splice(c)),m(this,At).push(l)}undo(){if(m(this,Et)===-1)return;M(this,Cr,!0);const{undo:e,post:t}=m(this,At)[m(this,Et)];e(),t==null||t(),M(this,Cr,!1),M(this,Et,m(this,Et)-1)}redo(){if(m(this,Et)<m(this,At).length-1){M(this,Et,m(this,Et)+1),M(this,Cr,!0);const{cmd:e,post:t}=m(this,At)[m(this,Et)];e(),t==null||t(),M(this,Cr,!1)}}hasSomethingToUndo(){return m(this,Et)!==-1}hasSomethingToRedo(){return m(this,Et)<m(this,At).length-1}destroy(){M(this,At,null)}}At=new WeakMap,Cr=new WeakMap,tc=new WeakMap,Et=new WeakMap;var Nh,x2;class Mu{constructor(e){W(this,Nh);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=an.platform;for(const[i,r,s={}]of e)for(const o of i){const a=o.startsWith("mac+");t&&a?(this.callbacks.set(o.slice(4),{callback:r,options:s}),this.allKeys.add(o.split("+").at(-1))):!t&&!a&&(this.callbacks.set(o,{callback:r,options:s}),this.allKeys.add(o.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const i=this.callbacks.get(P(this,Nh,x2).call(this,t));if(!i)return;const{callback:r,options:{bubbles:s=!1,args:o=[],checker:a=null}}=i;a&&!a(e,t)||(r.bind(e,...o,t)(),s||(t.stopPropagation(),t.preventDefault()))}}Nh=new WeakSet,x2=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const Mh=class Mh{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return QC(e),$e(this,"_colors",e)}convert(e){const t=uy(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[i,r]of this._colors)if(r.every((s,o)=>s===t[o]))return Mh._colorsMapping.get(i);return t}getHexCode(e){const t=this._colors.get(e);return t?Ue.makeHexColor(...t):e}};Le(Mh,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let Pg=Mh;var mn,bt,It,Ko,Bi,jo,zn,Zo,_s,ui,Oi,Cs,nc,ic,di,Qo,Ar,hi,Ph,Er,rc,As,sc,ea,Ft,Qe,Wi,Es,oc,ac,lc,cc,uc,dc,hc,fc,pc,gc,mc,yc,vc,bc,wr,fi,qi,xc,_e,fd,D2,T2,pd,_2,C2,A2,Lg,Bg,Og,Wg,qg,zt,xr,E2,w2,Vg,S2,El,Hg;const Vo=class Vo{constructor(e,t,i,r,s,o,a,l,c){W(this,_e);W(this,mn,null);W(this,bt,new Map);W(this,It,new Map);W(this,Ko,null);W(this,Bi,null);W(this,jo,null);W(this,zn,new iA);W(this,Zo,0);W(this,_s,new Set);W(this,ui,null);W(this,Oi,null);W(this,Cs,new Set);W(this,nc,!1);W(this,ic,null);W(this,di,null);W(this,Qo,null);W(this,Ar,!1);W(this,hi,null);W(this,Ph,new nA);W(this,Er,!1);W(this,rc,!1);W(this,As,null);W(this,sc,null);W(this,ea,null);W(this,Ft,Ge.NONE);W(this,Qe,new Set);W(this,Wi,null);W(this,Es,null);W(this,oc,null);W(this,ac,this.blur.bind(this));W(this,lc,this.focus.bind(this));W(this,cc,this.copy.bind(this));W(this,uc,this.cut.bind(this));W(this,dc,this.paste.bind(this));W(this,hc,this.keydown.bind(this));W(this,fc,this.keyup.bind(this));W(this,pc,this.onEditingAction.bind(this));W(this,gc,this.onPageChanging.bind(this));W(this,mc,this.onScaleChanging.bind(this));W(this,yc,P(this,_e,T2).bind(this));W(this,vc,this.onRotationChanging.bind(this));W(this,bc,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});W(this,wr,[0,0]);W(this,fi,null);W(this,qi,null);W(this,xc,null);M(this,qi,e),M(this,xc,t),M(this,Ko,i),this._eventBus=r,this._eventBus._on("editingaction",m(this,pc)),this._eventBus._on("pagechanging",m(this,gc)),this._eventBus._on("scalechanging",m(this,mc)),this._eventBus._on("rotationchanging",m(this,vc)),P(this,_e,_2).call(this),P(this,_e,Bg).call(this),M(this,Bi,s.annotationStorage),M(this,ic,s.filterFactory),M(this,Es,o),M(this,Qo,a||null),M(this,nc,l),M(this,ea,c||null),this.viewParameters={realScale:zr.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const e=Vo.prototype,t=o=>m(o,qi).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&o.hasSomethingToControl(),i=(o,{target:a})=>{if(a instanceof HTMLInputElement){const{type:l}=a;return l!=="text"&&l!=="number"}return!0},r=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return $e(this,"_keyboardManager",new Mu([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:i}],[["ctrl+z","mac+meta+z"],e.undo,{checker:i}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:i}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:i}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(o,{target:a})=>!(a instanceof HTMLButtonElement)&&m(o,qi).contains(a)&&!o.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(o,{target:a})=>!(a instanceof HTMLButtonElement)&&m(o,qi).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-r,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[r,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-r],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,r],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}]]))}destroy(){var e,t;P(this,_e,Og).call(this),P(this,_e,Lg).call(this),this._eventBus._off("editingaction",m(this,pc)),this._eventBus._off("pagechanging",m(this,gc)),this._eventBus._off("scalechanging",m(this,mc)),this._eventBus._off("rotationchanging",m(this,vc));for(const i of m(this,It).values())i.destroy();m(this,It).clear(),m(this,bt).clear(),m(this,Cs).clear(),M(this,mn,null),m(this,Qe).clear(),m(this,zn).destroy(),(e=m(this,Ko))==null||e.destroy(),(t=m(this,hi))==null||t.hide(),M(this,hi,null),m(this,di)&&(clearTimeout(m(this,di)),M(this,di,null)),m(this,fi)&&(clearTimeout(m(this,fi)),M(this,fi,null)),P(this,_e,C2).call(this)}async mlGuess(e){var t;return((t=m(this,ea))==null?void 0:t.guess(e))||null}get hasMLManager(){return!!m(this,ea)}get hcmFilter(){return $e(this,"hcmFilter",m(this,Es)?m(this,ic).addHCMFilter(m(this,Es).foreground,m(this,Es).background):"none")}get direction(){return $e(this,"direction",getComputedStyle(m(this,qi)).direction)}get highlightColors(){return $e(this,"highlightColors",m(this,Qo)?new Map(m(this,Qo).split(",").map(e=>e.split("=").map(t=>t.trim()))):null)}get highlightColorNames(){return $e(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setMainHighlightColorPicker(e){M(this,sc,e)}editAltText(e){var t;(t=m(this,Ko))==null||t.editAltText(this,e)}onPageChanging({pageNumber:e}){M(this,Zo,e-1)}focusMainContainer(){m(this,qi).focus()}findParent(e,t){for(const i of m(this,It).values()){const{x:r,y:s,width:o,height:a}=i.div.getBoundingClientRect();if(e>=r&&e<=r+o&&t>=s&&t<=s+a)return i}return null}disableUserSelect(e=!1){m(this,xc).classList.toggle("noUserSelect",e)}addShouldRescale(e){m(this,Cs).add(e)}removeShouldRescale(e){m(this,Cs).delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*zr.PDF_TO_CSS_UNITS;for(const t of m(this,Cs))t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:i,anchorOffset:r,focusNode:s,focusOffset:o}=t,a=t.toString(),c=P(this,_e,fd).call(this,t).closest(".textLayer"),u=this.getSelectionBoxes(c);if(u){t.empty(),m(this,Ft)===Ge.NONE&&(this._eventBus.dispatch("showannotationeditorui",{source:this,mode:Ge.HIGHLIGHT}),this.showAllEditors("highlight",!0,!0));for(const f of m(this,It).values())if(f.hasTextLayer(c)){f.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:u,anchorNode:i,anchorOffset:r,focusNode:s,focusOffset:o,text:a});break}}}addToAnnotationStorage(e){!e.isEmpty()&&m(this,Bi)&&!m(this,Bi).has(e.id)&&m(this,Bi).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,m(this,Ar)&&(M(this,Ar,!1),P(this,_e,pd).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of m(this,Qe))if(t.div.contains(e)){M(this,As,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!m(this,As))return;const[e,t]=m(this,As);M(this,As,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0}),t.focus()}addEditListeners(){P(this,_e,Bg).call(this),P(this,_e,Wg).call(this)}removeEditListeners(){P(this,_e,Og).call(this),P(this,_e,qg).call(this)}copy(e){var i;if(e.preventDefault(),(i=m(this,mn))==null||i.commitOrRemove(),!this.hasSelection)return;const t=[];for(const r of m(this,Qe)){const s=r.serialize(!0);s&&t.push(s)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}paste(e){e.preventDefault();const{clipboardData:t}=e;for(const s of t.items)for(const o of m(this,Oi))if(o.isHandlingMimeForPasting(s.type)){o.paste(s,this.currentLayer);return}let i=t.getData("application/pdfjs");if(!i)return;try{i=JSON.parse(i)}catch(s){Be(`paste: "${s.message}".`);return}if(!Array.isArray(i))return;this.unselectAll();const r=this.currentLayer;try{const s=[];for(const l of i){const c=r.deserialize(l);if(!c)return;s.push(c)}const o=()=>{for(const l of s)P(this,_e,Vg).call(this,l);P(this,_e,Hg).call(this,s)},a=()=>{for(const l of s)l.remove()};this.addCommands({cmd:o,undo:a,mustExec:!0})}catch(s){Be(`paste: "${s.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),m(this,Ft)!==Ge.NONE&&!this.isEditorHandlingKeyboard&&Vo._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,m(this,Ar)&&(M(this,Ar,!1),P(this,_e,pd).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(P(this,_e,A2).call(this),P(this,_e,Wg).call(this),P(this,_e,zt).call(this,{isEditing:m(this,Ft)!==Ge.NONE,isEmpty:P(this,_e,El).call(this),hasSomethingToUndo:m(this,zn).hasSomethingToUndo(),hasSomethingToRedo:m(this,zn).hasSomethingToRedo(),hasSelectedEditor:!1})):(P(this,_e,Lg).call(this),P(this,_e,qg).call(this),P(this,_e,zt).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!m(this,Oi)){M(this,Oi,e);for(const t of m(this,Oi))P(this,_e,xr).call(this,t.defaultPropertiesToUpdate)}}getId(){return m(this,Ph).id}get currentLayer(){return m(this,It).get(m(this,Zo))}getLayer(e){return m(this,It).get(e)}get currentPageIndex(){return m(this,Zo)}addLayer(e){m(this,It).set(e.pageIndex,e),m(this,Er)?e.enable():e.disable()}removeLayer(e){m(this,It).delete(e.pageIndex)}updateMode(e,t=null,i=!1){if(m(this,Ft)!==e){if(M(this,Ft,e),e===Ge.NONE){this.setEditingState(!1),P(this,_e,w2).call(this);return}this.setEditingState(!0),P(this,_e,E2).call(this),this.unselectAll();for(const r of m(this,It).values())r.updateMode(e);if(!t&&i){this.addNewEditorFromKeyboard();return}if(t){for(const r of m(this,bt).values())if(r.annotationElementId===t){this.setSelected(r),r.enterInEditMode();break}}}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==m(this,Ft)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,t){var i;if(m(this,Oi)){switch(e){case Pe.CREATE:this.currentLayer.addNewEditor();return;case Pe.HIGHLIGHT_DEFAULT_COLOR:(i=m(this,sc))==null||i.updateColor(t);break;case Pe.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(m(this,oc)||M(this,oc,new Map)).set(e,t),this.showAllEditors("highlight",t);break}for(const r of m(this,Qe))r.updateParams(e,t);for(const r of m(this,Oi))r.updateDefaultParams(e,t)}}showAllEditors(e,t,i=!1){var s;for(const o of m(this,bt).values())o.editorType===e&&o.show(t);(((s=m(this,oc))==null?void 0:s.get(Pe.HIGHLIGHT_SHOW_ALL))??!0)!==t&&P(this,_e,xr).call(this,[[Pe.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(m(this,rc)!==e){M(this,rc,e);for(const t of m(this,It).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}getEditors(e){const t=[];for(const i of m(this,bt).values())i.pageIndex===e&&t.push(i);return t}getEditor(e){return m(this,bt).get(e)}addEditor(e){m(this,bt).set(e.id,e)}removeEditor(e){var t;e.div.contains(document.activeElement)&&(m(this,di)&&clearTimeout(m(this,di)),M(this,di,setTimeout(()=>{this.focusMainContainer(),M(this,di,null)},0))),m(this,bt).delete(e.id),this.unselect(e),(!e.annotationElementId||!m(this,_s).has(e.annotationElementId))&&((t=m(this,Bi))==null||t.remove(e.id))}addDeletedAnnotationElement(e){m(this,_s).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return m(this,_s).has(e)}removeDeletedAnnotationElement(e){m(this,_s).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){m(this,mn)!==e&&(M(this,mn,e),e&&P(this,_e,xr).call(this,e.propertiesToUpdate))}updateUI(e){m(this,_e,S2)===e&&P(this,_e,xr).call(this,e.propertiesToUpdate)}toggleSelected(e){if(m(this,Qe).has(e)){m(this,Qe).delete(e),e.unselect(),P(this,_e,zt).call(this,{hasSelectedEditor:this.hasSelection});return}m(this,Qe).add(e),e.select(),P(this,_e,xr).call(this,e.propertiesToUpdate),P(this,_e,zt).call(this,{hasSelectedEditor:!0})}setSelected(e){for(const t of m(this,Qe))t!==e&&t.unselect();m(this,Qe).clear(),m(this,Qe).add(e),e.select(),P(this,_e,xr).call(this,e.propertiesToUpdate),P(this,_e,zt).call(this,{hasSelectedEditor:!0})}isSelected(e){return m(this,Qe).has(e)}get firstSelectedEditor(){return m(this,Qe).values().next().value}unselect(e){e.unselect(),m(this,Qe).delete(e),P(this,_e,zt).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return m(this,Qe).size!==0}get isEnterHandled(){return m(this,Qe).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){m(this,zn).undo(),P(this,_e,zt).call(this,{hasSomethingToUndo:m(this,zn).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:P(this,_e,El).call(this)})}redo(){m(this,zn).redo(),P(this,_e,zt).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:m(this,zn).hasSomethingToRedo(),isEmpty:P(this,_e,El).call(this)})}addCommands(e){m(this,zn).add(e),P(this,_e,zt).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:P(this,_e,El).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const e=[...m(this,Qe)],t=()=>{for(const r of e)r.remove()},i=()=>{for(const r of e)P(this,_e,Vg).call(this,r)};this.addCommands({cmd:t,undo:i,mustExec:!0})}commitOrRemove(){var e;(e=m(this,mn))==null||e.commitOrRemove()}hasSomethingToControl(){return m(this,mn)||this.hasSelection}selectAll(){for(const e of m(this,Qe))e.commit();P(this,_e,Hg).call(this,m(this,bt).values())}unselectAll(){if(!(m(this,mn)&&(m(this,mn).commitOrRemove(),m(this,Ft)!==Ge.NONE))&&this.hasSelection){for(const e of m(this,Qe))e.unselect();m(this,Qe).clear(),P(this,_e,zt).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,i=!1){if(i||this.commitOrRemove(),!this.hasSelection)return;m(this,wr)[0]+=e,m(this,wr)[1]+=t;const[r,s]=m(this,wr),o=[...m(this,Qe)],a=1e3;m(this,fi)&&clearTimeout(m(this,fi)),M(this,fi,setTimeout(()=>{M(this,fi,null),m(this,wr)[0]=m(this,wr)[1]=0,this.addCommands({cmd:()=>{for(const l of o)m(this,bt).has(l.id)&&l.translateInPage(r,s)},undo:()=>{for(const l of o)m(this,bt).has(l.id)&&l.translateInPage(-r,-s)},mustExec:!1})},a));for(const l of o)l.translateInPage(e,t)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),M(this,ui,new Map);for(const e of m(this,Qe))m(this,ui).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!m(this,ui))return!1;this.disableUserSelect(!1);const e=m(this,ui);M(this,ui,null);let t=!1;for(const[{x:r,y:s,pageIndex:o},a]of e)a.newX=r,a.newY=s,a.newPageIndex=o,t||(t=r!==a.savedX||s!==a.savedY||o!==a.savedPageIndex);if(!t)return!1;const i=(r,s,o,a)=>{if(m(this,bt).has(r.id)){const l=m(this,It).get(a);l?r._setParentAndPosition(l,s,o):(r.pageIndex=a,r.x=s,r.y=o)}};return this.addCommands({cmd:()=>{for(const[r,{newX:s,newY:o,newPageIndex:a}]of e)i(r,s,o,a)},undo:()=>{for(const[r,{savedX:s,savedY:o,savedPageIndex:a}]of e)i(r,s,o,a)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(m(this,ui))for(const i of m(this,ui).keys())i.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||m(this,Qe).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return m(this,mn)===e}getActive(){return m(this,mn)}getMode(){return m(this,Ft)}get imageManager(){return $e(this,"imageManager",new Ng)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let c=0,u=t.rangeCount;c<u;c++)if(!e.contains(t.getRangeAt(c).commonAncestorContainer))return null;const{x:i,y:r,width:s,height:o}=e.getBoundingClientRect();let a;switch(e.getAttribute("data-main-rotation")){case"90":a=(c,u,f,p)=>({x:(u-r)/o,y:1-(c+f-i)/s,width:p/o,height:f/s});break;case"180":a=(c,u,f,p)=>({x:1-(c+f-i)/s,y:1-(u+p-r)/o,width:f/s,height:p/o});break;case"270":a=(c,u,f,p)=>({x:1-(u+p-r)/o,y:(c-i)/s,width:p/o,height:f/s});break;default:a=(c,u,f,p)=>({x:(c-i)/s,y:(u-r)/o,width:f/s,height:p/o});break}const l=[];for(let c=0,u=t.rangeCount;c<u;c++){const f=t.getRangeAt(c);if(!f.collapsed)for(const{x:p,y:g,width:b,height:y}of f.getClientRects())b===0||y===0||l.push(a(p,g,b,y))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:e,id:t}){(m(this,jo)||M(this,jo,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=m(this,jo))==null||t.delete(e)}renderAnnotationElement(e){var r;const t=(r=m(this,jo))==null?void 0:r.get(e.data.id);if(!t)return;const i=m(this,Bi).getRawValue(t);i&&(m(this,Ft)===Ge.NONE&&!i.hasBeenModified||i.renderAnnotationElement(e))}};mn=new WeakMap,bt=new WeakMap,It=new WeakMap,Ko=new WeakMap,Bi=new WeakMap,jo=new WeakMap,zn=new WeakMap,Zo=new WeakMap,_s=new WeakMap,ui=new WeakMap,Oi=new WeakMap,Cs=new WeakMap,nc=new WeakMap,ic=new WeakMap,di=new WeakMap,Qo=new WeakMap,Ar=new WeakMap,hi=new WeakMap,Ph=new WeakMap,Er=new WeakMap,rc=new WeakMap,As=new WeakMap,sc=new WeakMap,ea=new WeakMap,Ft=new WeakMap,Qe=new WeakMap,Wi=new WeakMap,Es=new WeakMap,oc=new WeakMap,ac=new WeakMap,lc=new WeakMap,cc=new WeakMap,uc=new WeakMap,dc=new WeakMap,hc=new WeakMap,fc=new WeakMap,pc=new WeakMap,gc=new WeakMap,mc=new WeakMap,yc=new WeakMap,vc=new WeakMap,bc=new WeakMap,wr=new WeakMap,fi=new WeakMap,qi=new WeakMap,xc=new WeakMap,_e=new WeakSet,fd=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},D2=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const i=P(this,_e,fd).call(this,e).closest(".textLayer"),r=this.getSelectionBoxes(i);r&&(m(this,hi)||M(this,hi,new eA(this)),m(this,hi).show(i,r,this.direction==="ltr"))},T2=function(){var s,o,a;const e=document.getSelection();if(!e||e.isCollapsed){m(this,Wi)&&((s=m(this,hi))==null||s.hide(),M(this,Wi,null),P(this,_e,zt).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===m(this,Wi))return;if(!P(this,_e,fd).call(this,e).closest(".textLayer")){m(this,Wi)&&((o=m(this,hi))==null||o.hide(),M(this,Wi,null),P(this,_e,zt).call(this,{hasSelectedText:!1}));return}if((a=m(this,hi))==null||a.hide(),M(this,Wi,t),P(this,_e,zt).call(this,{hasSelectedText:!0}),!(m(this,Ft)!==Ge.HIGHLIGHT&&m(this,Ft)!==Ge.NONE)&&(m(this,Ft)===Ge.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),M(this,Ar,this.isShiftKeyDown),!this.isShiftKeyDown)){const l=c=>{c.type==="pointerup"&&c.button!==0||(window.removeEventListener("pointerup",l),window.removeEventListener("blur",l),c.type==="pointerup"&&P(this,_e,pd).call(this,"main_toolbar"))};window.addEventListener("pointerup",l),window.addEventListener("blur",l)}},pd=function(e=""){m(this,Ft)===Ge.HIGHLIGHT?this.highlightSelection(e):m(this,nc)&&P(this,_e,D2).call(this)},_2=function(){document.addEventListener("selectionchange",m(this,yc))},C2=function(){document.removeEventListener("selectionchange",m(this,yc))},A2=function(){window.addEventListener("focus",m(this,lc)),window.addEventListener("blur",m(this,ac))},Lg=function(){window.removeEventListener("focus",m(this,lc)),window.removeEventListener("blur",m(this,ac))},Bg=function(){window.addEventListener("keydown",m(this,hc)),window.addEventListener("keyup",m(this,fc))},Og=function(){window.removeEventListener("keydown",m(this,hc)),window.removeEventListener("keyup",m(this,fc))},Wg=function(){document.addEventListener("copy",m(this,cc)),document.addEventListener("cut",m(this,uc)),document.addEventListener("paste",m(this,dc))},qg=function(){document.removeEventListener("copy",m(this,cc)),document.removeEventListener("cut",m(this,uc)),document.removeEventListener("paste",m(this,dc))},zt=function(e){Object.entries(e).some(([i,r])=>m(this,bc)[i]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(m(this,bc),e)}),m(this,Ft)===Ge.HIGHLIGHT&&e.hasSelectedEditor===!1&&P(this,_e,xr).call(this,[[Pe.HIGHLIGHT_FREE,!0]]))},xr=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},E2=function(){if(!m(this,Er)){M(this,Er,!0);for(const e of m(this,It).values())e.enable();for(const e of m(this,bt).values())e.enable()}},w2=function(){if(this.unselectAll(),m(this,Er)){M(this,Er,!1);for(const e of m(this,It).values())e.disable();for(const e of m(this,bt).values())e.disable()}},Vg=function(e){const t=m(this,It).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},S2=function(){let e=null;for(e of m(this,Qe));return e},El=function(){if(m(this,bt).size===0)return!0;if(m(this,bt).size===1)for(const e of m(this,bt).values())return e.isEmpty();return!1},Hg=function(e){for(const t of m(this,Qe))t.unselect();m(this,Qe).clear();for(const t of e)t.isEmpty()||(m(this,Qe).add(t),t.select());P(this,_e,zt).call(this,{hasSelectedEditor:this.hasSelection})},Le(Vo,"TRANSLATE_SMALL",1),Le(Vo,"TRANSLATE_BIG",10);let go=Vo;var Vi,Hi,Xn,Gi,Jn,ta,$i,Dc,Gg;const ki=class ki{constructor(e){W(this,Dc);W(this,Vi,"");W(this,Hi,!1);W(this,Xn,null);W(this,Gi,null);W(this,Jn,null);W(this,ta,!1);W(this,$i,null);M(this,$i,e)}static initialize(e){ki._l10nPromise||(ki._l10nPromise=e)}async render(){const e=M(this,Xn,document.createElement("button"));e.className="altText";const t=await ki._l10nPromise.get("pdfjs-editor-alt-text-button-label");e.textContent=t,e.setAttribute("aria-label",t),e.tabIndex="0",e.addEventListener("contextmenu",cn),e.addEventListener("pointerdown",r=>r.stopPropagation());const i=r=>{r.preventDefault(),m(this,$i)._uiManager.editAltText(m(this,$i))};return e.addEventListener("click",i,{capture:!0}),e.addEventListener("keydown",r=>{r.target===e&&r.key==="Enter"&&(M(this,ta,!0),i(r))}),await P(this,Dc,Gg).call(this),e}finish(){m(this,Xn)&&(m(this,Xn).focus({focusVisible:m(this,ta)}),M(this,ta,!1))}isEmpty(){return!m(this,Vi)&&!m(this,Hi)}get data(){return{altText:m(this,Vi),decorative:m(this,Hi)}}set data({altText:e,decorative:t}){m(this,Vi)===e&&m(this,Hi)===t||(M(this,Vi,e),M(this,Hi,t),P(this,Dc,Gg).call(this))}toggle(e=!1){m(this,Xn)&&(!e&&m(this,Jn)&&(clearTimeout(m(this,Jn)),M(this,Jn,null)),m(this,Xn).disabled=!e)}destroy(){var e;(e=m(this,Xn))==null||e.remove(),M(this,Xn,null),M(this,Gi,null)}};Vi=new WeakMap,Hi=new WeakMap,Xn=new WeakMap,Gi=new WeakMap,Jn=new WeakMap,ta=new WeakMap,$i=new WeakMap,Dc=new WeakSet,Gg=async function(){var r;const e=m(this,Xn);if(!e)return;if(!m(this,Vi)&&!m(this,Hi)){e.classList.remove("done"),(r=m(this,Gi))==null||r.remove();return}e.classList.add("done"),ki._l10nPromise.get("pdfjs-editor-alt-text-edit-button-label").then(s=>{e.setAttribute("aria-label",s)});let t=m(this,Gi);if(!t){M(this,Gi,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip");const s=t.id=`alt-text-tooltip-${m(this,$i).id}`;e.setAttribute("aria-describedby",s);const o=100;e.addEventListener("mouseenter",()=>{M(this,Jn,setTimeout(()=>{M(this,Jn,null),m(this,Gi).classList.add("show"),m(this,$i)._reportTelemetry({action:"alt_text_tooltip"})},o))}),e.addEventListener("mouseleave",()=>{var a;m(this,Jn)&&(clearTimeout(m(this,Jn)),M(this,Jn,null)),(a=m(this,Gi))==null||a.classList.remove("show")})}t.innerText=m(this,Hi)?await ki._l10nPromise.get("pdfjs-editor-alt-text-decorative-tooltip"):m(this,Vi),t.parentNode||e.append(t);const i=m(this,$i).getImageForAltText();i==null||i.setAttribute("aria-describedby",t.id)},Le(ki,"_l10nPromise",null);let ch=ki;var Yn,Xt,na,ws,kt,Ss,ia,ra,qt,Tc,Us,Sr,_c,Rs,zi,pi,sa,oa,Sn,Cc,Lh,qe,$g,Ac,zg,Xg,U2,R2,Jg,Yg,Kg,I2,F2,k2,N2,jg,wl;const rt=class rt{constructor(e){W(this,qe);W(this,Yn,null);W(this,Xt,null);W(this,na,!1);W(this,ws,!1);W(this,kt,null);W(this,Ss,null);W(this,ia,this.focusin.bind(this));W(this,ra,this.focusout.bind(this));W(this,qt,null);W(this,Tc,"");W(this,Us,!1);W(this,Sr,null);W(this,_c,!1);W(this,Rs,!1);W(this,zi,!1);W(this,pi,null);W(this,sa,0);W(this,oa,0);W(this,Sn,null);Le(this,"_initialOptions",Object.create(null));Le(this,"_isVisible",!0);Le(this,"_uiManager",null);Le(this,"_focusEventsAllowed",!0);Le(this,"_l10nPromise",null);W(this,Cc,!1);W(this,Lh,rt._zIndex++);this.constructor===rt&&nt("Cannot initialize AnnotationEditor."),this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:t,rawDims:{pageWidth:i,pageHeight:r,pageX:s,pageY:o}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[i,r],this.pageTranslation=[s,o];const[a,l]=this.parentDimensions;this.x=e.x/a,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=rt.prototype._resizeWithKeyboard,t=go.TRANSLATE_SMALL,i=go.TRANSLATE_BIG;return $e(this,"_resizerKeyboardManager",new Mu([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-i,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[i,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-i]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,i]}],[["Escape","mac+Escape"],rt.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return $e(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new rA({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t,i){if(rt._l10nPromise||(rt._l10nPromise=new Map(["pdfjs-editor-alt-text-button-label","pdfjs-editor-alt-text-edit-button-label","pdfjs-editor-alt-text-decorative-tooltip","pdfjs-editor-resizer-label-topLeft","pdfjs-editor-resizer-label-topMiddle","pdfjs-editor-resizer-label-topRight","pdfjs-editor-resizer-label-middleRight","pdfjs-editor-resizer-label-bottomRight","pdfjs-editor-resizer-label-bottomMiddle","pdfjs-editor-resizer-label-bottomLeft","pdfjs-editor-resizer-label-middleLeft"].map(s=>[s,e.get(s.replaceAll(/([A-Z])/g,o=>`-${o.toLowerCase()}`))]))),i!=null&&i.strings)for(const s of i.strings)rt._l10nPromise.set(s,e.get(s));if(rt._borderLineWidth!==-1)return;const r=getComputedStyle(document.documentElement);rt._borderLineWidth=parseFloat(r.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){nt("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return m(this,Cc)}set _isDraggable(e){var t;M(this,Cc,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=m(this,Lh)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):P(this,qe,wl).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(m(this,Us)?M(this,Us,!1):this.parent.setSelected(this))}focusout(e){var i;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(i=this.parent)!=null&&i.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,i,r){const[s,o]=this.parentDimensions;[i,r]=this.screenToPageTranslation(i,r),this.x=(e+i)/s,this.y=(t+r)/o,this.fixAndSetPosition()}translate(e,t){P(this,qe,$g).call(this,this.parentDimensions,e,t)}translateInPage(e,t){m(this,Sr)||M(this,Sr,[this.x,this.y]),P(this,qe,$g).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}drag(e,t){m(this,Sr)||M(this,Sr,[this.x,this.y]);const[i,r]=this.parentDimensions;if(this.x+=e/i,this.y+=t/r,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:c,y:u}=this.div.getBoundingClientRect();this.parent.findNewParent(this,c,u)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:s,y:o}=this;const[a,l]=this.getBaseTranslation();s+=a,o+=l,this.div.style.left=`${(100*s).toFixed(2)}%`,this.div.style.top=`${(100*o).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!m(this,Sr)&&(m(this,Sr)[0]!==this.x||m(this,Sr)[1]!==this.y)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:i}=rt,r=i/e,s=i/t;switch(this.rotation){case 90:return[-r,s];case 180:return[r,s];case 270:return[r,-s];default:return[-r,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const[t,i]=this.pageDimensions;let{x:r,y:s,width:o,height:a}=this;if(o*=t,a*=i,r*=t,s*=i,this._mustFixPosition)switch(e){case 0:r=Math.max(0,Math.min(t-o,r)),s=Math.max(0,Math.min(i-a,s));break;case 90:r=Math.max(0,Math.min(t-a,r)),s=Math.min(i,Math.max(o,s));break;case 180:r=Math.min(t,Math.max(o,r)),s=Math.min(i,Math.max(a,s));break;case 270:r=Math.min(t,Math.max(a,r)),s=Math.max(0,Math.min(i-o,s));break}this.x=r/=t,this.y=s/=i;const[l,c]=this.getBaseTranslation();r+=l,s+=c;const{style:u}=this.div;u.left=`${(100*r).toFixed(2)}%`,u.top=`${(100*s).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var i;return P(i=rt,Ac,zg).call(i,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var i;return P(i=rt,Ac,zg).call(i,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,i]}=this,r=t*e,s=i*e;return an.isCSSRoundSupported?[Math.round(r),Math.round(s)]:[r,s]}setDims(e,t){const[i,r]=this.parentDimensions;this.div.style.width=`${(100*e/i).toFixed(2)}%`,m(this,ws)||(this.div.style.height=`${(100*t/r).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:i}=e,r=i.endsWith("%"),s=!m(this,ws)&&t.endsWith("%");if(r&&s)return;const[o,a]=this.parentDimensions;r||(e.width=`${(100*parseFloat(i)/o).toFixed(2)}%`),!m(this,ws)&&!s&&(e.height=`${(100*parseFloat(t)/a).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var e;(e=m(this,Xt))==null||e.finish()}async addEditToolbar(){return m(this,qt)||m(this,Rs)?m(this,qt):(M(this,qt,new Fg(this)),this.div.append(m(this,qt).render()),m(this,Xt)&&m(this,qt).addAltTextButton(await m(this,Xt).render()),m(this,qt))}removeEditToolbar(){var e;m(this,qt)&&(m(this,qt).remove(),M(this,qt,null),(e=m(this,Xt))==null||e.destroy())}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){m(this,Xt)||(ch.initialize(rt._l10nPromise),M(this,Xt,new ch(this)),await this.addEditToolbar())}get altTextData(){var e;return(e=m(this,Xt))==null?void 0:e.data}set altTextData(e){m(this,Xt)&&(m(this,Xt).data=e)}hasAltText(){var e;return!((e=m(this,Xt))!=null&&e.isEmpty())}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=m(this,na)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),this.div.addEventListener("focusin",m(this,ia)),this.div.addEventListener("focusout",m(this,ra));const[e,t]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*t/e).toFixed(2)}%`,this.div.style.maxHeight=`${(100*e/t).toFixed(2)}%`);const[i,r]=this.getInitialTranslation();return this.translate(i,r),lh(this,this.div,["pointerdown"]),this.div}pointerdown(e){const{isMac:t}=an.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(M(this,Us,!0),this._isDraggable){P(this,qe,I2).call(this,e);return}P(this,qe,Kg).call(this,e)}moveInDOM(){m(this,pi)&&clearTimeout(m(this,pi)),M(this,pi,setTimeout(()=>{var e;M(this,pi,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,i){e.changeParent(this),this.x=t,this.y=i,this.fixAndSetPosition()}getRect(e,t,i=this.rotation){const r=this.parentScale,[s,o]=this.pageDimensions,[a,l]=this.pageTranslation,c=e/r,u=t/r,f=this.x*s,p=this.y*o,g=this.width*s,b=this.height*o;switch(i){case 0:return[f+c+a,o-p-u-b+l,f+c+g+a,o-p-u+l];case 90:return[f+u+a,o-p+c+l,f+u+b+a,o-p+c+g+l];case 180:return[f-c-g+a,o-p+u+l,f-c+a,o-p+u+b+l];case 270:return[f-u-b+a,o-p-c-g+l,f-u+a,o-p-c+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[i,r,s,o]=e,a=s-i,l=o-r;switch(this.rotation){case 0:return[i,t-o,a,l];case 90:return[i,t-r,l,a];case 180:return[s,t-r,a,l];case 270:return[s,t-o,l,a];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){M(this,Rs,!0)}disableEditMode(){M(this,Rs,!1)}isInEditMode(){return m(this,Rs)}shouldGetKeyboardEvents(){return m(this,zi)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var e,t;(e=this.div)==null||e.addEventListener("focusin",m(this,ia)),(t=this.div)==null||t.addEventListener("focusout",m(this,ra))}rotate(e){}serialize(e=!1,t=null){nt("An editor must be serializable")}static deserialize(e,t,i){const r=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:i});r.rotation=e.rotation;const[s,o]=r.pageDimensions,[a,l,c,u]=r.getRectInCurrentCoords(e.rect,o);return r.x=a/s,r.y=l/o,r.width=c/s,r.height=u/o,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.div.removeEventListener("focusin",m(this,ia)),this.div.removeEventListener("focusout",m(this,ra)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),m(this,pi)&&(clearTimeout(m(this,pi)),M(this,pi,null)),P(this,qe,wl).call(this),this.removeEditToolbar(),m(this,Sn)){for(const e of m(this,Sn).values())clearTimeout(e);M(this,Sn,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(P(this,qe,U2).call(this),m(this,kt).classList.remove("hidden"),lh(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),M(this,Ss,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=m(this,kt).children;if(!m(this,Yn)){M(this,Yn,Array.from(t));const o=P(this,qe,F2).bind(this),a=P(this,qe,k2).bind(this);for(const l of m(this,Yn)){const c=l.getAttribute("data-resizer-name");l.setAttribute("role","spinbutton"),l.addEventListener("keydown",o),l.addEventListener("blur",a),l.addEventListener("focus",P(this,qe,N2).bind(this,c)),rt._l10nPromise.get(`pdfjs-editor-resizer-label-${c}`).then(u=>l.setAttribute("aria-label",u))}}const i=m(this,Yn)[0];let r=0;for(const o of t){if(o===i)break;r++}const s=(360-this.rotation+this.parentRotation)%360/90*(m(this,Yn).length/4);if(s!==r){if(s<r)for(let a=0;a<r-s;a++)m(this,kt).append(m(this,kt).firstChild);else if(s>r)for(let a=0;a<s-r;a++)m(this,kt).firstChild.before(m(this,kt).lastChild);let o=0;for(const a of t){const c=m(this,Yn)[o++].getAttribute("data-resizer-name");rt._l10nPromise.get(`pdfjs-editor-resizer-label-${c}`).then(u=>a.setAttribute("aria-label",u))}}P(this,qe,jg).call(this,0),M(this,zi,!0),m(this,kt).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){m(this,zi)&&P(this,qe,Yg).call(this,m(this,Tc),{movementX:e,movementY:t})}_stopResizingWithKeyboard(){P(this,qe,wl).call(this),this.div.focus()}select(){var e,t;if(this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!m(this,qt)){this.addEditToolbar().then(()=>{var i,r;(i=this.div)!=null&&i.classList.contains("selectedEditor")&&((r=m(this,qt))==null||r.show())});return}(t=m(this,qt))==null||t.show()}unselect(){var e,t,i,r;(e=m(this,kt))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(i=this.div)!=null&&i.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(r=m(this,qt))==null||r.hide()}updateParams(e,t){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return m(this,_c)}set isEditing(e){M(this,_c,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){M(this,ws,!0);const i=e/t,{style:r}=this.div;r.aspectRatio=i,r.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){m(this,Sn)||M(this,Sn,new Map);const{action:i}=e;let r=m(this,Sn).get(i);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(e),m(this,Sn).delete(i),m(this,Sn).size===0&&M(this,Sn,null)},rt._telemetryTimeout),m(this,Sn).set(i,r);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),M(this,na,!1)}disable(){this.div&&(this.div.tabIndex=-1),M(this,na,!0)}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const i=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),i.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;t.nodeName==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};Yn=new WeakMap,Xt=new WeakMap,na=new WeakMap,ws=new WeakMap,kt=new WeakMap,Ss=new WeakMap,ia=new WeakMap,ra=new WeakMap,qt=new WeakMap,Tc=new WeakMap,Us=new WeakMap,Sr=new WeakMap,_c=new WeakMap,Rs=new WeakMap,zi=new WeakMap,pi=new WeakMap,sa=new WeakMap,oa=new WeakMap,Sn=new WeakMap,Cc=new WeakMap,Lh=new WeakMap,qe=new WeakSet,$g=function([e,t],i,r){[i,r]=this.screenToPageTranslation(i,r),this.x+=i/e,this.y+=r/t,this.fixAndSetPosition()},Ac=new WeakSet,zg=function(e,t,i){switch(i){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},Xg=function(e){switch(e){case 90:{const[t,i]=this.pageDimensions;return[0,-t/i,i/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,i]=this.pageDimensions;return[0,t/i,-i/t,0]}default:return[1,0,0,1]}},U2=function(){if(m(this,kt))return;M(this,kt,document.createElement("div")),m(this,kt).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"];for(const t of e){const i=document.createElement("div");m(this,kt).append(i),i.classList.add("resizer",t),i.setAttribute("data-resizer-name",t),i.addEventListener("pointerdown",P(this,qe,R2).bind(this,t)),i.addEventListener("contextmenu",cn),i.tabIndex=-1}this.div.prepend(m(this,kt))},R2=function(e,t){var b;t.preventDefault();const{isMac:i}=an.platform;if(t.button!==0||t.ctrlKey&&i)return;(b=m(this,Xt))==null||b.toggle(!1);const r=P(this,qe,Yg).bind(this,e),s=this._isDraggable;this._isDraggable=!1;const o={passive:!0,capture:!0};this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",r,o),window.addEventListener("contextmenu",cn);const a=this.x,l=this.y,c=this.width,u=this.height,f=this.parent.div.style.cursor,p=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const g=()=>{var y;this.parent.togglePointerEvents(!0),(y=m(this,Xt))==null||y.toggle(!0),this._isDraggable=s,window.removeEventListener("pointerup",g),window.removeEventListener("blur",g),window.removeEventListener("pointermove",r,o),window.removeEventListener("contextmenu",cn),this.parent.div.style.cursor=f,this.div.style.cursor=p,P(this,qe,Jg).call(this,a,l,c,u)};window.addEventListener("pointerup",g),window.addEventListener("blur",g)},Jg=function(e,t,i,r){const s=this.x,o=this.y,a=this.width,l=this.height;s===e&&o===t&&a===i&&l===r||this.addCommands({cmd:()=>{this.width=a,this.height=l,this.x=s,this.y=o;const[c,u]=this.parentDimensions;this.setDims(c*a,u*l),this.fixAndSetPosition()},undo:()=>{this.width=i,this.height=r,this.x=e,this.y=t;const[c,u]=this.parentDimensions;this.setDims(c*i,u*r),this.fixAndSetPosition()},mustExec:!0})},Yg=function(e,t){const[i,r]=this.parentDimensions,s=this.x,o=this.y,a=this.width,l=this.height,c=rt.MIN_SIZE/i,u=rt.MIN_SIZE/r,f=B=>Math.round(B*1e4)/1e4,p=P(this,qe,Xg).call(this,this.rotation),g=(B,j)=>[p[0]*B+p[2]*j,p[1]*B+p[3]*j],b=P(this,qe,Xg).call(this,360-this.rotation),y=(B,j)=>[b[0]*B+b[2]*j,b[1]*B+b[3]*j];let v,x,D=!1,T=!1;switch(e){case"topLeft":D=!0,v=(B,j)=>[0,0],x=(B,j)=>[B,j];break;case"topMiddle":v=(B,j)=>[B/2,0],x=(B,j)=>[B/2,j];break;case"topRight":D=!0,v=(B,j)=>[B,0],x=(B,j)=>[0,j];break;case"middleRight":T=!0,v=(B,j)=>[B,j/2],x=(B,j)=>[0,j/2];break;case"bottomRight":D=!0,v=(B,j)=>[B,j],x=(B,j)=>[0,0];break;case"bottomMiddle":v=(B,j)=>[B/2,j],x=(B,j)=>[B/2,0];break;case"bottomLeft":D=!0,v=(B,j)=>[0,j],x=(B,j)=>[B,0];break;case"middleLeft":T=!0,v=(B,j)=>[0,j/2],x=(B,j)=>[B,j/2];break}const C=v(a,l),_=x(a,l);let A=g(..._);const R=f(s+A[0]),k=f(o+A[1]);let I=1,L=1,[J,U]=this.screenToPageTranslation(t.movementX,t.movementY);if([J,U]=y(J/i,U/r),D){const B=Math.hypot(a,l);I=L=Math.max(Math.min(Math.hypot(_[0]-C[0]-J,_[1]-C[1]-U)/B,1/a,1/l),c/a,u/l)}else T?I=Math.max(c,Math.min(1,Math.abs(_[0]-C[0]-J)))/a:L=Math.max(u,Math.min(1,Math.abs(_[1]-C[1]-U)))/l;const O=f(a*I),S=f(l*L);A=g(...x(O,S));const K=R-A[0],q=k-A[1];this.width=O,this.height=S,this.x=K,this.y=q,this.setDims(i*O,r*S),this.fixAndSetPosition()},Kg=function(e){const{isMac:t}=an.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},I2=function(e){const t=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let i,r;t&&(this.div.classList.add("moving"),i={passive:!0,capture:!0},M(this,sa,e.clientX),M(this,oa,e.clientY),r=o=>{const{clientX:a,clientY:l}=o,[c,u]=this.screenToPageTranslation(a-m(this,sa),l-m(this,oa));M(this,sa,a),M(this,oa,l),this._uiManager.dragSelectedEditors(c,u)},window.addEventListener("pointermove",r,i));const s=()=>{window.removeEventListener("pointerup",s),window.removeEventListener("blur",s),t&&(this.div.classList.remove("moving"),window.removeEventListener("pointermove",r,i)),M(this,Us,!1),this._uiManager.endDragSession()||P(this,qe,Kg).call(this,e)};window.addEventListener("pointerup",s),window.addEventListener("blur",s)},F2=function(e){rt._resizerKeyboardManager.exec(this,e)},k2=function(e){var t;m(this,zi)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==m(this,kt)&&P(this,qe,wl).call(this)},N2=function(e){M(this,Tc,m(this,zi)?e:"")},jg=function(e){if(m(this,Yn))for(const t of m(this,Yn))t.tabIndex=e},wl=function(){if(M(this,zi,!1),P(this,qe,jg).call(this,-1),m(this,Ss)){const{savedX:e,savedY:t,savedWidth:i,savedHeight:r}=m(this,Ss);P(this,qe,Jg).call(this,e,t,i,r),M(this,Ss,null)}},W(rt,Ac),Le(rt,"_borderLineWidth",-1),Le(rt,"_colorManager",new Pg),Le(rt,"_zIndex",1),Le(rt,"_telemetryTimeout",1e3);let et=rt;class rA extends et{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}const xv=3285377520,Cn=4294901760,oi=65535;class M2{constructor(e){this.h1=e?e&4294967295:xv,this.h2=e?e&4294967295:xv}update(e){let t,i;if(typeof e=="string"){t=new Uint8Array(e.length*2),i=0;for(let y=0,v=e.length;y<v;y++){const x=e.charCodeAt(y);x<=255?t[i++]=x:(t[i++]=x>>>8,t[i++]=x&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),i=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=i>>2,s=i-r*4,o=new Uint32Array(t.buffer,0,r);let a=0,l=0,c=this.h1,u=this.h2;const f=3432918353,p=461845907,g=f&oi,b=p&oi;for(let y=0;y<r;y++)y&1?(a=o[y],a=a*f&Cn|a*g&oi,a=a<<15|a>>>17,a=a*p&Cn|a*b&oi,c^=a,c=c<<13|c>>>19,c=c*5+3864292196):(l=o[y],l=l*f&Cn|l*g&oi,l=l<<15|l>>>17,l=l*p&Cn|l*b&oi,u^=l,u=u<<13|u>>>19,u=u*5+3864292196);switch(a=0,s){case 3:a^=t[r*4+2]<<16;case 2:a^=t[r*4+1]<<8;case 1:a^=t[r*4],a=a*f&Cn|a*g&oi,a=a<<15|a>>>17,a=a*p&Cn|a*b&oi,r&1?c^=a:u^=a}this.h1=c,this.h2=u}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&Cn|e*36045&oi,t=t*4283543511&Cn|((t<<16|e>>>16)*2950163797&Cn)>>>16,e^=t>>>1,e=e*444984403&Cn|e*60499&oi,t=t*3301882366&Cn|((t<<16|e>>>16)*3120437893&Cn)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const Zg=Object.freeze({map:null,hash:"",transfer:void 0});var Is,Nt,Bh,P2;class dy{constructor(){W(this,Bh);W(this,Is,!1);W(this,Nt,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const i=m(this,Nt).get(e);return i===void 0?t:Object.assign(t,i)}getRawValue(e){return m(this,Nt).get(e)}remove(e){if(m(this,Nt).delete(e),m(this,Nt).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const t of m(this,Nt).values())if(t instanceof et)return;this.onAnnotationEditor(null)}}setValue(e,t){const i=m(this,Nt).get(e);let r=!1;if(i!==void 0)for(const[s,o]of Object.entries(t))i[s]!==o&&(r=!0,i[s]=o);else r=!0,m(this,Nt).set(e,t);r&&P(this,Bh,P2).call(this),t instanceof et&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type)}has(e){return m(this,Nt).has(e)}getAll(){return m(this,Nt).size>0?ry(m(this,Nt)):null}setAll(e){for(const[t,i]of Object.entries(e))this.setValue(t,i)}get size(){return m(this,Nt).size}resetModified(){m(this,Is)&&(M(this,Is,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new L2(this)}get serializable(){if(m(this,Nt).size===0)return Zg;const e=new Map,t=new M2,i=[],r=Object.create(null);let s=!1;for(const[o,a]of m(this,Nt)){const l=a instanceof et?a.serialize(!1,r):a;l&&(e.set(o,l),t.update(`${o}:${JSON.stringify(l)}`),s||(s=!!l.bitmap))}if(s)for(const o of e.values())o.bitmap&&i.push(o.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:i}:Zg}get editorStats(){let e=null;const t=new Map;for(const i of m(this,Nt).values()){if(!(i instanceof et))continue;const r=i.telemetryFinalData;if(!r)continue;const{type:s}=r;t.has(s)||t.set(s,Object.getPrototypeOf(i).constructor),e||(e=Object.create(null));const o=e[s]||(e[s]=new Map);for(const[a,l]of Object.entries(r)){if(a==="type")continue;let c=o.get(a);c||(c=new Map,o.set(a,c));const u=c.get(l)??0;c.set(l,u+1)}}for(const[i,r]of t)e[i]=r.computeTelemetryFinalData(e[i]);return e}}Is=new WeakMap,Nt=new WeakMap,Bh=new WeakSet,P2=function(){m(this,Is)||(M(this,Is,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var Ec;class L2 extends dy{constructor(t){super();W(this,Ec);const{map:i,hash:r,transfer:s}=t.serializable,o=structuredClone(i,s?{transfer:s}:null);M(this,Ec,{map:o,hash:r,transfer:s})}get print(){nt("Should not call PrintAnnotationStorage.print")}get serializable(){return m(this,Ec)}}Ec=new WeakMap;var aa;class sA{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){W(this,aa,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),m(this,aa).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,_inspectFont:t}){if(!(!e||m(this,aa).has(e.loadedName))){if(_t(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:i,src:r,style:s}=e,o=new FontFace(i,r,s);this.addNativeFontFace(o);try{await o.load(),m(this,aa).add(i),t==null||t(e)}catch{Be(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(o)}return}nt("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const i=e.createNativeFontFace();if(i){this.addNativeFontFace(i);try{await i.loaded}catch(r){throw Be(`Failed to load font '${i.family}': '${r}'.`),e.disableFontFace=!0,r}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(i=>{const r=this._queueLoadingCallback(i);this._prepareFontLoadEvent(e,r)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return $e(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(Vt||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),$e(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function t(){for(_t(!r.done,"completeRequest() cannot be called twice."),r.done=!0;i.length>0&&i[0].done;){const s=i.shift();setTimeout(s.callback,0)}}const{loadingRequests:i}=this,r={done:!1,complete:t,callback:e};return i.push(r),r}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return $e(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function i(C,_){return C.charCodeAt(_)<<24|C.charCodeAt(_+1)<<16|C.charCodeAt(_+2)<<8|C.charCodeAt(_+3)&255}function r(C,_,A,R){const k=C.substring(0,_),I=C.substring(_+A);return k+R+I}let s,o;const a=this._document.createElement("canvas");a.width=1,a.height=1;const l=a.getContext("2d");let c=0;function u(C,_){if(++c>30){Be("Load test font never loaded."),_();return}if(l.font="30px "+C,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){_();return}setTimeout(u.bind(null,C,_))}const f=`lt${Date.now()}${this.loadTestFontId++}`;let p=this._loadTestFont;p=r(p,976,f.length,f);const b=16,y=1482184792;let v=i(p,b);for(s=0,o=f.length-3;s<o;s+=4)v=v-y+i(f,s)|0;s<f.length&&(v=v-y+i(f+"XXX",s)|0),p=r(p,b,4,VC(v));const x=`url(data:font/opentype;base64,${btoa(p)});`,D=`@font-face {font-family:"${f}";src:${x}}`;this.insertRule(D);const T=this._document.createElement("div");T.style.visibility="hidden",T.style.width=T.style.height="10px",T.style.position="absolute",T.style.top=T.style.left="0px";for(const C of[e.loadedName,f]){const _=this._document.createElement("span");_.textContent="Hi",_.style.fontFamily=C,T.append(_)}this._document.body.append(T),u(f,()=>{T.remove(),t.complete()})}}aa=new WeakMap;class oA{constructor(e,{disableFontFace:t=!1,inspectFont:i=null}){this.compiledGlyphs=Object.create(null);for(const r in e)this[r]=e[r];this.disableFontFace=t===!0,this._inspectFont=i}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const i={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(i.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,i)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var r;if(!this.data||this.disableFontFace)return null;const e=o2(this.data),t=`url(data:${this.mimetype};base64,${btoa(e)});`;let i;if(!this.cssFontInfo)i=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let s=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(s+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),i=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${s}src:${t}}`}return(r=this._inspectFont)==null||r.call(this,this,t),i}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];let i;try{i=e.get(this.loadedName+"_path_"+t)}catch(s){Be(`getPathGenerator - ignoring character: "${s}".`)}if(!Array.isArray(i)||i.length===0)return this.compiledGlyphs[t]=function(s,o){};const r=[];for(let s=0,o=i.length;s<o;)switch(i[s++]){case Si.BEZIER_CURVE_TO:{const[a,l,c,u,f,p]=i.slice(s,s+6);r.push(g=>g.bezierCurveTo(a,l,c,u,f,p)),s+=6}break;case Si.MOVE_TO:{const[a,l]=i.slice(s,s+2);r.push(c=>c.moveTo(a,l)),s+=2}break;case Si.LINE_TO:{const[a,l]=i.slice(s,s+2);r.push(c=>c.lineTo(a,l)),s+=2}break;case Si.QUADRATIC_CURVE_TO:{const[a,l,c,u]=i.slice(s,s+4);r.push(f=>f.quadraticCurveTo(a,l,c,u)),s+=4}break;case Si.RESTORE:r.push(a=>a.restore());break;case Si.SAVE:r.push(a=>a.save());break;case Si.SCALE:_t(r.length===2,"Scale command is only valid at the third position.");break;case Si.TRANSFORM:{const[a,l,c,u,f,p]=i.slice(s,s+6);r.push(g=>g.transform(a,l,c,u,f,p)),s+=6}break;case Si.TRANSLATE:{const[a,l]=i.slice(s,s+2);r.push(c=>c.translate(a,l)),s+=2}break}return this.compiledGlyphs[t]=function(o,a){r[0](o),r[1](o),o.scale(a,-a);for(let l=2,c=r.length;l<c;l++)r[l](o)}}}if(Vt){var Qg=Promise.withResolvers(),Wl=null;(async()=>{const e=await Hu(()=>Promise.resolve().then(()=>Bl),[]),t=await Hu(()=>Promise.resolve().then(()=>Bl),void 0),i=await Hu(()=>Promise.resolve().then(()=>Bl),void 0),r=await Hu(()=>Promise.resolve().then(()=>Bl),void 0);let s,o;return new Map(Object.entries({fs:e,http:t,https:i,url:r,canvas:s,path2d:o}))})().then(e=>{Wl=e,Qg.resolve()},e=>{Be(`loadPackages: ${e}`),Wl=new Map,Qg.resolve()})}class Ei{static get promise(){return Qg.promise}static get(e){return Wl==null?void 0:Wl.get(e)}}const B2=function(n){return Ei.get("fs").promises.readFile(n).then(t=>new Uint8Array(t))};class aA extends nf{}class lA extends rf{_createCanvas(e,t){return Ei.get("canvas").createCanvas(e,t)}}class cA extends sf{_fetchData(e,t){return B2(e).then(i=>({cMapData:i,compressionType:t}))}}class uA extends of{_fetchData(e){return B2(e)}}const jt={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function em(n,e){if(!e)return;const t=e[2]-e[0],i=e[3]-e[1],r=new Path2D;r.rect(e[0],e[1],t,i),n.clip(r)}class Pu{constructor(){this.constructor===Pu&&nt("Cannot initialize BaseShadingPattern.")}getPattern(){nt("Abstract method `getPattern` called.")}}class dA extends Pu{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const i of this._colorStops)t.addColorStop(i[0],i[1]);return t}getPattern(e,t,i,r){let s;if(r===jt.STROKE||r===jt.FILL){const o=t.current.getClippedPathBoundingBox(r,dt(e))||[0,0,0,0],a=Math.ceil(o[2]-o[0])||1,l=Math.ceil(o[3]-o[1])||1,c=t.cachedCanvases.getCanvas("pattern",a,l,!0),u=c.context;u.clearRect(0,0,u.canvas.width,u.canvas.height),u.beginPath(),u.rect(0,0,u.canvas.width,u.canvas.height),u.translate(-o[0],-o[1]),i=Ue.transform(i,[1,0,0,1,o[0],o[1]]),u.transform(...t.baseTransform),this.matrix&&u.transform(...this.matrix),em(u,this._bbox),u.fillStyle=this._createGradient(u),u.fill(),s=e.createPattern(c.canvas,"no-repeat");const f=new DOMMatrix(i);s.setTransform(f)}else em(e,this._bbox),s=this._createGradient(e);return s}}function Hf(n,e,t,i,r,s,o,a){const l=e.coords,c=e.colors,u=n.data,f=n.width*4;let p;l[t+1]>l[i+1]&&(p=t,t=i,i=p,p=s,s=o,o=p),l[i+1]>l[r+1]&&(p=i,i=r,r=p,p=o,o=a,a=p),l[t+1]>l[i+1]&&(p=t,t=i,i=p,p=s,s=o,o=p);const g=(l[t]+e.offsetX)*e.scaleX,b=(l[t+1]+e.offsetY)*e.scaleY,y=(l[i]+e.offsetX)*e.scaleX,v=(l[i+1]+e.offsetY)*e.scaleY,x=(l[r]+e.offsetX)*e.scaleX,D=(l[r+1]+e.offsetY)*e.scaleY;if(b>=D)return;const T=c[s],C=c[s+1],_=c[s+2],A=c[o],R=c[o+1],k=c[o+2],I=c[a],L=c[a+1],J=c[a+2],U=Math.round(b),O=Math.round(D);let S,K,q,B,j,V,Y,F;for(let X=U;X<=O;X++){if(X<v){const ce=X<b?0:(b-X)/(b-v);S=g-(g-y)*ce,K=T-(T-A)*ce,q=C-(C-R)*ce,B=_-(_-k)*ce}else{let ce;X>D?ce=1:v===D?ce=0:ce=(v-X)/(v-D),S=y-(y-x)*ce,K=A-(A-I)*ce,q=R-(R-L)*ce,B=k-(k-J)*ce}let z;X<b?z=0:X>D?z=1:z=(b-X)/(b-D),j=g-(g-x)*z,V=T-(T-I)*z,Y=C-(C-L)*z,F=_-(_-J)*z;const ne=Math.round(Math.min(S,j)),oe=Math.round(Math.max(S,j));let pe=f*X+ne*4;for(let ce=ne;ce<=oe;ce++)z=(S-ce)/(S-j),z<0?z=0:z>1&&(z=1),u[pe++]=K-(K-V)*z|0,u[pe++]=q-(q-Y)*z|0,u[pe++]=B-(B-F)*z|0,u[pe++]=255}}function hA(n,e,t){const i=e.coords,r=e.colors;let s,o;switch(e.type){case"lattice":const a=e.verticesPerRow,l=Math.floor(i.length/a)-1,c=a-1;for(s=0;s<l;s++){let u=s*a;for(let f=0;f<c;f++,u++)Hf(n,t,i[u],i[u+1],i[u+a],r[u],r[u+1],r[u+a]),Hf(n,t,i[u+a+1],i[u+1],i[u+a],r[u+a+1],r[u+1],r[u+a])}break;case"triangles":for(s=0,o=i.length;s<o;s+=3)Hf(n,t,i[s],i[s+1],i[s+2],r[s],r[s+1],r[s+2]);break;default:throw new Error("illegal figure")}}class fA extends Pu{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,t,i){const a=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),c=Math.ceil(this._bounds[2])-a,u=Math.ceil(this._bounds[3])-l,f=Math.min(Math.ceil(Math.abs(c*e[0]*1.1)),3e3),p=Math.min(Math.ceil(Math.abs(u*e[1]*1.1)),3e3),g=c/f,b=u/p,y={coords:this._coords,colors:this._colors,offsetX:-a,offsetY:-l,scaleX:1/g,scaleY:1/b},v=f+4,x=p+4,D=i.getCanvas("mesh",v,x,!1),T=D.context,C=T.createImageData(f,p);if(t){const A=C.data;for(let R=0,k=A.length;R<k;R+=4)A[R]=t[0],A[R+1]=t[1],A[R+2]=t[2],A[R+3]=255}for(const A of this._figures)hA(C,A,y);return T.putImageData(C,2,2),{canvas:D.canvas,offsetX:a-2*g,offsetY:l-2*b,scaleX:g,scaleY:b}}getPattern(e,t,i,r){em(e,this._bbox);let s;if(r===jt.SHADING)s=Ue.singularValueDecompose2dScale(dt(e));else if(s=Ue.singularValueDecompose2dScale(t.baseTransform),this.matrix){const a=Ue.singularValueDecompose2dScale(this.matrix);s=[s[0]*a[0],s[1]*a[1]]}const o=this._createMeshCanvas(s,r===jt.SHADING?null:this._background,t.cachedCanvases);return r!==jt.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(o.offsetX,o.offsetY),e.scale(o.scaleX,o.scaleY),e.createPattern(o.canvas,"no-repeat")}}class pA extends Pu{getPattern(){return"hotpink"}}function gA(n){switch(n[0]){case"RadialAxial":return new dA(n);case"Mesh":return new fA(n);case"Dummy":return new pA}throw new Error(`Unknown IR type: ${n[0]}`)}const Dv={COLORED:1,UNCOLORED:2},Oh=class Oh{constructor(e,t,i,r,s){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.ctx=i,this.canvasGraphicsFactory=r,this.baseTransform=s}createPatternCanvas(e){const t=this.operatorList,i=this.bbox,r=this.xstep,s=this.ystep,o=this.paintType,a=this.tilingType,l=this.color,c=this.canvasGraphicsFactory;Qh("TilingType: "+a);const u=i[0],f=i[1],p=i[2],g=i[3],b=Ue.singularValueDecompose2dScale(this.matrix),y=Ue.singularValueDecompose2dScale(this.baseTransform),v=[b[0]*y[0],b[1]*y[1]],x=this.getSizeAndScale(r,this.ctx.canvas.width,v[0]),D=this.getSizeAndScale(s,this.ctx.canvas.height,v[1]),T=e.cachedCanvases.getCanvas("pattern",x.size,D.size,!0),C=T.context,_=c.createCanvasGraphics(C);_.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(_,o,l);let A=u,R=f,k=p,I=g;return u<0&&(A=0,k+=Math.abs(u)),f<0&&(R=0,I+=Math.abs(f)),C.translate(-(x.scale*A),-(D.scale*R)),_.transform(x.scale,0,0,D.scale,0,0),C.save(),this.clipBbox(_,A,R,k,I),_.baseTransform=dt(_.ctx),_.executeOperatorList(t),_.endDrawing(),{canvas:T.canvas,scaleX:x.scale,scaleY:D.scale,offsetX:A,offsetY:R}}getSizeAndScale(e,t,i){e=Math.abs(e);const r=Math.max(Oh.MAX_PATTERN_SIZE,t);let s=Math.ceil(e*i);return s>=r?s=r:i=s/e,{scale:i,size:s}}clipBbox(e,t,i,r,s){const o=r-t,a=s-i;e.ctx.rect(t,i,o,a),e.current.updateRectMinMax(dt(e.ctx),[t,i,r,s]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,i){const r=e.ctx,s=e.current;switch(t){case Dv.COLORED:const o=this.ctx;r.fillStyle=o.fillStyle,r.strokeStyle=o.strokeStyle,s.fillColor=o.fillStyle,s.strokeColor=o.strokeStyle;break;case Dv.UNCOLORED:const a=Ue.makeHexColor(i[0],i[1],i[2]);r.fillStyle=a,r.strokeStyle=a,s.fillColor=a,s.strokeColor=a;break;default:throw new qC(`Unsupported paint type: ${t}`)}}getPattern(e,t,i,r){let s=i;r!==jt.SHADING&&(s=Ue.transform(s,t.baseTransform),this.matrix&&(s=Ue.transform(s,this.matrix)));const o=this.createPatternCanvas(t);let a=new DOMMatrix(s);a=a.translate(o.offsetX,o.offsetY),a=a.scale(1/o.scaleX,1/o.scaleY);const l=e.createPattern(o.canvas,"repeat");return l.setTransform(a),l}};Le(Oh,"MAX_PATTERN_SIZE",3e3);let tm=Oh;function mA({src:n,srcPos:e=0,dest:t,width:i,height:r,nonBlackColor:s=4294967295,inverseDecode:o=!1}){const a=an.isLittleEndian?4278190080:255,[l,c]=o?[s,a]:[a,s],u=i>>3,f=i&7,p=n.length;t=new Uint32Array(t.buffer);let g=0;for(let b=0;b<r;b++){for(const v=e+u;e<v;e++){const x=e<p?n[e]:255;t[g++]=x&128?c:l,t[g++]=x&64?c:l,t[g++]=x&32?c:l,t[g++]=x&16?c:l,t[g++]=x&8?c:l,t[g++]=x&4?c:l,t[g++]=x&2?c:l,t[g++]=x&1?c:l}if(f===0)continue;const y=e<p?n[e++]:255;for(let v=0;v<f;v++)t[g++]=y&1<<7-v?c:l}return{srcPos:e,destPos:g}}const Tv=16,_v=100,yA=15,Cv=10,Av=1e3,on=16;function vA(n,e){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){e.save(),this.__originalSave()},n.restore=function(){e.restore(),this.__originalRestore()},n.translate=function(i,r){e.translate(i,r),this.__originalTranslate(i,r)},n.scale=function(i,r){e.scale(i,r),this.__originalScale(i,r)},n.transform=function(i,r,s,o,a,l){e.transform(i,r,s,o,a,l),this.__originalTransform(i,r,s,o,a,l)},n.setTransform=function(i,r,s,o,a,l){e.setTransform(i,r,s,o,a,l),this.__originalSetTransform(i,r,s,o,a,l)},n.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},n.rotate=function(i){e.rotate(i),this.__originalRotate(i)},n.clip=function(i){e.clip(i),this.__originalClip(i)},n.moveTo=function(t,i){e.moveTo(t,i),this.__originalMoveTo(t,i)},n.lineTo=function(t,i){e.lineTo(t,i),this.__originalLineTo(t,i)},n.bezierCurveTo=function(t,i,r,s,o,a){e.bezierCurveTo(t,i,r,s,o,a),this.__originalBezierCurveTo(t,i,r,s,o,a)},n.rect=function(t,i,r,s){e.rect(t,i,r,s),this.__originalRect(t,i,r,s)},n.closePath=function(){e.closePath(),this.__originalClosePath()},n.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class bA{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,i){let r;return this.cache[e]!==void 0?(r=this.cache[e],this.canvasFactory.reset(r,t,i)):(r=this.canvasFactory.create(t,i),this.cache[e]=r),r}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function Gu(n,e,t,i,r,s,o,a,l,c){const[u,f,p,g,b,y]=dt(n);if(f===0&&p===0){const D=o*u+b,T=Math.round(D),C=a*g+y,_=Math.round(C),A=(o+l)*u+b,R=Math.abs(Math.round(A)-T)||1,k=(a+c)*g+y,I=Math.abs(Math.round(k)-_)||1;return n.setTransform(Math.sign(u),0,0,Math.sign(g),T,_),n.drawImage(e,t,i,r,s,0,0,R,I),n.setTransform(u,f,p,g,b,y),[R,I]}if(u===0&&g===0){const D=a*p+b,T=Math.round(D),C=o*f+y,_=Math.round(C),A=(a+c)*p+b,R=Math.abs(Math.round(A)-T)||1,k=(o+l)*f+y,I=Math.abs(Math.round(k)-_)||1;return n.setTransform(0,Math.sign(f),Math.sign(p),0,T,_),n.drawImage(e,t,i,r,s,0,0,I,R),n.setTransform(u,f,p,g,b,y),[I,R]}n.drawImage(e,t,i,r,s,o,a,l,c);const v=Math.hypot(u,f),x=Math.hypot(p,g);return[v*l,x*c]}function xA(n){const{width:e,height:t}=n;if(e>Av||t>Av)return null;const i=1e3,r=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),s=e+1;let o=new Uint8Array(s*(t+1)),a,l,c;const u=e+7&-8;let f=new Uint8Array(u*t),p=0;for(const x of n.data){let D=128;for(;D>0;)f[p++]=x&D?0:255,D>>=1}let g=0;for(p=0,f[p]!==0&&(o[0]=1,++g),l=1;l<e;l++)f[p]!==f[p+1]&&(o[l]=f[p]?2:1,++g),p++;for(f[p]!==0&&(o[l]=2,++g),a=1;a<t;a++){p=a*u,c=a*s,f[p-u]!==f[p]&&(o[c]=f[p]?1:8,++g);let x=(f[p]?4:0)+(f[p-u]?8:0);for(l=1;l<e;l++)x=(x>>2)+(f[p+1]?4:0)+(f[p-u+1]?8:0),r[x]&&(o[c+l]=r[x],++g),p++;if(f[p-u]!==f[p]&&(o[c+l]=f[p]?2:4,++g),g>i)return null}for(p=u*(t-1),c=a*s,f[p]!==0&&(o[c]=8,++g),l=1;l<e;l++)f[p]!==f[p+1]&&(o[c+l]=f[p]?4:8,++g),p++;if(f[p]!==0&&(o[c+l]=4,++g),g>i)return null;const b=new Int32Array([0,s,-1,0,-s,0,0,0,1]),y=new Path2D;for(a=0;g&&a<=t;a++){let x=a*s;const D=x+e;for(;x<D&&!o[x];)x++;if(x===D)continue;y.moveTo(x%s,a);const T=x;let C=o[x];do{const _=b[C];do x+=_;while(!o[x]);const A=o[x];A!==5&&A!==10?(C=A,o[x]=0):(C=A&51*C>>4,o[x]&=C>>2|C<<2),y.lineTo(x%s,x/s|0),o[x]||--g}while(T!==x);--a}return f=null,o=null,function(x){x.save(),x.scale(1/e,-1/t),x.translate(0,-t),x.fill(y),x.beginPath(),x.restore()}}class Ev{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=r2,this.textMatrixScale=1,this.fontMatrix=Ag,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=Ot.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,t])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,i){[t,i]=Ue.applyTransform([t,i],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,i),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,i)}updateRectMinMax(e,t){const i=Ue.applyTransform(t,e),r=Ue.applyTransform(t.slice(2),e),s=Ue.applyTransform([t[0],t[3]],e),o=Ue.applyTransform([t[2],t[1]],e);this.minX=Math.min(this.minX,i[0],r[0],s[0],o[0]),this.minY=Math.min(this.minY,i[1],r[1],s[1],o[1]),this.maxX=Math.max(this.maxX,i[0],r[0],s[0],o[0]),this.maxY=Math.max(this.maxY,i[1],r[1],s[1],o[1])}updateScalingPathMinMax(e,t){Ue.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.minY=Math.min(this.minY,t[1]),this.maxX=Math.max(this.maxX,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,i,r,s,o,a,l,c,u){const f=Ue.bezierBoundingBox(t,i,r,s,o,a,l,c,u);u||this.updateRectMinMax(e,f)}getPathBoundingBox(e=jt.FILL,t=null){const i=[this.minX,this.minY,this.maxX,this.maxY];if(e===jt.STROKE){t||nt("Stroke bounding box must include transform.");const r=Ue.singularValueDecompose2dScale(t),s=r[0]*this.lineWidth/2,o=r[1]*this.lineWidth/2;i[0]-=s,i[1]-=o,i[2]+=s,i[3]+=o}return i}updateClipFromPath(){const e=Ue.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=jt.FILL,t=null){return Ue.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function wv(n,e){if(typeof ImageData<"u"&&e instanceof ImageData){n.putImageData(e,0,0);return}const t=e.height,i=e.width,r=t%on,s=(t-r)/on,o=r===0?s:s+1,a=n.createImageData(i,on);let l=0,c;const u=e.data,f=a.data;let p,g,b,y;if(e.kind===cd.GRAYSCALE_1BPP){const v=u.byteLength,x=new Uint32Array(f.buffer,0,f.byteLength>>2),D=x.length,T=i+7>>3,C=4294967295,_=an.isLittleEndian?4278190080:255;for(p=0;p<o;p++){for(b=p<s?on:r,c=0,g=0;g<b;g++){const A=v-l;let R=0;const k=A>T?i:A*8-7,I=k&-8;let L=0,J=0;for(;R<I;R+=8)J=u[l++],x[c++]=J&128?C:_,x[c++]=J&64?C:_,x[c++]=J&32?C:_,x[c++]=J&16?C:_,x[c++]=J&8?C:_,x[c++]=J&4?C:_,x[c++]=J&2?C:_,x[c++]=J&1?C:_;for(;R<k;R++)L===0&&(J=u[l++],L=128),x[c++]=J&L?C:_,L>>=1}for(;c<D;)x[c++]=0;n.putImageData(a,0,p*on)}}else if(e.kind===cd.RGBA_32BPP){for(g=0,y=i*on*4,p=0;p<s;p++)f.set(u.subarray(l,l+y)),l+=y,n.putImageData(a,0,g),g+=on;p<o&&(y=i*r*4,f.set(u.subarray(l,l+y)),n.putImageData(a,0,g))}else if(e.kind===cd.RGB_24BPP)for(b=on,y=i*b,p=0;p<o;p++){for(p>=s&&(b=r,y=i*b),c=0,g=y;g--;)f[c++]=u[l++],f[c++]=u[l++],f[c++]=u[l++],f[c++]=255;n.putImageData(a,0,p*on)}else throw new Error(`bad image kind: ${e.kind}`)}function Sv(n,e){if(e.bitmap){n.drawImage(e.bitmap,0,0);return}const t=e.height,i=e.width,r=t%on,s=(t-r)/on,o=r===0?s:s+1,a=n.createImageData(i,on);let l=0;const c=e.data,u=a.data;for(let f=0;f<o;f++){const p=f<s?on:r;({srcPos:l}=mA({src:c,srcPos:l,dest:u,width:i,height:p,nonBlackColor:0})),n.putImageData(a,0,f*on)}}function al(n,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const i of t)n[i]!==void 0&&(e[i]=n[i]);n.setLineDash!==void 0&&(e.setLineDash(n.getLineDash()),e.lineDashOffset=n.lineDashOffset)}function $u(n){if(n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0),!Vt){const{filter:e}=n;e!=="none"&&e!==""&&(n.filter="none")}}function Uv(n,e){if(e)return!0;const t=Ue.singularValueDecompose2dScale(n);t[0]=Math.fround(t[0]),t[1]=Math.fround(t[1]);const i=Math.fround((globalThis.devicePixelRatio||1)*zr.PDF_TO_CSS_UNITS);return t[0]<=i&&t[1]<=i}const DA=["butt","round","square"],TA=["miter","round","bevel"],_A={},Rv={};var Kr,nm,im;const hv=class hv{constructor(e,t,i,r,s,{optionalContentConfig:o,markedContentStack:a=null},l,c){W(this,Kr);this.ctx=e,this.current=new Ev(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=i,this.canvasFactory=r,this.filterFactory=s,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=a||[],this.optionalContentConfig=o,this.cachedCanvases=new bA(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=c,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:i=!1,background:r=null}){const s=this.ctx.canvas.width,o=this.ctx.canvas.height,a=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,s,o),this.ctx.fillStyle=a,i){const l=this.cachedCanvases.getCanvas("transparent",s,o);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...dt(this.compositeCtx))}this.ctx.save(),$u(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=dt(this.ctx)}executeOperatorList(e,t,i,r){const s=e.argsArray,o=e.fnArray;let a=t||0;const l=s.length;if(l===a)return a;const c=l-a>Cv&&typeof i=="function",u=c?Date.now()+yA:0;let f=0;const p=this.commonObjs,g=this.objs;let b;for(;;){if(r!==void 0&&a===r.nextBreakPoint)return r.breakIt(a,i),a;if(b=o[a],b!==$n.dependency)this[b].apply(this,s[a]);else for(const y of s[a]){const v=y.startsWith("g_")?p:g;if(!v.has(y))return v.get(y,i),a}if(a++,a===l)return a;if(c&&++f>Cv){if(Date.now()>u)return i(),a;f=0}}}endDrawing(){P(this,Kr,nm).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),P(this,Kr,im).call(this)}_scaleImage(e,t){const i=e.width,r=e.height;let s=Math.max(Math.hypot(t[0],t[1]),1),o=Math.max(Math.hypot(t[2],t[3]),1),a=i,l=r,c="prescale1",u,f;for(;s>2&&a>1||o>2&&l>1;){let p=a,g=l;s>2&&a>1&&(p=a>=16384?Math.floor(a/2)-1||1:Math.ceil(a/2),s/=a/p),o>2&&l>1&&(g=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,o/=l/g),u=this.cachedCanvases.getCanvas(c,p,g),f=u.context,f.clearRect(0,0,p,g),f.drawImage(e,0,0,a,l,0,0,p,g),e=u.canvas,a=p,l=g,c=c==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:a,paintHeight:l}}_createMaskCanvas(e){const t=this.ctx,{width:i,height:r}=e,s=this.current.fillColor,o=this.current.patternFill,a=dt(t);let l,c,u,f;if((e.bitmap||e.data)&&e.count>1){const k=e.bitmap||e.data.buffer;c=JSON.stringify(o?a:[a.slice(0,4),s]),l=this._cachedBitmapsMap.get(k),l||(l=new Map,this._cachedBitmapsMap.set(k,l));const I=l.get(c);if(I&&!o){const L=Math.round(Math.min(a[0],a[2])+a[4]),J=Math.round(Math.min(a[1],a[3])+a[5]);return{canvas:I,offsetX:L,offsetY:J}}u=I}u||(f=this.cachedCanvases.getCanvas("maskCanvas",i,r),Sv(f.context,e));let p=Ue.transform(a,[1/i,0,0,-1/r,0,0]);p=Ue.transform(p,[1,0,0,1,0,-r]);const[g,b,y,v]=Ue.getAxialAlignedBoundingBox([0,0,i,r],p),x=Math.round(y-g)||1,D=Math.round(v-b)||1,T=this.cachedCanvases.getCanvas("fillCanvas",x,D),C=T.context,_=g,A=b;C.translate(-_,-A),C.transform(...p),u||(u=this._scaleImage(f.canvas,Ui(C)),u=u.img,l&&o&&l.set(c,u)),C.imageSmoothingEnabled=Uv(dt(C),e.interpolate),Gu(C,u,0,0,u.width,u.height,0,0,i,r),C.globalCompositeOperation="source-in";const R=Ue.transform(Ui(C),[1,0,0,1,-_,-A]);return C.fillStyle=o?s.getPattern(t,this,R,jt.FILL):s,C.fillRect(0,0,i,r),l&&!o&&(this.cachedCanvases.delete("fillCanvas"),l.set(c,T.canvas)),{canvas:T.canvas,offsetX:Math.round(_),offsetY:Math.round(A)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=DA[e]}setLineJoin(e){this.ctx.lineJoin=TA[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const i=this.ctx;i.setLineDash!==void 0&&(i.setLineDash(e),i.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,i]of e)switch(t){case"LW":this.setLineWidth(i);break;case"LC":this.setLineCap(i);break;case"LJ":this.setLineJoin(i);break;case"ML":this.setMiterLimit(i);break;case"D":this.setDash(i[0],i[1]);break;case"RI":this.setRenderingIntent(i);break;case"FL":this.setFlatness(i);break;case"Font":this.setFont(i[0],i[1]);break;case"CA":this.current.strokeAlpha=i;break;case"ca":this.current.fillAlpha=i,this.ctx.globalAlpha=i;break;case"BM":this.ctx.globalCompositeOperation=i;break;case"SMask":this.current.activeSMask=i?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(i);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(i,e,t);this.suspendedCtx=this.ctx,this.ctx=r.context;const s=this.ctx;s.setTransform(...dt(this.suspendedCtx)),al(this.suspendedCtx,s),vA(s,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),al(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,i=this.suspendedCtx;this.composeSMask(i,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,i,r){const s=r[0],o=r[1],a=r[2]-s,l=r[3]-o;a===0||l===0||(this.genericComposeSMask(t.context,i,a,l,t.subtype,t.backdrop,t.transferMap,s,o,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(i.canvas,0,0),e.restore())}genericComposeSMask(e,t,i,r,s,o,a,l,c,u,f){let p=e.canvas,g=l-u,b=c-f;if(o){if(g<0||b<0||g+i>p.width||b+r>p.height){const v=this.cachedCanvases.getCanvas("maskExtension",i,r),x=v.context;x.drawImage(p,-g,-b),o.some(D=>D!==0)&&(x.globalCompositeOperation="destination-atop",x.fillStyle=Ue.makeHexColor(...o),x.fillRect(0,0,i,r),x.globalCompositeOperation="source-over"),p=v.canvas,g=b=0}else if(o.some(v=>v!==0)){e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const v=new Path2D;v.rect(g,b,i,r),e.clip(v),e.globalCompositeOperation="destination-atop",e.fillStyle=Ue.makeHexColor(...o),e.fillRect(g,b,i,r),e.restore()}}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),s==="Alpha"&&a?t.filter=this.filterFactory.addAlphaFilter(a):s==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(a));const y=new Path2D;y.rect(l,c,i,r),t.clip(y),t.globalCompositeOperation="destination-in",t.drawImage(p,g,b,i,r,l,c,i,r),t.restore()}save(){this.inSMaskMode?(al(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),al(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,t,i,r,s,o){this.ctx.transform(e,t,i,r,s,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,i){const r=this.ctx,s=this.current;let o=s.x,a=s.y,l,c;const u=dt(r),f=u[0]===0&&u[3]===0||u[1]===0&&u[2]===0,p=f?i.slice(0):null;for(let g=0,b=0,y=e.length;g<y;g++)switch(e[g]|0){case $n.rectangle:o=t[b++],a=t[b++];const v=t[b++],x=t[b++],D=o+v,T=a+x;r.moveTo(o,a),v===0||x===0?r.lineTo(D,T):(r.lineTo(D,a),r.lineTo(D,T),r.lineTo(o,T)),f||s.updateRectMinMax(u,[o,a,D,T]),r.closePath();break;case $n.moveTo:o=t[b++],a=t[b++],r.moveTo(o,a),f||s.updatePathMinMax(u,o,a);break;case $n.lineTo:o=t[b++],a=t[b++],r.lineTo(o,a),f||s.updatePathMinMax(u,o,a);break;case $n.curveTo:l=o,c=a,o=t[b+4],a=t[b+5],r.bezierCurveTo(t[b],t[b+1],t[b+2],t[b+3],o,a),s.updateCurvePathMinMax(u,l,c,t[b],t[b+1],t[b+2],t[b+3],o,a,p),b+=6;break;case $n.curveTo2:l=o,c=a,r.bezierCurveTo(o,a,t[b],t[b+1],t[b+2],t[b+3]),s.updateCurvePathMinMax(u,l,c,o,a,t[b],t[b+1],t[b+2],t[b+3],p),o=t[b+2],a=t[b+3],b+=4;break;case $n.curveTo3:l=o,c=a,o=t[b+2],a=t[b+3],r.bezierCurveTo(t[b],t[b+1],o,a,o,a),s.updateCurvePathMinMax(u,l,c,t[b],t[b+1],o,a,o,a,p),b+=4;break;case $n.closePath:r.closePath();break}f&&s.updateScalingPathMinMax(u,p),s.setCurrentPoint(o,a)}closePath(){this.ctx.closePath()}stroke(e=!0){const t=this.ctx,i=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof i=="object"&&(i!=null&&i.getPattern)?(t.save(),t.strokeStyle=i.getPattern(t,this,Ui(t),jt.STROKE),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const t=this.ctx,i=this.current.fillColor,r=this.current.patternFill;let s=!1;r&&(t.save(),t.fillStyle=i.getPattern(t,this,Ui(t),jt.FILL),s=!0);const o=this.current.getClippedPathBoundingBox();this.contentVisible&&o!==null&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),s&&t.restore(),e&&this.consumePath(o)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=_A}eoClip(){this.pendingClip=Rv}beginText(){this.current.textMatrix=r2,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(e===void 0){t.beginPath();return}t.save(),t.beginPath();for(const i of e)t.setTransform(...i.transform),t.translate(i.x,i.y),i.addToPath(t,i.fontSize);t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){var u;const i=this.commonObjs.get(e),r=this.current;if(!i)throw new Error(`Can't find font for ${e}`);if(r.fontMatrix=i.fontMatrix||Ag,(r.fontMatrix[0]===0||r.fontMatrix[3]===0)&&Be("Invalid font matrix for font "+e),t<0?(t=-t,r.fontDirection=-1):r.fontDirection=1,this.current.font=i,this.current.fontSize=t,i.isType3Font)return;const s=i.loadedName||"sans-serif",o=((u=i.systemFontInfo)==null?void 0:u.css)||`"${s}", ${i.fallbackName}`;let a="normal";i.black?a="900":i.bold&&(a="bold");const l=i.italic?"italic":"normal";let c=t;t<Tv?c=Tv:t>_v&&(c=_v),this.current.fontSizeScale=t/c,this.ctx.font=`${l} ${a} ${c}px ${o}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,i,r,s,o){this.current.textMatrix=[e,t,i,r,s,o],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,i,r){const s=this.ctx,o=this.current,a=o.font,l=o.textRenderingMode,c=o.fontSize/o.fontSizeScale,u=l&Ot.FILL_STROKE_MASK,f=!!(l&Ot.ADD_TO_PATH_FLAG),p=o.patternFill&&!a.missingFile;let g;(a.disableFontFace||f||p)&&(g=a.getPathGenerator(this.commonObjs,e)),a.disableFontFace||p?(s.save(),s.translate(t,i),s.beginPath(),g(s,c),r&&s.setTransform(...r),(u===Ot.FILL||u===Ot.FILL_STROKE)&&s.fill(),(u===Ot.STROKE||u===Ot.FILL_STROKE)&&s.stroke(),s.restore()):((u===Ot.FILL||u===Ot.FILL_STROKE)&&s.fillText(e,t,i),(u===Ot.STROKE||u===Ot.FILL_STROKE)&&s.strokeText(e,t,i)),f&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:dt(s),x:t,y:i,fontSize:c,addToPath:g})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let i=!1;for(let r=3;r<t.length;r+=4)if(t[r]>0&&t[r]<255){i=!0;break}return $e(this,"isFontSubpixelAAEnabled",i)}showText(e){const t=this.current,i=t.font;if(i.isType3Font)return this.showType3Text(e);const r=t.fontSize;if(r===0)return;const s=this.ctx,o=t.fontSizeScale,a=t.charSpacing,l=t.wordSpacing,c=t.fontDirection,u=t.textHScale*c,f=e.length,p=i.vertical,g=p?1:-1,b=i.defaultVMetrics,y=r*t.fontMatrix[0],v=t.textRenderingMode===Ot.FILL&&!i.disableFontFace&&!t.patternFill;s.save(),s.transform(...t.textMatrix),s.translate(t.x,t.y+t.textRise),c>0?s.scale(u,-1):s.scale(u,1);let x;if(t.patternFill){s.save();const A=t.fillColor.getPattern(s,this,Ui(s),jt.FILL);x=dt(s),s.restore(),s.fillStyle=A}let D=t.lineWidth;const T=t.textMatrixScale;if(T===0||D===0){const A=t.textRenderingMode&Ot.FILL_STROKE_MASK;(A===Ot.STROKE||A===Ot.FILL_STROKE)&&(D=this.getSinglePixelWidth())}else D/=T;if(o!==1&&(s.scale(o,o),D/=o),s.lineWidth=D,i.isInvalidPDFjsFont){const A=[];let R=0;for(const k of e)A.push(k.unicode),R+=k.width;s.fillText(A.join(""),0,0),t.x+=R*y*u,s.restore(),this.compose();return}let C=0,_;for(_=0;_<f;++_){const A=e[_];if(typeof A=="number"){C+=g*A*r/1e3;continue}let R=!1;const k=(A.isSpace?l:0)+a,I=A.fontChar,L=A.accent;let J,U,O=A.width;if(p){const K=A.vmetric||b,q=-(A.vmetric?K[1]:O*.5)*y,B=K[2]*y;O=K?-K[0]:O,J=q/o,U=(C+B)/o}else J=C/o,U=0;if(i.remeasure&&O>0){const K=s.measureText(I).width*1e3/r*o;if(O<K&&this.isFontSubpixelAAEnabled){const q=O/K;R=!0,s.save(),s.scale(q,1),J/=q}else O!==K&&(J+=(O-K)/2e3*r/o)}if(this.contentVisible&&(A.isInFont||i.missingFile)){if(v&&!L)s.fillText(I,J,U);else if(this.paintChar(I,J,U,x),L){const K=J+r*L.offset.x/o,q=U-r*L.offset.y/o;this.paintChar(L.fontChar,K,q,x)}}const S=p?O*y-k*c:O*y+k*c;C+=S,R&&s.restore()}p?t.y-=C:t.x+=C*u,s.restore(),this.compose()}showType3Text(e){const t=this.ctx,i=this.current,r=i.font,s=i.fontSize,o=i.fontDirection,a=r.vertical?1:-1,l=i.charSpacing,c=i.wordSpacing,u=i.textHScale*o,f=i.fontMatrix||Ag,p=e.length,g=i.textRenderingMode===Ot.INVISIBLE;let b,y,v,x;if(!(g||s===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...i.textMatrix),t.translate(i.x,i.y),t.scale(u,o),b=0;b<p;++b){if(y=e[b],typeof y=="number"){x=a*y*s/1e3,this.ctx.translate(x,0),i.x+=x*u;continue}const D=(y.isSpace?c:0)+l,T=r.charProcOperatorList[y.operatorListId];if(!T){Be(`Type3 character "${y.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=y,this.save(),t.scale(s,s),t.transform(...f),this.executeOperatorList(T),this.restore()),v=Ue.applyTransform([y.width,0],f)[0]*s+D,t.translate(v,0),i.x+=v*u}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,i,r,s,o){this.ctx.rect(i,r,s-i,o-r),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if(e[0]==="TilingPattern"){const i=e[1],r=this.baseTransform||dt(this.ctx),s={createCanvasGraphics:o=>new hv(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new tm(e,i,this.ctx,s,r)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,i){const r=Ue.makeHexColor(e,t,i);this.ctx.strokeStyle=r,this.current.strokeColor=r}setFillRGBColor(e,t,i){const r=Ue.makeHexColor(e,t,i);this.ctx.fillStyle=r,this.current.fillColor=r,this.current.patternFill=!1}_getPattern(e,t=null){let i;return this.cachedPatterns.has(e)?i=this.cachedPatterns.get(e):(i=gA(this.getObject(e)),this.cachedPatterns.set(e,i)),t&&(i.matrix=t),i}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const i=this._getPattern(e);t.fillStyle=i.getPattern(t,this,Ui(t),jt.SHADING);const r=Ui(t);if(r){const{width:s,height:o}=t.canvas,[a,l,c,u]=Ue.getAxialAlignedBoundingBox([0,0,s,o],r);this.ctx.fillRect(a,l,c-a,u-l)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){nt("Should not call beginInlineImage")}beginImageData(){nt("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=dt(this.ctx),t)){const i=t[2]-t[0],r=t[3]-t[1];this.ctx.rect(t[0],t[1],i,r),this.current.updateRectMinMax(dt(this.ctx),t),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||Qh("TODO: Support non-isolated groups."),e.knockout&&Be("Knockout groups not supported.");const i=dt(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let r=Ue.getAxialAlignedBoundingBox(e.bbox,dt(t));const s=[0,0,t.canvas.width,t.canvas.height];r=Ue.intersect(r,s)||[0,0,0,0];const o=Math.floor(r[0]),a=Math.floor(r[1]),l=Math.max(Math.ceil(r[2])-o,1),c=Math.max(Math.ceil(r[3])-a,1);this.current.startNewPathAndClipBox([0,0,l,c]);let u="groupAt"+this.groupLevel;e.smask&&(u+="_smask_"+this.smaskCounter++%2);const f=this.cachedCanvases.getCanvas(u,l,c),p=f.context;p.translate(-o,-a),p.transform(...i),e.smask?this.smaskStack.push({canvas:f.canvas,context:p,offsetX:o,offsetY:a,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(o,a),t.save()),al(t,p),this.ctx=p,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const r=dt(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...r);const s=Ue.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],r);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(s)}}beginAnnotation(e,t,i,r,s){if(P(this,Kr,nm).call(this),$u(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const o=t[2]-t[0],a=t[3]-t[1];if(s&&this.annotationCanvasMap){i=i.slice(),i[4]-=t[0],i[5]-=t[1],t=t.slice(),t[0]=t[1]=0,t[2]=o,t[3]=a;const[l,c]=Ue.singularValueDecompose2dScale(dt(this.ctx)),{viewportScale:u}=this,f=Math.ceil(o*this.outputScaleX*u),p=Math.ceil(a*this.outputScaleY*u);this.annotationCanvas=this.canvasFactory.create(f,p);const{canvas:g,context:b}=this.annotationCanvas;this.annotationCanvasMap.set(e,g),this.annotationCanvas.savedCtx=this.ctx,this.ctx=b,this.ctx.save(),this.ctx.setTransform(l,0,0,-c,0,a*c),$u(this.ctx)}else $u(this.ctx),this.ctx.rect(t[0],t[1],o,a),this.ctx.clip(),this.endPath()}this.current=new Ev(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...i),this.transform(...r)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),P(this,Kr,im).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;e=this.getObject(e.data,e),e.count=t;const i=this.ctx,r=this.processingType3;if(r&&(r.compiled===void 0&&(r.compiled=xA(e)),r.compiled)){r.compiled(i);return}const s=this._createMaskCanvas(e),o=s.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(o,s.offsetX,s.offsetY),i.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,i=0,r=0,s,o){if(!this.contentVisible)return;e=this.getObject(e.data,e);const a=this.ctx;a.save();const l=dt(a);a.transform(t,i,r,s,0,0);const c=this._createMaskCanvas(e);a.setTransform(1,0,0,1,c.offsetX-l[4],c.offsetY-l[5]);for(let u=0,f=o.length;u<f;u+=2){const p=Ue.transform(l,[t,i,r,s,o[u],o[u+1]]),[g,b]=Ue.applyTransform([0,0],p);a.drawImage(c.canvas,g,b)}a.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,i=this.current.fillColor,r=this.current.patternFill;for(const s of e){const{data:o,width:a,height:l,transform:c}=s,u=this.cachedCanvases.getCanvas("maskCanvas",a,l),f=u.context;f.save();const p=this.getObject(o,s);Sv(f,p),f.globalCompositeOperation="source-in",f.fillStyle=r?i.getPattern(f,this,Ui(t),jt.FILL):i,f.fillRect(0,0,a,l),f.restore(),t.save(),t.transform(...c),t.scale(1,-1),Gu(t,u.canvas,0,0,a,l,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);if(!t){Be("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t)}paintImageXObjectRepeat(e,t,i,r){if(!this.contentVisible)return;const s=this.getObject(e);if(!s){Be("Dependent image isn't ready yet");return}const o=s.width,a=s.height,l=[];for(let c=0,u=r.length;c<u;c+=2)l.push({transform:[t,0,0,i,r[c],r[c+1]],x:0,y:0,w:o,h:a});this.paintInlineImageXObjectGroup(s,l)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:i,height:r}=e,s=this.cachedCanvases.getCanvas("inlineImage",i,r),o=s.context;return o.filter=this.current.transferMaps,o.drawImage(t,0,0),o.filter="none",s.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,i=e.height,r=this.ctx;if(this.save(),!Vt){const{filter:a}=r;a!=="none"&&a!==""&&(r.filter="none")}r.scale(1/t,-1/i);let s;if(e.bitmap)s=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)s=e;else{const l=this.cachedCanvases.getCanvas("inlineImage",t,i).context;wv(l,e),s=this.applyTransferMapsToCanvas(l)}const o=this._scaleImage(s,Ui(r));r.imageSmoothingEnabled=Uv(dt(r),e.interpolate),Gu(r,o.img,0,0,o.paintWidth,o.paintHeight,0,-i,t,i),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const i=this.ctx;let r;if(e.bitmap)r=e.bitmap;else{const s=e.width,o=e.height,l=this.cachedCanvases.getCanvas("inlineImage",s,o).context;wv(l,e),r=this.applyTransferMapsToCanvas(l)}for(const s of t)i.save(),i.transform(...s.transform),i.scale(1,-1),Gu(i,r,s.x,s.y,s.w,s.h,0,-1,1,1),i.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const i=this.ctx;this.pendingClip&&(t||(this.pendingClip===Rv?i.clip("evenodd"):i.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),i.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=dt(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),i=Math.hypot(e[0],e[2]),r=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(i,r)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:i,c:r,d:s}=this.ctx.getTransform();let o,a;if(i===0&&r===0){const l=Math.abs(t),c=Math.abs(s);if(l===c)if(e===0)o=a=1/l;else{const u=l*e;o=a=u<1?1/u:1}else if(e===0)o=1/l,a=1/c;else{const u=l*e,f=c*e;o=u<1?1/u:1,a=f<1?1/f:1}}else{const l=Math.abs(t*s-i*r),c=Math.hypot(t,i),u=Math.hypot(r,s);if(e===0)o=u/l,a=c/l;else{const f=e*l;o=u>f?u/f:1,a=c>f?c/f:1}}this._cachedScaleForStroking[0]=o,this._cachedScaleForStroking[1]=a}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:t}=this,{lineWidth:i}=this.current,[r,s]=this.getScaleForStroking();if(t.lineWidth=i||1,r===1&&s===1){t.stroke();return}const o=t.getLineDash();if(e&&t.save(),t.scale(r,s),o.length>0){const a=Math.max(r,s);t.setLineDash(o.map(l=>l/a)),t.lineDashOffset/=a}t.stroke(),e&&t.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};Kr=new WeakSet,nm=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},im=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}};let Ho=hv;for(const n in $n)Ho.prototype[n]!==void 0&&(Ho.prototype[$n[n]]=Ho.prototype[n]);var wc,Sc;class lr{static get workerPort(){return m(this,wc)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");M(this,wc,e)}static get workerSrc(){return m(this,Sc)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");M(this,Sc,e)}}wc=new WeakMap,Sc=new WeakMap,W(lr,wc,null),W(lr,Sc,"");const zu={DATA:1,ERROR:2},mt={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function pn(n){switch(n instanceof Error||typeof n=="object"&&n!==null||nt('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new To(n.message);case"MissingPDFException":return new Do(n.message);case"PasswordException":return new wg(n.message,n.code);case"UnexpectedResponseException":return new ef(n.message,n.status);case"UnknownErrorException":return new Sg(n.message,n.details);default:return new Sg(n.message,n.toString())}}var Ai,O2,W2,gd;class Sl{constructor(e,t,i){W(this,Ai);this.sourceName=e,this.targetName=t,this.comObj=i,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=r=>{const s=r.data;if(s.targetName!==this.sourceName)return;if(s.stream){P(this,Ai,W2).call(this,s);return}if(s.callback){const a=s.callbackId,l=this.callbackCapabilities[a];if(!l)throw new Error(`Cannot resolve callback ${a}`);if(delete this.callbackCapabilities[a],s.callback===zu.DATA)l.resolve(s.data);else if(s.callback===zu.ERROR)l.reject(pn(s.reason));else throw new Error("Unexpected callback case");return}const o=this.actionHandler[s.action];if(!o)throw new Error(`Unknown action from worker: ${s.action}`);if(s.callbackId){const a=this.sourceName,l=s.sourceName;new Promise(function(c){c(o(s.data))}).then(function(c){i.postMessage({sourceName:a,targetName:l,callback:zu.DATA,callbackId:s.callbackId,data:c})},function(c){i.postMessage({sourceName:a,targetName:l,callback:zu.ERROR,callbackId:s.callbackId,reason:pn(c)})});return}if(s.streamId){P(this,Ai,O2).call(this,s);return}o(s.data)},i.addEventListener("message",this._onComObjOnMessage)}on(e,t){const i=this.actionHandler;if(i[e])throw new Error(`There is already an actionName called "${e}"`);i[e]=t}send(e,t,i){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},i)}sendWithPromise(e,t,i){const r=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[r]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:r,data:t},i)}catch(o){s.reject(o)}return s.promise}sendWithStream(e,t,i,r){const s=this.streamId++,o=this.sourceName,a=this.targetName,l=this.comObj;return new ReadableStream({start:c=>{const u=Promise.withResolvers();return this.streamControllers[s]={controller:c,startCall:u,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:o,targetName:a,action:e,streamId:s,data:t,desiredSize:c.desiredSize},r),u.promise},pull:c=>{const u=Promise.withResolvers();return this.streamControllers[s].pullCall=u,l.postMessage({sourceName:o,targetName:a,stream:mt.PULL,streamId:s,desiredSize:c.desiredSize}),u.promise},cancel:c=>{_t(c instanceof Error,"cancel must have a valid reason");const u=Promise.withResolvers();return this.streamControllers[s].cancelCall=u,this.streamControllers[s].isClosed=!0,l.postMessage({sourceName:o,targetName:a,stream:mt.CANCEL,streamId:s,reason:pn(c)}),u.promise}},i)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}Ai=new WeakSet,O2=function(e){const t=e.streamId,i=this.sourceName,r=e.sourceName,s=this.comObj,o=this,a=this.actionHandler[e.action],l={enqueue(c,u=1,f){if(this.isCancelled)return;const p=this.desiredSize;this.desiredSize-=u,p>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:i,targetName:r,stream:mt.ENQUEUE,streamId:t,chunk:c},f)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:i,targetName:r,stream:mt.CLOSE,streamId:t}),delete o.streamSinks[t])},error(c){_t(c instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:i,targetName:r,stream:mt.ERROR,streamId:t,reason:pn(c)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[t]=l,new Promise(function(c){c(a(e.data,l))}).then(function(){s.postMessage({sourceName:i,targetName:r,stream:mt.START_COMPLETE,streamId:t,success:!0})},function(c){s.postMessage({sourceName:i,targetName:r,stream:mt.START_COMPLETE,streamId:t,reason:pn(c)})})},W2=function(e){const t=e.streamId,i=this.sourceName,r=e.sourceName,s=this.comObj,o=this.streamControllers[t],a=this.streamSinks[t];switch(e.stream){case mt.START_COMPLETE:e.success?o.startCall.resolve():o.startCall.reject(pn(e.reason));break;case mt.PULL_COMPLETE:e.success?o.pullCall.resolve():o.pullCall.reject(pn(e.reason));break;case mt.PULL:if(!a){s.postMessage({sourceName:i,targetName:r,stream:mt.PULL_COMPLETE,streamId:t,success:!0});break}a.desiredSize<=0&&e.desiredSize>0&&a.sinkCapability.resolve(),a.desiredSize=e.desiredSize,new Promise(function(l){var c;l((c=a.onPull)==null?void 0:c.call(a))}).then(function(){s.postMessage({sourceName:i,targetName:r,stream:mt.PULL_COMPLETE,streamId:t,success:!0})},function(l){s.postMessage({sourceName:i,targetName:r,stream:mt.PULL_COMPLETE,streamId:t,reason:pn(l)})});break;case mt.ENQUEUE:if(_t(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(e.chunk);break;case mt.CLOSE:if(_t(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),P(this,Ai,gd).call(this,o,t);break;case mt.ERROR:_t(o,"error should have stream controller"),o.controller.error(pn(e.reason)),P(this,Ai,gd).call(this,o,t);break;case mt.CANCEL_COMPLETE:e.success?o.cancelCall.resolve():o.cancelCall.reject(pn(e.reason)),P(this,Ai,gd).call(this,o,t);break;case mt.CANCEL:if(!a)break;new Promise(function(l){var c;l((c=a.onCancel)==null?void 0:c.call(a,pn(e.reason)))}).then(function(){s.postMessage({sourceName:i,targetName:r,stream:mt.CANCEL_COMPLETE,streamId:t,success:!0})},function(l){s.postMessage({sourceName:i,targetName:r,stream:mt.CANCEL_COMPLETE,streamId:t,reason:pn(l)})}),a.sinkCapability.reject(pn(e.reason)),a.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},gd=async function(e,t){var i,r,s;await Promise.allSettled([(i=e.startCall)==null?void 0:i.promise,(r=e.pullCall)==null?void 0:r.promise,(s=e.cancelCall)==null?void 0:s.promise]),delete this.streamControllers[t]};var Fs,Uc;class CA{constructor({parsedData:e,rawData:t}){W(this,Fs);W(this,Uc);M(this,Fs,e),M(this,Uc,t)}getRaw(){return m(this,Uc)}get(e){return m(this,Fs).get(e)??null}getAll(){return ry(m(this,Fs))}has(e){return m(this,Fs).has(e)}}Fs=new WeakMap,Uc=new WeakMap;const Dr=Symbol("INTERNAL");var Rc,Ic,Fc,la;class AA{constructor(e,{name:t,intent:i,usage:r}){W(this,Rc,!1);W(this,Ic,!1);W(this,Fc,!1);W(this,la,!0);M(this,Rc,!!(e&Nn.DISPLAY)),M(this,Ic,!!(e&Nn.PRINT)),this.name=t,this.intent=i,this.usage=r}get visible(){if(m(this,Fc))return m(this,la);if(!m(this,la))return!1;const{print:e,view:t}=this.usage;return m(this,Rc)?(t==null?void 0:t.viewState)!=="OFF":m(this,Ic)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,i=!1){e!==Dr&&nt("Internal method `_setVisible` called."),M(this,Fc,i),M(this,la,t)}}Rc=new WeakMap,Ic=new WeakMap,Fc=new WeakMap,la=new WeakMap;var Ur,tt,ca,ua,kc,rm;class EA{constructor(e,t=Nn.DISPLAY){W(this,kc);W(this,Ur,null);W(this,tt,new Map);W(this,ca,null);W(this,ua,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,M(this,ua,e.order);for(const i of e.groups)m(this,tt).set(i.id,new AA(t,i));if(e.baseState==="OFF")for(const i of m(this,tt).values())i._setVisible(Dr,!1);for(const i of e.on)m(this,tt).get(i)._setVisible(Dr,!0);for(const i of e.off)m(this,tt).get(i)._setVisible(Dr,!1);M(this,ca,this.getHash())}}isVisible(e){if(m(this,tt).size===0)return!0;if(!e)return Qh("Optional content group not defined."),!0;if(e.type==="OCG")return m(this,tt).has(e.id)?m(this,tt).get(e.id).visible:(Be(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return P(this,kc,rm).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!m(this,tt).has(t))return Be(`Optional content group not found: ${t}`),!0;if(m(this,tt).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!m(this,tt).has(t))return Be(`Optional content group not found: ${t}`),!0;if(!m(this,tt).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!m(this,tt).has(t))return Be(`Optional content group not found: ${t}`),!0;if(!m(this,tt).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!m(this,tt).has(t))return Be(`Optional content group not found: ${t}`),!0;if(m(this,tt).get(t).visible)return!1}return!0}return Be(`Unknown optional content policy ${e.policy}.`),!0}return Be(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0){const i=m(this,tt).get(e);if(!i){Be(`Optional content group not found: ${e}`);return}i._setVisible(Dr,!!t,!0),M(this,Ur,null)}setOCGState({state:e,preserveRB:t}){let i;for(const r of e){switch(r){case"ON":case"OFF":case"Toggle":i=r;continue}const s=m(this,tt).get(r);if(s)switch(i){case"ON":s._setVisible(Dr,!0);break;case"OFF":s._setVisible(Dr,!1);break;case"Toggle":s._setVisible(Dr,!s.visible);break}}M(this,Ur,null)}get hasInitialVisibility(){return m(this,ca)===null||this.getHash()===m(this,ca)}getOrder(){return m(this,tt).size?m(this,ua)?m(this,ua).slice():[...m(this,tt).keys()]:null}getGroups(){return m(this,tt).size>0?ry(m(this,tt)):null}getGroup(e){return m(this,tt).get(e)||null}getHash(){if(m(this,Ur)!==null)return m(this,Ur);const e=new M2;for(const[t,i]of m(this,tt))e.update(`${t}:${i.visible}`);return M(this,Ur,e.hexdigest())}}Ur=new WeakMap,tt=new WeakMap,ca=new WeakMap,ua=new WeakMap,kc=new WeakSet,rm=function(e){const t=e.length;if(t<2)return!0;const i=e[0];for(let r=1;r<t;r++){const s=e[r];let o;if(Array.isArray(s))o=P(this,kc,rm).call(this,s);else if(m(this,tt).has(s))o=m(this,tt).get(s).visible;else return Be(`Optional content group not found: ${s}`),!0;switch(i){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return i==="And"};class wA{constructor(e,{disableRange:t=!1,disableStream:i=!1}){_t(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:s,progressiveDone:o,contentDispositionFilename:a}=e;if(this._queuedChunks=[],this._progressiveDone=o,this._contentDispositionFilename=a,(s==null?void 0:s.length)>0){const l=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!i,this._isRangeSupported=!t,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((l,c)=>{this._onReceiveData({begin:l,chunk:c})}),e.addProgressListener((l,c)=>{this._onProgress({loaded:l,total:c})}),e.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const i=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i);else{const r=this._rangeReaders.some(function(s){return s._begin!==e?!1:(s._enqueue(i),!0)});_t(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,i,r,s;e.total===void 0?(i=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||i.call(t,{loaded:e.loaded}):(s=(r=this._fullRequestReader)==null?void 0:r.onProgress)==null||s.call(r,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){_t(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new SA(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const i=new UA(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeReaders.slice(0))i.cancel(e);this._pdfDataRangeTransport.abort()}}class SA{constructor(e,t,i=!1,r=null){this._stream=e,this._done=i||!1,this._filename=cy(r)?r:null,this._queuedChunks=t||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class UA{constructor(e,t,i){this._stream=e,this._begin=t,this._end=i,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function RA(n){let e=!0,t=i("filename\\*","i").exec(n);if(t){t=t[1];let u=a(t);return u=unescape(u),u=l(u),u=c(u),s(u)}if(t=o(n),t){const u=c(t);return s(u)}if(t=i("filename","i").exec(n),t){t=t[1];let u=a(t);return u=c(u),s(u)}function i(u,f){return new RegExp("(?:^|;)\\s*"+u+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',f)}function r(u,f){if(u){if(!/^[\x00-\xFF]+$/.test(f))return f;try{const p=new TextDecoder(u,{fatal:!0}),g=tf(f);f=p.decode(g),e=!1}catch{}}return f}function s(u){return e&&/[\x80-\xff]/.test(u)&&(u=r("utf-8",u),e&&(u=r("iso-8859-1",u))),u}function o(u){const f=[];let p;const g=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(p=g.exec(u))!==null;){let[,y,v,x]=p;if(y=parseInt(y,10),y in f){if(y===0)break;continue}f[y]=[v,x]}const b=[];for(let y=0;y<f.length&&y in f;++y){let[v,x]=f[y];x=a(x),v&&(x=unescape(x),y===0&&(x=l(x))),b.push(x)}return b.join("")}function a(u){if(u.startsWith('"')){const f=u.slice(1).split('\\"');for(let p=0;p<f.length;++p){const g=f[p].indexOf('"');g!==-1&&(f[p]=f[p].slice(0,g),f.length=p+1),f[p]=f[p].replaceAll(/\\(.)/g,"$1")}u=f.join('"')}return u}function l(u){const f=u.indexOf("'");if(f===-1)return u;const p=u.slice(0,f),b=u.slice(f+1).replace(/^[^']*'/,"");return r(p,b)}function c(u){return!u.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(u)?u:u.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(f,p,g,b){if(g==="q"||g==="Q")return b=b.replaceAll("_"," "),b=b.replaceAll(/=([0-9a-fA-F]{2})/g,function(y,v){return String.fromCharCode(parseInt(v,16))}),r(p,b);try{b=atob(b)}catch{}return r(p,b)})}return""}function hy({getResponseHeader:n,isHttp:e,rangeChunkSize:t,disableRange:i}){const r={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(n("Content-Length"),10);return!Number.isInteger(s)||(r.suggestedLength=s,s<=2*t)||i||!e||n("Accept-Ranges")!=="bytes"||(n("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function fy(n){const e=n("Content-Disposition");if(e){let t=RA(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(cy(t))return t}return null}function lf(n,e){return n===404||n===0&&e.startsWith("file:")?new Do('Missing PDF "'+e+'".'):new ef(`Unexpected server response (${n}) while retrieving PDF "${e}".`,n)}function q2(n){return n===200||n===206}function V2(n,e,t){return{method:"GET",headers:n,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function H2(n){const e=new Headers;for(const t in n){const i=n[t];i!==void 0&&e.append(t,i)}return e}function G2(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(Be(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class Iv{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return _t(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new IA(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const i=new FA(this,e,t);return this._rangeRequestReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeRequestReaders.slice(0))i.cancel(e)}}class IA{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._headers=H2(this._stream.httpHeaders);const i=t.url;fetch(i,V2(this._headers,this._withCredentials,this._abortController)).then(r=>{if(!q2(r.status))throw lf(r.status,i);this._reader=r.body.getReader(),this._headersCapability.resolve();const s=l=>r.headers.get(l),{allowRangeRequests:o,suggestedLength:a}=hy({getResponseHeader:s,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=a||this._contentLength,this._filename=fy(s),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new To("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:G2(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class FA{constructor(e,t,i){this._stream=e,this._reader=null,this._loaded=0;const r=e.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController,this._headers=H2(this._stream.httpHeaders),this._headers.append("Range",`bytes=${t}-${i-1}`);const s=r.url;fetch(s,V2(this._headers,this._withCredentials,this._abortController)).then(o=>{if(!q2(o.status))throw lf(o.status,s);this._readCapability.resolve(),this._reader=o.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:G2(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const Gf=200,$f=206;function kA(n){const e=n.response;return typeof e!="string"?e:tf(e).buffer}class NA{constructor(e,t={}){this.url=e,this.isHttp=/^https?:/i.test(e),this.httpHeaders=this.isHttp&&t.httpHeaders||Object.create(null),this.withCredentials=t.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,t,i){const r={begin:e,end:t};for(const s in i)r[s]=i[s];return this.request(r)}requestFull(e){return this.request(e)}request(e){const t=new XMLHttpRequest,i=this.currXhrId++,r=this.pendingRequests[i]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const s in this.httpHeaders){const o=this.httpHeaders[s];o!==void 0&&t.setRequestHeader(s,o)}return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),r.expectedStatus=$f):r.expectedStatus=Gf,t.responseType="arraybuffer",e.onError&&(t.onerror=function(s){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,i),t.onprogress=this.onProgress.bind(this,i),r.onHeadersReceived=e.onHeadersReceived,r.onDone=e.onDone,r.onError=e.onError,r.onProgress=e.onProgress,t.send(null),i}onProgress(e,t){var r;const i=this.pendingRequests[e];i&&((r=i.onProgress)==null||r.call(i,t))}onStateChange(e,t){var l,c,u;const i=this.pendingRequests[e];if(!i)return;const r=i.xhr;if(r.readyState>=2&&i.onHeadersReceived&&(i.onHeadersReceived(),delete i.onHeadersReceived),r.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],r.status===0&&this.isHttp){(l=i.onError)==null||l.call(i,r.status);return}const s=r.status||Gf;if(!(s===Gf&&i.expectedStatus===$f)&&s!==i.expectedStatus){(c=i.onError)==null||c.call(i,r.status);return}const a=kA(r);if(s===$f){const f=r.getResponseHeader("Content-Range"),p=/bytes (\d+)-(\d+)\/(\d+)/.exec(f);i.onDone({begin:parseInt(p[1],10),chunk:a})}else a?i.onDone({begin:0,chunk:a}):(u=i.onError)==null||u.call(i,r.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class MA{constructor(e){this._source=e,this._manager=new NA(e.url,{httpHeaders:e.httpHeaders,withCredentials:e.withCredentials}),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return _t(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new PA(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const i=new LA(this._manager,e,t);return i.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeRequestReaders.slice(0))i.cancel(e)}}class PA{constructor(e,t){this._manager=e;const i={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=e.requestFull(i),this._headersReceivedCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e),i=o=>t.getResponseHeader(o),{allowRangeRequests:r,suggestedLength:s}=hy({getResponseHeader:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=s||this._contentLength,this._filename=fy(i),this._isRangeSupported&&this._manager.abortRequest(e),this._headersReceivedCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=lf(e,this._url),this._headersReceivedCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersReceivedCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class LA{constructor(e,t,i){this._manager=e;const r={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(t,i,r),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=lf(e,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const $2=/^file:\/\/\/[a-zA-Z]:\//;function BA(n){const e=Ei.get("url"),t=e.parse(n);return t.protocol==="file:"||t.host?t:/^[a-z]:[/\\]/i.test(n)?e.parse(`file:///${n}`):(t.host||(t.protocol="file:"),t)}class OA{constructor(e){this.source=e,this.url=BA(e.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return _t(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new VA(this):new WA(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const i=this.isFsUrl?new HA(this,e,t):new qA(this,e,t);return this._rangeRequestReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeRequestReaders.slice(0))i.cancel(e)}}class z2{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new To("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class X2{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const t=e.source;this._isStreamingSupported=!t.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function uh(n,e){return{protocol:n.protocol,auth:n.auth,host:n.hostname,port:n.port,path:n.path,method:"GET",headers:e}}class WA extends z2{constructor(e){super(e);const t=i=>{if(i.statusCode===404){const a=new Do(`Missing PDF "${this._url}".`);this._storedError=a,this._headersCapability.reject(a);return}this._headersCapability.resolve(),this._setReadableStream(i);const r=a=>this._readableStream.headers[a.toLowerCase()],{allowRangeRequests:s,suggestedLength:o}=hy({getResponseHeader:r,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=s,this._contentLength=o||this._contentLength,this._filename=fy(r)};if(this._request=null,this._url.protocol==="http:"){const i=Ei.get("http");this._request=i.request(uh(this._url,e.httpHeaders),t)}else{const i=Ei.get("https");this._request=i.request(uh(this._url,e.httpHeaders),t)}this._request.on("error",i=>{this._storedError=i,this._headersCapability.reject(i)}),this._request.end()}}class qA extends X2{constructor(e,t,i){super(e),this._httpHeaders={};for(const s in e.httpHeaders){const o=e.httpHeaders[s];o!==void 0&&(this._httpHeaders[s]=o)}this._httpHeaders.Range=`bytes=${t}-${i-1}`;const r=s=>{if(s.statusCode===404){const o=new Do(`Missing PDF "${this._url}".`);this._storedError=o;return}this._setReadableStream(s)};if(this._request=null,this._url.protocol==="http:"){const s=Ei.get("http");this._request=s.request(uh(this._url,this._httpHeaders),r)}else{const s=Ei.get("https");this._request=s.request(uh(this._url,this._httpHeaders),r)}this._request.on("error",s=>{this._storedError=s}),this._request.end()}}class VA extends z2{constructor(e){super(e);let t=decodeURIComponent(this._url.path);$2.test(this._url.href)&&(t=t.replace(/^\//,""));const i=Ei.get("fs");i.promises.lstat(t).then(r=>{this._contentLength=r.size,this._setReadableStream(i.createReadStream(t)),this._headersCapability.resolve()},r=>{r.code==="ENOENT"&&(r=new Do(`Missing PDF "${t}".`)),this._storedError=r,this._headersCapability.reject(r)})}}class HA extends X2{constructor(e,t,i){super(e);let r=decodeURIComponent(this._url.path);$2.test(this._url.href)&&(r=r.replace(/^\//,""));const s=Ei.get("fs");this._setReadableStream(s.createReadStream(r,{start:t,end:i-1}))}}const GA=1e5,nn=30,$A=.8;var n2,Rr,sn,Nc,Mc,ks,Xi,Pc,Lc,Ns,da,ha,Ir,fa,Bc,pa,Ms,Oc,Wc,Ps,Ls,ga,pr,J2,Y2,sm,$r,md,K2;const Hn=class Hn{constructor({textContentSource:e,container:t,viewport:i}){W(this,pr);W(this,Rr,Promise.withResolvers());W(this,sn,null);W(this,Nc,!1);W(this,Mc,!!((n2=globalThis.FontInspector)!=null&&n2.enabled));W(this,ks,null);W(this,Xi,null);W(this,Pc,0);W(this,Lc,0);W(this,Ns,null);W(this,da,null);W(this,ha,0);W(this,Ir,0);W(this,fa,Object.create(null));W(this,Bc,[]);W(this,pa,null);W(this,Ms,[]);W(this,Oc,new WeakMap);W(this,Wc,null);if(e instanceof ReadableStream)M(this,pa,e);else if(typeof e=="object")M(this,pa,new ReadableStream({start(l){l.enqueue(e),l.close()}}));else throw new Error('No "textContentSource" parameter specified.');M(this,sn,M(this,da,t)),M(this,Ir,i.scale*(globalThis.devicePixelRatio||1)),M(this,ha,i.rotation),M(this,Xi,{prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:null});const{pageWidth:r,pageHeight:s,pageX:o,pageY:a}=i.rawDims;M(this,Wc,[1,0,0,-1,-o,a+s]),M(this,Lc,r),M(this,Pc,s),po(t,i),m(this,Rr).promise.catch(()=>{}).then(()=>{m(Hn,ga).delete(this),M(this,Xi,null),M(this,fa,null)})}render(){const e=()=>{m(this,Ns).read().then(({value:t,done:i})=>{if(i){m(this,Rr).resolve();return}m(this,ks)??M(this,ks,t.lang),Object.assign(m(this,fa),t.styles),P(this,pr,J2).call(this,t.items),e()},m(this,Rr).reject)};return M(this,Ns,m(this,pa).getReader()),m(Hn,ga).add(this),e(),m(this,Rr).promise}update({viewport:e,onBefore:t=null}){var s;const i=e.scale*(globalThis.devicePixelRatio||1),r=e.rotation;if(r!==m(this,ha)&&(t==null||t(),M(this,ha,r),po(m(this,da),{rotation:r})),i!==m(this,Ir)){t==null||t(),M(this,Ir,i);const o={prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:P(s=Hn,$r,md).call(s,m(this,ks))};for(const a of m(this,Ms))o.properties=m(this,Oc).get(a),o.div=a,P(this,pr,sm).call(this,o)}}cancel(){var t;const e=new To("TextLayer task cancelled.");(t=m(this,Ns))==null||t.cancel(e).catch(()=>{}),M(this,Ns,null),m(this,Rr).reject(e)}get textDivs(){return m(this,Ms)}get textContentItemsStr(){return m(this,Bc)}static cleanup(){if(!(m(this,ga).size>0)){m(this,Ps).clear();for(const{canvas:e}of m(this,Ls).values())e.remove();m(this,Ls).clear()}}};Rr=new WeakMap,sn=new WeakMap,Nc=new WeakMap,Mc=new WeakMap,ks=new WeakMap,Xi=new WeakMap,Pc=new WeakMap,Lc=new WeakMap,Ns=new WeakMap,da=new WeakMap,ha=new WeakMap,Ir=new WeakMap,fa=new WeakMap,Bc=new WeakMap,pa=new WeakMap,Ms=new WeakMap,Oc=new WeakMap,Wc=new WeakMap,Ps=new WeakMap,Ls=new WeakMap,ga=new WeakMap,pr=new WeakSet,J2=function(e){var r,s;if(m(this,Nc))return;(s=m(this,Xi)).ctx||(s.ctx=P(r=Hn,$r,md).call(r,m(this,ks)));const t=m(this,Ms),i=m(this,Bc);for(const o of e){if(t.length>GA){Be("Ignoring additional textDivs for performance reasons."),M(this,Nc,!0);return}if(o.str===void 0){if(o.type==="beginMarkedContentProps"||o.type==="beginMarkedContent"){const a=m(this,sn);M(this,sn,document.createElement("span")),m(this,sn).classList.add("markedContent"),o.id!==null&&m(this,sn).setAttribute("id",`${o.id}`),a.append(m(this,sn))}else o.type==="endMarkedContent"&&M(this,sn,m(this,sn).parentNode);continue}i.push(o.str),P(this,pr,Y2).call(this,o)}},Y2=function(e){var y;const t=document.createElement("span"),i={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};m(this,Ms).push(t);const r=Ue.transform(m(this,Wc),e.transform);let s=Math.atan2(r[1],r[0]);const o=m(this,fa)[e.fontName];o.vertical&&(s+=Math.PI/2);const a=m(this,Mc)&&o.fontSubstitution||o.fontFamily,l=Math.hypot(r[2],r[3]),c=l*P(y=Hn,$r,K2).call(y,a,m(this,ks));let u,f;s===0?(u=r[4],f=r[5]-c):(u=r[4]+c*Math.sin(s),f=r[5]-c*Math.cos(s));const p="calc(var(--scale-factor)*",g=t.style;m(this,sn)===m(this,da)?(g.left=`${(100*u/m(this,Lc)).toFixed(2)}%`,g.top=`${(100*f/m(this,Pc)).toFixed(2)}%`):(g.left=`${p}${u.toFixed(2)}px)`,g.top=`${p}${f.toFixed(2)}px)`),g.fontSize=`${p}${l.toFixed(2)}px)`,g.fontFamily=a,i.fontSize=l,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,m(this,Mc)&&(t.dataset.fontName=o.fontSubstitutionLoadedName||e.fontName),s!==0&&(i.angle=s*(180/Math.PI));let b=!1;if(e.str.length>1)b=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const v=Math.abs(e.transform[0]),x=Math.abs(e.transform[3]);v!==x&&Math.max(v,x)/Math.min(v,x)>1.5&&(b=!0)}if(b&&(i.canvasWidth=o.vertical?e.height:e.width),m(this,Oc).set(t,i),m(this,Xi).div=t,m(this,Xi).properties=i,P(this,pr,sm).call(this,m(this,Xi)),i.hasText&&m(this,sn).append(t),i.hasEOL){const v=document.createElement("br");v.setAttribute("role","presentation"),m(this,sn).append(v)}},sm=function(e){const{div:t,properties:i,ctx:r,prevFontSize:s,prevFontFamily:o}=e,{style:a}=t;let l="";if(i.canvasWidth!==0&&i.hasText){const{fontFamily:c}=a,{canvasWidth:u,fontSize:f}=i;(s!==f||o!==c)&&(r.font=`${f*m(this,Ir)}px ${c}`,e.prevFontSize=f,e.prevFontFamily=c);const{width:p}=r.measureText(t.textContent);p>0&&(l=`scaleX(${u*m(this,Ir)/p})`)}i.angle!==0&&(l=`rotate(${i.angle}deg) ${l}`),l.length>0&&(a.transform=l)},$r=new WeakSet,md=function(e=null){let t=m(this,Ls).get(e||(e=""));if(!t){const i=document.createElement("canvas");i.className="hiddenCanvasElement",i.lang=e,document.body.append(i),t=i.getContext("2d",{alpha:!1}),m(this,Ls).set(e,t)}return t},K2=function(e,t){const i=m(this,Ps).get(e);if(i)return i;const r=P(this,$r,md).call(this,t),s=r.font;r.canvas.width=r.canvas.height=nn,r.font=`${nn}px ${e}`;const o=r.measureText("");let a=o.fontBoundingBoxAscent,l=Math.abs(o.fontBoundingBoxDescent);if(a){const f=a/(a+l);return m(this,Ps).set(e,f),r.canvas.width=r.canvas.height=0,r.font=s,f}r.strokeStyle="red",r.clearRect(0,0,nn,nn),r.strokeText("g",0,0);let c=r.getImageData(0,0,nn,nn).data;l=0;for(let f=c.length-1-3;f>=0;f-=4)if(c[f]>0){l=Math.ceil(f/4/nn);break}r.clearRect(0,0,nn,nn),r.strokeText("A",0,nn),c=r.getImageData(0,0,nn,nn).data,a=0;for(let f=0,p=c.length;f<p;f+=4)if(c[f]>0){a=nn-Math.floor(f/4/nn);break}r.canvas.width=r.canvas.height=0,r.font=s;const u=a?a/(a+l):$A;return m(this,Ps).set(e,u),u},W(Hn,$r),W(Hn,Ps,new Map),W(Hn,Ls,new Map),W(Hn,ga,new Set);let Ja=Hn;function zA(){d2("`renderTextLayer`, please use `TextLayer` instead.");const{textContentSource:n,container:e,viewport:t,...i}=arguments[0],r=Object.keys(i);r.length>0&&Be("Ignoring `renderTextLayer` parameters: "+r.join(", "));const s=new Ja({textContentSource:n,container:e,viewport:t}),{textDivs:o,textContentItemsStr:a}=s;return{promise:s.render(),textDivs:o,textContentItemsStr:a}}function XA(){d2("`updateTextLayer`, please use `TextLayer` instead.")}class Hl{static textContent(e){const t=[],i={items:t,styles:Object.create(null)};function r(s){var l;if(!s)return;let o=null;const a=s.name;if(a==="#text")o=s.value;else if(Hl.shouldBuildText(a))(l=s==null?void 0:s.attributes)!=null&&l.textContent?o=s.attributes.textContent:s.value&&(o=s.value);else return;if(o!==null&&t.push({str:o}),!!s.children)for(const c of s.children)r(c)}return r(e),i}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const JA=65536,YA=100,KA=5e3,jA=Vt?lA:YC,ZA=Vt?cA:c2,QA=Vt?aA:JC,eE=Vt?uA:u2;function tE(n){if(typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n}),typeof n!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!n.url&&!n.data&&!n.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const e=new om,{docId:t}=e,i=n.url?nE(n.url):null,r=n.data?iE(n.data):null,s=n.httpHeaders||null,o=n.withCredentials===!0,a=n.password??null,l=n.range instanceof j2?n.range:null,c=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:JA;let u=n.worker instanceof Go?n.worker:null;const f=n.verbosity,p=typeof n.docBaseUrl=="string"&&!ly(n.docBaseUrl)?n.docBaseUrl:null,g=typeof n.cMapUrl=="string"?n.cMapUrl:null,b=n.cMapPacked!==!1,y=n.CMapReaderFactory||ZA,v=typeof n.standardFontDataUrl=="string"?n.standardFontDataUrl:null,x=n.StandardFontDataFactory||eE,D=n.stopAtErrors!==!0,T=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,C=n.isEvalSupported!==!1,_=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!Vt,A=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,R=typeof n.disableFontFace=="boolean"?n.disableFontFace:Vt,k=n.fontExtraProperties===!0,I=n.enableXfa===!0,L=n.ownerDocument||globalThis.document,J=n.disableRange===!0,U=n.disableStream===!0,O=n.disableAutoFetch===!0,S=n.pdfBug===!0,K=l?l.length:n.length??NaN,q=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!Vt&&!R,B=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:y===c2&&x===u2&&g&&v&&Al(g,document.baseURI)&&Al(v,document.baseURI),j=n.canvasFactory||new jA({ownerDocument:L}),V=n.filterFactory||new QA({docId:t,ownerDocument:L}),Y=null;LC(f);const F={canvasFactory:j,filterFactory:V};if(B||(F.cMapReaderFactory=new y({baseUrl:g,isCompressed:b}),F.standardFontDataFactory=new x({baseUrl:v})),!u){const ne={verbosity:f,port:lr.workerPort};u=ne.port?Go.fromPort(ne):new Go(ne),e._worker=u}const X={docId:t,apiVersion:"4.3.136",data:r,password:a,disableAutoFetch:O,rangeChunkSize:c,length:K,docBaseUrl:p,enableXfa:I,evaluatorOptions:{maxImageSize:T,disableFontFace:R,ignoreErrors:D,isEvalSupported:C,isOffscreenCanvasSupported:_,canvasMaxAreaInBytes:A,fontExtraProperties:k,useSystemFonts:q,cMapUrl:B?g:null,standardFontDataUrl:B?v:null}},z={disableFontFace:R,fontExtraProperties:k,ownerDocument:L,pdfBug:S,styleElement:Y,loadingParams:{disableAutoFetch:O,enableXfa:I}};return u.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const ne=u.messageHandler.sendWithPromise("GetDocRequest",X,r?[r.buffer]:null);let oe;return l?oe=new wA(l,{disableRange:J,disableStream:U}):r||(oe=(ce=>Vt?function(){return typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype}()&&Al(ce.url)?new Iv(ce):new OA(ce):Al(ce.url)?new Iv(ce):new MA(ce))({url:i,length:K,httpHeaders:s,withCredentials:o,rangeChunkSize:c,disableRange:J,disableStream:U})),ne.then(pe=>{if(e.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const ce=new Sl(t,pe,u.port),ge=new aE(ce,e,oe,z,F);e._transport=ge,ce.send("Ready",null)})}).catch(e._capability.reject),e}function nE(n){if(n instanceof URL)return n.href;try{return new URL(n,window.location).href}catch{if(Vt&&typeof n=="string")return n}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function iE(n){if(Vt&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return tf(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n==null?void 0:n.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function Fv(n){return typeof n=="object"&&Number.isInteger(n==null?void 0:n.num)&&n.num>=0&&Number.isInteger(n==null?void 0:n.gen)&&n.gen>=0}var Wh;const qh=class qh{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${St(qh,Wh)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var e,t,i;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(r){throw(i=this._worker)!=null&&i.port&&delete this._worker._pendingDestroy,r}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};Wh=new WeakMap,W(qh,Wh,0);let om=qh;class j2{constructor(e,t,i=!1,r=null){this.length=e,this.initialData=t,this.progressiveDone=i,this.contentDispositionFilename=r,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(const i of this._rangeListeners)i(e,t)}onDataProgress(e,t){this._readyCapability.promise.then(()=>{for(const i of this._progressListeners)i(e,t)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const t of this._progressiveReadListeners)t(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){nt("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class rE{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return $e(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Fr,Ji,Mn,Lo,yd;class sE{constructor(e,t,i,r=!1){W(this,Mn);W(this,Fr,null);W(this,Ji,!1);this._pageIndex=e,this._pageInfo=t,this._transport=i,this._stats=r?new vv:null,this._pdfBug=r,this.commonObjs=i.commonObjs,this.objs=new Z2,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:i=0,offsetY:r=0,dontFlip:s=!1}={}){return new Nu({viewBox:this.view,scale:e,rotation:t,offsetX:i,offsetY:r,dontFlip:s})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return $e(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:t,intent:i="display",annotationMode:r=_r.ENABLE,transform:s=null,background:o=null,optionalContentConfigPromise:a=null,annotationCanvasMap:l=null,pageColors:c=null,printAnnotationStorage:u=null}){var T,C;(T=this._stats)==null||T.time("Overall");const f=this._transport.getRenderingIntent(i,r,u),{renderingIntent:p,cacheKey:g}=f;M(this,Ji,!1),P(this,Mn,yd).call(this),a||(a=this._transport.getOptionalContentConfig(p));let b=this._intentStates.get(g);b||(b=Object.create(null),this._intentStates.set(g,b)),b.streamReaderCancelTimeout&&(clearTimeout(b.streamReaderCancelTimeout),b.streamReaderCancelTimeout=null);const y=!!(p&Nn.PRINT);b.displayReadyCapability||(b.displayReadyCapability=Promise.withResolvers(),b.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(C=this._stats)==null||C.time("Page Request"),this._pumpOperatorList(f));const v=_=>{var A;b.renderTasks.delete(x),(this._maybeCleanupAfterRender||y)&&M(this,Ji,!0),P(this,Mn,Lo).call(this,!y),_?(x.capability.reject(_),this._abortOperatorList({intentState:b,reason:_ instanceof Error?_:new Error(_)})):x.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(A=globalThis.Stats)!=null&&A.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},x=new lm({callback:v,params:{canvasContext:e,viewport:t,transform:s,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:l,operatorList:b.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!y,pdfBug:this._pdfBug,pageColors:c});(b.renderTasks||(b.renderTasks=new Set)).add(x);const D=x.task;return Promise.all([b.displayReadyCapability.promise,a]).then(([_,A])=>{var R;if(this.destroyed){v();return}if((R=this._stats)==null||R.time("Rendering"),!(A.renderingIntent&p))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");x.initializeGraphics({transparency:_,optionalContentConfig:A}),x.operatorListChanged()}).catch(v),D}getOperatorList({intent:e="display",annotationMode:t=_r.ENABLE,printAnnotationStorage:i=null}={}){var l;function r(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(a))}const s=this._transport.getRenderingIntent(e,t,i,!0);let o=this._intentStates.get(s.cacheKey);o||(o=Object.create(null),this._intentStates.set(s.cacheKey,o));let a;return o.opListReadCapability||(a=Object.create(null),a.operatorListChanged=r,o.opListReadCapability=Promise.withResolvers(),(o.renderTasks||(o.renderTasks=new Set)).add(a),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(l=this._stats)==null||l.time("Page Request"),this._pumpOperatorList(s)),o.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>Hl.textContent(i));const t=this.streamTextContent(e);return new Promise(function(i,r){function s(){o.read().then(function({value:l,done:c}){if(c){i(a);return}a.lang??(a.lang=l.lang),Object.assign(a.styles,l.styles),a.items.push(...l.items),s()},r)}const o=t.getReader(),a={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const i of t.renderTasks)e.push(i.completed),i.cancel();return this.objs.clear(),M(this,Ji,!1),P(this,Mn,yd).call(this),Promise.all(e)}cleanup(e=!1){M(this,Ji,!0);const t=P(this,Mn,Lo).call(this,!1);return e&&t&&this._stats&&(this._stats=new vv),t}_startRenderPage(e,t){var r,s;const i=this._intentStates.get(t);i&&((r=this._stats)==null||r.timeEnd("Page Request"),(s=i.displayReadyCapability)==null||s.resolve(e))}_renderPageChunk(e,t){for(let i=0,r=e.length;i<r;i++)t.operatorList.fnArray.push(e.fnArray[i]),t.operatorList.argsArray.push(e.argsArray[i]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const i of t.renderTasks)i.operatorListChanged();e.lastChunk&&P(this,Mn,Lo).call(this,!0)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:i}){const{map:r,transfer:s}=i,a=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:r},s).getReader(),l=this._intentStates.get(t);l.streamReader=a;const c=()=>{a.read().then(({value:u,done:f})=>{if(f){l.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(u,l),c())},u=>{if(l.streamReader=null,!this._transport.destroyed){if(l.operatorList){l.operatorList.lastChunk=!0;for(const f of l.renderTasks)f.operatorListChanged();P(this,Mn,Lo).call(this,!0)}if(l.displayReadyCapability)l.displayReadyCapability.reject(u);else if(l.opListReadCapability)l.opListReadCapability.reject(u);else throw u}})};c()}_abortOperatorList({intentState:e,reason:t,force:i=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!i){if(e.renderTasks.size>0)return;if(t instanceof ay){let r=YA;t.extraDelay>0&&t.extraDelay<1e3&&(r+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},r);return}}if(e.streamReader.cancel(new To(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[r,s]of this._intentStates)if(s===e){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}Fr=new WeakMap,Ji=new WeakMap,Mn=new WeakSet,Lo=function(e=!1){if(P(this,Mn,yd).call(this),!m(this,Ji)||this.destroyed)return!1;if(e)return M(this,Fr,setTimeout(()=>{M(this,Fr,null),P(this,Mn,Lo).call(this,!1)},KA)),!1;for(const{renderTasks:t,operatorList:i}of this._intentStates.values())if(t.size>0||!i.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),M(this,Ji,!1),!0},yd=function(){m(this,Fr)&&(clearTimeout(m(this,Fr)),M(this,Fr,null))};var Bs,Vh;class oE{constructor(){W(this,Bs,new Set);W(this,Vh,Promise.resolve())}postMessage(e,t){const i={data:structuredClone(e,t?{transfer:t}:null)};m(this,Vh).then(()=>{for(const r of m(this,Bs))r.call(this,i)})}addEventListener(e,t){m(this,Bs).add(t)}removeEventListener(e,t){m(this,Bs).delete(t)}terminate(){m(this,Bs).clear()}}Bs=new WeakMap,Vh=new WeakMap;const Pi={isWorkerDisabled:!1,fakeWorkerId:0};Vt&&(Pi.isWorkerDisabled=!0,lr.workerSrc||(lr.workerSrc="./pdf.worker.mjs")),Pi.isSameOrigin=function(n,e){let t;try{if(t=new URL(n),!t.origin||t.origin==="null")return!1}catch{return!1}const i=new URL(e,t);return t.origin===i.origin},Pi.createCDNWrapper=function(n){const e=`await import("${n}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))};var Os,ma,vd;const gn=class gn{constructor({name:e=null,port:t=null,verbosity:i=BC()}={}){var r;if(this.name=e,this.destroyed=!1,this.verbosity=i,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,t){if((r=m(gn,Os))!=null&&r.has(t))throw new Error("Cannot use more than one PDFWorker per port.");(m(gn,Os)||M(gn,Os,new WeakMap)).set(t,this),this._initializeFromPort(t);return}this._initialize()}get promise(){return Vt?Promise.all([Ei.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new Sl("main","worker",e),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!Pi.isWorkerDisabled&&!m(gn,ma,vd)){let{workerSrc:e}=gn;try{Pi.isSameOrigin(window.location.href,e)||(e=Pi.createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),i=new Sl("main","worker",t),r=()=>{t.removeEventListener("error",s),i.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},s=()=>{this._webWorker||r()};t.addEventListener("error",s),i.on("test",a=>{if(t.removeEventListener("error",s),this.destroyed){r();return}a?(this._messageHandler=i,this._port=t,this._webWorker=t,this._readyCapability.resolve(),i.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),i.destroy(),t.terminate())}),i.on("ready",a=>{if(t.removeEventListener("error",s),this.destroyed){r();return}try{o()}catch{this._setupFakeWorker()}});const o=()=>{const a=new Uint8Array;i.send("test",a,[a.buffer])};o();return}catch{Qh("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){Pi.isWorkerDisabled||(Be("Setting up fake worker."),Pi.isWorkerDisabled=!0),gn._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const t=new oE;this._port=t;const i=`fake${Pi.fakeWorkerId++}`,r=new Sl(i+"_worker",i,t);e.setup(r,t);const s=new Sl(i,i+"_worker",t);this._messageHandler=s,this._readyCapability.resolve(),s.send("configure",{verbosity:this.verbosity})}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){var e;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(e=m(gn,Os))==null||e.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){var i;if(!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const t=(i=m(this,Os))==null?void 0:i.get(e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new gn(e)}static get workerSrc(){if(lr.workerSrc)return lr.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return $e(this,"_setupFakeWorkerGlobal",(async()=>m(this,ma,vd)?m(this,ma,vd):(await import(this.workerSrc)).WorkerMessageHandler)())}};Os=new WeakMap,ma=new WeakSet,vd=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},W(gn,ma),W(gn,Os);let Go=gn;var Yi,gi,ya,va,mi,Ws,Ul;class aE{constructor(e,t,i,r,s){W(this,Ws);W(this,Yi,new Map);W(this,gi,new Map);W(this,ya,new Map);W(this,va,new Map);W(this,mi,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new Z2,this.fontLoader=new sA({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return $e(this,"annotationStorage",new dy)}getRenderingIntent(e,t=_r.ENABLE,i=null,r=!1){let s=Nn.DISPLAY,o=Zg;switch(e){case"any":s=Nn.ANY;break;case"display":break;case"print":s=Nn.PRINT;break;default:Be(`getRenderingIntent - invalid intent: ${e}`)}switch(t){case _r.DISABLE:s+=Nn.ANNOTATIONS_DISABLE;break;case _r.ENABLE:break;case _r.ENABLE_FORMS:s+=Nn.ANNOTATIONS_FORMS;break;case _r.ENABLE_STORAGE:s+=Nn.ANNOTATIONS_STORAGE,o=(s&Nn.PRINT&&i instanceof L2?i:this.annotationStorage).serializable;break;default:Be(`getRenderingIntent - invalid annotationMode: ${t}`)}return r&&(s+=Nn.OPLIST),{renderingIntent:s,cacheKey:`${s}_${o.hash}`,annotationStorageSerializable:o}}destroy(){var i;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(i=m(this,mi))==null||i.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const r of m(this,gi).values())e.push(r._destroy());m(this,gi).clear(),m(this,ya).clear(),m(this,va).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var r;this.commonObjs.clear(),this.fontLoader.clear(),m(this,Yi).clear(),this.filterFactory.destroy(),Ja.cleanup(),(r=this._networkStream)==null||r.cancelAllRequests(new To("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(i,r)=>{_t(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},r.onPull=()=>{this._fullReader.read().then(function({value:s,done:o}){if(o){r.close();return}_t(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{r.error(s)})},r.onCancel=s=>{this._fullReader.cancel(s),r.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("ReaderHeadersReady",i=>{const r=Promise.withResolvers(),s=this._fullReader;return s.headersReady.then(()=>{var o;(!s.isStreamingSupported||!s.isRangeSupported)&&(this._lastProgress&&((o=t.onProgress)==null||o.call(t,this._lastProgress)),s.onProgress=a=>{var l;(l=t.onProgress)==null||l.call(t,{loaded:a.loaded,total:a.total})}),r.resolve({isStreamingSupported:s.isStreamingSupported,isRangeSupported:s.isRangeSupported,contentLength:s.contentLength})},r.reject),r.promise}),e.on("GetRangeReader",(i,r)=>{_t(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(i.begin,i.end);if(!s){r.close();return}r.onPull=()=>{s.read().then(function({value:o,done:a}){if(a){r.close();return}_t(o instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{r.error(o)})},r.onCancel=o=>{s.cancel(o),r.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("GetDoc",({pdfInfo:i})=>{this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,t._capability.resolve(new rE(i,this))}),e.on("DocException",function(i){let r;switch(i.name){case"PasswordException":r=new wg(i.message,i.code);break;case"InvalidPDFException":r=new s2(i.message);break;case"MissingPDFException":r=new Do(i.message);break;case"UnexpectedResponseException":r=new ef(i.message,i.status);break;case"UnknownErrorException":r=new Sg(i.message,i.details);break;default:nt("DocException - expected a valid Error.")}t._capability.reject(r)}),e.on("PasswordRequest",i=>{if(M(this,mi,Promise.withResolvers()),t.onPassword){const r=s=>{s instanceof Error?m(this,mi).reject(s):m(this,mi).resolve({password:s})};try{t.onPassword(r,i.code)}catch(s){m(this,mi).reject(s)}}else m(this,mi).reject(new wg(i.message,i.code));return m(this,mi).promise}),e.on("DataLoaded",i=>{var r;(r=t.onProgress)==null||r.call(t,{loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),e.on("StartRenderPage",i=>{if(this.destroyed)return;m(this,gi).get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),e.on("commonobj",([i,r,s])=>{var o;if(this.destroyed||this.commonObjs.has(i))return null;switch(r){case"Font":const{disableFontFace:a,fontExtraProperties:l,pdfBug:c}=this._params;if("error"in s){const g=s.error;Be(`Error during font loading: ${g}`),this.commonObjs.resolve(i,g);break}const u=c&&((o=globalThis.FontInspector)!=null&&o.enabled)?(g,b)=>globalThis.FontInspector.fontAdded(g,b):null,f=new oA(s,{disableFontFace:a,inspectFont:u});this.fontLoader.bind(f).catch(()=>e.sendWithPromise("FontFallback",{id:i})).finally(()=>{!l&&f.data&&(f.data=null),this.commonObjs.resolve(i,f)});break;case"CopyLocalImage":const{imageRef:p}=s;_t(p,"The imageRef must be defined.");for(const g of m(this,gi).values())for(const[,b]of g.objs)if((b==null?void 0:b.ref)===p)return b.dataLen?(this.commonObjs.resolve(i,structuredClone(b)),b.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(i,s);break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),e.on("obj",([i,r,s,o])=>{var l;if(this.destroyed)return;const a=m(this,gi).get(r);if(!a.objs.has(i)){if(a._intentStates.size===0){(l=o==null?void 0:o.bitmap)==null||l.close();return}switch(s){case"Image":a.objs.resolve(i,o),(o==null?void 0:o.dataLen)>kC&&(a._maybeCleanupAfterRender=!0);break;case"Pattern":a.objs.resolve(i,o);break;default:throw new Error(`Got unknown object type ${s}`)}}}),e.on("DocProgress",i=>{var r;this.destroyed||(r=t.onProgress)==null||r.call(t,{loaded:i.loaded,total:i.total})}),e.on("FetchBuiltInCMap",i=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(i):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),e.on("FetchStandardFontData",i=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(i):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var i;this.annotationStorage.size<=0&&Be("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((i=this._fullReader)==null?void 0:i.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,i=m(this,ya).get(t);if(i)return i;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&m(this,va).set(s.refStr,e);const o=new sE(t,s,this,this._params.pdfBug);return m(this,gi).set(t,o),o});return m(this,ya).set(t,r),r}getPageIndex(e){return Fv(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return P(this,Ws,Ul).call(this,"GetFieldObjects")}hasJSActions(){return P(this,Ws,Ul).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return P(this,Ws,Ul).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return P(this,Ws,Ul).call(this,"GetOptionalContentConfig").then(t=>new EA(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=m(this,Yi).get(e);if(t)return t;const i=this.messageHandler.sendWithPromise(e,null).then(r=>{var s,o;return{info:r[0],metadata:r[1]?new CA(r[1]):null,contentDispositionFilename:((s=this._fullReader)==null?void 0:s.filename)??null,contentLength:((o=this._fullReader)==null?void 0:o.contentLength)??null}});return m(this,Yi).set(e,i),i}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of m(this,gi).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),m(this,Yi).clear(),this.filterFactory.destroy(!0),Ja.cleanup()}}cachedPageNumber(e){if(!Fv(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return m(this,va).get(t)??null}}Yi=new WeakMap,gi=new WeakMap,ya=new WeakMap,va=new WeakMap,mi=new WeakMap,Ws=new WeakSet,Ul=function(e,t=null){const i=m(this,Yi).get(e);if(i)return i;const r=this.messageHandler.sendWithPromise(e,t);return m(this,Yi).set(e,r),r};const Xu=Symbol("INITIAL_DATA");var Kn,qc,am;class Z2{constructor(){W(this,qc);W(this,Kn,Object.create(null))}get(e,t=null){if(t){const r=P(this,qc,am).call(this,e);return r.promise.then(()=>t(r.data)),null}const i=m(this,Kn)[e];if(!i||i.data===Xu)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return i.data}has(e){const t=m(this,Kn)[e];return!!t&&t.data!==Xu}resolve(e,t=null){const i=P(this,qc,am).call(this,e);i.data=t,i.resolve()}clear(){var e;for(const t in m(this,Kn)){const{data:i}=m(this,Kn)[t];(e=i==null?void 0:i.bitmap)==null||e.close()}M(this,Kn,Object.create(null))}*[Symbol.iterator](){for(const e in m(this,Kn)){const{data:t}=m(this,Kn)[e];t!==Xu&&(yield[e,t])}}}Kn=new WeakMap,qc=new WeakSet,am=function(e){var t;return(t=m(this,Kn))[e]||(t[e]={...Promise.withResolvers(),data:Xu})};var kr;class lE{constructor(e){W(this,kr,null);M(this,kr,e),this.onContinue=null}get promise(){return m(this,kr).capability.promise}cancel(e=0){m(this,kr).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=m(this,kr).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=m(this,kr);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}kr=new WeakMap;var qs;const ms=class ms{constructor({callback:e,params:t,objs:i,commonObjs:r,annotationCanvasMap:s,operatorList:o,pageIndex:a,canvasFactory:l,filterFactory:c,useRequestAnimationFrame:u=!1,pdfBug:f=!1,pageColors:p=null}){this.callback=e,this.params=t,this.objs=i,this.commonObjs=r,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=a,this.canvasFactory=l,this.filterFactory=c,this._pdfBug=f,this.pageColors=p,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=u===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new lE(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var a,l;if(this.cancelled)return;if(this._canvas){if(m(ms,qs).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");m(ms,qs).add(this._canvas)}this._pdfBug&&((a=globalThis.StepperManager)!=null&&a.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:i,viewport:r,transform:s,background:o}=this.params;this.gfx=new Ho(i,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:s,viewport:r,transparency:e,background:o}),this.operatorListIdx=0,this.graphicsReady=!0,(l=this.graphicsReadyCallback)==null||l.call(this)}cancel(e=null,t=0){var i;this.running=!1,this.cancelled=!0,(i=this.gfx)==null||i.endDrawing(),m(ms,qs).delete(this._canvas),this.callback(e||new ay(`Rendering cancelled, page ${this._pageIndex+1}`,t))}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),m(ms,qs).delete(this._canvas),this.callback())))}};qs=new WeakMap,W(ms,qs,new WeakSet);let lm=ms;const cE="4.3.136",uE="0cec64437";function kv(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function ll(n){return Math.max(0,Math.min(255,255*n))}class Nv{static CMYK_G([e,t,i,r]){return["G",1-Math.min(1,.3*e+.59*i+.11*t+r)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=ll(e),[e,e,e]}static G_HTML([e]){const t=kv(e);return`#${t}${t}${t}`}static RGB_G([e,t,i]){return["G",.3*e+.59*t+.11*i]}static RGB_rgb(e){return e.map(ll)}static RGB_HTML(e){return`#${e.map(kv).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,i,r]){return["RGB",1-Math.min(1,e+r),1-Math.min(1,i+r),1-Math.min(1,t+r)]}static CMYK_rgb([e,t,i,r]){return[ll(1-Math.min(1,e+r)),ll(1-Math.min(1,i+r)),ll(1-Math.min(1,t+r))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,i]){const r=1-e,s=1-t,o=1-i,a=Math.min(r,s,o);return["CMYK",r,s,o,a]}}class Q2{static setupStorage(e,t,i,r,s){const o=r.getValue(t,{value:null});switch(i.name){case"textarea":if(o.value!==null&&(e.textContent=o.value),s==="print")break;e.addEventListener("input",a=>{r.setValue(t,{value:a.target.value})});break;case"input":if(i.attributes.type==="radio"||i.attributes.type==="checkbox"){if(o.value===i.attributes.xfaOn?e.setAttribute("checked",!0):o.value===i.attributes.xfaOff&&e.removeAttribute("checked"),s==="print")break;e.addEventListener("change",a=>{r.setValue(t,{value:a.target.checked?a.target.getAttribute("xfaOn"):a.target.getAttribute("xfaOff")})})}else{if(o.value!==null&&e.setAttribute("value",o.value),s==="print")break;e.addEventListener("input",a=>{r.setValue(t,{value:a.target.value})})}break;case"select":if(o.value!==null){e.setAttribute("value",o.value);for(const a of i.children)a.attributes.value===o.value?a.attributes.selected=!0:a.attributes.hasOwnProperty("selected")&&delete a.attributes.selected}e.addEventListener("input",a=>{const l=a.target.options,c=l.selectedIndex===-1?"":l[l.selectedIndex].value;r.setValue(t,{value:c})});break}}static setAttributes({html:e,element:t,storage:i=null,intent:r,linkService:s}){const{attributes:o}=t,a=e instanceof HTMLAnchorElement;o.type==="radio"&&(o.name=`${o.name}-${r}`);for(const[l,c]of Object.entries(o))if(c!=null)switch(l){case"class":c.length&&e.setAttribute(l,c.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",c);break;case"style":Object.assign(e.style,c);break;case"textContent":e.textContent=c;break;default:(!a||l!=="href"&&l!=="newWindow")&&e.setAttribute(l,c)}a&&s.addLinkAttributes(e,o.href,o.newWindow),i&&o.dataId&&this.setupStorage(e,o.dataId,t,i)}static render(e){var f,p;const t=e.annotationStorage,i=e.linkService,r=e.xfaHtml,s=e.intent||"display",o=document.createElement(r.name);r.attributes&&this.setAttributes({html:o,element:r,intent:s,linkService:i});const a=s!=="richText",l=e.div;if(l.append(o),e.viewport){const g=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=g}a&&l.setAttribute("class","xfaLayer xfaFont");const c=[];if(r.children.length===0){if(r.value){const g=document.createTextNode(r.value);o.append(g),a&&Hl.shouldBuildText(r.name)&&c.push(g)}return{textDivs:c}}const u=[[r,-1,o]];for(;u.length>0;){const[g,b,y]=u.at(-1);if(b+1===g.children.length){u.pop();continue}const v=g.children[++u.at(-1)[1]];if(v===null)continue;const{name:x}=v;if(x==="#text"){const T=document.createTextNode(v.value);c.push(T),y.append(T);continue}const D=(f=v==null?void 0:v.attributes)!=null&&f.xmlns?document.createElementNS(v.attributes.xmlns,x):document.createElement(x);if(y.append(D),v.attributes&&this.setAttributes({html:D,element:v,storage:t,intent:s,linkService:i}),((p=v.children)==null?void 0:p.length)>0)u.push([v,-1,D]);else if(v.value){const T=document.createTextNode(v.value);a&&Hl.shouldBuildText(x)&&c.push(T),D.append(T)}}for(const g of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))g.setAttribute("readOnly",!0);return{textDivs:c}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const Lu=1e3,dE=9,mo=new WeakSet;function cr(n){return{width:n[2]-n[0],height:n[3]-n[1]}}class hE{static create(e){switch(e.data.annotationType){case vt.LINK:return new eD(e);case vt.TEXT:return new fE(e);case vt.WIDGET:switch(e.data.fieldType){case"Tx":return new pE(e);case"Btn":return e.data.radioButton?new iD(e):e.data.checkBox?new mE(e):new yE(e);case"Ch":return new vE(e);case"Sig":return new gE(e)}return new _o(e);case vt.POPUP:return new um(e);case vt.FREETEXT:return new lD(e);case vt.LINE:return new xE(e);case vt.SQUARE:return new DE(e);case vt.CIRCLE:return new TE(e);case vt.POLYLINE:return new cD(e);case vt.CARET:return new CE(e);case vt.INK:return new uD(e);case vt.POLYGON:return new _E(e);case vt.HIGHLIGHT:return new AE(e);case vt.UNDERLINE:return new EE(e);case vt.SQUIGGLY:return new wE(e);case vt.STRIKEOUT:return new SE(e);case vt.STAMP:return new dD(e);case vt.FILEATTACHMENT:return new UE(e);default:return new pt(e)}}}var Vs,ba,xa,Vc,cm;const fv=class fv{constructor(e,{isRenderable:t=!1,ignoreBorder:i=!1,createQuadrilaterals:r=!1}={}){W(this,Vc);W(this,Vs,null);W(this,ba,!1);W(this,xa,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(i)),r&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:t,richText:i}){return!!(e!=null&&e.str||t!=null&&t.str||i!=null&&i.str)}get hasPopupData(){return fv._hasPopupData(this.data)}updateEdited(e){var i;if(!this.container)return;m(this,Vs)||M(this,Vs,{rect:this.data.rect.slice(0)});const{rect:t}=e;t&&P(this,Vc,cm).call(this,t),(i=m(this,xa))==null||i.popup.updateEdited(e)}resetEdited(){var e;m(this,Vs)&&(P(this,Vc,cm).call(this,m(this,Vs).rect),(e=m(this,xa))==null||e.popup.resetEdited(),M(this,Vs,null))}_createContainer(e){const{data:t,parent:{page:i,viewport:r}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",t.id),this instanceof _o||(s.tabIndex=Lu);const{style:o}=s;if(o.zIndex=this.parent.zIndex++,t.popupRef&&s.setAttribute("aria-haspopup","dialog"),t.alternativeText&&(s.title=t.alternativeText),t.noRotate&&s.classList.add("norotate"),!t.rect||this instanceof um){const{rotation:y}=t;return!t.hasOwnCanvas&&y!==0&&this.setRotation(y,s),s}const{width:a,height:l}=cr(t.rect);if(!e&&t.borderStyle.width>0){o.borderWidth=`${t.borderStyle.width}px`;const y=t.borderStyle.horizontalCornerRadius,v=t.borderStyle.verticalCornerRadius;if(y>0||v>0){const D=`calc(${y}px * var(--scale-factor)) / calc(${v}px * var(--scale-factor))`;o.borderRadius=D}else if(this instanceof iD){const D=`calc(${a}px * var(--scale-factor)) / calc(${l}px * var(--scale-factor))`;o.borderRadius=D}switch(t.borderStyle.style){case ol.SOLID:o.borderStyle="solid";break;case ol.DASHED:o.borderStyle="dashed";break;case ol.BEVELED:Be("Unimplemented border style: beveled");break;case ol.INSET:Be("Unimplemented border style: inset");break;case ol.UNDERLINE:o.borderBottomStyle="solid";break}const x=t.borderColor||null;x?(M(this,ba,!0),o.borderColor=Ue.makeHexColor(x[0]|0,x[1]|0,x[2]|0)):o.borderWidth=0}const c=Ue.normalizeRect([t.rect[0],i.view[3]-t.rect[1]+i.view[1],t.rect[2],i.view[3]-t.rect[3]+i.view[1]]),{pageWidth:u,pageHeight:f,pageX:p,pageY:g}=r.rawDims;o.left=`${100*(c[0]-p)/u}%`,o.top=`${100*(c[1]-g)/f}%`;const{rotation:b}=t;return t.hasOwnCanvas||b===0?(o.width=`${100*a/u}%`,o.height=`${100*l/f}%`):this.setRotation(b,s),s}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:i,pageHeight:r}=this.parent.viewport.rawDims,{width:s,height:o}=cr(this.data.rect);let a,l;e%180===0?(a=100*s/i,l=100*o/r):(a=100*o/i,l=100*s/r),t.style.width=`${a}%`,t.style.height=`${l}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,i,r)=>{const s=r.detail[t],o=s[0],a=s.slice(1);r.target.style[i]=Nv[`${o}_HTML`](a),this.annotationStorage.setValue(this.data.id,{[i]:Nv[`${o}_rgb`](a)})};return $e(this,"_commonActions",{display:t=>{const{display:i}=t.detail,r=i%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:i===1||i===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:i}=t.detail;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:i,noView:i})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const i=t.detail.rotation;this.setRotation(i),this.annotationStorage.setValue(this.data.id,{rotation:i})}})}_dispatchEventFromSandbox(e,t){const i=this._commonActions;for(const r of Object.keys(t.detail)){const s=e[r]||i[r];s==null||s(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const i=this._commonActions;for(const[r,s]of Object.entries(t)){const o=i[r];if(o){const a={detail:{[r]:s},target:e};o(a),delete t[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,i,r,s]=this.data.rect;if(e.length===1){const[,{x:y,y:v},{x,y:D}]=e[0];if(r===y&&s===v&&t===x&&i===D)return}const{style:o}=this.container;let a;if(m(this,ba)){const{borderColor:y,borderWidth:v}=o;o.borderWidth=0,a=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${y}" stroke-width="${v}">`],this.container.classList.add("hasBorder")}const l=r-t,c=s-i,{svgFactory:u}=this,f=u.createElement("svg");f.classList.add("quadrilateralsContainer"),f.setAttribute("width",0),f.setAttribute("height",0);const p=u.createElement("defs");f.append(p);const g=u.createElement("clipPath"),b=`clippath_${this.data.id}`;g.setAttribute("id",b),g.setAttribute("clipPathUnits","objectBoundingBox"),p.append(g);for(const[,{x:y,y:v},{x,y:D}]of e){const T=u.createElement("rect"),C=(x-t)/l,_=(s-v)/c,A=(y-x)/l,R=(v-D)/c;T.setAttribute("x",C),T.setAttribute("y",_),T.setAttribute("width",A),T.setAttribute("height",R),g.append(T),a==null||a.push(`<rect vector-effect="non-scaling-stroke" x="${C}" y="${_}" width="${A}" height="${R}"/>`)}m(this,ba)&&(a.push("</g></svg>')"),o.backgroundImage=a.join("")),this.container.append(f),this.container.style.clipPath=`url(#${b})`}_createPopup(){const{container:e,data:t}=this;e.setAttribute("aria-haspopup","dialog");const i=M(this,xa,new um({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(i.render())}render(){nt("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const i=[];if(this._fieldObjects){const r=this._fieldObjects[e];if(r)for(const{page:s,id:o,exportValues:a}of r){if(s===-1||o===t)continue;const l=typeof a=="string"?a:null,c=document.querySelector(`[data-element-id="${o}"]`);if(c&&!mo.has(c)){Be(`_getElementsByName - element not allowed: ${o}`);continue}i.push({id:o,exportValue:l,domElement:c})}return i}for(const r of document.getElementsByName(e)){const{exportValue:s}=r,o=r.getAttribute("data-element-id");o!==t&&mo.has(r)&&i.push({id:o,exportValue:s,domElement:r})}return i}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}get _isEditable(){return!1}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var i;(i=this.linkService.eventBus)==null||i.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t})})}};Vs=new WeakMap,ba=new WeakMap,xa=new WeakMap,Vc=new WeakSet,cm=function(e){const{container:{style:t},data:{rect:i,rotation:r},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:o,pageX:a,pageY:l}}}}=this;i==null||i.splice(0,4,...e);const{width:c,height:u}=cr(e);t.left=`${100*(e[0]-a)/s}%`,t.top=`${100*(o-e[3]+l)/o}%`,r===0?(t.width=`${100*c/s}%`,t.height=`${100*u/o}%`):this.setRotation(r)};let pt=fv;var Tn,hs,tD,nD;class eD extends pt{constructor(t,i=null){super(t,{isRenderable:!0,ignoreBorder:!!(i!=null&&i.ignoreBorder),createQuadrilaterals:!0});W(this,Tn);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:i}=this,r=document.createElement("a");r.setAttribute("data-element-id",t.id);let s=!1;return t.url?(i.addLinkAttributes(r,t.url,t.newWindow),s=!0):t.action?(this._bindNamedAction(r,t.action),s=!0):t.attachment?(P(this,Tn,tD).call(this,r,t.attachment,t.attachmentDest),s=!0):t.setOCGState?(P(this,Tn,nD).call(this,r,t.setOCGState),s=!0):t.dest?(this._bindLink(r,t.dest),s=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(r,t),s=!0),t.resetForm?(this._bindResetFormAction(r,t.resetForm),s=!0):this.isTooltipOnly&&!s&&(this._bindLink(r,""),s=!0)),this.container.classList.add("linkAnnotation"),s&&this.container.append(r),this.container}_bindLink(t,i){t.href=this.linkService.getDestinationHash(i),t.onclick=()=>(i&&this.linkService.goToDestination(i),!1),(i||i==="")&&P(this,Tn,hs).call(this)}_bindNamedAction(t,i){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(i),!1),P(this,Tn,hs).call(this)}_bindJSAction(t,i){t.href=this.linkService.getAnchorUrl("");const r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const s of Object.keys(i.actions)){const o=r.get(s);o&&(t[o]=()=>{var a;return(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i.id,name:s}}),!1})}t.onclick||(t.onclick=()=>!1),P(this,Tn,hs).call(this)}_bindResetFormAction(t,i){const r=t.onclick;if(r||(t.href=this.linkService.getAnchorUrl("")),P(this,Tn,hs).call(this),!this._fieldObjects){Be('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),r||(t.onclick=()=>!1);return}t.onclick=()=>{var f;r==null||r();const{fields:s,refs:o,include:a}=i,l=[];if(s.length!==0||o.length!==0){const p=new Set(o);for(const g of s){const b=this._fieldObjects[g]||[];for(const{id:y}of b)p.add(y)}for(const g of Object.values(this._fieldObjects))for(const b of g)p.has(b.id)===a&&l.push(b)}else for(const p of Object.values(this._fieldObjects))l.push(...p);const c=this.annotationStorage,u=[];for(const p of l){const{id:g}=p;switch(u.push(g),p.type){case"text":{const y=p.defaultValue||"";c.setValue(g,{value:y});break}case"checkbox":case"radiobutton":{const y=p.defaultValue===p.exportValues;c.setValue(g,{value:y});break}case"combobox":case"listbox":{const y=p.defaultValue||"";c.setValue(g,{value:y});break}default:continue}const b=document.querySelector(`[data-element-id="${g}"]`);if(b){if(!mo.has(b)){Be(`_bindResetFormAction - element not allowed: ${g}`);continue}}else continue;b.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((f=this.linkService.eventBus)==null||f.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:u,name:"ResetForm"}})),!1}}}Tn=new WeakSet,hs=function(){this.container.setAttribute("data-internal-link","")},tD=function(t,i,r=null){t.href=this.linkService.getAnchorUrl(""),i.description&&(t.title=i.description),t.onclick=()=>{var s;return(s=this.downloadManager)==null||s.openOrDownloadData(i.content,i.filename,r),!1},P(this,Tn,hs).call(this)},nD=function(t,i){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(i),!1),P(this,Tn,hs).call(this)};class fE extends pt{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class _o extends pt{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return an.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,i,r,s){i.includes("mouse")?e.addEventListener(i,o=>{var a;(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:s(o),shift:o.shiftKey,modifier:this._getKeyModifier(o)}})}):e.addEventListener(i,o=>{var a;if(i==="blur"){if(!t.focused||!o.relatedTarget)return;t.focused=!1}else if(i==="focus"){if(t.focused)return;t.focused=!0}s&&((a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:s(o)}}))})}_setEventListeners(e,t,i,r){var s,o,a;for(const[l,c]of i)(c==="Action"||(s=this.data.actions)!=null&&s[c])&&((c==="Focus"||c==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,l,c,r),c==="Focus"&&!((o=this.data.actions)!=null&&o.Blur)?this._setEventListener(e,t,"blur","Blur",null):c==="Blur"&&!((a=this.data.actions)!=null&&a.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":Ue.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:i}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||dE,s=e.style;let o;const a=2,l=c=>Math.round(10*c)/10;if(this.data.multiLine){const c=Math.abs(this.data.rect[3]-this.data.rect[1]-a),u=Math.round(c/(Wf*r))||1,f=c/u;o=Math.min(r,l(f/Wf))}else{const c=Math.abs(this.data.rect[3]-this.data.rect[1]-a);o=Math.min(r,l(c/Wf))}s.fontSize=`calc(${o}px * var(--scale-factor))`,s.color=Ue.makeHexColor(i[0],i[1],i[2]),this.data.textAlignment!==null&&(s.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class pE extends _o{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,i,r){const s=this.annotationStorage;for(const o of this._getElementsByName(e.name,e.id))o.domElement&&(o.domElement[t]=i),s.setValue(o.id,{[r]:i})}render(){var r,s;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let i=null;if(this.renderForms){const o=e.getValue(t,{value:this.data.fieldValue});let a=o.value||"";const l=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;l&&a.length>l&&(a=a.slice(0,l));let c=o.formattedValue||((r=this.data.textContent)==null?void 0:r.join(`
`))||null;c&&this.data.comb&&(c=c.replaceAll(/\s+/g,""));const u={userValue:a,formattedValue:c,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(i=document.createElement("textarea"),i.textContent=c??a,this.data.doNotScroll&&(i.style.overflowY="hidden")):(i=document.createElement("input"),i.type="text",i.setAttribute("value",c??a),this.data.doNotScroll&&(i.style.overflowX="hidden")),this.data.hasOwnCanvas&&(i.hidden=!0),mo.add(i),i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,i.name=this.data.fieldName,i.tabIndex=Lu,this._setRequired(i,this.data.required),l&&(i.maxLength=l),i.addEventListener("input",p=>{e.setValue(t,{value:p.target.value}),this.setPropertyOnSiblings(i,"value",p.target.value,"value"),u.formattedValue=null}),i.addEventListener("resetform",p=>{const g=this.data.defaultFieldValue??"";i.value=u.userValue=g,u.formattedValue=null});let f=p=>{const{formattedValue:g}=u;g!=null&&(p.target.value=g),p.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){i.addEventListener("focus",g=>{var y;if(u.focused)return;const{target:b}=g;u.userValue&&(b.value=u.userValue),u.lastCommittedValue=b.value,u.commitKey=1,(y=this.data.actions)!=null&&y.Focus||(u.focused=!0)}),i.addEventListener("updatefromsandbox",g=>{this.showElementAndHideCanvas(g.target);const b={value(y){u.userValue=y.detail.value??"",e.setValue(t,{value:u.userValue.toString()}),y.target.value=u.userValue},formattedValue(y){const{formattedValue:v}=y.detail;u.formattedValue=v,v!=null&&y.target!==document.activeElement&&(y.target.value=v),e.setValue(t,{formattedValue:v})},selRange(y){y.target.setSelectionRange(...y.detail.selRange)},charLimit:y=>{var T;const{charLimit:v}=y.detail,{target:x}=y;if(v===0){x.removeAttribute("maxLength");return}x.setAttribute("maxLength",v);let D=u.userValue;!D||D.length<=v||(D=D.slice(0,v),x.value=u.userValue=D,e.setValue(t,{value:D}),(T=this.linkService.eventBus)==null||T.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:D,willCommit:!0,commitKey:1,selStart:x.selectionStart,selEnd:x.selectionEnd}}))}};this._dispatchEventFromSandbox(b,g)}),i.addEventListener("keydown",g=>{var v;u.commitKey=1;let b=-1;if(g.key==="Escape"?b=0:g.key==="Enter"&&!this.data.multiLine?b=2:g.key==="Tab"&&(u.commitKey=3),b===-1)return;const{value:y}=g.target;u.lastCommittedValue!==y&&(u.lastCommittedValue=y,u.userValue=y,(v=this.linkService.eventBus)==null||v.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:y,willCommit:!0,commitKey:b,selStart:g.target.selectionStart,selEnd:g.target.selectionEnd}}))});const p=f;f=null,i.addEventListener("blur",g=>{var y,v;if(!u.focused||!g.relatedTarget)return;(y=this.data.actions)!=null&&y.Blur||(u.focused=!1);const{value:b}=g.target;u.userValue=b,u.lastCommittedValue!==b&&((v=this.linkService.eventBus)==null||v.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:b,willCommit:!0,commitKey:u.commitKey,selStart:g.target.selectionStart,selEnd:g.target.selectionEnd}})),p(g)}),(s=this.data.actions)!=null&&s.Keystroke&&i.addEventListener("beforeinput",g=>{var _;u.lastCommittedValue=null;const{data:b,target:y}=g,{value:v,selectionStart:x,selectionEnd:D}=y;let T=x,C=D;switch(g.inputType){case"deleteWordBackward":{const A=v.substring(0,x).match(/\w*[^\w]*$/);A&&(T-=A[0].length);break}case"deleteWordForward":{const A=v.substring(x).match(/^[^\w]*\w*/);A&&(C+=A[0].length);break}case"deleteContentBackward":x===D&&(T-=1);break;case"deleteContentForward":x===D&&(C+=1);break}g.preventDefault(),(_=this.linkService.eventBus)==null||_.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:v,change:b||"",willCommit:!1,selStart:T,selEnd:C}})}),this._setEventListeners(i,u,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],g=>g.target.value)}if(f&&i.addEventListener("blur",f),this.data.comb){const g=(this.data.rect[2]-this.data.rect[0])/l;i.classList.add("comb"),i.style.letterSpacing=`calc(${g}px * var(--scale-factor) - 1ch)`}}else i=document.createElement("div"),i.textContent=this.data.fieldValue,i.style.verticalAlign="middle",i.style.display="table-cell",this.data.hasOwnCanvas&&(i.hidden=!0);return this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class gE extends _o{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class mE extends _o{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,i=t.id;let r=e.getValue(i,{value:t.exportValue===t.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",e.setValue(i,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return mo.add(s),s.setAttribute("data-element-id",i),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=t.fieldName,r&&s.setAttribute("checked",!0),s.setAttribute("exportValue",t.exportValue),s.tabIndex=Lu,s.addEventListener("change",o=>{const{name:a,checked:l}=o.target;for(const c of this._getElementsByName(a,i)){const u=l&&c.exportValue===t.exportValue;c.domElement&&(c.domElement.checked=u),e.setValue(c.id,{value:u})}e.setValue(i,{value:l})}),s.addEventListener("resetform",o=>{const a=t.defaultFieldValue||"Off";o.target.checked=a===t.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",o=>{const a={value(l){l.target.checked=l.detail.value!=="Off",e.setValue(i,{value:l.target.checked})}};this._dispatchEventFromSandbox(a,o)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class iD extends _o{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,i=t.id;let r=e.getValue(i,{value:t.fieldValue===t.buttonValue}).value;if(typeof r=="string"&&(r=r!==t.buttonValue,e.setValue(i,{value:r})),r)for(const o of this._getElementsByName(t.fieldName,i))e.setValue(o.id,{value:!1});const s=document.createElement("input");if(mo.add(s),s.setAttribute("data-element-id",i),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=t.fieldName,r&&s.setAttribute("checked",!0),s.tabIndex=Lu,s.addEventListener("change",o=>{const{name:a,checked:l}=o.target;for(const c of this._getElementsByName(a,i))e.setValue(c.id,{value:!1});e.setValue(i,{value:l})}),s.addEventListener("resetform",o=>{const a=t.defaultFieldValue;o.target.checked=a!=null&&a===t.buttonValue}),this.enableScripting&&this.hasJSActions){const o=t.buttonValue;s.addEventListener("updatefromsandbox",a=>{const l={value:c=>{const u=o===c.detail.value;for(const f of this._getElementsByName(c.target.name)){const p=u&&f.id===i;f.domElement&&(f.domElement.checked=p),e.setValue(f.id,{value:p})}}};this._dispatchEventFromSandbox(l,a)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class yE extends eD{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",i=>{this._dispatchEventFromSandbox({},i)})),e}}class vE extends _o{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,i=e.getValue(t,{value:this.data.fieldValue}),r=document.createElement("select");mo.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=Lu;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",u=>{const f=this.data.defaultFieldValue;for(const p of r.options)p.selected=p.value===f});for(const u of this.data.options){const f=document.createElement("option");f.textContent=u.displayValue,f.value=u.exportValue,i.value.includes(u.exportValue)&&(f.setAttribute("selected",!0),s=!1),r.append(f)}let o=null;if(s){const u=document.createElement("option");u.value=" ",u.setAttribute("hidden",!0),u.setAttribute("selected",!0),r.prepend(u),o=()=>{u.remove(),r.removeEventListener("input",o),o=null},r.addEventListener("input",o)}const a=u=>{const f=u?"value":"textContent",{options:p,multiple:g}=r;return g?Array.prototype.filter.call(p,b=>b.selected).map(b=>b[f]):p.selectedIndex===-1?null:p[p.selectedIndex][f]};let l=a(!1);const c=u=>{const f=u.target.options;return Array.prototype.map.call(f,p=>({displayValue:p.textContent,exportValue:p.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",u=>{const f={value(p){o==null||o();const g=p.detail.value,b=new Set(Array.isArray(g)?g:[g]);for(const y of r.options)y.selected=b.has(y.value);e.setValue(t,{value:a(!0)}),l=a(!1)},multipleSelection(p){r.multiple=!0},remove(p){const g=r.options,b=p.detail.remove;g[b].selected=!1,r.remove(b),g.length>0&&Array.prototype.findIndex.call(g,v=>v.selected)===-1&&(g[0].selected=!0),e.setValue(t,{value:a(!0),items:c(p)}),l=a(!1)},clear(p){for(;r.length!==0;)r.remove(0);e.setValue(t,{value:null,items:[]}),l=a(!1)},insert(p){const{index:g,displayValue:b,exportValue:y}=p.detail.insert,v=r.children[g],x=document.createElement("option");x.textContent=b,x.value=y,v?v.before(x):r.append(x),e.setValue(t,{value:a(!0),items:c(p)}),l=a(!1)},items(p){const{items:g}=p.detail;for(;r.length!==0;)r.remove(0);for(const b of g){const{displayValue:y,exportValue:v}=b,x=document.createElement("option");x.textContent=y,x.value=v,r.append(x)}r.options.length>0&&(r.options[0].selected=!0),e.setValue(t,{value:a(!0),items:c(p)}),l=a(!1)},indices(p){const g=new Set(p.detail.indices);for(const b of p.target.options)b.selected=g.has(b.index);e.setValue(t,{value:a(!0)}),l=a(!1)},editable(p){p.target.disabled=!p.detail.editable}};this._dispatchEventFromSandbox(f,u)}),r.addEventListener("input",u=>{var g;const f=a(!0),p=a(!1);e.setValue(t,{value:f}),u.preventDefault(),(g=this.linkService.eventBus)==null||g.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:l,change:p,changeEx:f,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],u=>u.target.value)):r.addEventListener("input",function(u){e.setValue(t,{value:a(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class um extends pt{constructor(e){const{data:t,elements:i}=e;super(e,{isRenderable:pt._hasPopupData(t)}),this.elements=i,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new bE({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),t=[];for(const i of this.elements)i.popup=e,t.push(i.data.id),i.addHighlightArea();return this.container.setAttribute("aria-controls",t.map(i=>`${a2}${i}`).join(",")),this.container}}var Da,Hh,Gh,Ta,Hs,ht,Ki,Gs,Hc,Gc,_a,ji,jn,Zi,$c,Qi,zc,$s,zs,it,bd,dm,rD,sD,oD,aD,xd,Dd,hm;class bE{constructor({container:e,color:t,elements:i,titleObj:r,modificationDate:s,contentsObj:o,richText:a,parent:l,rect:c,parentRect:u,open:f}){W(this,it);W(this,Da,P(this,it,oD).bind(this));W(this,Hh,P(this,it,hm).bind(this));W(this,Gh,P(this,it,Dd).bind(this));W(this,Ta,P(this,it,xd).bind(this));W(this,Hs,null);W(this,ht,null);W(this,Ki,null);W(this,Gs,null);W(this,Hc,null);W(this,Gc,null);W(this,_a,null);W(this,ji,!1);W(this,jn,null);W(this,Zi,null);W(this,$c,null);W(this,Qi,null);W(this,zc,null);W(this,$s,null);W(this,zs,!1);var p;M(this,ht,e),M(this,zc,r),M(this,Ki,o),M(this,Qi,a),M(this,Gc,l),M(this,Hs,t),M(this,$c,c),M(this,_a,u),M(this,Hc,i),M(this,Gs,h2.toDateObject(s)),this.trigger=i.flatMap(g=>g.getElementsToTriggerPopup());for(const g of this.trigger)g.addEventListener("click",m(this,Ta)),g.addEventListener("mouseenter",m(this,Gh)),g.addEventListener("mouseleave",m(this,Hh)),g.classList.add("popupTriggerArea");for(const g of i)(p=g.container)==null||p.addEventListener("keydown",m(this,Da));m(this,ht).hidden=!0,f&&P(this,it,xd).call(this)}render(){if(m(this,jn))return;const e=M(this,jn,document.createElement("div"));if(e.className="popup",m(this,Hs)){const s=e.style.outlineColor=Ue.makeHexColor(...m(this,Hs));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${s} 30%, white)`:e.style.backgroundColor=Ue.makeHexColor(...m(this,Hs).map(a=>Math.floor(.7*(255-a)+a)))}const t=document.createElement("span");t.className="header";const i=document.createElement("h1");if(t.append(i),{dir:i.dir,str:i.textContent}=m(this,zc),e.append(t),m(this,Gs)){const s=document.createElement("span");s.classList.add("popupDate"),s.setAttribute("data-l10n-id","pdfjs-annotation-date-string"),s.setAttribute("data-l10n-args",JSON.stringify({date:m(this,Gs).toLocaleDateString(),time:m(this,Gs).toLocaleTimeString()})),t.append(s)}const r=m(this,it,bd);if(r)Q2.render({xfaHtml:r,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const s=this._formatContents(m(this,Ki));e.append(s)}m(this,ht).append(e)}_formatContents({str:e,dir:t}){const i=document.createElement("p");i.classList.add("popupContent"),i.dir=t;const r=e.split(/(?:\r\n?|\n)/);for(let s=0,o=r.length;s<o;++s){const a=r[s];i.append(document.createTextNode(a)),s<o-1&&i.append(document.createElement("br"))}return i}updateEdited({rect:e,popupContent:t}){var i;m(this,$s)||M(this,$s,{contentsObj:m(this,Ki),richText:m(this,Qi)}),e&&M(this,Zi,null),t&&(M(this,Qi,P(this,it,sD).call(this,t)),M(this,Ki,null)),(i=m(this,jn))==null||i.remove(),M(this,jn,null)}resetEdited(){var e;m(this,$s)&&({contentsObj:St(this,Ki)._,richText:St(this,Qi)._}=m(this,$s),M(this,$s,null),(e=m(this,jn))==null||e.remove(),M(this,jn,null),M(this,Zi,null))}forceHide(){M(this,zs,this.isVisible),m(this,zs)&&(m(this,ht).hidden=!0)}maybeShow(){m(this,zs)&&(m(this,jn)||P(this,it,Dd).call(this),M(this,zs,!1),m(this,ht).hidden=!1)}get isVisible(){return m(this,ht).hidden===!1}}Da=new WeakMap,Hh=new WeakMap,Gh=new WeakMap,Ta=new WeakMap,Hs=new WeakMap,ht=new WeakMap,Ki=new WeakMap,Gs=new WeakMap,Hc=new WeakMap,Gc=new WeakMap,_a=new WeakMap,ji=new WeakMap,jn=new WeakMap,Zi=new WeakMap,$c=new WeakMap,Qi=new WeakMap,zc=new WeakMap,$s=new WeakMap,zs=new WeakMap,it=new WeakSet,bd=function(){const e=m(this,Qi),t=m(this,Ki);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&m(this,Qi).html||null},dm=function(){var e,t,i;return((i=(t=(e=m(this,it,bd))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:i.fontSize)||0},rD=function(){var e,t,i;return((i=(t=(e=m(this,it,bd))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:i.color)||null},sD=function(e){const t=[],i={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},r={style:{color:m(this,it,rD),fontSize:m(this,it,dm)?`calc(${m(this,it,dm)}px * var(--scale-factor))`:""}};for(const s of e.split(`
`))t.push({name:"span",value:s,attributes:r});return i},oD=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&m(this,ji))&&P(this,it,xd).call(this)},aD=function(){if(m(this,Zi)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:i,pageX:r,pageY:s}}}=m(this,Gc);let o=!!m(this,_a),a=o?m(this,_a):m(this,$c);for(const b of m(this,Hc))if(!a||Ue.intersect(b.data.rect,a)!==null){a=b.data.rect,o=!0;break}const l=Ue.normalizeRect([a[0],e[3]-a[1]+e[1],a[2],e[3]-a[3]+e[1]]),u=o?a[2]-a[0]+5:0,f=l[0]+u,p=l[1];M(this,Zi,[100*(f-r)/t,100*(p-s)/i]);const{style:g}=m(this,ht);g.left=`${m(this,Zi)[0]}%`,g.top=`${m(this,Zi)[1]}%`},xd=function(){M(this,ji,!m(this,ji)),m(this,ji)?(P(this,it,Dd).call(this),m(this,ht).addEventListener("click",m(this,Ta)),m(this,ht).addEventListener("keydown",m(this,Da))):(P(this,it,hm).call(this),m(this,ht).removeEventListener("click",m(this,Ta)),m(this,ht).removeEventListener("keydown",m(this,Da)))},Dd=function(){m(this,jn)||this.render(),this.isVisible?m(this,ji)&&m(this,ht).classList.add("focused"):(P(this,it,aD).call(this),m(this,ht).hidden=!1,m(this,ht).style.zIndex=parseInt(m(this,ht).style.zIndex)+1e3)},hm=function(){m(this,ht).classList.remove("focused"),!(m(this,ji)||!this.isVisible)&&(m(this,ht).hidden=!0,m(this,ht).style.zIndex=parseInt(m(this,ht).style.zIndex)-1e3)};class lD extends pt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=Ge.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const i=document.createElement("span");i.textContent=t,e.append(i)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}get _isEditable(){return this.data.hasOwnCanvas}}var Xc;class xE extends pt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});W(this,Xc,null)}render(){this.container.classList.add("lineAnnotation");const t=this.data,{width:i,height:r}=cr(t.rect),s=this.svgFactory.create(i,r,!0),o=M(this,Xc,this.svgFactory.createElement("svg:line"));return o.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),o.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),o.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),o.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),o.setAttribute("stroke-width",t.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return m(this,Xc)}addHighlightArea(){this.container.classList.add("highlightArea")}}Xc=new WeakMap;var Jc;class DE extends pt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});W(this,Jc,null)}render(){this.container.classList.add("squareAnnotation");const t=this.data,{width:i,height:r}=cr(t.rect),s=this.svgFactory.create(i,r,!0),o=t.borderStyle.width,a=M(this,Jc,this.svgFactory.createElement("svg:rect"));return a.setAttribute("x",o/2),a.setAttribute("y",o/2),a.setAttribute("width",i-o),a.setAttribute("height",r-o),a.setAttribute("stroke-width",o||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return m(this,Jc)}addHighlightArea(){this.container.classList.add("highlightArea")}}Jc=new WeakMap;var Yc;class TE extends pt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});W(this,Yc,null)}render(){this.container.classList.add("circleAnnotation");const t=this.data,{width:i,height:r}=cr(t.rect),s=this.svgFactory.create(i,r,!0),o=t.borderStyle.width,a=M(this,Yc,this.svgFactory.createElement("svg:ellipse"));return a.setAttribute("cx",i/2),a.setAttribute("cy",r/2),a.setAttribute("rx",i/2-o/2),a.setAttribute("ry",r/2-o/2),a.setAttribute("stroke-width",o||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return m(this,Yc)}addHighlightArea(){this.container.classList.add("highlightArea")}}Yc=new WeakMap;var Kc;class cD extends pt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});W(this,Kc,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const t=this.data,{width:i,height:r}=cr(t.rect),s=this.svgFactory.create(i,r,!0);let o=[];for(const l of t.vertices){const c=l.x-t.rect[0],u=t.rect[3]-l.y;o.push(c+","+u)}o=o.join(" ");const a=M(this,Kc,this.svgFactory.createElement(this.svgElementName));return a.setAttribute("points",o),a.setAttribute("stroke-width",t.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return m(this,Kc)}addHighlightArea(){this.container.classList.add("highlightArea")}}Kc=new WeakMap;class _E extends cD{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class CE extends pt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var jc;class uD extends pt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});W(this,jc,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=Ge.INK}render(){this.container.classList.add(this.containerClassName);const t=this.data,{width:i,height:r}=cr(t.rect),s=this.svgFactory.create(i,r,!0);for(const o of t.inkLists){let a=[];for(const c of o){const u=c.x-t.rect[0],f=t.rect[3]-c.y;a.push(`${u},${f}`)}a=a.join(" ");const l=this.svgFactory.createElement(this.svgElementName);m(this,jc).push(l),l.setAttribute("points",a),l.setAttribute("stroke-width",t.borderStyle.width||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),!t.popupRef&&this.hasPopupData&&this._createPopup(),s.append(l)}return this.container.append(s),this.container}getElementsToTriggerPopup(){return m(this,jc)}addHighlightArea(){this.container.classList.add("highlightArea")}}jc=new WeakMap;class AE extends pt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class EE extends pt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class wE extends pt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class SE extends pt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class dD extends pt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Zc,Qc,fm;class UE extends pt{constructor(t){var r;super(t,{isRenderable:!0});W(this,Qc);W(this,Zc,null);const{file:i}=this.data;this.filename=i.filename,this.content=i.content,(r=this.linkService.eventBus)==null||r.dispatch("fileattachmentannotation",{source:this,...i})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:i}=this;let r;i.hasAppearance||i.fillAlpha===0?r=document.createElement("div"):(r=document.createElement("img"),r.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(i.name)?"paperclip":"pushpin"}.svg`,i.fillAlpha&&i.fillAlpha<1&&(r.style=`filter: opacity(${Math.round(i.fillAlpha*100)}%);`)),r.addEventListener("dblclick",P(this,Qc,fm).bind(this)),M(this,Zc,r);const{isMac:s}=an.platform;return t.addEventListener("keydown",o=>{o.key==="Enter"&&(s?o.metaKey:o.ctrlKey)&&P(this,Qc,fm).call(this)}),!i.popupRef&&this.hasPopupData?this._createPopup():r.classList.add("popupTriggerArea"),t.append(r),t}getElementsToTriggerPopup(){return m(this,Zc)}addHighlightArea(){this.container.classList.add("highlightArea")}}Zc=new WeakMap,Qc=new WeakSet,fm=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var eu,Xs,Ca,bo,hD,pm;class RE{constructor({div:e,accessibilityManager:t,annotationCanvasMap:i,annotationEditorUIManager:r,page:s,viewport:o}){W(this,bo);W(this,eu,null);W(this,Xs,null);W(this,Ca,new Map);this.div=e,M(this,eu,t),M(this,Xs,i),this.page=s,this.viewport=o,this.zIndex=0,this._annotationEditorUIManager=r}async render(e){var o;const{annotations:t}=e,i=this.div;po(i,this.viewport);const r=new Map,s={data:null,layer:i,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new oy,annotationStorage:e.annotationStorage||new dy,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const a of t){if(a.noHTML)continue;const l=a.annotationType===vt.POPUP;if(l){const f=r.get(a.id);if(!f)continue;s.elements=f}else{const{width:f,height:p}=cr(a.rect);if(f<=0||p<=0)continue}s.data=a;const c=hE.create(s);if(!c.isRenderable)continue;if(!l&&a.popupRef){const f=r.get(a.popupRef);f?f.push(c):r.set(a.popupRef,[c])}const u=c.render();a.hidden&&(u.style.visibility="hidden"),P(this,bo,hD).call(this,u,a.id),c.annotationEditorType>0&&(m(this,Ca).set(c.data.id,c),(o=this._annotationEditorUIManager)==null||o.renderAnnotationElement(c))}P(this,bo,pm).call(this)}update({viewport:e}){const t=this.div;this.viewport=e,po(t,{rotation:e.rotation}),P(this,bo,pm).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(m(this,Ca).values())}getEditableAnnotation(e){return m(this,Ca).get(e)}}eu=new WeakMap,Xs=new WeakMap,Ca=new WeakMap,bo=new WeakSet,hD=function(e,t){var r;const i=e.firstChild||e;i.id=`${a2}${t}`,this.div.append(e),(r=m(this,eu))==null||r.moveElementInDOM(this.div,e,i,!1)},pm=function(){if(!m(this,Xs))return;const e=this.div;for(const[t,i]of m(this,Xs)){const r=e.querySelector(`[data-annotation-id="${t}"]`);if(!r)continue;i.className="annotationContent";const{firstChild:s}=r;s?s.nodeName==="CANVAS"?s.replaceWith(i):s.classList.contains("annotationContent")?s.after(i):s.before(i):r.append(i)}m(this,Xs).clear()};const Ju=/\r\n?|\n/g;var tu,nu,iu,ru,su,Zn,yn,ou,vn,Aa,yt,fD,pD,gD,Td,dr,_d,Cd,mD,mm,yD;const ot=class ot extends et{constructor(t){super({...t,name:"freeTextEditor"});W(this,yt);W(this,tu,this.editorDivBlur.bind(this));W(this,nu,this.editorDivFocus.bind(this));W(this,iu,this.editorDivInput.bind(this));W(this,ru,this.editorDivKeydown.bind(this));W(this,su,this.editorDivPaste.bind(this));W(this,Zn);W(this,yn,"");W(this,ou,`${this.id}-editor`);W(this,vn);W(this,Aa,null);M(this,Zn,t.color||ot._defaultColor||et._defaultLineColor),M(this,vn,t.fontSize||ot._defaultFontSize)}static get _keyboardManager(){const t=ot.prototype,i=o=>o.isEmpty(),r=go.TRANSLATE_SMALL,s=go.TRANSLATE_BIG;return $e(this,"_keyboardManager",new Mu([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-r,0],checker:i}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-s,0],checker:i}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[r,0],checker:i}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[s,0],checker:i}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-r],checker:i}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-s],checker:i}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,r],checker:i}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,s],checker:i}]]))}static initialize(t,i){et.initialize(t,i,{strings:["pdfjs-free-text-default-content"]});const r=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(r.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,i){switch(t){case Pe.FREETEXT_SIZE:ot._defaultFontSize=i;break;case Pe.FREETEXT_COLOR:ot._defaultColor=i;break}}updateParams(t,i){switch(t){case Pe.FREETEXT_SIZE:P(this,yt,fD).call(this,i);break;case Pe.FREETEXT_COLOR:P(this,yt,pD).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[Pe.FREETEXT_SIZE,ot._defaultFontSize],[Pe.FREETEXT_COLOR,ot._defaultColor||et._defaultLineColor]]}get propertiesToUpdate(){return[[Pe.FREETEXT_SIZE,m(this,vn)],[Pe.FREETEXT_COLOR,m(this,Zn)]]}_translateEmpty(t,i){this._uiManager.translateSelectedEditors(t,i,!0)}getInitialTranslation(){const t=this.parentScale;return[-ot._internalPadding*t,-(ot._internalPadding+m(this,vn))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(Ge.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",m(this,ru)),this.editorDiv.addEventListener("focus",m(this,nu)),this.editorDiv.addEventListener("blur",m(this,tu)),this.editorDiv.addEventListener("input",m(this,iu)),this.editorDiv.addEventListener("paste",m(this,su)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",m(this,ou)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",m(this,ru)),this.editorDiv.removeEventListener("focus",m(this,nu)),this.editorDiv.removeEventListener("blur",m(this,tu)),this.editorDiv.removeEventListener("input",m(this,iu)),this.editorDiv.removeEventListener("paste",m(this,su)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var t;this.width||(this.enableEditMode(),this.editorDiv.focus(),(t=this._initialOptions)!=null&&t.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=m(this,yn),i=M(this,yn,P(this,yt,gD).call(this).trimEnd());if(t===i)return;const r=s=>{if(M(this,yn,s),!s){this.remove();return}P(this,yt,Cd).call(this),this._uiManager.rebuild(this),P(this,yt,Td).call(this)};this.addCommands({cmd:()=>{r(i)},undo:()=>{r(t)},mustExec:!1}),P(this,yt,Td).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(t){this.enterInEditMode()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){ot._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let t,i;this.width&&(t=this.x,i=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",m(this,ou)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text"),this.enableEditing(),et._l10nPromise.get("pdfjs-free-text-default-content").then(s=>{var o;return(o=this.editorDiv)==null?void 0:o.setAttribute("default-content",s)}),this.editorDiv.contentEditable=!0;const{style:r}=this.editorDiv;if(r.fontSize=`calc(${m(this,vn)}px * var(--scale-factor))`,r.color=m(this,Zn),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),lh(this,this.div,["dblclick","keydown"]),this.width){const[s,o]=this.parentDimensions;if(this.annotationElementId){const{position:a}=m(this,Aa);let[l,c]=this.getInitialTranslation();[l,c]=this.pageTranslationToScreen(l,c);const[u,f]=this.pageDimensions,[p,g]=this.pageTranslation;let b,y;switch(this.rotation){case 0:b=t+(a[0]-p)/u,y=i+this.height-(a[1]-g)/f;break;case 90:b=t+(a[0]-p)/u,y=i-(a[1]-g)/f,[l,c]=[c,-l];break;case 180:b=t-this.width+(a[0]-p)/u,y=i-(a[1]-g)/f,[l,c]=[-l,-c];break;case 270:b=t+(a[0]-p-this.height*f)/u,y=i+(a[1]-g-this.width*u)/f,[l,c]=[-c,l];break}this.setAt(b*s,y*o,l,c)}else this.setAt(t*s,i*o,this.width*s,this.height*o);P(this,yt,Cd).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var b,y,v;const i=t.clipboardData||window.clipboardData,{types:r}=i;if(r.length===1&&r[0]==="text/plain")return;t.preventDefault();const s=P(b=ot,dr,mm).call(b,i.getData("text")||"").replaceAll(Ju,`
`);if(!s)return;const o=window.getSelection();if(!o.rangeCount)return;this.editorDiv.normalize(),o.deleteFromDocument();const a=o.getRangeAt(0);if(!s.includes(`
`)){a.insertNode(document.createTextNode(s)),this.editorDiv.normalize(),o.collapseToStart();return}const{startContainer:l,startOffset:c}=a,u=[],f=[];if(l.nodeType===Node.TEXT_NODE){const x=l.parentElement;if(f.push(l.nodeValue.slice(c).replaceAll(Ju,"")),x!==this.editorDiv){let D=u;for(const T of this.editorDiv.childNodes){if(T===x){D=f;continue}D.push(P(y=ot,dr,_d).call(y,T))}}u.push(l.nodeValue.slice(0,c).replaceAll(Ju,""))}else if(l===this.editorDiv){let x=u,D=0;for(const T of this.editorDiv.childNodes)D++===c&&(x=f),x.push(P(v=ot,dr,_d).call(v,T))}M(this,yn,`${u.join(`
`)}${s}${f.join(`
`)}`),P(this,yt,Cd).call(this);const p=new Range;let g=u.reduce((x,D)=>x+D.length,0);for(const{firstChild:x}of this.editorDiv.childNodes)if(x.nodeType===Node.TEXT_NODE){const D=x.nodeValue.length;if(g<=D){p.setStart(x,g),p.setEnd(x,g);break}g-=D}o.removeAllRanges(),o.addRange(p)}get contentDiv(){return this.editorDiv}static deserialize(t,i,r){var a;let s=null;if(t instanceof lD){const{data:{defaultAppearanceData:{fontSize:l,fontColor:c},rect:u,rotation:f,id:p},textContent:g,textPosition:b,parent:{page:{pageNumber:y}}}=t;if(!g||g.length===0)return null;s=t={annotationType:Ge.FREETEXT,color:Array.from(c),fontSize:l,value:g.join(`
`),position:b,pageIndex:y-1,rect:u.slice(0),rotation:f,id:p,deleted:!1}}const o=super.deserialize(t,i,r);return M(o,vn,t.fontSize),M(o,Zn,Ue.makeHexColor(...t.color)),M(o,yn,P(a=ot,dr,mm).call(a,t.value)),o.annotationElementId=t.id||null,M(o,Aa,s),o}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const i=ot._internalPadding*this.parentScale,r=this.getRect(i,i),s=et._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:m(this,Zn)),o={annotationType:Ge.FREETEXT,color:s,fontSize:m(this,vn),value:P(this,yt,mD).call(this),pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?o:this.annotationElementId&&!P(this,yt,yD).call(this,o)?null:(o.id=this.annotationElementId,o)}renderAnnotationElement(t){const i=super.renderAnnotationElement(t);if(this.deleted)return i;const{style:r}=i;r.fontSize=`calc(${m(this,vn)}px * var(--scale-factor))`,r.color=m(this,Zn),i.replaceChildren();for(const o of m(this,yn).split(`
`)){const a=document.createElement("div");a.append(o?document.createTextNode(o):document.createElement("br")),i.append(a)}const s=ot._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(s,s),popupContent:m(this,yn)}),i}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};tu=new WeakMap,nu=new WeakMap,iu=new WeakMap,ru=new WeakMap,su=new WeakMap,Zn=new WeakMap,yn=new WeakMap,ou=new WeakMap,vn=new WeakMap,Aa=new WeakMap,yt=new WeakSet,fD=function(t){const i=s=>{this.editorDiv.style.fontSize=`calc(${s}px * var(--scale-factor))`,this.translate(0,-(s-m(this,vn))*this.parentScale),M(this,vn,s),P(this,yt,Td).call(this)},r=m(this,vn);this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Pe.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},pD=function(t){const i=s=>{M(this,Zn,this.editorDiv.style.color=s)},r=m(this,Zn);this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Pe.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},gD=function(){var i;const t=[];this.editorDiv.normalize();for(const r of this.editorDiv.childNodes)t.push(P(i=ot,dr,_d).call(i,r));return t.join(`
`)},Td=function(){const[t,i]=this.parentDimensions;let r;if(this.isAttachedToDOM)r=this.div.getBoundingClientRect();else{const{currentLayer:s,div:o}=this,a=o.style.display,l=o.classList.contains("hidden");o.classList.remove("hidden"),o.style.display="hidden",s.div.append(this.div),r=o.getBoundingClientRect(),o.remove(),o.style.display=a,o.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=r.width/t,this.height=r.height/i):(this.width=r.height/t,this.height=r.width/i),this.fixAndSetPosition()},dr=new WeakSet,_d=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(Ju,"")},Cd=function(){if(this.editorDiv.replaceChildren(),!!m(this,yn))for(const t of m(this,yn).split(`
`)){const i=document.createElement("div");i.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(i)}},mD=function(){return m(this,yn).replaceAll(" "," ")},mm=function(t){return t.replaceAll(" "," ")},yD=function(t){const{value:i,fontSize:r,color:s,pageIndex:o}=m(this,Aa);return this._hasBeenMoved||t.value!==i||t.fontSize!==r||t.color.some((a,l)=>a!==s[l])||t.pageIndex!==o},W(ot,dr),Le(ot,"_freeTextDefaultContent",""),Le(ot,"_internalPadding",0),Le(ot,"_defaultColor",null),Le(ot,"_defaultFontSize",10),Le(ot,"_type","freetext"),Le(ot,"_editorType",Ge.FREETEXT);let gm=ot;var au,Nr,Qn,Qt,vD,Ad,bD,xD,vm;class ym{constructor(e,t=0,i=0,r=!0){W(this,Qt);W(this,au);W(this,Nr,[]);W(this,Qn,[]);let s=1/0,o=-1/0,a=1/0,l=-1/0;const c=10**-4;for(const{x:v,y:x,width:D,height:T}of e){const C=Math.floor((v-t)/c)*c,_=Math.ceil((v+D+t)/c)*c,A=Math.floor((x-t)/c)*c,R=Math.ceil((x+T+t)/c)*c,k=[C,A,R,!0],I=[_,A,R,!1];m(this,Nr).push(k,I),s=Math.min(s,C),o=Math.max(o,_),a=Math.min(a,A),l=Math.max(l,R)}const u=o-s+2*i,f=l-a+2*i,p=s-i,g=a-i,b=m(this,Nr).at(r?-1:-2),y=[b[0],b[2]];for(const v of m(this,Nr)){const[x,D,T]=v;v[0]=(x-p)/u,v[1]=(D-g)/f,v[2]=(T-g)/f}M(this,au,{x:p,y:g,width:u,height:f,lastPoint:y})}getOutlines(){m(this,Nr).sort((t,i)=>t[0]-i[0]||t[1]-i[1]||t[2]-i[2]);const e=[];for(const t of m(this,Nr))t[3]?(e.push(...P(this,Qt,vm).call(this,t)),P(this,Qt,bD).call(this,t)):(P(this,Qt,xD).call(this,t),e.push(...P(this,Qt,vm).call(this,t)));return P(this,Qt,vD).call(this,e)}}au=new WeakMap,Nr=new WeakMap,Qn=new WeakMap,Qt=new WeakSet,vD=function(e){const t=[],i=new Set;for(const o of e){const[a,l,c]=o;t.push([a,l,o],[a,c,o])}t.sort((o,a)=>o[1]-a[1]||o[0]-a[0]);for(let o=0,a=t.length;o<a;o+=2){const l=t[o][2],c=t[o+1][2];l.push(c),c.push(l),i.add(l),i.add(c)}const r=[];let s;for(;i.size>0;){const o=i.values().next().value;let[a,l,c,u,f]=o;i.delete(o);let p=a,g=l;for(s=[a,c],r.push(s);;){let b;if(i.has(u))b=u;else if(i.has(f))b=f;else break;i.delete(b),[a,l,c,u,f]=b,p!==a&&(s.push(p,g,a,g===l?l:c),p=a),g=g===l?c:l}s.push(p,g)}return new IE(r,m(this,au))},Ad=function(e){const t=m(this,Qn);let i=0,r=t.length-1;for(;i<=r;){const s=i+r>>1,o=t[s][0];if(o===e)return s;o<e?i=s+1:r=s-1}return r+1},bD=function([,e,t]){const i=P(this,Qt,Ad).call(this,e);m(this,Qn).splice(i,0,[e,t])},xD=function([,e,t]){const i=P(this,Qt,Ad).call(this,e);for(let r=i;r<m(this,Qn).length;r++){const[s,o]=m(this,Qn)[r];if(s!==e)break;if(s===e&&o===t){m(this,Qn).splice(r,1);return}}for(let r=i-1;r>=0;r--){const[s,o]=m(this,Qn)[r];if(s!==e)break;if(s===e&&o===t){m(this,Qn).splice(r,1);return}}},vm=function(e){const[t,i,r]=e,s=[[t,i,r]],o=P(this,Qt,Ad).call(this,r);for(let a=0;a<o;a++){const[l,c]=m(this,Qn)[a];for(let u=0,f=s.length;u<f;u++){const[,p,g]=s[u];if(!(c<=p||g<=l)){if(p>=l){if(g>c)s[u][1]=c;else{if(f===1)return[];s.splice(u,1),u--,f--}continue}s[u][2]=l,g>c&&s.push([t,c,g])}}}return s};class DD{toSVGPath(){throw new Error("Abstract method `toSVGPath` must be implemented.")}get box(){throw new Error("Abstract getter `box` must be implemented.")}serialize(e,t){throw new Error("Abstract method `serialize` must be implemented.")}get free(){return this instanceof xm}}var lu,Ea;class IE extends DD{constructor(t,i){super();W(this,lu);W(this,Ea);M(this,Ea,t),M(this,lu,i)}toSVGPath(){const t=[];for(const i of m(this,Ea)){let[r,s]=i;t.push(`M${r} ${s}`);for(let o=2;o<i.length;o+=2){const a=i[o],l=i[o+1];a===r?(t.push(`V${l}`),s=l):l===s&&(t.push(`H${a}`),r=a)}t.push("Z")}return t.join(" ")}serialize([t,i,r,s],o){const a=[],l=r-t,c=s-i;for(const u of m(this,Ea)){const f=new Array(u.length);for(let p=0;p<u.length;p+=2)f[p]=t+u[p]*l,f[p+1]=s-u[p+1]*c;a.push(f)}return a}get box(){return m(this,lu)}}lu=new WeakMap,Ea=new WeakMap;var yi,er,wa,Sa,vi,He,Js,Ys,cu,uu,Ua,Ra,Mr,du,$h,zh,hu,bm;const Ni=class Ni{constructor({x:e,y:t},i,r,s,o,a=0){W(this,hu);W(this,yi);W(this,er,[]);W(this,wa);W(this,Sa);W(this,vi,[]);W(this,He,new Float64Array(18));W(this,Js);W(this,Ys);W(this,cu);W(this,uu);W(this,Ua);W(this,Ra);W(this,Mr,[]);M(this,yi,i),M(this,Ra,s*r),M(this,Sa,o),m(this,He).set([NaN,NaN,NaN,NaN,e,t],6),M(this,wa,a),M(this,uu,m(Ni,du)*r),M(this,cu,m(Ni,zh)*r),M(this,Ua,r),m(this,Mr).push(e,t)}get free(){return!0}isEmpty(){return isNaN(m(this,He)[8])}add({x:e,y:t}){var I;M(this,Js,e),M(this,Ys,t);const[i,r,s,o]=m(this,yi);let[a,l,c,u]=m(this,He).subarray(8,12);const f=e-c,p=t-u,g=Math.hypot(f,p);if(g<m(this,cu))return!1;const b=g-m(this,uu),y=b/g,v=y*f,x=y*p;let D=a,T=l;a=c,l=u,c+=v,u+=x,(I=m(this,Mr))==null||I.push(e,t);const C=-x/b,_=v/b,A=C*m(this,Ra),R=_*m(this,Ra);return m(this,He).set(m(this,He).subarray(2,8),0),m(this,He).set([c+A,u+R],4),m(this,He).set(m(this,He).subarray(14,18),12),m(this,He).set([c-A,u-R],16),isNaN(m(this,He)[6])?(m(this,vi).length===0&&(m(this,He).set([a+A,l+R],2),m(this,vi).push(NaN,NaN,NaN,NaN,(a+A-i)/s,(l+R-r)/o),m(this,He).set([a-A,l-R],14),m(this,er).push(NaN,NaN,NaN,NaN,(a-A-i)/s,(l-R-r)/o)),m(this,He).set([D,T,a,l,c,u],6),!this.isEmpty()):(m(this,He).set([D,T,a,l,c,u],6),Math.abs(Math.atan2(T-l,D-a)-Math.atan2(x,v))<Math.PI/2?([a,l,c,u]=m(this,He).subarray(2,6),m(this,vi).push(NaN,NaN,NaN,NaN,((a+c)/2-i)/s,((l+u)/2-r)/o),[a,l,D,T]=m(this,He).subarray(14,18),m(this,er).push(NaN,NaN,NaN,NaN,((D+a)/2-i)/s,((T+l)/2-r)/o),!0):([D,T,a,l,c,u]=m(this,He).subarray(0,6),m(this,vi).push(((D+5*a)/6-i)/s,((T+5*l)/6-r)/o,((5*a+c)/6-i)/s,((5*l+u)/6-r)/o,((a+c)/2-i)/s,((l+u)/2-r)/o),[c,u,a,l,D,T]=m(this,He).subarray(12,18),m(this,er).push(((D+5*a)/6-i)/s,((T+5*l)/6-r)/o,((5*a+c)/6-i)/s,((5*l+u)/6-r)/o,((a+c)/2-i)/s,((l+u)/2-r)/o),!0))}toSVGPath(){if(this.isEmpty())return"";const e=m(this,vi),t=m(this,er),i=m(this,He).subarray(4,6),r=m(this,He).subarray(16,18),[s,o,a,l]=m(this,yi),[c,u,f,p]=P(this,hu,bm).call(this);if(isNaN(m(this,He)[6])&&!this.isEmpty())return`M${(m(this,He)[2]-s)/a} ${(m(this,He)[3]-o)/l} L${(m(this,He)[4]-s)/a} ${(m(this,He)[5]-o)/l} L${c} ${u} L${f} ${p} L${(m(this,He)[16]-s)/a} ${(m(this,He)[17]-o)/l} L${(m(this,He)[14]-s)/a} ${(m(this,He)[15]-o)/l} Z`;const g=[];g.push(`M${e[4]} ${e[5]}`);for(let b=6;b<e.length;b+=6)isNaN(e[b])?g.push(`L${e[b+4]} ${e[b+5]}`):g.push(`C${e[b]} ${e[b+1]} ${e[b+2]} ${e[b+3]} ${e[b+4]} ${e[b+5]}`);g.push(`L${(i[0]-s)/a} ${(i[1]-o)/l} L${c} ${u} L${f} ${p} L${(r[0]-s)/a} ${(r[1]-o)/l}`);for(let b=t.length-6;b>=6;b-=6)isNaN(t[b])?g.push(`L${t[b+4]} ${t[b+5]}`):g.push(`C${t[b]} ${t[b+1]} ${t[b+2]} ${t[b+3]} ${t[b+4]} ${t[b+5]}`);return g.push(`L${t[4]} ${t[5]} Z`),g.join(" ")}getOutlines(){var x;const e=m(this,vi),t=m(this,er),i=m(this,He),r=i.subarray(4,6),s=i.subarray(16,18),[o,a,l,c]=m(this,yi),u=new Float64Array((((x=m(this,Mr))==null?void 0:x.length)??0)+2);for(let D=0,T=u.length-2;D<T;D+=2)u[D]=(m(this,Mr)[D]-o)/l,u[D+1]=(m(this,Mr)[D+1]-a)/c;u[u.length-2]=(m(this,Js)-o)/l,u[u.length-1]=(m(this,Ys)-a)/c;const[f,p,g,b]=P(this,hu,bm).call(this);if(isNaN(i[6])&&!this.isEmpty()){const D=new Float64Array(36);return D.set([NaN,NaN,NaN,NaN,(i[2]-o)/l,(i[3]-a)/c,NaN,NaN,NaN,NaN,(i[4]-o)/l,(i[5]-a)/c,NaN,NaN,NaN,NaN,f,p,NaN,NaN,NaN,NaN,g,b,NaN,NaN,NaN,NaN,(i[16]-o)/l,(i[17]-a)/c,NaN,NaN,NaN,NaN,(i[14]-o)/l,(i[15]-a)/c],0),new xm(D,u,m(this,yi),m(this,Ua),m(this,wa),m(this,Sa))}const y=new Float64Array(m(this,vi).length+24+m(this,er).length);let v=e.length;for(let D=0;D<v;D+=2){if(isNaN(e[D])){y[D]=y[D+1]=NaN;continue}y[D]=e[D],y[D+1]=e[D+1]}y.set([NaN,NaN,NaN,NaN,(r[0]-o)/l,(r[1]-a)/c,NaN,NaN,NaN,NaN,f,p,NaN,NaN,NaN,NaN,g,b,NaN,NaN,NaN,NaN,(s[0]-o)/l,(s[1]-a)/c],v),v+=24;for(let D=t.length-6;D>=6;D-=6)for(let T=0;T<6;T+=2){if(isNaN(t[D+T])){y[v]=y[v+1]=NaN,v+=2;continue}y[v]=t[D+T],y[v+1]=t[D+T+1],v+=2}return y.set([NaN,NaN,NaN,NaN,t[4],t[5]],v),new xm(y,u,m(this,yi),m(this,Ua),m(this,wa),m(this,Sa))}};yi=new WeakMap,er=new WeakMap,wa=new WeakMap,Sa=new WeakMap,vi=new WeakMap,He=new WeakMap,Js=new WeakMap,Ys=new WeakMap,cu=new WeakMap,uu=new WeakMap,Ua=new WeakMap,Ra=new WeakMap,Mr=new WeakMap,du=new WeakMap,$h=new WeakMap,zh=new WeakMap,hu=new WeakSet,bm=function(){const e=m(this,He).subarray(4,6),t=m(this,He).subarray(16,18),[i,r,s,o]=m(this,yi);return[(m(this,Js)+(e[0]-t[0])/2-i)/s,(m(this,Ys)+(e[1]-t[1])/2-r)/o,(m(this,Js)+(t[0]-e[0])/2-i)/s,(m(this,Ys)+(t[1]-e[1])/2-r)/o]},W(Ni,du,8),W(Ni,$h,2),W(Ni,zh,m(Ni,du)+m(Ni,$h));let dh=Ni;var Ia,Ks,tr,fu,bn,pu,ft,ln,Rl,Il,TD;class xm extends DD{constructor(t,i,r,s,o,a){super();W(this,ln);W(this,Ia);W(this,Ks,null);W(this,tr);W(this,fu);W(this,bn);W(this,pu);W(this,ft);M(this,ft,t),M(this,bn,i),M(this,Ia,r),M(this,pu,s),M(this,tr,o),M(this,fu,a),P(this,ln,TD).call(this,a);const{x:l,y:c,width:u,height:f}=m(this,Ks);for(let p=0,g=t.length;p<g;p+=2)t[p]=(t[p]-l)/u,t[p+1]=(t[p+1]-c)/f;for(let p=0,g=i.length;p<g;p+=2)i[p]=(i[p]-l)/u,i[p+1]=(i[p+1]-c)/f}toSVGPath(){const t=[`M${m(this,ft)[4]} ${m(this,ft)[5]}`];for(let i=6,r=m(this,ft).length;i<r;i+=6){if(isNaN(m(this,ft)[i])){t.push(`L${m(this,ft)[i+4]} ${m(this,ft)[i+5]}`);continue}t.push(`C${m(this,ft)[i]} ${m(this,ft)[i+1]} ${m(this,ft)[i+2]} ${m(this,ft)[i+3]} ${m(this,ft)[i+4]} ${m(this,ft)[i+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,i,r,s],o){const a=r-t,l=s-i;let c,u;switch(o){case 0:c=P(this,ln,Rl).call(this,m(this,ft),t,s,a,-l),u=P(this,ln,Rl).call(this,m(this,bn),t,s,a,-l);break;case 90:c=P(this,ln,Il).call(this,m(this,ft),t,i,a,l),u=P(this,ln,Il).call(this,m(this,bn),t,i,a,l);break;case 180:c=P(this,ln,Rl).call(this,m(this,ft),r,i,-a,l),u=P(this,ln,Rl).call(this,m(this,bn),r,i,-a,l);break;case 270:c=P(this,ln,Il).call(this,m(this,ft),r,s,-a,-l),u=P(this,ln,Il).call(this,m(this,bn),r,s,-a,-l);break}return{outline:Array.from(c),points:[Array.from(u)]}}get box(){return m(this,Ks)}getNewOutline(t,i){const{x:r,y:s,width:o,height:a}=m(this,Ks),[l,c,u,f]=m(this,Ia),p=o*u,g=a*f,b=r*u+l,y=s*f+c,v=new dh({x:m(this,bn)[0]*p+b,y:m(this,bn)[1]*g+y},m(this,Ia),m(this,pu),t,m(this,fu),i??m(this,tr));for(let x=2;x<m(this,bn).length;x+=2)v.add({x:m(this,bn)[x]*p+b,y:m(this,bn)[x+1]*g+y});return v.getOutlines()}}Ia=new WeakMap,Ks=new WeakMap,tr=new WeakMap,fu=new WeakMap,bn=new WeakMap,pu=new WeakMap,ft=new WeakMap,ln=new WeakSet,Rl=function(t,i,r,s,o){const a=new Float64Array(t.length);for(let l=0,c=t.length;l<c;l+=2)a[l]=i+t[l]*s,a[l+1]=r+t[l+1]*o;return a},Il=function(t,i,r,s,o){const a=new Float64Array(t.length);for(let l=0,c=t.length;l<c;l+=2)a[l]=i+t[l+1]*s,a[l+1]=r+t[l]*o;return a},TD=function(t){const i=m(this,ft);let r=i[4],s=i[5],o=r,a=s,l=r,c=s,u=r,f=s;const p=t?Math.max:Math.min;for(let x=6,D=i.length;x<D;x+=6){if(isNaN(i[x]))o=Math.min(o,i[x+4]),a=Math.min(a,i[x+5]),l=Math.max(l,i[x+4]),c=Math.max(c,i[x+5]),f<i[x+5]?(u=i[x+4],f=i[x+5]):f===i[x+5]&&(u=p(u,i[x+4]));else{const T=Ue.bezierBoundingBox(r,s,...i.slice(x,x+6));o=Math.min(o,T[0]),a=Math.min(a,T[1]),l=Math.max(l,T[2]),c=Math.max(c,T[3]),f<T[3]?(u=T[2],f=T[3]):f===T[3]&&(u=p(u,T[2]))}r=i[x+4],s=i[x+5]}const g=o-m(this,tr),b=a-m(this,tr),y=l-o+2*m(this,tr),v=c-a+2*m(this,tr);M(this,Ks,{x:g,y:b,width:y,height:v,lastPoint:[u,f]})};var gu,mu,ei,js,Fa,xt,yu,ka,vu,bu,Pr,Na,st,Dm,Tm,_D,fs,CD,Tr;const Mi=class Mi{constructor({editor:e=null,uiManager:t=null}){W(this,st);W(this,gu,P(this,st,_D).bind(this));W(this,mu,P(this,st,CD).bind(this));W(this,ei,null);W(this,js,null);W(this,Fa);W(this,xt,null);W(this,yu,!1);W(this,ka,!1);W(this,vu,null);W(this,bu);W(this,Pr,null);W(this,Na);var i;e?(M(this,ka,!1),M(this,Na,Pe.HIGHLIGHT_COLOR),M(this,vu,e)):(M(this,ka,!0),M(this,Na,Pe.HIGHLIGHT_DEFAULT_COLOR)),M(this,Pr,(e==null?void 0:e._uiManager)||t),M(this,bu,m(this,Pr)._eventBus),M(this,Fa,(e==null?void 0:e.color)||((i=m(this,Pr))==null?void 0:i.highlightColors.values().next().value)||"#FFFF98")}static get _keyboardManager(){return $e(this,"_keyboardManager",new Mu([[["Escape","mac+Escape"],Mi.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Mi.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Mi.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Mi.prototype._moveToPrevious],[["Home","mac+Home"],Mi.prototype._moveToBeginning],[["End","mac+End"],Mi.prototype._moveToEnd]]))}renderButton(){const e=M(this,ei,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0),e.addEventListener("click",P(this,st,fs).bind(this)),e.addEventListener("keydown",m(this,gu));const t=M(this,js,document.createElement("span"));return t.className="swatch",t.setAttribute("aria-hidden",!0),t.style.backgroundColor=m(this,Fa),e.append(t),e}renderMainDropdown(){const e=M(this,xt,P(this,st,Dm).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===m(this,ei)){P(this,st,fs).call(this,e);return}const t=e.target.getAttribute("data-color");t&&P(this,st,Tm).call(this,t,e)}_moveToNext(e){var t,i;if(!m(this,st,Tr)){P(this,st,fs).call(this,e);return}if(e.target===m(this,ei)){(t=m(this,xt).firstChild)==null||t.focus();return}(i=e.target.nextSibling)==null||i.focus()}_moveToPrevious(e){var t,i;if(e.target===((t=m(this,xt))==null?void 0:t.firstChild)||e.target===m(this,ei)){m(this,st,Tr)&&this._hideDropdownFromKeyboard();return}m(this,st,Tr)||P(this,st,fs).call(this,e),(i=e.target.previousSibling)==null||i.focus()}_moveToBeginning(e){var t;if(!m(this,st,Tr)){P(this,st,fs).call(this,e);return}(t=m(this,xt).firstChild)==null||t.focus()}_moveToEnd(e){var t;if(!m(this,st,Tr)){P(this,st,fs).call(this,e);return}(t=m(this,xt).lastChild)==null||t.focus()}hideDropdown(){var e;(e=m(this,xt))==null||e.classList.add("hidden"),window.removeEventListener("pointerdown",m(this,mu))}_hideDropdownFromKeyboard(){var e;if(!m(this,ka)){if(!m(this,st,Tr)){(e=m(this,vu))==null||e.unselect();return}this.hideDropdown(),m(this,ei).focus({preventScroll:!0,focusVisible:m(this,yu)})}}updateColor(e){if(m(this,js)&&(m(this,js).style.backgroundColor=e),!m(this,xt))return;const t=m(this,Pr).highlightColors.values();for(const i of m(this,xt).children)i.setAttribute("aria-selected",t.next().value===e)}destroy(){var e,t;(e=m(this,ei))==null||e.remove(),M(this,ei,null),M(this,js,null),(t=m(this,xt))==null||t.remove(),M(this,xt,null)}};gu=new WeakMap,mu=new WeakMap,ei=new WeakMap,js=new WeakMap,Fa=new WeakMap,xt=new WeakMap,yu=new WeakMap,ka=new WeakMap,vu=new WeakMap,bu=new WeakMap,Pr=new WeakMap,Na=new WeakMap,st=new WeakSet,Dm=function(){const e=document.createElement("div");e.addEventListener("contextmenu",cn),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[t,i]of m(this,Pr).highlightColors){const r=document.createElement("button");r.tabIndex="0",r.role="option",r.setAttribute("data-color",i),r.title=t,r.setAttribute("data-l10n-id",`pdfjs-editor-colorpicker-${t}`);const s=document.createElement("span");r.append(s),s.className="swatch",s.style.backgroundColor=i,r.setAttribute("aria-selected",i===m(this,Fa)),r.addEventListener("click",P(this,st,Tm).bind(this,i)),e.append(r)}return e.addEventListener("keydown",m(this,gu)),e},Tm=function(e,t){t.stopPropagation(),m(this,bu).dispatch("switchannotationeditorparams",{source:this,type:m(this,Na),value:e})},_D=function(e){Mi._keyboardManager.exec(this,e)},fs=function(e){if(m(this,st,Tr)){this.hideDropdown();return}if(M(this,yu,e.detail===0),window.addEventListener("pointerdown",m(this,mu)),m(this,xt)){m(this,xt).classList.remove("hidden");return}const t=M(this,xt,P(this,st,Dm).call(this));m(this,ei).append(t)},CD=function(e){var t;(t=m(this,xt))!=null&&t.contains(e.target)||this.hideDropdown()},Tr=function(){return m(this,xt)&&!m(this,xt).classList.contains("hidden")};let hh=Mi;var Ma,xu,Lr,Zs,Pa,Un,Du,Tu,Qs,ti,Jt,xn,Xh,La,eo,Dt,Ba,bi,_u,Ve,_m,Cm,AD,ED,wD,Am,Fl,Pn,Bo,SD,Ed,kl,UD,RD,ID,FD;const Ye=class Ye extends et{constructor(t){super({...t,name:"highlightEditor"});W(this,Ve);W(this,Ma,null);W(this,xu,0);W(this,Lr);W(this,Zs,null);W(this,Pa,null);W(this,Un,null);W(this,Du,null);W(this,Tu,0);W(this,Qs,null);W(this,ti,null);W(this,Jt,null);W(this,xn,!1);W(this,Xh,P(this,Ve,SD).bind(this));W(this,La,null);W(this,eo);W(this,Dt,null);W(this,Ba,"");W(this,bi);W(this,_u,"");this.color=t.color||Ye._defaultColor,M(this,bi,t.thickness||Ye._defaultThickness),M(this,eo,t.opacity||Ye._defaultOpacity),M(this,Lr,t.boxes||null),M(this,_u,t.methodOfCreation||""),M(this,Ba,t.text||""),this._isDraggable=!1,t.highlightId>-1?(M(this,xn,!0),P(this,Ve,Cm).call(this,t),P(this,Ve,Fl).call(this)):(M(this,Ma,t.anchorNode),M(this,xu,t.anchorOffset),M(this,Du,t.focusNode),M(this,Tu,t.focusOffset),P(this,Ve,_m).call(this),P(this,Ve,Fl).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const t=Ye.prototype;return $e(this,"_keyboardManager",new Mu([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:m(this,xn)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:m(this,bi),methodOfCreation:m(this,_u)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,i){var r;et.initialize(t,i),Ye._defaultColor||(Ye._defaultColor=((r=i.highlightColors)==null?void 0:r.values().next().value)||"#fff066")}static updateDefaultParams(t,i){switch(t){case Pe.HIGHLIGHT_DEFAULT_COLOR:Ye._defaultColor=i;break;case Pe.HIGHLIGHT_THICKNESS:Ye._defaultThickness=i;break}}translateInPage(t,i){}get toolbarPosition(){return m(this,La)}updateParams(t,i){switch(t){case Pe.HIGHLIGHT_COLOR:P(this,Ve,AD).call(this,i);break;case Pe.HIGHLIGHT_THICKNESS:P(this,Ve,ED).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[Pe.HIGHLIGHT_DEFAULT_COLOR,Ye._defaultColor],[Pe.HIGHLIGHT_THICKNESS,Ye._defaultThickness]]}get propertiesToUpdate(){return[[Pe.HIGHLIGHT_COLOR,this.color||Ye._defaultColor],[Pe.HIGHLIGHT_THICKNESS,m(this,bi)||Ye._defaultThickness],[Pe.HIGHLIGHT_FREE,m(this,xn)]]}async addEditToolbar(){const t=await super.addEditToolbar();return t?(this._uiManager.highlightColors&&(M(this,Pa,new hh({editor:this})),t.addColorPicker(m(this,Pa))),t):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(P(this,Ve,kl).call(this))}getBaseTranslation(){return[0,0]}getRect(t,i){return super.getRect(t,i,P(this,Ve,kl).call(this))}onceAdded(){this.parent.addUndoableEditor(this),this.div.focus()}remove(){P(this,Ve,Am).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(P(this,Ve,Fl).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var r;let i=!1;this.parent&&!t?P(this,Ve,Am).call(this):t&&(P(this,Ve,Fl).call(this,t),i=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),i&&this.select()}rotate(t){var s,o,a;const{drawLayer:i}=this.parent;let r;m(this,xn)?(t=(t-this.rotation+360)%360,r=P(s=Ye,Pn,Bo).call(s,m(this,ti).box,t)):r=P(o=Ye,Pn,Bo).call(o,this,t),i.rotate(m(this,Jt),t),i.rotate(m(this,Dt),t),i.updateBox(m(this,Jt),r),i.updateBox(m(this,Dt),P(a=Ye,Pn,Bo).call(a,m(this,Un).box,t))}render(){if(this.div)return this.div;const t=super.render();m(this,Ba)&&(t.setAttribute("aria-label",m(this,Ba)),t.setAttribute("role","mark")),m(this,xn)?t.classList.add("free"):this.div.addEventListener("keydown",m(this,Xh));const i=M(this,Qs,document.createElement("div"));t.append(i),i.setAttribute("aria-hidden","true"),i.className="internal",i.style.clipPath=m(this,Zs);const[r,s]=this.parentDimensions;return this.setDims(this.width*r,this.height*s),lh(this,m(this,Qs),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.parent.drawLayer.addClass(m(this,Dt),"hovered")}pointerleave(){this.parent.drawLayer.removeClass(m(this,Dt),"hovered")}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:P(this,Ve,Ed).call(this,!0);break;case 1:case 3:P(this,Ve,Ed).call(this,!1);break}}select(){var t,i;super.select(),m(this,Dt)&&((t=this.parent)==null||t.drawLayer.removeClass(m(this,Dt),"hovered"),(i=this.parent)==null||i.drawLayer.addClass(m(this,Dt),"selected"))}unselect(){var t;super.unselect(),m(this,Dt)&&((t=this.parent)==null||t.drawLayer.removeClass(m(this,Dt),"selected"),m(this,xn)||P(this,Ve,Ed).call(this,!1))}get _mustFixPosition(){return!m(this,xn)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.show(m(this,Jt),t),this.parent.drawLayer.show(m(this,Dt),t))}static startHighlighting(t,i,{target:r,x:s,y:o}){const{x:a,y:l,width:c,height:u}=r.getBoundingClientRect(),f=y=>{P(this,Pn,ID).call(this,t,y)},p={capture:!0,passive:!1},g=y=>{y.preventDefault(),y.stopPropagation()},b=y=>{r.removeEventListener("pointermove",f),window.removeEventListener("blur",b),window.removeEventListener("pointerup",b),window.removeEventListener("pointerdown",g,p),window.removeEventListener("contextmenu",cn),P(this,Pn,FD).call(this,t,y)};window.addEventListener("blur",b),window.addEventListener("pointerup",b),window.addEventListener("pointerdown",g,p),window.addEventListener("contextmenu",cn),r.addEventListener("pointermove",f),this._freeHighlight=new dh({x:s,y:o},[a,l,c,u],t.scale,this._defaultThickness/2,i,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.highlight(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static deserialize(t,i,r){var y;const s=super.deserialize(t,i,r),{rect:[o,a,l,c],color:u,quadPoints:f}=t;s.color=Ue.makeHexColor(...u),M(s,eo,t.opacity);const[p,g]=s.pageDimensions;s.width=(l-o)/p,s.height=(c-a)/g;const b=M(s,Lr,[]);for(let v=0;v<f.length;v+=8)b.push({x:(f[4]-l)/p,y:(c-(1-f[v+5]))/g,width:(f[v+2]-f[v])/p,height:(f[v+5]-f[v+1])/g});return P(y=s,Ve,_m).call(y),s}serialize(t=!1){if(this.isEmpty()||t)return null;const i=this.getRect(0,0),r=et._colorManager.convert(this.color);return{annotationType:Ge.HIGHLIGHT,color:r,opacity:m(this,eo),thickness:m(this,bi),quadPoints:P(this,Ve,UD).call(this),outlines:P(this,Ve,RD).call(this,i),pageIndex:this.pageIndex,rect:i,rotation:P(this,Ve,kl).call(this),structTreeParentId:this._structTreeParentId}}static canCreateNewEmptyEditor(){return!1}};Ma=new WeakMap,xu=new WeakMap,Lr=new WeakMap,Zs=new WeakMap,Pa=new WeakMap,Un=new WeakMap,Du=new WeakMap,Tu=new WeakMap,Qs=new WeakMap,ti=new WeakMap,Jt=new WeakMap,xn=new WeakMap,Xh=new WeakMap,La=new WeakMap,eo=new WeakMap,Dt=new WeakMap,Ba=new WeakMap,bi=new WeakMap,_u=new WeakMap,Ve=new WeakSet,_m=function(){const t=new ym(m(this,Lr),.001);M(this,ti,t.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=m(this,ti).box;const i=new ym(m(this,Lr),.0025,.001,this._uiManager.direction==="ltr");M(this,Un,i.getOutlines());const{lastPoint:r}=m(this,Un).box;M(this,La,[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height])},Cm=function({highlightOutlines:t,highlightId:i,clipPathId:r}){var f,p;if(M(this,ti,t),M(this,Un,t.getNewOutline(m(this,bi)/2+1.5,.0025)),i>=0)M(this,Jt,i),M(this,Zs,r),this.parent.drawLayer.finalizeLine(i,t),M(this,Dt,this.parent.drawLayer.highlightOutline(m(this,Un)));else if(this.parent){const g=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(m(this,Jt),t),this.parent.drawLayer.updateBox(m(this,Jt),P(f=Ye,Pn,Bo).call(f,m(this,ti).box,(g-this.rotation+360)%360)),this.parent.drawLayer.updateLine(m(this,Dt),m(this,Un)),this.parent.drawLayer.updateBox(m(this,Dt),P(p=Ye,Pn,Bo).call(p,m(this,Un).box,g))}const{x:o,y:a,width:l,height:c}=t.box;switch(this.rotation){case 0:this.x=o,this.y=a,this.width=l,this.height=c;break;case 90:{const[g,b]=this.parentDimensions;this.x=a,this.y=1-o,this.width=l*b/g,this.height=c*g/b;break}case 180:this.x=1-o,this.y=1-a,this.width=l,this.height=c;break;case 270:{const[g,b]=this.parentDimensions;this.x=1-a,this.y=o,this.width=l*b/g,this.height=c*g/b;break}}const{lastPoint:u}=m(this,Un).box;M(this,La,[(u[0]-o)/l,(u[1]-a)/c])},AD=function(t){const i=s=>{var o,a;this.color=s,(o=this.parent)==null||o.drawLayer.changeColor(m(this,Jt),s),(a=m(this,Pa))==null||a.updateColor(s)},r=this.color;this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Pe.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)},ED=function(t){const i=m(this,bi),r=s=>{M(this,bi,s),P(this,Ve,wD).call(this,s)};this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Pe.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},wD=function(t){if(!m(this,xn))return;P(this,Ve,Cm).call(this,{highlightOutlines:m(this,ti).getNewOutline(t/2)}),this.fixAndSetPosition();const[i,r]=this.parentDimensions;this.setDims(this.width*i,this.height*r)},Am=function(){m(this,Jt)===null||!this.parent||(this.parent.drawLayer.remove(m(this,Jt)),M(this,Jt,null),this.parent.drawLayer.remove(m(this,Dt)),M(this,Dt,null))},Fl=function(t=this.parent){m(this,Jt)===null&&({id:St(this,Jt)._,clipPathId:St(this,Zs)._}=t.drawLayer.highlight(m(this,ti),this.color,m(this,eo)),M(this,Dt,t.drawLayer.highlightOutline(m(this,Un))),m(this,Qs)&&(m(this,Qs).style.clipPath=m(this,Zs)))},Pn=new WeakSet,Bo=function({x:t,y:i,width:r,height:s},o){switch(o){case 90:return{x:1-i-s,y:t,width:s,height:r};case 180:return{x:1-t-r,y:1-i-s,width:r,height:s};case 270:return{x:i,y:1-t-r,width:s,height:r}}return{x:t,y:i,width:r,height:s}},SD=function(t){Ye._keyboardManager.exec(this,t)},Ed=function(t){if(!m(this,Ma))return;const i=window.getSelection();t?i.setPosition(m(this,Ma),m(this,xu)):i.setPosition(m(this,Du),m(this,Tu))},kl=function(){return m(this,xn)?this.rotation:0},UD=function(){if(m(this,xn))return null;const[t,i]=this.pageDimensions,r=m(this,Lr),s=new Array(r.length*8);let o=0;for(const{x:a,y:l,width:c,height:u}of r){const f=a*t,p=(1-l-u)*i;s[o]=s[o+4]=f,s[o+1]=s[o+3]=p,s[o+2]=s[o+6]=f+c*t,s[o+5]=s[o+7]=p+u*i,o+=8}return s},RD=function(t){return m(this,ti).serialize(t,P(this,Ve,kl).call(this))},ID=function(t,i){this._freeHighlight.add(i)&&t.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},FD=function(t,i){this._freeHighlight.isEmpty()?t.drawLayer.removeFreeHighlight(this._freeHighlightId):t.createAndAddNewEditor(i,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},W(Ye,Pn),Le(Ye,"_defaultColor",null),Le(Ye,"_defaultOpacity",1),Le(Ye,"_defaultThickness",12),Le(Ye,"_l10nPromise"),Le(Ye,"_type","highlight"),Le(Ye,"_editorType",Ge.HIGHLIGHT),Le(Ye,"_freeHighlightId",-1),Le(Ye,"_freeHighlight",null),Le(Ye,"_freeHighlightClipId","");let fh=Ye;var to,no,Cu,Au,Eu,io,xi,nr,Rn,ro,so,oo,ao,lo,Br,Ce,kD,ND,MD,PD,wm,LD,Sm,BD,OD,WD,qD,VD,ps,Um,wd,Sd,Oo,Rm,Ud,gr,HD,Im,GD,$D,Fm,Rd,Nl;const ut=class ut extends et{constructor(t){super({...t,name:"inkEditor"});W(this,Ce);W(this,to,0);W(this,no,0);W(this,Cu,this.canvasPointermove.bind(this));W(this,Au,this.canvasPointerleave.bind(this));W(this,Eu,this.canvasPointerup.bind(this));W(this,io,this.canvasPointerdown.bind(this));W(this,xi,null);W(this,nr,new Path2D);W(this,Rn,!1);W(this,ro,!1);W(this,so,!1);W(this,oo,null);W(this,ao,0);W(this,lo,0);W(this,Br,null);this.color=t.color||null,this.thickness=t.thickness||null,this.opacity=t.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(t,i){et.initialize(t,i)}static updateDefaultParams(t,i){switch(t){case Pe.INK_THICKNESS:ut._defaultThickness=i;break;case Pe.INK_COLOR:ut._defaultColor=i;break;case Pe.INK_OPACITY:ut._defaultOpacity=i/100;break}}updateParams(t,i){switch(t){case Pe.INK_THICKNESS:P(this,Ce,kD).call(this,i);break;case Pe.INK_COLOR:P(this,Ce,ND).call(this,i);break;case Pe.INK_OPACITY:P(this,Ce,MD).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[Pe.INK_THICKNESS,ut._defaultThickness],[Pe.INK_COLOR,ut._defaultColor||et._defaultLineColor],[Pe.INK_OPACITY,Math.round(ut._defaultOpacity*100)]]}get propertiesToUpdate(){return[[Pe.INK_THICKNESS,this.thickness||ut._defaultThickness],[Pe.INK_COLOR,this.color||ut._defaultColor||et._defaultLineColor],[Pe.INK_OPACITY,Math.round(100*(this.opacity??ut._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(P(this,Ce,wd).call(this),P(this,Ce,Sd).call(this)),this.isAttachedToDOM||(this.parent.add(this),P(this,Ce,Oo).call(this)),P(this,Ce,Nl).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,m(this,xi)&&(clearTimeout(m(this,xi)),M(this,xi,null)),m(this,oo).disconnect(),M(this,oo,null),super.remove())}setParent(t){!this.parent&&t?this._uiManager.removeShouldRescale(this):this.parent&&t===null&&this._uiManager.addShouldRescale(this),super.setParent(t)}onScaleChanging(){const[t,i]=this.parentDimensions,r=this.width*t,s=this.height*i;this.setDimensions(r,s)}enableEditMode(){m(this,Rn)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",m(this,io)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",m(this,io)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){m(this,Rn)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),M(this,Rn,!0),this.div.classList.add("disabled"),P(this,Ce,Nl).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),this.enableEditMode())}canvasPointerdown(t){t.button!==0||!this.isInEditMode()||m(this,Rn)||(this.setInForeground(),t.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),P(this,Ce,LD).call(this,t.offsetX,t.offsetY))}canvasPointermove(t){t.preventDefault(),P(this,Ce,Sm).call(this,t.offsetX,t.offsetY)}canvasPointerup(t){t.preventDefault(),P(this,Ce,Um).call(this,t)}canvasPointerleave(t){P(this,Ce,Um).call(this,t)}get isResizable(){return!this.isEmpty()&&m(this,Rn)}render(){if(this.div)return this.div;let t,i;this.width&&(t=this.x,i=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[r,s,o,a]=P(this,Ce,PD).call(this);if(this.setAt(r,s,0,0),this.setDims(o,a),P(this,Ce,wd).call(this),this.width){const[l,c]=this.parentDimensions;this.setAspectRatio(this.width*l,this.height*c),this.setAt(t*l,i*c,this.width*l,this.height*c),M(this,so,!0),P(this,Ce,Oo).call(this),this.setDims(this.width*l,this.height*c),P(this,Ce,ps).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return P(this,Ce,Sd).call(this),this.div}setDimensions(t,i){const r=Math.round(t),s=Math.round(i);if(m(this,ao)===r&&m(this,lo)===s)return;M(this,ao,r),M(this,lo,s),this.canvas.style.visibility="hidden";const[o,a]=this.parentDimensions;this.width=t/o,this.height=i/a,this.fixAndSetPosition(),m(this,Rn)&&P(this,Ce,Rm).call(this,t,i),P(this,Ce,Oo).call(this),P(this,Ce,ps).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(t,i,r){var v,x,D;if(t instanceof uD)return null;const s=super.deserialize(t,i,r);s.thickness=t.thickness,s.color=Ue.makeHexColor(...t.color),s.opacity=t.opacity;const[o,a]=s.pageDimensions,l=s.width*o,c=s.height*a,u=s.parentScale,f=t.thickness/2;M(s,Rn,!0),M(s,ao,Math.round(l)),M(s,lo,Math.round(c));const{paths:p,rect:g,rotation:b}=t;for(let{bezier:T}of p){T=P(v=ut,gr,GD).call(v,T,g,b);const C=[];s.paths.push(C);let _=u*(T[0]-f),A=u*(T[1]-f);for(let k=2,I=T.length;k<I;k+=6){const L=u*(T[k]-f),J=u*(T[k+1]-f),U=u*(T[k+2]-f),O=u*(T[k+3]-f),S=u*(T[k+4]-f),K=u*(T[k+5]-f);C.push([[_,A],[L,J],[U,O],[S,K]]),_=S,A=K}const R=P(this,gr,HD).call(this,C);s.bezierPath2D.push(R)}const y=P(x=s,Ce,Fm).call(x);return M(s,no,Math.max(et.MIN_SIZE,y[2]-y[0])),M(s,to,Math.max(et.MIN_SIZE,y[3]-y[1])),P(D=s,Ce,Rm).call(D,l,c),s}serialize(){if(this.isEmpty())return null;const t=this.getRect(0,0),i=et._colorManager.convert(this.ctx.strokeStyle);return{annotationType:Ge.INK,color:i,thickness:this.thickness,opacity:this.opacity,paths:P(this,Ce,$D).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,t),pageIndex:this.pageIndex,rect:t,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};to=new WeakMap,no=new WeakMap,Cu=new WeakMap,Au=new WeakMap,Eu=new WeakMap,io=new WeakMap,xi=new WeakMap,nr=new WeakMap,Rn=new WeakMap,ro=new WeakMap,so=new WeakMap,oo=new WeakMap,ao=new WeakMap,lo=new WeakMap,Br=new WeakMap,Ce=new WeakSet,kD=function(t){const i=s=>{this.thickness=s,P(this,Ce,Nl).call(this)},r=this.thickness;this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Pe.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},ND=function(t){const i=s=>{this.color=s,P(this,Ce,ps).call(this)},r=this.color;this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Pe.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},MD=function(t){const i=s=>{this.opacity=s,P(this,Ce,ps).call(this)};t/=100;const r=this.opacity;this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Pe.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},PD=function(){const{parentRotation:t,parentDimensions:[i,r]}=this;switch(t){case 90:return[0,r,r,i];case 180:return[i,r,i,r];case 270:return[i,0,r,i];default:return[0,0,i,r]}},wm=function(){const{ctx:t,color:i,opacity:r,thickness:s,parentScale:o,scaleFactor:a}=this;t.lineWidth=s*o/a,t.lineCap="round",t.lineJoin="round",t.miterLimit=10,t.strokeStyle=`${i}${tA(r)}`},LD=function(t,i){this.canvas.addEventListener("contextmenu",cn),this.canvas.addEventListener("pointerleave",m(this,Au)),this.canvas.addEventListener("pointermove",m(this,Cu)),this.canvas.addEventListener("pointerup",m(this,Eu)),this.canvas.removeEventListener("pointerdown",m(this,io)),this.isEditing=!0,m(this,so)||(M(this,so,!0),P(this,Ce,Oo).call(this),this.thickness||(this.thickness=ut._defaultThickness),this.color||(this.color=ut._defaultColor||et._defaultLineColor),this.opacity??(this.opacity=ut._defaultOpacity)),this.currentPath.push([t,i]),M(this,ro,!1),P(this,Ce,wm).call(this),M(this,Br,()=>{P(this,Ce,WD).call(this),m(this,Br)&&window.requestAnimationFrame(m(this,Br))}),window.requestAnimationFrame(m(this,Br))},Sm=function(t,i){const[r,s]=this.currentPath.at(-1);if(this.currentPath.length>1&&t===r&&i===s)return;const o=this.currentPath;let a=m(this,nr);if(o.push([t,i]),M(this,ro,!0),o.length<=2){a.moveTo(...o[0]),a.lineTo(t,i);return}o.length===3&&(M(this,nr,a=new Path2D),a.moveTo(...o[0])),P(this,Ce,qD).call(this,a,...o.at(-3),...o.at(-2),t,i)},BD=function(){if(this.currentPath.length===0)return;const t=this.currentPath.at(-1);m(this,nr).lineTo(...t)},OD=function(t,i){M(this,Br,null),t=Math.min(Math.max(t,0),this.canvas.width),i=Math.min(Math.max(i,0),this.canvas.height),P(this,Ce,Sm).call(this,t,i),P(this,Ce,BD).call(this);let r;if(this.currentPath.length!==1)r=P(this,Ce,VD).call(this);else{const c=[t,i];r=[[c,c.slice(),c.slice(),c]]}const s=m(this,nr),o=this.currentPath;this.currentPath=[],M(this,nr,new Path2D);const a=()=>{this.allRawPaths.push(o),this.paths.push(r),this.bezierPath2D.push(s),this._uiManager.rebuild(this)},l=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(P(this,Ce,wd).call(this),P(this,Ce,Sd).call(this)),P(this,Ce,Nl).call(this))};this.addCommands({cmd:a,undo:l,mustExec:!0})},WD=function(){if(!m(this,ro))return;M(this,ro,!1);const t=Math.ceil(this.thickness*this.parentScale),i=this.currentPath.slice(-3),r=i.map(a=>a[0]),s=i.map(a=>a[1]);Math.min(...r)-t,Math.max(...r)+t,Math.min(...s)-t,Math.max(...s)+t;const{ctx:o}=this;o.save(),o.clearRect(0,0,this.canvas.width,this.canvas.height);for(const a of this.bezierPath2D)o.stroke(a);o.stroke(m(this,nr)),o.restore()},qD=function(t,i,r,s,o,a,l){const c=(i+s)/2,u=(r+o)/2,f=(s+a)/2,p=(o+l)/2;t.bezierCurveTo(c+2*(s-c)/3,u+2*(o-u)/3,f+2*(s-f)/3,p+2*(o-p)/3,f,p)},VD=function(){const t=this.currentPath;if(t.length<=2)return[[t[0],t[0],t.at(-1),t.at(-1)]];const i=[];let r,[s,o]=t[0];for(r=1;r<t.length-2;r++){const[g,b]=t[r],[y,v]=t[r+1],x=(g+y)/2,D=(b+v)/2,T=[s+2*(g-s)/3,o+2*(b-o)/3],C=[x+2*(g-x)/3,D+2*(b-D)/3];i.push([[s,o],T,C,[x,D]]),[s,o]=[x,D]}const[a,l]=t[r],[c,u]=t[r+1],f=[s+2*(a-s)/3,o+2*(l-o)/3],p=[c+2*(a-c)/3,u+2*(l-u)/3];return i.push([[s,o],f,p,[c,u]]),i},ps=function(){if(this.isEmpty()){P(this,Ce,Ud).call(this);return}P(this,Ce,wm).call(this);const{canvas:t,ctx:i}=this;i.setTransform(1,0,0,1,0,0),i.clearRect(0,0,t.width,t.height),P(this,Ce,Ud).call(this);for(const r of this.bezierPath2D)i.stroke(r)},Um=function(t){this.canvas.removeEventListener("pointerleave",m(this,Au)),this.canvas.removeEventListener("pointermove",m(this,Cu)),this.canvas.removeEventListener("pointerup",m(this,Eu)),this.canvas.addEventListener("pointerdown",m(this,io)),m(this,xi)&&clearTimeout(m(this,xi)),M(this,xi,setTimeout(()=>{M(this,xi,null),this.canvas.removeEventListener("contextmenu",cn)},10)),P(this,Ce,OD).call(this,t.offsetX,t.offsetY),this.addToAnnotationStorage(),this.setInBackground()},wd=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},Sd=function(){M(this,oo,new ResizeObserver(t=>{const i=t[0].contentRect;i.width&&i.height&&this.setDimensions(i.width,i.height)})),m(this,oo).observe(this.div)},Oo=function(){if(!m(this,so))return;const[t,i]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*t),this.canvas.height=Math.ceil(this.height*i),P(this,Ce,Ud).call(this)},Rm=function(t,i){const r=P(this,Ce,Rd).call(this),s=(t-r)/m(this,no),o=(i-r)/m(this,to);this.scaleFactor=Math.min(s,o)},Ud=function(){const t=P(this,Ce,Rd).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+t,this.translationY*this.scaleFactor+t)},gr=new WeakSet,HD=function(t){const i=new Path2D;for(let r=0,s=t.length;r<s;r++){const[o,a,l,c]=t[r];r===0&&i.moveTo(...o),i.bezierCurveTo(a[0],a[1],l[0],l[1],c[0],c[1])}return i},Im=function(t,i,r){const[s,o,a,l]=i;switch(r){case 0:for(let c=0,u=t.length;c<u;c+=2)t[c]+=s,t[c+1]=l-t[c+1];break;case 90:for(let c=0,u=t.length;c<u;c+=2){const f=t[c];t[c]=t[c+1]+s,t[c+1]=f+o}break;case 180:for(let c=0,u=t.length;c<u;c+=2)t[c]=a-t[c],t[c+1]+=o;break;case 270:for(let c=0,u=t.length;c<u;c+=2){const f=t[c];t[c]=a-t[c+1],t[c+1]=l-f}break;default:throw new Error("Invalid rotation")}return t},GD=function(t,i,r){const[s,o,a,l]=i;switch(r){case 0:for(let c=0,u=t.length;c<u;c+=2)t[c]-=s,t[c+1]=l-t[c+1];break;case 90:for(let c=0,u=t.length;c<u;c+=2){const f=t[c];t[c]=t[c+1]-o,t[c+1]=f-s}break;case 180:for(let c=0,u=t.length;c<u;c+=2)t[c]=a-t[c],t[c+1]-=o;break;case 270:for(let c=0,u=t.length;c<u;c+=2){const f=t[c];t[c]=l-t[c+1],t[c+1]=a-f}break;default:throw new Error("Invalid rotation")}return t},$D=function(t,i,r,s){var u,f;const o=[],a=this.thickness/2,l=t*i+a,c=t*r+a;for(const p of this.paths){const g=[],b=[];for(let y=0,v=p.length;y<v;y++){const[x,D,T,C]=p[y];if(x[0]===C[0]&&x[1]===C[1]&&v===1){const O=t*x[0]+l,S=t*x[1]+c;g.push(O,S),b.push(O,S);break}const _=t*x[0]+l,A=t*x[1]+c,R=t*D[0]+l,k=t*D[1]+c,I=t*T[0]+l,L=t*T[1]+c,J=t*C[0]+l,U=t*C[1]+c;y===0&&(g.push(_,A),b.push(_,A)),g.push(R,k,I,L,J,U),b.push(R,k),y===v-1&&b.push(J,U)}o.push({bezier:P(u=ut,gr,Im).call(u,g,s,this.rotation),points:P(f=ut,gr,Im).call(f,b,s,this.rotation)})}return o},Fm=function(){let t=1/0,i=-1/0,r=1/0,s=-1/0;for(const o of this.paths)for(const[a,l,c,u]of o){const f=Ue.bezierBoundingBox(...a,...l,...c,...u);t=Math.min(t,f[0]),r=Math.min(r,f[1]),i=Math.max(i,f[2]),s=Math.max(s,f[3])}return[t,r,i,s]},Rd=function(){return m(this,Rn)?Math.ceil(this.thickness*this.parentScale):0},Nl=function(t=!1){if(this.isEmpty())return;if(!m(this,Rn)){P(this,Ce,ps).call(this);return}const i=P(this,Ce,Fm).call(this),r=P(this,Ce,Rd).call(this);M(this,no,Math.max(et.MIN_SIZE,i[2]-i[0])),M(this,to,Math.max(et.MIN_SIZE,i[3]-i[1]));const s=Math.ceil(r+m(this,no)*this.scaleFactor),o=Math.ceil(r+m(this,to)*this.scaleFactor),[a,l]=this.parentDimensions;this.width=s/a,this.height=o/l,this.setAspectRatio(s,o);const c=this.translationX,u=this.translationY;this.translationX=-i[0],this.translationY=-i[1],P(this,Ce,Oo).call(this),P(this,Ce,ps).call(this),M(this,ao,s),M(this,lo,o),this.setDims(s,o);const f=t?r/this.scaleFactor/2:0;this.translate(c-this.translationX-f,u-this.translationY-f)},W(ut,gr),Le(ut,"_defaultColor",null),Le(ut,"_defaultOpacity",1),Le(ut,"_defaultThickness",1),Le(ut,"_type","ink"),Le(ut,"_editorType",Ge.INK);let Em=ut;var Mt,Pt,Or,ir,Wr,Oa,Di,co,Ti,ni,wu,ze,Ml,Pl,Id,Nm,zD,XD,Mm,Fd,JD;const Vl=class Vl extends et{constructor(t){super({...t,name:"stampEditor"});W(this,ze);W(this,Mt,null);W(this,Pt,null);W(this,Or,null);W(this,ir,null);W(this,Wr,null);W(this,Oa,"");W(this,Di,null);W(this,co,null);W(this,Ti,null);W(this,ni,!1);W(this,wu,!1);M(this,ir,t.bitmapUrl),M(this,Wr,t.bitmapFile)}static initialize(t,i){et.initialize(t,i)}static get supportedTypes(){return $e(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(i=>`image/${i}`))}static get supportedTypesStr(){return $e(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(t){return this.supportedTypes.includes(t)}static paste(t,i){i.pasteEditor(Ge.STAMP,{bitmapFile:t.getAsFile()})}remove(){var t,i;m(this,Pt)&&(M(this,Mt,null),this._uiManager.imageManager.deleteId(m(this,Pt)),(t=m(this,Di))==null||t.remove(),M(this,Di,null),(i=m(this,co))==null||i.disconnect(),M(this,co,null),m(this,Ti)&&(clearTimeout(m(this,Ti)),M(this,Ti,null))),super.remove()}rebuild(){if(!this.parent){m(this,Pt)&&P(this,ze,Id).call(this);return}super.rebuild(),this.div!==null&&(m(this,Pt)&&m(this,Di)===null&&P(this,ze,Id).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(m(this,Or)||m(this,Mt)||m(this,ir)||m(this,Wr)||m(this,Pt))}get isResizable(){return!0}render(){if(this.div)return this.div;let t,i;if(this.width&&(t=this.x,i=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),m(this,Mt)?P(this,ze,Nm).call(this):P(this,ze,Id).call(this),this.width){const[r,s]=this.parentDimensions;this.setAt(t*r,i*s,this.width*r,this.height*s)}return this.div}getImageForAltText(){return m(this,Di)}static deserialize(t,i,r){if(t instanceof dD)return null;const s=super.deserialize(t,i,r),{rect:o,bitmapUrl:a,bitmapId:l,isSvg:c,accessibilityData:u}=t;l&&r.imageManager.isValidId(l)?M(s,Pt,l):M(s,ir,a),M(s,ni,c);const[f,p]=s.pageDimensions;return s.width=(o[2]-o[0])/f,s.height=(o[3]-o[1])/p,u&&(s.altTextData=u),s}serialize(t=!1,i=null){if(this.isEmpty())return null;const r={annotationType:Ge.STAMP,bitmapId:m(this,Pt),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:m(this,ni),structTreeParentId:this._structTreeParentId};if(t)return r.bitmapUrl=P(this,ze,Fd).call(this,!0),r.accessibilityData=this.altTextData,r;const{decorative:s,altText:o}=this.altTextData;if(!s&&o&&(r.accessibilityData={type:"Figure",alt:o}),i===null)return r;i.stamps||(i.stamps=new Map);const a=m(this,ni)?(r.rect[2]-r.rect[0])*(r.rect[3]-r.rect[1]):null;if(!i.stamps.has(m(this,Pt)))i.stamps.set(m(this,Pt),{area:a,serialized:r}),r.bitmap=P(this,ze,Fd).call(this,!1);else if(m(this,ni)){const l=i.stamps.get(m(this,Pt));a>l.area&&(l.area=a,l.serialized.bitmap.close(),l.serialized.bitmap=P(this,ze,Fd).call(this,!1))}return r}};Mt=new WeakMap,Pt=new WeakMap,Or=new WeakMap,ir=new WeakMap,Wr=new WeakMap,Oa=new WeakMap,Di=new WeakMap,co=new WeakMap,Ti=new WeakMap,ni=new WeakMap,wu=new WeakMap,ze=new WeakSet,Ml=function(t,i=!1){if(!t){this.remove();return}M(this,Mt,t.bitmap),i||(M(this,Pt,t.id),M(this,ni,t.isSvg)),t.file&&M(this,Oa,t.file.name),P(this,ze,Nm).call(this)},Pl=function(){M(this,Or,null),this._uiManager.enableWaiting(!1),m(this,Di)&&this.div.focus()},Id=function(){if(m(this,Pt)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(m(this,Pt)).then(i=>P(this,ze,Ml).call(this,i,!0)).finally(()=>P(this,ze,Pl).call(this));return}if(m(this,ir)){const i=m(this,ir);M(this,ir,null),this._uiManager.enableWaiting(!0),M(this,Or,this._uiManager.imageManager.getFromUrl(i).then(r=>P(this,ze,Ml).call(this,r)).finally(()=>P(this,ze,Pl).call(this)));return}if(m(this,Wr)){const i=m(this,Wr);M(this,Wr,null),this._uiManager.enableWaiting(!0),M(this,Or,this._uiManager.imageManager.getFromFile(i).then(r=>P(this,ze,Ml).call(this,r)).finally(()=>P(this,ze,Pl).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=Vl.supportedTypesStr,M(this,Or,new Promise(i=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const r=await this._uiManager.imageManager.getFromFile(t.files[0]);P(this,ze,Ml).call(this,r)}i()}),t.addEventListener("cancel",()=>{this.remove(),i()})}).finally(()=>P(this,ze,Pl).call(this))),t.click()},Nm=function(){const{div:t}=this;let{width:i,height:r}=m(this,Mt);const[s,o]=this.pageDimensions,a=.75;if(this.width)i=this.width*s,r=this.height*o;else if(i>a*s||r>a*o){const f=Math.min(a*s/i,a*o/r);i*=f,r*=f}const[l,c]=this.parentDimensions;this.setDims(i*l/s,r*c/o),this._uiManager.enableWaiting(!1);const u=M(this,Di,document.createElement("canvas"));t.append(u),t.hidden=!1,P(this,ze,Mm).call(this,i,r),P(this,ze,JD).call(this),m(this,wu)||(this.parent.addUndoableEditor(this),M(this,wu,!0)),this._reportTelemetry({action:"inserted_image"}),m(this,Oa)&&u.setAttribute("aria-label",m(this,Oa))},zD=function(t,i){var a;const[r,s]=this.parentDimensions;this.width=t/r,this.height=i/s,this.setDims(t,i),(a=this._initialOptions)!=null&&a.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,m(this,Ti)!==null&&clearTimeout(m(this,Ti)),M(this,Ti,setTimeout(()=>{M(this,Ti,null),P(this,ze,Mm).call(this,t,i)},200))},XD=function(t,i){const{width:r,height:s}=m(this,Mt);let o=r,a=s,l=m(this,Mt);for(;o>2*t||a>2*i;){const c=o,u=a;o>2*t&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2)),a>2*i&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2));const f=new OffscreenCanvas(o,a);f.getContext("2d").drawImage(l,0,0,c,u,0,0,o,a),l=f.transferToImageBitmap()}return l},Mm=function(t,i){t=Math.ceil(t),i=Math.ceil(i);const r=m(this,Di);if(!r||r.width===t&&r.height===i)return;r.width=t,r.height=i;const s=m(this,ni)?m(this,Mt):P(this,ze,XD).call(this,t,i);if(this._uiManager.hasMLManager&&!this.hasAltText()){const l=new OffscreenCanvas(t,i).getContext("2d");l.drawImage(s,0,0,s.width,s.height,0,0,t,i),this._uiManager.mlGuess({service:"image-to-text",request:{data:l.getImageData(0,0,t,i).data,width:t,height:i,channels:4}}).then(c=>{const u=(c==null?void 0:c.output)||"";this.parent&&u&&!this.hasAltText()&&(this.altTextData={altText:u,decorative:!1})})}const o=r.getContext("2d");o.filter=this._uiManager.hcmFilter,o.drawImage(s,0,0,s.width,s.height,0,0,t,i)},Fd=function(t){if(t){if(m(this,ni)){const s=this._uiManager.imageManager.getSvgUrl(m(this,Pt));if(s)return s}const i=document.createElement("canvas");return{width:i.width,height:i.height}=m(this,Mt),i.getContext("2d").drawImage(m(this,Mt),0,0),i.toDataURL()}if(m(this,ni)){const[i,r]=this.pageDimensions,s=Math.round(this.width*i*zr.PDF_TO_CSS_UNITS),o=Math.round(this.height*r*zr.PDF_TO_CSS_UNITS),a=new OffscreenCanvas(s,o);return a.getContext("2d").drawImage(m(this,Mt),0,0,m(this,Mt).width,m(this,Mt).height,0,0,s,o),a.transferToImageBitmap()}return structuredClone(m(this,Mt))},JD=function(){M(this,co,new ResizeObserver(t=>{const i=t[0].contentRect;i.width&&i.height&&P(this,ze,zD).call(this,i.width,i.height)})),m(this,co).observe(this.div)},Le(Vl,"_type","stamp"),Le(Vl,"_editorType",Ge.STAMP);let km=Vl;var uo,Wa,_i,ho,rr,sr,or,Dn,qr,qa,Va,Yt,Fe,Vr,Lt,YD,Lm,Bm,Om,kd;const Gn=class Gn{constructor({uiManager:e,pageIndex:t,div:i,accessibilityManager:r,annotationLayer:s,drawLayer:o,textLayer:a,viewport:l,l10n:c}){W(this,Lt);W(this,uo);W(this,Wa,!1);W(this,_i,null);W(this,ho,null);W(this,rr,null);W(this,sr,null);W(this,or,null);W(this,Dn,new Map);W(this,qr,!1);W(this,qa,!1);W(this,Va,!1);W(this,Yt,null);W(this,Fe);const u=[...m(Gn,Vr).values()];if(!Gn._initialized){Gn._initialized=!0;for(const f of u)f.initialize(c,e)}e.registerEditorTypes(u),M(this,Fe,e),this.pageIndex=t,this.div=i,M(this,uo,r),M(this,_i,s),this.viewport=l,M(this,Yt,a),this.drawLayer=o,m(this,Fe).addLayer(this)}get isEmpty(){return m(this,Dn).size===0}get isInvisible(){return this.isEmpty&&m(this,Fe).getMode()===Ge.NONE}updateToolbar(e){m(this,Fe).updateToolbar(e)}updateMode(e=m(this,Fe).getMode()){switch(P(this,Lt,kd).call(this),e){case Ge.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Ge.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case Ge.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const i of m(Gn,Vr).values())t.toggle(`${i._type}Editing`,e===i._editorType);this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=m(this,Yt))==null?void 0:t.div)}addInkEditorIfNeeded(e){if(m(this,Fe).getMode()!==Ge.INK)return;if(!e){for(const i of m(this,Dn).values())if(i.isEmpty()){i.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(e){m(this,Fe).setEditingState(e)}addCommands(e){m(this,Fe).addCommands(e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=m(this,_i))==null||t.div.classList.toggle("disabled",!e)}enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const i of m(this,Dn).values())i.enableEditing(),i.show(!0),i.annotationElementId&&(m(this,Fe).removeChangedExistingAnnotation(i),e.add(i.annotationElementId));if(!m(this,_i))return;const t=m(this,_i).getEditableAnnotations();for(const i of t){if(i.hide(),m(this,Fe).isDeletedAnnotationElement(i.data.id)||e.has(i.data.id))continue;const r=this.deserialize(i);r&&(this.addOrRebuild(r),r.enableEditing())}}disable(){var r;M(this,Va,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,t=new Map;for(const s of m(this,Dn).values())if(s.disableEditing(),!!s.annotationElementId){if(s.serialize()!==null){e.set(s.annotationElementId,s);continue}else t.set(s.annotationElementId,s);(r=this.getEditableAnnotation(s.annotationElementId))==null||r.show(),s.remove()}if(m(this,_i)){const s=m(this,_i).getEditableAnnotations();for(const o of s){const{id:a}=o.data;if(m(this,Fe).isDeletedAnnotationElement(a))continue;let l=t.get(a);if(l){l.resetAnnotationElement(o),l.show(!1),o.show();continue}l=e.get(a),l&&(m(this,Fe).addChangedExistingAnnotation(l),l.renderAnnotationElement(o),l.show(!1)),o.show()}}P(this,Lt,kd).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:i}=this.div;for(const s of m(Gn,Vr).values())i.remove(`${s._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),M(this,Va,!1)}getEditableAnnotation(e){var t;return((t=m(this,_i))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){m(this,Fe).getActive()!==e&&m(this,Fe).setActiveEditor(e)}enableTextSelection(){var e;this.div.tabIndex=-1,(e=m(this,Yt))!=null&&e.div&&!m(this,sr)&&(M(this,sr,P(this,Lt,YD).bind(this)),m(this,Yt).div.addEventListener("pointerdown",m(this,sr)),m(this,Yt).div.classList.add("highlighting"))}disableTextSelection(){var e;this.div.tabIndex=0,(e=m(this,Yt))!=null&&e.div&&m(this,sr)&&(m(this,Yt).div.removeEventListener("pointerdown",m(this,sr)),M(this,sr,null),m(this,Yt).div.classList.remove("highlighting"))}enableClick(){m(this,rr)||(M(this,rr,this.pointerdown.bind(this)),M(this,ho,this.pointerup.bind(this)),this.div.addEventListener("pointerdown",m(this,rr)),this.div.addEventListener("pointerup",m(this,ho)))}disableClick(){m(this,rr)&&(this.div.removeEventListener("pointerdown",m(this,rr)),this.div.removeEventListener("pointerup",m(this,ho)),M(this,rr,null),M(this,ho,null))}attach(e){m(this,Dn).set(e.id,e);const{annotationElementId:t}=e;t&&m(this,Fe).isDeletedAnnotationElement(t)&&m(this,Fe).removeDeletedAnnotationElement(e)}detach(e){var t;m(this,Dn).delete(e.id),(t=m(this,uo))==null||t.removePointerInTextLayer(e.contentDiv),!m(this,Va)&&e.annotationElementId&&m(this,Fe).addDeletedAnnotationElement(e)}remove(e){this.detach(e),m(this,Fe).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1,m(this,qa)||this.addInkEditorIfNeeded(!1)}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(m(this,Fe).addDeletedAnnotationElement(e.annotationElementId),et.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),m(this,Fe).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(),m(this,Fe).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var i;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!m(this,or)&&(e._focusEventsAllowed=!1,M(this,or,setTimeout(()=>{M(this,or,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0}),t.focus())},0))),e._structTreeParentId=(i=m(this,uo))==null?void 0:i.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),i=()=>{e.remove()};this.addCommands({cmd:t,undo:i,mustExec:!1})}getNextId(){return m(this,Fe).getId()}canCreateNewEmptyEditor(){var e;return(e=m(this,Lt,Lm))==null?void 0:e.canCreateNewEmptyEditor()}pasteEditor(e,t){m(this,Fe).updateToolbar(e),m(this,Fe).updateMode(e);const{offsetX:i,offsetY:r}=P(this,Lt,Om).call(this),s=this.getNextId(),o=P(this,Lt,Bm).call(this,{parent:this,id:s,x:i,y:r,uiManager:m(this,Fe),isCentered:!0,...t});o&&this.add(o)}deserialize(e){var t;return((t=m(Gn,Vr).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,m(this,Fe)))||null}createAndAddNewEditor(e,t,i={}){const r=this.getNextId(),s=P(this,Lt,Bm).call(this,{parent:this,id:r,x:e.offsetX,y:e.offsetY,uiManager:m(this,Fe),isCentered:t,...i});return s&&this.add(s),s}addNewEditor(){this.createAndAddNewEditor(P(this,Lt,Om).call(this),!0)}setSelected(e){m(this,Fe).setSelected(e)}toggleSelected(e){m(this,Fe).toggleSelected(e)}isSelected(e){return m(this,Fe).isSelected(e)}unselect(e){m(this,Fe).unselect(e)}pointerup(e){const{isMac:t}=an.platform;if(!(e.button!==0||e.ctrlKey&&t)&&e.target===this.div&&m(this,qr)){if(M(this,qr,!1),!m(this,Wa)){M(this,Wa,!0);return}if(m(this,Fe).getMode()===Ge.STAMP){m(this,Fe).unselectAll();return}this.createAndAddNewEditor(e,!1)}}pointerdown(e){if(m(this,Fe).getMode()===Ge.HIGHLIGHT&&this.enableTextSelection(),m(this,qr)){M(this,qr,!1);return}const{isMac:t}=an.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;M(this,qr,!0);const i=m(this,Fe).getActive();M(this,Wa,!i||i.isEmpty())}findNewParent(e,t,i){const r=m(this,Fe).findParent(t,i);return r===null||r===this?!1:(r.changeParent(e),!0)}destroy(){var e,t;((e=m(this,Fe).getActive())==null?void 0:e.parent)===this&&(m(this,Fe).commitOrRemove(),m(this,Fe).setActiveEditor(null)),m(this,or)&&(clearTimeout(m(this,or)),M(this,or,null));for(const i of m(this,Dn).values())(t=m(this,uo))==null||t.removePointerInTextLayer(i.contentDiv),i.setParent(null),i.isAttachedToDOM=!1,i.div.remove();this.div=null,m(this,Dn).clear(),m(this,Fe).removeLayer(this)}render({viewport:e}){this.viewport=e,po(this.div,e);for(const t of m(this,Fe).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){m(this,Fe).commitOrRemove(),P(this,Lt,kd).call(this);const t=this.viewport.rotation,i=e.rotation;if(this.viewport=e,po(this.div,{rotation:i}),t!==i)for(const r of m(this,Dn).values())r.rotate(i);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return m(this,Fe).viewParameters.realScale}};uo=new WeakMap,Wa=new WeakMap,_i=new WeakMap,ho=new WeakMap,rr=new WeakMap,sr=new WeakMap,or=new WeakMap,Dn=new WeakMap,qr=new WeakMap,qa=new WeakMap,Va=new WeakMap,Yt=new WeakMap,Fe=new WeakMap,Vr=new WeakMap,Lt=new WeakSet,YD=function(e){if(m(this,Fe).unselectAll(),e.target===m(this,Yt).div){const{isMac:t}=an.platform;if(e.button!==0||e.ctrlKey&&t)return;m(this,Fe).showAllEditors("highlight",!0,!0),m(this,Yt).div.classList.add("free"),fh.startHighlighting(this,m(this,Fe).direction==="ltr",e),m(this,Yt).div.addEventListener("pointerup",()=>{m(this,Yt).div.classList.remove("free")},{once:!0}),e.preventDefault()}},Lm=function(){return m(Gn,Vr).get(m(this,Fe).getMode())},Bm=function(e){const t=m(this,Lt,Lm);return t?new t.prototype.constructor(e):null},Om=function(){const{x:e,y:t,width:i,height:r}=this.div.getBoundingClientRect(),s=Math.max(0,e),o=Math.max(0,t),a=Math.min(window.innerWidth,e+i),l=Math.min(window.innerHeight,t+r),c=(s+a)/2-e,u=(o+l)/2-t,[f,p]=this.viewport.rotation%180===0?[c,u]:[u,c];return{offsetX:f,offsetY:p}},kd=function(){M(this,qa,!0);for(const e of m(this,Dn).values())e.isEmpty()&&e.remove();M(this,qa,!1)},Le(Gn,"_initialized",!1),W(Gn,Vr,new Map([gm,Em,km,fh].map(e=>[e._editorType,e])));let Pm=Gn;var Ci,Su,Tt,Hr,Uu,qm,xo,Vm,KD;const Rt=class Rt{constructor({pageIndex:e}){W(this,xo);W(this,Ci,null);W(this,Su,0);W(this,Tt,new Map);W(this,Hr,new Map);this.pageIndex=e}setParent(e){if(!m(this,Ci)){M(this,Ci,e);return}if(m(this,Ci)!==e){if(m(this,Tt).size>0)for(const t of m(this,Tt).values())t.remove(),e.append(t);M(this,Ci,e)}}static get _svgFactory(){return $e(this,"_svgFactory",new oy)}highlight(e,t,i,r=!1){const s=St(this,Su)._++,o=P(this,xo,Vm).call(this,e.box);o.classList.add("highlight"),e.free&&o.classList.add("free");const a=Rt._svgFactory.createElement("defs");o.append(a);const l=Rt._svgFactory.createElement("path");a.append(l);const c=`path_p${this.pageIndex}_${s}`;l.setAttribute("id",c),l.setAttribute("d",e.toSVGPath()),r&&m(this,Hr).set(s,l);const u=P(this,xo,KD).call(this,a,c),f=Rt._svgFactory.createElement("use");return o.append(f),o.setAttribute("fill",t),o.setAttribute("fill-opacity",i),f.setAttribute("href",`#${c}`),m(this,Tt).set(s,o),{id:s,clipPathId:`url(#${u})`}}highlightOutline(e){const t=St(this,Su)._++,i=P(this,xo,Vm).call(this,e.box);i.classList.add("highlightOutline");const r=Rt._svgFactory.createElement("defs");i.append(r);const s=Rt._svgFactory.createElement("path");r.append(s);const o=`path_p${this.pageIndex}_${t}`;s.setAttribute("id",o),s.setAttribute("d",e.toSVGPath()),s.setAttribute("vector-effect","non-scaling-stroke");let a;if(e.free){i.classList.add("free");const u=Rt._svgFactory.createElement("mask");r.append(u),a=`mask_p${this.pageIndex}_${t}`,u.setAttribute("id",a),u.setAttribute("maskUnits","objectBoundingBox");const f=Rt._svgFactory.createElement("rect");u.append(f),f.setAttribute("width","1"),f.setAttribute("height","1"),f.setAttribute("fill","white");const p=Rt._svgFactory.createElement("use");u.append(p),p.setAttribute("href",`#${o}`),p.setAttribute("stroke","none"),p.setAttribute("fill","black"),p.setAttribute("fill-rule","nonzero"),p.classList.add("mask")}const l=Rt._svgFactory.createElement("use");i.append(l),l.setAttribute("href",`#${o}`),a&&l.setAttribute("mask",`url(#${a})`);const c=l.cloneNode();return i.append(c),l.classList.add("mainOutline"),c.classList.add("secondaryOutline"),m(this,Tt).set(t,i),t}finalizeLine(e,t){const i=m(this,Hr).get(e);m(this,Hr).delete(e),this.updateBox(e,t.box),i.setAttribute("d",t.toSVGPath())}updateLine(e,t){m(this,Tt).get(e).firstChild.firstChild.setAttribute("d",t.toSVGPath())}removeFreeHighlight(e){this.remove(e),m(this,Hr).delete(e)}updatePath(e,t){m(this,Hr).get(e).setAttribute("d",t.toSVGPath())}updateBox(e,t){var i;P(i=Rt,Uu,qm).call(i,m(this,Tt).get(e),t)}show(e,t){m(this,Tt).get(e).classList.toggle("hidden",!t)}rotate(e,t){m(this,Tt).get(e).setAttribute("data-main-rotation",t)}changeColor(e,t){m(this,Tt).get(e).setAttribute("fill",t)}changeOpacity(e,t){m(this,Tt).get(e).setAttribute("fill-opacity",t)}addClass(e,t){m(this,Tt).get(e).classList.add(t)}removeClass(e,t){m(this,Tt).get(e).classList.remove(t)}remove(e){m(this,Ci)!==null&&(m(this,Tt).get(e).remove(),m(this,Tt).delete(e))}destroy(){M(this,Ci,null);for(const e of m(this,Tt).values())e.remove();m(this,Tt).clear()}};Ci=new WeakMap,Su=new WeakMap,Tt=new WeakMap,Hr=new WeakMap,Uu=new WeakSet,qm=function(e,{x:t=0,y:i=0,width:r=1,height:s=1}={}){const{style:o}=e;o.top=`${100*i}%`,o.left=`${100*t}%`,o.width=`${100*r}%`,o.height=`${100*s}%`},xo=new WeakSet,Vm=function(e){var i;const t=Rt._svgFactory.create(1,1,!0);return m(this,Ci).append(t),t.setAttribute("aria-hidden",!0),P(i=Rt,Uu,qm).call(i,t,e),t},KD=function(e,t){const i=Rt._svgFactory.createElement("clipPath");e.append(i);const r=`clip_${t}`;i.setAttribute("id",r),i.setAttribute("clipPathUnits","objectBoundingBox");const s=Rt._svgFactory.createElement("use");return i.append(s),s.setAttribute("href",`#${t}`),s.classList.add("clip"),r},W(Rt,Uu);let Wm=Rt;Me.AbortException;Me.AnnotationEditorLayer;Me.AnnotationEditorParamsType;Me.AnnotationEditorType;Me.AnnotationEditorUIManager;Me.AnnotationLayer;Me.AnnotationMode;Me.CMapCompressionType;Me.ColorPicker;Me.DOMSVGFactory;Me.DrawLayer;Me.FeatureTest;var FE=Me.GlobalWorkerOptions;Me.ImageKind;Me.InvalidPDFException;Me.MissingPDFException;Me.OPS;Me.Outliner;Me.PDFDataRangeTransport;Me.PDFDateString;Me.PDFWorker;Me.PasswordResponses;Me.PermissionFlag;Me.PixelsPerInch;Me.RenderingCancelledException;Me.TextLayer;Me.UnexpectedResponseException;Me.Util;Me.VerbosityLevel;Me.XfaLayer;Me.build;Me.createValidAbsoluteUrl;Me.fetchData;var kE=Me.getDocument;Me.getFilenameFromUrl;Me.getPdfFilenameFromUrl;Me.getXfaPageViewport;Me.isDataScheme;Me.isPdfFile;Me.noContextMenu;Me.normalizeUnicode;Me.renderTextLayer;Me.setLayerDimensions;Me.shadow;Me.updateTextLayer;Me.version;var zf={exports:{}},Mv;function NE(){return Mv||(Mv=1,(function(n){var e=(function(t){var i=Object.prototype,r=i.hasOwnProperty,s=Object.defineProperty||function(V,Y,F){V[Y]=F.value},o,a=typeof Symbol=="function"?Symbol:{},l=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function f(V,Y,F){return Object.defineProperty(V,Y,{value:F,enumerable:!0,configurable:!0,writable:!0}),V[Y]}try{f({},"")}catch{f=function(Y,F,X){return Y[F]=X}}function p(V,Y,F,X){var z=Y&&Y.prototype instanceof T?Y:T,ne=Object.create(z.prototype),oe=new q(X||[]);return s(ne,"_invoke",{value:U(V,F,oe)}),ne}t.wrap=p;function g(V,Y,F){try{return{type:"normal",arg:V.call(Y,F)}}catch(X){return{type:"throw",arg:X}}}var b="suspendedStart",y="suspendedYield",v="executing",x="completed",D={};function T(){}function C(){}function _(){}var A={};f(A,l,function(){return this});var R=Object.getPrototypeOf,k=R&&R(R(B([])));k&&k!==i&&r.call(k,l)&&(A=k);var I=_.prototype=T.prototype=Object.create(A);C.prototype=_,s(I,"constructor",{value:_,configurable:!0}),s(_,"constructor",{value:C,configurable:!0}),C.displayName=f(_,u,"GeneratorFunction");function L(V){["next","throw","return"].forEach(function(Y){f(V,Y,function(F){return this._invoke(Y,F)})})}t.isGeneratorFunction=function(V){var Y=typeof V=="function"&&V.constructor;return Y?Y===C||(Y.displayName||Y.name)==="GeneratorFunction":!1},t.mark=function(V){return Object.setPrototypeOf?Object.setPrototypeOf(V,_):(V.__proto__=_,f(V,u,"GeneratorFunction")),V.prototype=Object.create(I),V},t.awrap=function(V){return{__await:V}};function J(V,Y){function F(ne,oe,pe,ce){var ge=g(V[ne],V,oe);if(ge.type==="throw")ce(ge.arg);else{var ye=ge.arg,Te=ye.value;return Te&&typeof Te=="object"&&r.call(Te,"__await")?Y.resolve(Te.__await).then(function(Ee){F("next",Ee,pe,ce)},function(Ee){F("throw",Ee,pe,ce)}):Y.resolve(Te).then(function(Ee){ye.value=Ee,pe(ye)},function(Ee){return F("throw",Ee,pe,ce)})}}var X;function z(ne,oe){function pe(){return new Y(function(ce,ge){F(ne,oe,ce,ge)})}return X=X?X.then(pe,pe):pe()}s(this,"_invoke",{value:z})}L(J.prototype),f(J.prototype,c,function(){return this}),t.AsyncIterator=J,t.async=function(V,Y,F,X,z){z===void 0&&(z=Promise);var ne=new J(p(V,Y,F,X),z);return t.isGeneratorFunction(Y)?ne:ne.next().then(function(oe){return oe.done?oe.value:ne.next()})};function U(V,Y,F){var X=b;return function(ne,oe){if(X===v)throw new Error("Generator is already running");if(X===x){if(ne==="throw")throw oe;return j()}for(F.method=ne,F.arg=oe;;){var pe=F.delegate;if(pe){var ce=O(pe,F);if(ce){if(ce===D)continue;return ce}}if(F.method==="next")F.sent=F._sent=F.arg;else if(F.method==="throw"){if(X===b)throw X=x,F.arg;F.dispatchException(F.arg)}else F.method==="return"&&F.abrupt("return",F.arg);X=v;var ge=g(V,Y,F);if(ge.type==="normal"){if(X=F.done?x:y,ge.arg===D)continue;return{value:ge.arg,done:F.done}}else ge.type==="throw"&&(X=x,F.method="throw",F.arg=ge.arg)}}}function O(V,Y){var F=Y.method,X=V.iterator[F];if(X===o)return Y.delegate=null,F==="throw"&&V.iterator.return&&(Y.method="return",Y.arg=o,O(V,Y),Y.method==="throw")||F!=="return"&&(Y.method="throw",Y.arg=new TypeError("The iterator does not provide a '"+F+"' method")),D;var z=g(X,V.iterator,Y.arg);if(z.type==="throw")return Y.method="throw",Y.arg=z.arg,Y.delegate=null,D;var ne=z.arg;if(!ne)return Y.method="throw",Y.arg=new TypeError("iterator result is not an object"),Y.delegate=null,D;if(ne.done)Y[V.resultName]=ne.value,Y.next=V.nextLoc,Y.method!=="return"&&(Y.method="next",Y.arg=o);else return ne;return Y.delegate=null,D}L(I),f(I,u,"Generator"),f(I,l,function(){return this}),f(I,"toString",function(){return"[object Generator]"});function S(V){var Y={tryLoc:V[0]};1 in V&&(Y.catchLoc=V[1]),2 in V&&(Y.finallyLoc=V[2],Y.afterLoc=V[3]),this.tryEntries.push(Y)}function K(V){var Y=V.completion||{};Y.type="normal",delete Y.arg,V.completion=Y}function q(V){this.tryEntries=[{tryLoc:"root"}],V.forEach(S,this),this.reset(!0)}t.keys=function(V){var Y=Object(V),F=[];for(var X in Y)F.push(X);return F.reverse(),function z(){for(;F.length;){var ne=F.pop();if(ne in Y)return z.value=ne,z.done=!1,z}return z.done=!0,z}};function B(V){if(V){var Y=V[l];if(Y)return Y.call(V);if(typeof V.next=="function")return V;if(!isNaN(V.length)){var F=-1,X=function z(){for(;++F<V.length;)if(r.call(V,F))return z.value=V[F],z.done=!1,z;return z.value=o,z.done=!0,z};return X.next=X}}return{next:j}}t.values=B;function j(){return{value:o,done:!0}}return q.prototype={constructor:q,reset:function(V){if(this.prev=0,this.next=0,this.sent=this._sent=o,this.done=!1,this.delegate=null,this.method="next",this.arg=o,this.tryEntries.forEach(K),!V)for(var Y in this)Y.charAt(0)==="t"&&r.call(this,Y)&&!isNaN(+Y.slice(1))&&(this[Y]=o)},stop:function(){this.done=!0;var V=this.tryEntries[0],Y=V.completion;if(Y.type==="throw")throw Y.arg;return this.rval},dispatchException:function(V){if(this.done)throw V;var Y=this;function F(ce,ge){return ne.type="throw",ne.arg=V,Y.next=ce,ge&&(Y.method="next",Y.arg=o),!!ge}for(var X=this.tryEntries.length-1;X>=0;--X){var z=this.tryEntries[X],ne=z.completion;if(z.tryLoc==="root")return F("end");if(z.tryLoc<=this.prev){var oe=r.call(z,"catchLoc"),pe=r.call(z,"finallyLoc");if(oe&&pe){if(this.prev<z.catchLoc)return F(z.catchLoc,!0);if(this.prev<z.finallyLoc)return F(z.finallyLoc)}else if(oe){if(this.prev<z.catchLoc)return F(z.catchLoc,!0)}else if(pe){if(this.prev<z.finallyLoc)return F(z.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(V,Y){for(var F=this.tryEntries.length-1;F>=0;--F){var X=this.tryEntries[F];if(X.tryLoc<=this.prev&&r.call(X,"finallyLoc")&&this.prev<X.finallyLoc){var z=X;break}}z&&(V==="break"||V==="continue")&&z.tryLoc<=Y&&Y<=z.finallyLoc&&(z=null);var ne=z?z.completion:{};return ne.type=V,ne.arg=Y,z?(this.method="next",this.next=z.finallyLoc,D):this.complete(ne)},complete:function(V,Y){if(V.type==="throw")throw V.arg;return V.type==="break"||V.type==="continue"?this.next=V.arg:V.type==="return"?(this.rval=this.arg=V.arg,this.method="return",this.next="end"):V.type==="normal"&&Y&&(this.next=Y),D},finish:function(V){for(var Y=this.tryEntries.length-1;Y>=0;--Y){var F=this.tryEntries[Y];if(F.finallyLoc===V)return this.complete(F.completion,F.afterLoc),K(F),D}},catch:function(V){for(var Y=this.tryEntries.length-1;Y>=0;--Y){var F=this.tryEntries[Y];if(F.tryLoc===V){var X=F.completion;if(X.type==="throw"){var z=X.arg;K(F)}return z}}throw new Error("illegal catch attempt")},delegateYield:function(V,Y,F){return this.delegate={iterator:B(V),resultName:Y,nextLoc:F},this.method==="next"&&(this.arg=o),D}},t})(n.exports);try{regeneratorRuntime=e}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}})(zf)),zf.exports}var Xf,Pv;function py(){return Pv||(Pv=1,Xf=(n,e)=>`${n}-${e}-${Math.random().toString(16).slice(3,8)}`),Xf}var Jf,Lv;function jD(){if(Lv)return Jf;Lv=1;const n=py();let e=0;return Jf=({id:t,action:i,payload:r={}})=>{let s=t;return typeof s>"u"&&(s=n("Job",e),e+=1),{id:s,action:i,payload:r}},Jf}var cl={},Bv;function gy(){if(Bv)return cl;Bv=1;let n=!1;return cl.logging=n,cl.setLogging=e=>{n=e},cl.log=(...e)=>n?console.log.apply(this,e):null,cl}var Yf,Ov;function ME(){if(Ov)return Yf;Ov=1;const n=jD(),{log:e}=gy(),t=py();let i=0;return Yf=()=>{const r=t("Scheduler",i),s={},o={};let a=[];i+=1;const l=()=>a.length,c=()=>Object.keys(s).length,u=()=>{if(a.length!==0){const y=Object.keys(s);for(let v=0;v<y.length;v+=1)if(typeof o[y[v]]>"u"){a[0](s[y[v]]);break}}},f=(y,v)=>new Promise((x,D)=>{const T=n({action:y,payload:v});a.push(async C=>{a.shift(),o[C.id]=T;try{x(await C[y].apply(this,[...v,T.id]))}catch(_){D(_)}finally{delete o[C.id],u()}}),e(`[${r}]: Add ${T.id} to JobQueue`),e(`[${r}]: JobQueue length=${a.length}`),u()});return{addWorker:y=>(s[y.id]=y,e(`[${r}]: Add ${y.id}`),e(`[${r}]: Number of workers=${c()}`),u(),y.id),addJob:async(y,...v)=>{if(c()===0)throw Error(`[${r}]: You need to have at least one worker before adding jobs`);return f(y,v)},terminate:async()=>{Object.keys(s).forEach(async y=>{await s[y].terminate()}),a=[]},getQueueLen:l,getNumWorkers:c}},Yf}function Ll(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Kf,Wv;function PE(){if(Wv)return Kf;Wv=1;function n(){return!!(typeof window<"u"&&typeof window.process=="object"&&window.process.type==="renderer"||typeof process<"u"&&typeof process.versions=="object"&&process.versions.electron||typeof navigator=="object"&&typeof navigator.userAgent=="string"&&navigator.userAgent.indexOf("Electron")>=0)}return Kf=n,Kf}var jf,qv;function LE(){if(qv)return jf;qv=1;const n=PE();return jf=e=>{const t={};return typeof WorkerGlobalScope<"u"?t.type="webworker":n()?t.type="electron":typeof document=="object"?t.type="browser":typeof process=="object"&&typeof Ll=="function"&&(t.type="node"),typeof e>"u"?t:t[e]},jf}var Zf,Vv;function BE(){if(Vv)return Zf;Vv=1;const e=LE()("type")==="browser"?t=>new URL(t,window.location.href).href:t=>t;return Zf=t=>{const i={...t};return["corePath","workerPath","langPath"].forEach(r=>{t[r]&&(i[r]=e(i[r]))}),i},Zf}var Qf,Hv;function OE(){return Hv||(Hv=1,Qf=n=>{const e=[],t=[],i=[],r=[],s=[];return n.blocks&&n.blocks.forEach(o=>{o.paragraphs.forEach(a=>{a.lines.forEach(l=>{l.words.forEach(c=>{c.symbols.forEach(u=>{s.push({...u,page:n,block:o,paragraph:a,line:l,word:c})}),r.push({...c,page:n,block:o,paragraph:a,line:l})}),i.push({...l,page:n,block:o,paragraph:a})}),t.push({...a,page:n,block:o})}),e.push({...o,page:n})}),{...n,blocks:e,paragraphs:t,lines:i,words:r,symbols:s}}),Qf}var ep,Gv;function ZD(){return Gv||(Gv=1,ep={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3}),ep}const WE="5.1.0",qE={version:WE};var tp,$v;function VE(){return $v||($v=1,tp={workerBlobURL:!0,logger:()=>{}}),tp}var np,zv;function HE(){if(zv)return np;zv=1;const n=qE.version;return np={...VE(),workerPath:`https://cdn.jsdelivr.net/npm/tesseract.js@v${n}/dist/worker.min.js`},np}var ip,Xv;function GE(){return Xv||(Xv=1,ip=({workerPath:n,workerBlobURL:e})=>{let t;if(Blob&&URL&&e){const i=new Blob([`importScripts("${n}");`],{type:"application/javascript"});t=new Worker(URL.createObjectURL(i))}else t=new Worker(n);return t}),ip}var rp,Jv;function $E(){return Jv||(Jv=1,rp=n=>{n.terminate()}),rp}var sp,Yv;function zE(){return Yv||(Yv=1,sp=(n,e)=>{n.onmessage=({data:t})=>{e(t)}}),sp}var op,Kv;function XE(){return Kv||(Kv=1,op=async(n,e)=>{n.postMessage(e)}),op}var ap,jv;function JE(){if(jv)return ap;jv=1;const n=t=>new Promise((i,r)=>{const s=new FileReader;s.onload=()=>{i(s.result)},s.onerror=({target:{error:{code:o}}})=>{r(Error(`File could not be read! Code=${o}`))},s.readAsArrayBuffer(t)}),e=async t=>{let i=t;if(typeof t>"u")return"undefined";if(typeof t=="string")/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(t)?i=atob(t.split(",")[1]).split("").map(r=>r.charCodeAt(0)):i=await(await fetch(t)).arrayBuffer();else if(typeof HTMLElement<"u"&&t instanceof HTMLElement)t.tagName==="IMG"&&(i=await e(t.src)),t.tagName==="VIDEO"&&(i=await e(t.poster)),t.tagName==="CANVAS"&&await new Promise(r=>{t.toBlob(async s=>{i=await n(s),r()})});else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas){const r=await t.convertToBlob();i=await n(r)}else(t instanceof File||t instanceof Blob)&&(i=await n(t));return new Uint8Array(i)};return ap=e,ap}var lp,Zv;function YE(){if(Zv)return lp;Zv=1;const n=HE(),e=GE(),t=$E(),i=zE(),r=XE(),s=JE();return lp={defaultOptions:n,spawnWorker:e,terminateWorker:t,onMessage:i,send:r,loadImage:s},lp}var cp,Qv;function QD(){if(Qv)return cp;Qv=1;const n=BE(),e=OE(),t=jD(),{log:i}=gy(),r=py(),s=ZD(),{defaultOptions:o,spawnWorker:a,terminateWorker:l,onMessage:c,loadImage:u,send:f}=YE();let p=0;return cp=async(g="eng",b=s.LSTM_ONLY,y={},v={})=>{const x=r("Worker",p),{logger:D,errorHandler:T,...C}=n({...o,...y}),_={},A={},R=typeof g=="string"?g.split("+"):g;let k=b,I=v;const L=[s.DEFAULT,s.LSTM_ONLY].includes(b)&&!C.legacyCore;let J,U;const O=new Promise((Q,H)=>{U=Q,J=H}),S=Q=>{J(Q.message)};let K=a(C);K.onerror=S,p+=1;const q=(Q,H)=>{_[Q]=H},B=(Q,H)=>{A[Q]=H},j=({id:Q,action:H,payload:$})=>new Promise((ee,ue)=>{i(`[${x}]: Start ${Q}, action=${H}`);const he=`${H}-${Q}`;q(he,ee),B(he,ue),f(K,{workerId:x,jobId:Q,action:H,payload:$})}),V=()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),Y=Q=>j(t({id:Q,action:"load",payload:{options:{lstmOnly:L,corePath:C.corePath,logging:C.logging}}})),F=(Q,H,$)=>j(t({id:$,action:"FS",payload:{method:"writeFile",args:[Q,H]}})),X=(Q,H)=>j(t({id:H,action:"FS",payload:{method:"readFile",args:[Q,{encoding:"utf8"}]}})),z=(Q,H)=>j(t({id:H,action:"FS",payload:{method:"unlink",args:[Q]}})),ne=(Q,H,$)=>j(t({id:$,action:"FS",payload:{method:Q,args:H}})),oe=()=>console.warn("`loadLanguage` is depreciated and should be removed from code (workers now come with language pre-loaded)"),pe=(Q,H)=>j(t({id:H,action:"loadLanguage",payload:{langs:Q,options:{langPath:C.langPath,dataPath:C.dataPath,cachePath:C.cachePath,cacheMethod:C.cacheMethod,gzip:C.gzip,lstmOnly:[s.LSTM_ONLY,s.TESSERACT_LSTM_COMBINED].includes(k)&&!C.legacyLang}}})),ce=()=>console.warn("`initialize` is depreciated and should be removed from code (workers now come pre-initialized)"),ge=(Q,H,$,ee)=>j(t({id:ee,action:"initialize",payload:{langs:Q,oem:H,config:$}})),ye=(Q="eng",H,$,ee)=>{if(L&&[s.TESSERACT_ONLY,s.TESSERACT_LSTM_COMBINED].includes(H))throw Error("Legacy model requested but code missing.");const ue=H||k;k=ue;const he=$||I;I=he;const Z=(typeof Q=="string"?Q.split("+"):Q).filter(ie=>!R.includes(ie));return R.push(...Z),Z.length>0?pe(Z,ee).then(()=>ge(Q,ue,he,ee)):ge(Q,ue,he,ee)},Te=(Q={},H)=>j(t({id:H,action:"setParameters",payload:{params:Q}})),Ee=async(Q,H={},$={blocks:!0,text:!0,hocr:!0,tsv:!0},ee)=>j(t({id:ee,action:"recognize",payload:{image:await u(Q),options:H,output:$}})),Se=(Q="Tesseract OCR Result",H=!1,$)=>(console.log("`getPDF` function is depreciated. `recognize` option `savePDF` should be used instead."),j(t({id:$,action:"getPDF",payload:{title:Q,textonly:H}}))),Oe=async(Q,H)=>{if(L)throw Error("`worker.detect` requires Legacy model, which was not loaded.");return j(t({id:H,action:"detect",payload:{image:await u(Q)}}))},w=async()=>(K!==null&&(l(K),K=null),Promise.resolve());c(K,({workerId:Q,jobId:H,status:$,action:ee,data:ue})=>{const he=`${ee}-${H}`;if($==="resolve"){i(`[${Q}]: Complete ${H}`);let re=ue;ee==="recognize"?re=e(ue):ee==="getPDF"&&(re=Array.from({...ue,length:Object.keys(ue).length})),_[he]({jobId:H,data:re})}else if($==="reject")if(A[he](ue),ee==="load"&&J(ue),T)T(ue);else throw Error(ue);else $==="progress"&&D({...ue,userJobId:H})});const ae={id:x,worker:K,setResolve:q,setReject:B,load:V,writeText:F,readText:X,removeFile:z,FS:ne,loadLanguage:oe,initialize:ce,reinitialize:ye,setParameters:Te,recognize:Ee,getPDF:Se,detect:Oe,terminate:w};return Y().then(()=>pe(g)).then(()=>ge(g,b,v)).then(()=>U(ae)).catch(()=>{}),O},cp}var up,e0;function KE(){if(e0)return up;e0=1;const n=QD();return up={recognize:async(i,r,s)=>{const o=await n(r,1,s);return o.recognize(i).finally(async()=>{await o.terminate()})},detect:async(i,r)=>{const s=await n("osd",0,r);return s.detect(i).finally(async()=>{await s.terminate()})}},up}var dp,t0;function jE(){return t0||(t0=1,dp={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"}),dp}var hp,n0;function ZE(){return n0||(n0=1,hp={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"}),hp}var fp,i0;function QE(){if(i0)return fp;i0=1,NE();const n=ME(),e=QD(),t=KE(),i=jE(),r=ZD(),s=ZE(),{setLogging:o}=gy();return fp={languages:i,OEM:r,PSM:s,createScheduler:n,createWorker:e,setLogging:o,...t},fp}var ew=QE();const tw=Yh(ew);var An={},my="1.13.7",r0=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||Function("return this")()||{},cf=Array.prototype,yy=Object.prototype,s0=typeof Symbol<"u"?Symbol.prototype:null,nw=cf.push,Bu=cf.slice,Gl=yy.toString,iw=yy.hasOwnProperty,eT=typeof ArrayBuffer<"u",rw=typeof DataView<"u",sw=Array.isArray,o0=Object.keys,a0=Object.create,l0=eT&&ArrayBuffer.isView,ow=isNaN,aw=isFinite,tT=!{toString:null}.propertyIsEnumerable("toString"),c0=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],lw=Math.pow(2,53)-1;function en(n,e){return e=e==null?n.length-1:+e,function(){for(var t=Math.max(arguments.length-e,0),i=Array(t),r=0;r<t;r++)i[r]=arguments[r+e];switch(e){case 0:return n.call(this,i);case 1:return n.call(this,arguments[0],i);case 2:return n.call(this,arguments[0],arguments[1],i)}var s=Array(e+1);for(r=0;r<e;r++)s[r]=arguments[r];return s[e]=i,n.apply(this,s)}}function Zr(n){var e=typeof n;return e==="function"||e==="object"&&!!n}function nT(n){return n===null}function vy(n){return n===void 0}function by(n){return n===!0||n===!1||Gl.call(n)==="[object Boolean]"}function iT(n){return!!(n&&n.nodeType===1)}function $t(n){var e="[object "+n+"]";return function(t){return Gl.call(t)===e}}const uf=$t("String"),xy=$t("Number"),rT=$t("Date"),sT=$t("RegExp"),oT=$t("Error"),Dy=$t("Symbol"),Ty=$t("ArrayBuffer");var aT=$t("Function"),cw=r0.document&&r0.document.childNodes;typeof/./!="function"&&typeof Int8Array!="object"&&typeof cw!="function"&&(aT=function(n){return typeof n=="function"||!1});const Gt=aT,lT=$t("Object");var cT=rw&&(!/\[native code\]/.test(String(DataView))||lT(new DataView(new ArrayBuffer(8)))),_y=typeof Map<"u"&&lT(new Map),uw=$t("DataView");function dw(n){return n!=null&&Gt(n.getInt8)&&Ty(n.buffer)}const $l=cT?dw:uw,Qr=sw||$t("Array");function es(n,e){return n!=null&&iw.call(n,e)}var Hm=$t("Arguments");(function(){Hm(arguments)||(Hm=function(n){return es(n,"callee")})})();const df=Hm;function uT(n){return!Dy(n)&&aw(n)&&!isNaN(parseFloat(n))}function Cy(n){return xy(n)&&ow(n)}function Ay(n){return function(){return n}}function dT(n){return function(e){var t=n(e);return typeof t=="number"&&t>=0&&t<=lw}}function hT(n){return function(e){return e==null?void 0:e[n]}}const ph=hT("byteLength"),hw=dT(ph);var fw=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;function pw(n){return l0?l0(n)&&!$l(n):hw(n)&&fw.test(Gl.call(n))}const Ey=eT?pw:Ay(!1),un=hT("length");function gw(n){for(var e={},t=n.length,i=0;i<t;++i)e[n[i]]=!0;return{contains:function(r){return e[r]===!0},push:function(r){return e[r]=!0,n.push(r)}}}function fT(n,e){e=gw(e);var t=c0.length,i=n.constructor,r=Gt(i)&&i.prototype||yy,s="constructor";for(es(n,s)&&!e.contains(s)&&e.push(s);t--;)s=c0[t],s in n&&n[s]!==r[s]&&!e.contains(s)&&e.push(s)}function Ct(n){if(!Zr(n))return[];if(o0)return o0(n);var e=[];for(var t in n)es(n,t)&&e.push(t);return tT&&fT(n,e),e}function pT(n){if(n==null)return!0;var e=un(n);return typeof e=="number"&&(Qr(n)||uf(n)||df(n))?e===0:un(Ct(n))===0}function wy(n,e){var t=Ct(e),i=t.length;if(n==null)return!i;for(var r=Object(n),s=0;s<i;s++){var o=t[s];if(e[o]!==r[o]||!(o in r))return!1}return!0}function je(n){if(n instanceof je)return n;if(!(this instanceof je))return new je(n);this._wrapped=n}je.VERSION=my;je.prototype.value=function(){return this._wrapped};je.prototype.valueOf=je.prototype.toJSON=je.prototype.value;je.prototype.toString=function(){return String(this._wrapped)};function u0(n){return new Uint8Array(n.buffer||n,n.byteOffset||0,ph(n))}var d0="[object DataView]";function Gm(n,e,t,i){if(n===e)return n!==0||1/n===1/e;if(n==null||e==null)return!1;if(n!==n)return e!==e;var r=typeof n;return r!=="function"&&r!=="object"&&typeof e!="object"?!1:gT(n,e,t,i)}function gT(n,e,t,i){n instanceof je&&(n=n._wrapped),e instanceof je&&(e=e._wrapped);var r=Gl.call(n);if(r!==Gl.call(e))return!1;if(cT&&r=="[object Object]"&&$l(n)){if(!$l(e))return!1;r=d0}switch(r){case"[object RegExp]":case"[object String]":return""+n==""+e;case"[object Number]":return+n!=+n?+e!=+e:+n==0?1/+n===1/e:+n==+e;case"[object Date]":case"[object Boolean]":return+n==+e;case"[object Symbol]":return s0.valueOf.call(n)===s0.valueOf.call(e);case"[object ArrayBuffer]":case d0:return gT(u0(n),u0(e),t,i)}var s=r==="[object Array]";if(!s&&Ey(n)){var o=ph(n);if(o!==ph(e))return!1;if(n.buffer===e.buffer&&n.byteOffset===e.byteOffset)return!0;s=!0}if(!s){if(typeof n!="object"||typeof e!="object")return!1;var a=n.constructor,l=e.constructor;if(a!==l&&!(Gt(a)&&a instanceof a&&Gt(l)&&l instanceof l)&&"constructor"in n&&"constructor"in e)return!1}t=t||[],i=i||[];for(var c=t.length;c--;)if(t[c]===n)return i[c]===e;if(t.push(n),i.push(e),s){if(c=n.length,c!==e.length)return!1;for(;c--;)if(!Gm(n[c],e[c],t,i))return!1}else{var u=Ct(n),f;if(c=u.length,Ct(e).length!==c)return!1;for(;c--;)if(f=u[c],!(es(e,f)&&Gm(n[f],e[f],t,i)))return!1}return t.pop(),i.pop(),!0}function mT(n,e){return Gm(n,e)}function ja(n){if(!Zr(n))return[];var e=[];for(var t in n)e.push(t);return tT&&fT(n,e),e}function Sy(n){var e=un(n);return function(t){if(t==null)return!1;var i=ja(t);if(un(i))return!1;for(var r=0;r<e;r++)if(!Gt(t[n[r]]))return!1;return n!==bT||!Gt(t[Uy])}}var Uy="forEach",yT="has",Ry=["clear","delete"],vT=["get",yT,"set"],mw=Ry.concat(Uy,vT),bT=Ry.concat(vT),yw=["add"].concat(Ry,Uy,yT);const xT=_y?Sy(mw):$t("Map"),DT=_y?Sy(bT):$t("WeakMap"),TT=_y?Sy(yw):$t("Set"),_T=$t("WeakSet");function Co(n){for(var e=Ct(n),t=e.length,i=Array(t),r=0;r<t;r++)i[r]=n[e[r]];return i}function CT(n){for(var e=Ct(n),t=e.length,i=Array(t),r=0;r<t;r++)i[r]=[e[r],n[e[r]]];return i}function Iy(n){for(var e={},t=Ct(n),i=0,r=t.length;i<r;i++)e[n[t[i]]]=t[i];return e}function zl(n){var e=[];for(var t in n)Gt(n[t])&&e.push(t);return e.sort()}function Fy(n,e){return function(t){var i=arguments.length;if(e&&(t=Object(t)),i<2||t==null)return t;for(var r=1;r<i;r++)for(var s=arguments[r],o=n(s),a=o.length,l=0;l<a;l++){var c=o[l];(!e||t[c]===void 0)&&(t[c]=s[c])}return t}}const ky=Fy(ja),Ya=Fy(Ct),Ny=Fy(ja,!0);function vw(){return function(){}}function AT(n){if(!Zr(n))return{};if(a0)return a0(n);var e=vw();e.prototype=n;var t=new e;return e.prototype=null,t}function ET(n,e){var t=AT(n);return e&&Ya(t,e),t}function wT(n){return Zr(n)?Qr(n)?n.slice():ky({},n):n}function ST(n,e){return e(n),n}function My(n){return Qr(n)?n:[n]}je.toPath=My;function Ou(n){return je.toPath(n)}function Py(n,e){for(var t=e.length,i=0;i<t;i++){if(n==null)return;n=n[e[i]]}return t?n:void 0}function Ly(n,e,t){var i=Py(n,Ou(e));return vy(i)?t:i}function UT(n,e){e=Ou(e);for(var t=e.length,i=0;i<t;i++){var r=e[i];if(!es(n,r))return!1;n=n[r]}return!!t}function hf(n){return n}function yo(n){return n=Ya({},n),function(e){return wy(e,n)}}function ff(n){return n=Ou(n),function(e){return Py(e,n)}}function Wu(n,e,t){if(e===void 0)return n;switch(t??3){case 1:return function(i){return n.call(e,i)};case 3:return function(i,r,s){return n.call(e,i,r,s)};case 4:return function(i,r,s,o){return n.call(e,i,r,s,o)}}return function(){return n.apply(e,arguments)}}function RT(n,e,t){return n==null?hf:Gt(n)?Wu(n,e,t):Zr(n)&&!Qr(n)?yo(n):ff(n)}function pf(n,e){return RT(n,e,1/0)}je.iteratee=pf;function dn(n,e,t){return je.iteratee!==pf?je.iteratee(n,e):RT(n,e,t)}function IT(n,e,t){e=dn(e,t);for(var i=Ct(n),r=i.length,s={},o=0;o<r;o++){var a=i[o];s[a]=e(n[a],a,n)}return s}function By(){}function FT(n){return n==null?By:function(e){return Ly(n,e)}}function kT(n,e,t){var i=Array(Math.max(0,n));e=Wu(e,t,1);for(var r=0;r<n;r++)i[r]=e(r);return i}function gh(n,e){return e==null&&(e=n,n=0),n+Math.floor(Math.random()*(e-n+1))}const Ka=Date.now||function(){return new Date().getTime()};function NT(n){var e=function(s){return n[s]},t="(?:"+Ct(n).join("|")+")",i=RegExp(t),r=RegExp(t,"g");return function(s){return s=s==null?"":""+s,i.test(s)?s.replace(r,e):s}}const MT={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},PT=NT(MT),bw=Iy(MT),LT=NT(bw),BT=je.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var pp=/(.)^/,xw={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Dw=/\\|'|\r|\n|\u2028|\u2029/g;function Tw(n){return"\\"+xw[n]}var _w=/^\s*(\w|\$)+\s*$/;function OT(n,e,t){!e&&t&&(e=t),e=Ny({},e,je.templateSettings);var i=RegExp([(e.escape||pp).source,(e.interpolate||pp).source,(e.evaluate||pp).source].join("|")+"|$","g"),r=0,s="__p+='";n.replace(i,function(c,u,f,p,g){return s+=n.slice(r,g).replace(Dw,Tw),r=g+c.length,u?s+=`'+
((__t=(`+u+`))==null?'':_.escape(__t))+
'`:f?s+=`'+
((__t=(`+f+`))==null?'':__t)+
'`:p&&(s+=`';
`+p+`
__p+='`),c}),s+=`';
`;var o=e.variable;if(o){if(!_w.test(o))throw new Error("variable is not a bare identifier: "+o)}else s=`with(obj||{}){
`+s+`}
`,o="obj";s=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+s+`return __p;
`;var a;try{a=new Function(o,"_",s)}catch(c){throw c.source=s,c}var l=function(c){return a.call(this,c,je)};return l.source="function("+o+`){
`+s+"}",l}function WT(n,e,t){e=Ou(e);var i=e.length;if(!i)return Gt(t)?t.call(n):t;for(var r=0;r<i;r++){var s=n==null?void 0:n[e[r]];s===void 0&&(s=t,r=i),n=Gt(s)?s.call(n):s}return n}var Cw=0;function qT(n){var e=++Cw+"";return n?n+e:e}function VT(n){var e=je(n);return e._chain=!0,e}function HT(n,e,t,i,r){if(!(i instanceof e))return n.apply(t,r);var s=AT(n.prototype),o=n.apply(s,r);return Zr(o)?o:s}var Ao=en(function(n,e){var t=Ao.placeholder,i=function(){for(var r=0,s=e.length,o=Array(s),a=0;a<s;a++)o[a]=e[a]===t?arguments[r++]:e[a];for(;r<arguments.length;)o.push(arguments[r++]);return HT(n,i,this,this,o)};return i});Ao.placeholder=je;const Oy=en(function(n,e,t){if(!Gt(n))throw new TypeError("Bind must be called on a function");var i=en(function(r){return HT(n,i,e,this,t.concat(r))});return i}),_n=dT(un);function Eo(n,e,t,i){if(i=i||[],!e&&e!==0)e=1/0;else if(e<=0)return i.concat(n);for(var r=i.length,s=0,o=un(n);s<o;s++){var a=n[s];if(_n(a)&&(Qr(a)||df(a)))if(e>1)Eo(a,e-1,t,i),r=i.length;else for(var l=0,c=a.length;l<c;)i[r++]=a[l++];else t||(i[r++]=a)}return i}const GT=en(function(n,e){e=Eo(e,!1,!1);var t=e.length;if(t<1)throw new Error("bindAll must be passed function names");for(;t--;){var i=e[t];n[i]=Oy(n[i],n)}return n});function $T(n,e){var t=function(i){var r=t.cache,s=""+(e?e.apply(this,arguments):i);return es(r,s)||(r[s]=n.apply(this,arguments)),r[s]};return t.cache={},t}const Wy=en(function(n,e,t){return setTimeout(function(){return n.apply(null,t)},e)}),zT=Ao(Wy,je,1);function XT(n,e,t){var i,r,s,o,a=0;t||(t={});var l=function(){a=t.leading===!1?0:Ka(),i=null,o=n.apply(r,s),i||(r=s=null)},c=function(){var u=Ka();!a&&t.leading===!1&&(a=u);var f=e-(u-a);return r=this,s=arguments,f<=0||f>e?(i&&(clearTimeout(i),i=null),a=u,o=n.apply(r,s),i||(r=s=null)):!i&&t.trailing!==!1&&(i=setTimeout(l,f)),o};return c.cancel=function(){clearTimeout(i),a=0,i=r=s=null},c}function JT(n,e,t){var i,r,s,o,a,l=function(){var u=Ka()-r;e>u?i=setTimeout(l,e-u):(i=null,t||(o=n.apply(a,s)),i||(s=a=null))},c=en(function(u){return a=this,s=u,r=Ka(),i||(i=setTimeout(l,e),t&&(o=n.apply(a,s))),o});return c.cancel=function(){clearTimeout(i),i=s=a=null},c}function YT(n,e){return Ao(e,n)}function gf(n){return function(){return!n.apply(this,arguments)}}function KT(){var n=arguments,e=n.length-1;return function(){for(var t=e,i=n[e].apply(this,arguments);t--;)i=n[t].call(this,i);return i}}function jT(n,e){return function(){if(--n<1)return e.apply(this,arguments)}}function qy(n,e){var t;return function(){return--n>0&&(t=e.apply(this,arguments)),n<=1&&(e=null),t}}const ZT=Ao(qy,2);function Vy(n,e,t){e=dn(e,t);for(var i=Ct(n),r,s=0,o=i.length;s<o;s++)if(r=i[s],e(n[r],r,n))return r}function QT(n){return function(e,t,i){t=dn(t,i);for(var r=un(e),s=n>0?0:r-1;s>=0&&s<r;s+=n)if(t(e[s],s,e))return s;return-1}}const mf=QT(1),Hy=QT(-1);function Gy(n,e,t,i){t=dn(t,i,1);for(var r=t(e),s=0,o=un(n);s<o;){var a=Math.floor((s+o)/2);t(n[a])<r?s=a+1:o=a}return s}function e_(n,e,t){return function(i,r,s){var o=0,a=un(i);if(typeof s=="number")n>0?o=s>=0?s:Math.max(s+a,o):a=s>=0?Math.min(s+1,a):s+a+1;else if(t&&s&&a)return s=t(i,r),i[s]===r?s:-1;if(r!==r)return s=e(Bu.call(i,o,a),Cy),s>=0?s+o:-1;for(s=n>0?o:a-1;s>=0&&s<a;s+=n)if(i[s]===r)return s;return-1}}const $y=e_(1,mf,Gy),t_=e_(-1,Hy);function Xl(n,e,t){var i=_n(n)?mf:Vy,r=i(n,e,t);if(r!==void 0&&r!==-1)return n[r]}function n_(n,e){return Xl(n,yo(e))}function ii(n,e,t){e=Wu(e,t);var i,r;if(_n(n))for(i=0,r=n.length;i<r;i++)e(n[i],i,n);else{var s=Ct(n);for(i=0,r=s.length;i<r;i++)e(n[s[i]],s[i],n)}return n}function hr(n,e,t){e=dn(e,t);for(var i=!_n(n)&&Ct(n),r=(i||n).length,s=Array(r),o=0;o<r;o++){var a=i?i[o]:o;s[o]=e(n[a],a,n)}return s}function i_(n){var e=function(t,i,r,s){var o=!_n(t)&&Ct(t),a=(o||t).length,l=n>0?0:a-1;for(s||(r=t[o?o[l]:l],l+=n);l>=0&&l<a;l+=n){var c=o?o[l]:l;r=i(r,t[c],c,t)}return r};return function(t,i,r,s){var o=arguments.length>=3;return e(t,Wu(i,s,4),r,o)}}const $o=i_(1),mh=i_(-1);function Xr(n,e,t){var i=[];return e=dn(e,t),ii(n,function(r,s,o){e(r,s,o)&&i.push(r)}),i}function r_(n,e,t){return Xr(n,gf(dn(e)),t)}function yh(n,e,t){e=dn(e,t);for(var i=!_n(n)&&Ct(n),r=(i||n).length,s=0;s<r;s++){var o=i?i[s]:s;if(!e(n[o],o,n))return!1}return!0}function vh(n,e,t){e=dn(e,t);for(var i=!_n(n)&&Ct(n),r=(i||n).length,s=0;s<r;s++){var o=i?i[s]:s;if(e(n[o],o,n))return!0}return!1}function Bn(n,e,t,i){return _n(n)||(n=Co(n)),(typeof t!="number"||i)&&(t=0),$y(n,e,t)>=0}const s_=en(function(n,e,t){var i,r;return Gt(e)?r=e:(e=Ou(e),i=e.slice(0,-1),e=e[e.length-1]),hr(n,function(s){var o=r;if(!o){if(i&&i.length&&(s=Py(s,i)),s==null)return;o=s[e]}return o==null?o:o.apply(s,t)})});function yf(n,e){return hr(n,ff(e))}function o_(n,e){return Xr(n,yo(e))}function zy(n,e,t){var i=-1/0,r=-1/0,s,o;if(e==null||typeof e=="number"&&typeof n[0]!="object"&&n!=null){n=_n(n)?n:Co(n);for(var a=0,l=n.length;a<l;a++)s=n[a],s!=null&&s>i&&(i=s)}else e=dn(e,t),ii(n,function(c,u,f){o=e(c,u,f),(o>r||o===-1/0&&i===-1/0)&&(i=c,r=o)});return i}function a_(n,e,t){var i=1/0,r=1/0,s,o;if(e==null||typeof e=="number"&&typeof n[0]!="object"&&n!=null){n=_n(n)?n:Co(n);for(var a=0,l=n.length;a<l;a++)s=n[a],s!=null&&s<i&&(i=s)}else e=dn(e,t),ii(n,function(c,u,f){o=e(c,u,f),(o<r||o===1/0&&i===1/0)&&(i=c,r=o)});return i}var Aw=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function Xy(n){return n?Qr(n)?Bu.call(n):uf(n)?n.match(Aw):_n(n)?hr(n,hf):Co(n):[]}function Jy(n,e,t){if(e==null||t)return _n(n)||(n=Co(n)),n[gh(n.length-1)];var i=Xy(n),r=un(i);e=Math.max(Math.min(e,r),0);for(var s=r-1,o=0;o<e;o++){var a=gh(o,s),l=i[o];i[o]=i[a],i[a]=l}return i.slice(0,e)}function l_(n){return Jy(n,1/0)}function c_(n,e,t){var i=0;return e=dn(e,t),yf(hr(n,function(r,s,o){return{value:r,index:i++,criteria:e(r,s,o)}}).sort(function(r,s){var o=r.criteria,a=s.criteria;if(o!==a){if(o>a||o===void 0)return 1;if(o<a||a===void 0)return-1}return r.index-s.index}),"value")}function vf(n,e){return function(t,i,r){var s=e?[[],[]]:{};return i=dn(i,r),ii(t,function(o,a){var l=i(o,a,t);n(s,o,l)}),s}}const u_=vf(function(n,e,t){es(n,t)?n[t].push(e):n[t]=[e]}),d_=vf(function(n,e,t){n[t]=e}),h_=vf(function(n,e,t){es(n,t)?n[t]++:n[t]=1}),f_=vf(function(n,e,t){n[t?0:1].push(e)},!0);function p_(n){return n==null?0:_n(n)?n.length:Ct(n).length}function Ew(n,e,t){return e in t}const Yy=en(function(n,e){var t={},i=e[0];if(n==null)return t;Gt(i)?(e.length>1&&(i=Wu(i,e[1])),e=ja(n)):(i=Ew,e=Eo(e,!1,!1),n=Object(n));for(var r=0,s=e.length;r<s;r++){var o=e[r],a=n[o];i(a,o,n)&&(t[o]=a)}return t}),g_=en(function(n,e){var t=e[0],i;return Gt(t)?(t=gf(t),e.length>1&&(i=e[1])):(e=hr(Eo(e,!1,!1),String),t=function(r,s){return!Bn(e,s)}),Yy(n,t,i)});function Ky(n,e,t){return Bu.call(n,0,Math.max(0,n.length-(e==null||t?1:e)))}function zo(n,e,t){return n==null||n.length<1?e==null||t?void 0:[]:e==null||t?n[0]:Ky(n,n.length-e)}function fo(n,e,t){return Bu.call(n,e==null||t?1:e)}function m_(n,e,t){return n==null||n.length<1?e==null||t?void 0:[]:e==null||t?n[n.length-1]:fo(n,Math.max(0,n.length-e))}function y_(n){return Xr(n,Boolean)}function v_(n,e){return Eo(n,e,!1)}const jy=en(function(n,e){return e=Eo(e,!0,!0),Xr(n,function(t){return!Bn(e,t)})}),b_=en(function(n,e){return jy(n,e)});function Jl(n,e,t,i){by(e)||(i=t,t=e,e=!1),t!=null&&(t=dn(t,i));for(var r=[],s=[],o=0,a=un(n);o<a;o++){var l=n[o],c=t?t(l,o,n):l;e&&!t?((!o||s!==c)&&r.push(l),s=c):t?Bn(s,c)||(s.push(c),r.push(l)):Bn(r,l)||r.push(l)}return r}const x_=en(function(n){return Jl(Eo(n,!0,!0))});function D_(n){for(var e=[],t=arguments.length,i=0,r=un(n);i<r;i++){var s=n[i];if(!Bn(e,s)){var o;for(o=1;o<t&&Bn(arguments[o],s);o++);o===t&&e.push(s)}}return e}function Yl(n){for(var e=n&&zy(n,un).length||0,t=Array(e),i=0;i<e;i++)t[i]=yf(n,i);return t}const T_=en(Yl);function __(n,e){for(var t={},i=0,r=un(n);i<r;i++)e?t[n[i]]=e[i]:t[n[i][0]]=n[i][1];return t}function C_(n,e,t){e==null&&(e=n||0,n=0),t||(t=e<n?-1:1);for(var i=Math.max(Math.ceil((e-n)/t),0),r=Array(i),s=0;s<i;s++,n+=t)r[s]=n;return r}function A_(n,e){if(e==null||e<1)return[];for(var t=[],i=0,r=n.length;i<r;)t.push(Bu.call(n,i,i+=e));return t}function Zy(n,e){return n._chain?je(e).chain():e}function Qy(n){return ii(zl(n),function(e){var t=je[e]=n[e];je.prototype[e]=function(){var i=[this._wrapped];return nw.apply(i,arguments),Zy(this,t.apply(je,i))}}),je}ii(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var e=cf[n];je.prototype[n]=function(){var t=this._wrapped;return t!=null&&(e.apply(t,arguments),(n==="shift"||n==="splice")&&t.length===0&&delete t[0]),Zy(this,t)}});ii(["concat","join","slice"],function(n){var e=cf[n];je.prototype[n]=function(){var t=this._wrapped;return t!=null&&(t=e.apply(t,arguments)),Zy(this,t)}});const ww=Object.freeze(Object.defineProperty({__proto__:null,VERSION:my,after:jT,all:yh,allKeys:ja,any:vh,assign:Ya,before:qy,bind:Oy,bindAll:GT,chain:VT,chunk:A_,clone:wT,collect:hr,compact:y_,compose:KT,constant:Ay,contains:Bn,countBy:h_,create:ET,debounce:JT,default:je,defaults:Ny,defer:zT,delay:Wy,detect:Xl,difference:jy,drop:fo,each:ii,escape:PT,every:yh,extend:ky,extendOwn:Ya,filter:Xr,find:Xl,findIndex:mf,findKey:Vy,findLastIndex:Hy,findWhere:n_,first:zo,flatten:v_,foldl:$o,foldr:mh,forEach:ii,functions:zl,get:Ly,groupBy:u_,has:UT,head:zo,identity:hf,include:Bn,includes:Bn,indexBy:d_,indexOf:$y,initial:Ky,inject:$o,intersection:D_,invert:Iy,invoke:s_,isArguments:df,isArray:Qr,isArrayBuffer:Ty,isBoolean:by,isDataView:$l,isDate:rT,isElement:iT,isEmpty:pT,isEqual:mT,isError:oT,isFinite:uT,isFunction:Gt,isMap:xT,isMatch:wy,isNaN:Cy,isNull:nT,isNumber:xy,isObject:Zr,isRegExp:sT,isSet:TT,isString:uf,isSymbol:Dy,isTypedArray:Ey,isUndefined:vy,isWeakMap:DT,isWeakSet:_T,iteratee:pf,keys:Ct,last:m_,lastIndexOf:t_,map:hr,mapObject:IT,matcher:yo,matches:yo,max:zy,memoize:$T,methods:zl,min:a_,mixin:Qy,negate:gf,noop:By,now:Ka,object:__,omit:g_,once:ZT,pairs:CT,partial:Ao,partition:f_,pick:Yy,pluck:yf,property:ff,propertyOf:FT,random:gh,range:C_,reduce:$o,reduceRight:mh,reject:r_,rest:fo,restArguments:en,result:WT,sample:Jy,select:Xr,shuffle:l_,size:p_,some:vh,sortBy:c_,sortedIndex:Gy,tail:fo,take:zo,tap:ST,template:OT,templateSettings:BT,throttle:XT,times:kT,toArray:Xy,toPath:My,transpose:Yl,unescape:LT,union:x_,uniq:Jl,unique:Jl,uniqueId:qT,unzip:Yl,values:Co,where:o_,without:b_,wrap:YT,zip:T_},Symbol.toStringTag,{value:"Module"}));var $m=Qy(ww);$m._=$m;const Sw=Object.freeze(Object.defineProperty({__proto__:null,VERSION:my,after:jT,all:yh,allKeys:ja,any:vh,assign:Ya,before:qy,bind:Oy,bindAll:GT,chain:VT,chunk:A_,clone:wT,collect:hr,compact:y_,compose:KT,constant:Ay,contains:Bn,countBy:h_,create:ET,debounce:JT,default:$m,defaults:Ny,defer:zT,delay:Wy,detect:Xl,difference:jy,drop:fo,each:ii,escape:PT,every:yh,extend:ky,extendOwn:Ya,filter:Xr,find:Xl,findIndex:mf,findKey:Vy,findLastIndex:Hy,findWhere:n_,first:zo,flatten:v_,foldl:$o,foldr:mh,forEach:ii,functions:zl,get:Ly,groupBy:u_,has:UT,head:zo,identity:hf,include:Bn,includes:Bn,indexBy:d_,indexOf:$y,initial:Ky,inject:$o,intersection:D_,invert:Iy,invoke:s_,isArguments:df,isArray:Qr,isArrayBuffer:Ty,isBoolean:by,isDataView:$l,isDate:rT,isElement:iT,isEmpty:pT,isEqual:mT,isError:oT,isFinite:uT,isFunction:Gt,isMap:xT,isMatch:wy,isNaN:Cy,isNull:nT,isNumber:xy,isObject:Zr,isRegExp:sT,isSet:TT,isString:uf,isSymbol:Dy,isTypedArray:Ey,isUndefined:vy,isWeakMap:DT,isWeakSet:_T,iteratee:pf,keys:Ct,last:m_,lastIndexOf:t_,map:hr,mapObject:IT,matcher:yo,matches:yo,max:zy,memoize:$T,methods:zl,min:a_,mixin:Qy,negate:gf,noop:By,now:Ka,object:__,omit:g_,once:ZT,pairs:CT,partial:Ao,partition:f_,pick:Yy,pluck:yf,property:ff,propertyOf:FT,random:gh,range:C_,reduce:$o,reduceRight:mh,reject:r_,rest:fo,restArguments:en,result:WT,sample:Jy,select:Xr,shuffle:l_,size:p_,some:vh,sortBy:c_,sortedIndex:Gy,tail:fo,take:zo,tap:ST,template:OT,templateSettings:BT,throttle:XT,times:kT,toArray:Xy,toPath:My,transpose:Yl,unescape:LT,union:x_,uniq:Jl,unique:Jl,uniqueId:qT,unzip:Yl,values:Co,where:o_,without:b_,wrap:YT,zip:T_},Symbol.toStringTag,{value:"Module"})),gt=i2(Sw);var Yu={};const Uw={},Bl=Object.freeze(Object.defineProperty({__proto__:null,default:Uw},Symbol.toStringTag,{value:"Module"})),Rw=i2(Bl);var En={},gp={exports:{}},Ku={exports:{}},h0;function Za(){if(h0)return Ku.exports;h0=1;var n=(function(){return this===void 0})();if(n)Ku.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:n,propertyIsWritable:function(u,f){var p=Object.getOwnPropertyDescriptor(u,f);return!!(!p||p.writable||p.set)}};else{var e={}.hasOwnProperty,t={}.toString,i={}.constructor.prototype,r=function(u){var f=[];for(var p in u)e.call(u,p)&&f.push(p);return f},s=function(u,f){return{value:u[f]}},o=function(u,f,p){return u[f]=p.value,u},a=function(u){return u},l=function(u){try{return Object(u).constructor.prototype}catch{return i}},c=function(u){try{return t.call(u)==="[object Array]"}catch{return!1}};Ku.exports={isArray:c,keys:r,names:r,defineProperty:o,getDescriptor:s,freeze:a,getPrototypeOf:l,isES5:n,propertyIsWritable:function(){return!0}}}return Ku.exports}var ul,f0;function at(){if(f0)return ul;f0=1;var n={},e=Za(),t=typeof navigator>"u",i={e:{}},r,s=typeof self<"u"?self:typeof window<"u"?window:typeof Ln<"u"?Ln:ul!==void 0?ul:null;function o(){try{var z=r;return r=null,z.apply(this,arguments)}catch(ne){return i.e=ne,i}}function a(z){return r=z,o}var l=function(z,ne){var oe={}.hasOwnProperty;function pe(){this.constructor=z,this.constructor$=ne;for(var ce in ne.prototype)oe.call(ne.prototype,ce)&&ce.charAt(ce.length-1)!=="$"&&(this[ce+"$"]=ne.prototype[ce])}return pe.prototype=ne.prototype,z.prototype=new pe,z.prototype};function c(z){return z==null||z===!0||z===!1||typeof z=="string"||typeof z=="number"}function u(z){return typeof z=="function"||typeof z=="object"&&z!==null}function f(z){return c(z)?new Error(R(z)):z}function p(z,ne){var oe=z.length,pe=new Array(oe+1),ce;for(ce=0;ce<oe;++ce)pe[ce]=z[ce];return pe[ce]=ne,pe}function g(z,ne,oe){if(e.isES5){var pe=Object.getOwnPropertyDescriptor(z,ne);if(pe!=null)return pe.get==null&&pe.set==null?pe.value:oe}else return{}.hasOwnProperty.call(z,ne)?z[ne]:void 0}function b(z,ne,oe){if(c(z))return z;var pe={value:oe,configurable:!0,enumerable:!1,writable:!0};return e.defineProperty(z,ne,pe),z}function y(z){throw z}var v=(function(){var z=[Array.prototype,Object.prototype,Function.prototype],ne=function(ce){for(var ge=0;ge<z.length;++ge)if(z[ge]===ce)return!0;return!1};if(e.isES5){var oe=Object.getOwnPropertyNames;return function(ce){for(var ge=[],ye=Object.create(null);ce!=null&&!ne(ce);){var Te;try{Te=oe(ce)}catch{return ge}for(var Ee=0;Ee<Te.length;++Ee){var Se=Te[Ee];if(!ye[Se]){ye[Se]=!0;var Oe=Object.getOwnPropertyDescriptor(ce,Se);Oe!=null&&Oe.get==null&&Oe.set==null&&ge.push(Se)}}ce=e.getPrototypeOf(ce)}return ge}}else{var pe={}.hasOwnProperty;return function(ce){if(ne(ce))return[];var ge=[];e:for(var ye in ce)if(pe.call(ce,ye))ge.push(ye);else{for(var Te=0;Te<z.length;++Te)if(pe.call(z[Te],ye))continue e;ge.push(ye)}return ge}}})(),x=/this\s*\.\s*\S+\s*=/;function D(z){try{if(typeof z=="function"){var ne=e.names(z.prototype),oe=e.isES5&&ne.length>1,pe=ne.length>0&&!(ne.length===1&&ne[0]==="constructor"),ce=x.test(z+"")&&e.names(z).length>0;if(oe||pe||ce)return!0}return!1}catch{return!1}}function T(z){return z}var C=/^[a-z$_][a-z$_0-9]*$/i;function _(z){return C.test(z)}function A(z,ne,oe){for(var pe=new Array(z),ce=0;ce<z;++ce)pe[ce]=ne+ce+oe;return pe}function R(z){try{return z+""}catch{return"[no string representation]"}}function k(z){return z!==null&&typeof z=="object"&&typeof z.message=="string"&&typeof z.name=="string"}function I(z){try{b(z,"isOperational",!0)}catch{}}function L(z){return z==null?!1:z instanceof Error.__BluebirdErrorTypes__.OperationalError||z.isOperational===!0}function J(z){return k(z)&&e.propertyIsWritable(z,"stack")}var U=(function(){return"stack"in new Error?function(z){return J(z)?z:new Error(R(z))}:function(z){if(J(z))return z;try{throw new Error(R(z))}catch(ne){return ne}}})();function O(z){return{}.toString.call(z)}function S(z,ne,oe){for(var pe=e.names(z),ce=0;ce<pe.length;++ce){var ge=pe[ce];if(oe(ge))try{e.defineProperty(ne,ge,e.getDescriptor(z,ge))}catch{}}}var K=function(z){return e.isArray(z)?z:null};if(typeof Symbol<"u"&&Symbol.iterator){var q=typeof Array.from=="function"?function(z){return Array.from(z)}:function(z){for(var ne=[],oe=z[Symbol.iterator](),pe;!(pe=oe.next()).done;)ne.push(pe.value);return ne};K=function(z){return e.isArray(z)?z:z!=null&&typeof z[Symbol.iterator]=="function"?q(z):null}}var B=typeof process<"u"&&O(process).toLowerCase()==="[object process]",j=typeof process<"u"&&typeof n<"u";function V(z){return j?n[z]:void 0}function Y(){if(typeof Promise=="function")try{var z=new Promise(function(){});if({}.toString.call(z)==="[object Promise]")return Promise}catch{}}function F(z,ne){return z.bind(ne)}var X={isClass:D,isIdentifier:_,inheritedDataKeys:v,getDataPropertyOrDefault:g,thrower:y,isArray:e.isArray,asArray:K,notEnumerableProp:b,isPrimitive:c,isObject:u,isError:k,canEvaluate:t,errorObj:i,tryCatch:a,inherits:l,withAppended:p,maybeWrapAsError:f,toFastProperties:T,filledRange:A,toString:R,canAttachTrace:J,ensureErrorObject:U,originatesFromRejection:L,markAsOriginatingFromRejection:I,classString:O,copyDescriptors:S,hasDevTools:typeof chrome<"u"&&chrome&&typeof chrome.loadTimes=="function",isNode:B,hasEnvVariables:j,env:V,global:s,getNativePromise:Y,domainBind:F};X.isRecentNode=X.isNode&&(function(){var z=process.versions.node.split(".").map(Number);return z[0]===0&&z[1]>10||z[0]>0})(),X.isNode&&X.toFastProperties(process);try{throw new Error}catch(z){X.lastLineError=z}return ul=X,ul}var ju={exports:{}},mp,p0;function Iw(){if(p0)return mp;p0=1;var n=at(),e,t=function(){throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)},i=n.getNativePromise();if(n.isNode&&typeof MutationObserver>"u"){var r=Ln.setImmediate,s=process.nextTick;e=n.isRecentNode?function(a){r.call(Ln,a)}:function(a){s.call(process,a)}}else if(typeof i=="function"&&typeof i.resolve=="function"){var o=i.resolve();e=function(a){o.then(a)}}else typeof MutationObserver<"u"&&!(typeof window<"u"&&window.navigator&&(window.navigator.standalone||window.cordova))?e=(function(){var a=document.createElement("div"),l={attributes:!0},c=!1,u=document.createElement("div"),f=new MutationObserver(function(){a.classList.toggle("foo"),c=!1});f.observe(u,l);var p=function(){c||(c=!0,u.classList.toggle("foo"))};return function(b){var y=new MutationObserver(function(){y.disconnect(),b()});y.observe(a,l),p()}})():typeof setImmediate<"u"?e=function(a){setImmediate(a)}:typeof setTimeout<"u"?e=function(a){setTimeout(a,0)}:e=t;return mp=e,mp}var yp,g0;function Fw(){if(g0)return yp;g0=1;function n(t,i,r,s,o){for(var a=0;a<o;++a)r[a+s]=t[a+i],t[a+i]=void 0}function e(t){this._capacity=t,this._length=0,this._front=0}return e.prototype._willBeOverCapacity=function(t){return this._capacity<t},e.prototype._pushOne=function(t){var i=this.length();this._checkCapacity(i+1);var r=this._front+i&this._capacity-1;this[r]=t,this._length=i+1},e.prototype.push=function(t,i,r){var s=this.length()+3;if(this._willBeOverCapacity(s)){this._pushOne(t),this._pushOne(i),this._pushOne(r);return}var o=this._front+s-3;this._checkCapacity(s);var a=this._capacity-1;this[o+0&a]=t,this[o+1&a]=i,this[o+2&a]=r,this._length=s},e.prototype.shift=function(){var t=this._front,i=this[t];return this[t]=void 0,this._front=t+1&this._capacity-1,this._length--,i},e.prototype.length=function(){return this._length},e.prototype._checkCapacity=function(t){this._capacity<t&&this._resizeTo(this._capacity<<1)},e.prototype._resizeTo=function(t){var i=this._capacity;this._capacity=t;var r=this._front,s=this._length,o=r+s&i-1;n(this,0,this,i,o)},yp=e,yp}var m0;function kw(){if(m0)return ju.exports;m0=1;var n;try{throw new Error}catch(l){n=l}var e=Iw(),t=Fw(),i=at();function r(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new t(16),this._normalQueue=new t(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var l=this;this.drainQueues=function(){l._drainQueues()},this._schedule=e}r.prototype.setScheduler=function(l){var c=this._schedule;return this._schedule=l,this._customScheduler=!0,c},r.prototype.hasCustomScheduler=function(){return this._customScheduler},r.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},r.prototype.disableTrampolineIfNecessary=function(){i.hasDevTools&&(this._trampolineEnabled=!1)},r.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},r.prototype.fatalError=function(l,c){c?(process.stderr.write("Fatal "+(l instanceof Error?l.stack:l)+`
`),process.exit(2)):this.throwLater(l)},r.prototype.throwLater=function(l,c){if(arguments.length===1&&(c=l,l=function(){throw c}),typeof setTimeout<"u")setTimeout(function(){l(c)},0);else try{this._schedule(function(){l(c)})}catch{throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)}};function s(l,c,u){this._lateQueue.push(l,c,u),this._queueTick()}function o(l,c,u){this._normalQueue.push(l,c,u),this._queueTick()}function a(l){this._normalQueue._pushOne(l),this._queueTick()}return i.hasDevTools?(r.prototype.invokeLater=function(l,c,u){this._trampolineEnabled?s.call(this,l,c,u):this._schedule(function(){setTimeout(function(){l.call(c,u)},100)})},r.prototype.invoke=function(l,c,u){this._trampolineEnabled?o.call(this,l,c,u):this._schedule(function(){l.call(c,u)})},r.prototype.settlePromises=function(l){this._trampolineEnabled?a.call(this,l):this._schedule(function(){l._settlePromises()})}):(r.prototype.invokeLater=s,r.prototype.invoke=o,r.prototype.settlePromises=a),r.prototype._drainQueue=function(l){for(;l.length()>0;){var c=l.shift();if(typeof c!="function"){c._settlePromises();continue}var u=l.shift(),f=l.shift();c.call(u,f)}},r.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},r.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},r.prototype._reset=function(){this._isTickUsed=!1},ju.exports=r,ju.exports.firstLineError=n,ju.exports}var vp,y0;function Jr(){if(y0)return vp;y0=1;var n=Za(),e=n.freeze,t=at(),i=t.inherits,r=t.notEnumerableProp;function s(x,D){function T(C){if(!(this instanceof T))return new T(C);r(this,"message",typeof C=="string"?C:D),r(this,"name",x),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return i(T,Error),T}var o,a,l=s("Warning","warning"),c=s("CancellationError","cancellation error"),u=s("TimeoutError","timeout error"),f=s("AggregateError","aggregate error");try{o=TypeError,a=RangeError}catch{o=s("TypeError","type error"),a=s("RangeError","range error")}for(var p="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),g=0;g<p.length;++g)typeof Array.prototype[p[g]]=="function"&&(f.prototype[p[g]]=Array.prototype[p[g]]);n.defineProperty(f.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),f.prototype.isOperational=!0;var b=0;f.prototype.toString=function(){var x=Array(b*4+1).join(" "),D=`
`+x+`AggregateError of:
`;b++,x=Array(b*4+1).join(" ");for(var T=0;T<this.length;++T){for(var C=this[T]===this?"[Circular AggregateError]":this[T]+"",_=C.split(`
`),A=0;A<_.length;++A)_[A]=x+_[A];C=_.join(`
`),D+=C+`
`}return b--,D};function y(x){if(!(this instanceof y))return new y(x);r(this,"name","OperationalError"),r(this,"message",x),this.cause=x,this.isOperational=!0,x instanceof Error?(r(this,"message",x.message),r(this,"stack",x.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}i(y,Error);var v=Error.__BluebirdErrorTypes__;return v||(v=e({CancellationError:c,TimeoutError:u,OperationalError:y,RejectionError:y,AggregateError:f}),n.defineProperty(Error,"__BluebirdErrorTypes__",{value:v,writable:!1,enumerable:!1,configurable:!1})),vp={Error,TypeError:o,RangeError:a,CancellationError:v.CancellationError,OperationalError:v.OperationalError,TimeoutError:v.TimeoutError,AggregateError:v.AggregateError,Warning:l},vp}var bp,v0;function Nw(){return v0||(v0=1,bp=function(n,e){var t=at(),i=t.errorObj,r=t.isObject;function s(f,p){if(r(f)){if(f instanceof n)return f;var g=a(f);if(g===i){p&&p._pushContext();var b=n.reject(g.e);return p&&p._popContext(),b}else if(typeof g=="function"){if(c(f)){var b=new n(e);return f._then(b._fulfill,b._reject,void 0,b,null),b}return u(f,g,p)}}return f}function o(f){return f.then}function a(f){try{return o(f)}catch(p){return i.e=p,i}}var l={}.hasOwnProperty;function c(f){try{return l.call(f,"_promise0")}catch{return!1}}function u(f,p,g){var b=new n(e),y=b;g&&g._pushContext(),b._captureStackTrace(),g&&g._popContext();var v=!0,x=t.tryCatch(p).call(f,D,T);v=!1,b&&x===i&&(b._rejectCallback(x.e,!0,!0),b=null);function D(C){b&&(b._resolveCallback(C),b=null)}function T(C){b&&(b._rejectCallback(C,v,!0),b=null)}return y}return s}),bp}var xp,b0;function Mw(){return b0||(b0=1,xp=function(n,e,t,i,r){var s=at();s.isArray;function o(l){switch(l){case-2:return[];case-3:return{}}}function a(l){var c=this._promise=new n(e);l instanceof n&&c._propagateFrom(l,3),c._setOnCancel(this),this._values=l,this._length=0,this._totalResolved=0,this._init(void 0,-2)}return s.inherits(a,r),a.prototype.length=function(){return this._length},a.prototype.promise=function(){return this._promise},a.prototype._init=function l(c,u){var f=t(this._values,this._promise);if(f instanceof n){f=f._target();var p=f._bitField;if(this._values=f,(p&50397184)===0)return this._promise._setAsyncGuaranteed(),f._then(l,this._reject,void 0,this,u);if((p&33554432)!==0)f=f._value();else return(p&16777216)!==0?this._reject(f._reason()):this._cancel()}if(f=s.asArray(f),f===null){var g=i("expecting an array or an iterable object but got "+s.classString(f)).reason();this._promise._rejectCallback(g,!1);return}if(f.length===0){u===-5?this._resolveEmptyArray():this._resolve(o(u));return}this._iterate(f)},a.prototype._iterate=function(l){var c=this.getActualLength(l.length);this._length=c,this._values=this.shouldCopyValues()?new Array(c):this._values;for(var u=this._promise,f=!1,p=null,g=0;g<c;++g){var b=t(l[g],u);b instanceof n?(b=b._target(),p=b._bitField):p=null,f?p!==null&&b.suppressUnhandledRejections():p!==null?(p&50397184)===0?(b._proxy(this,g),this._values[g]=b):(p&33554432)!==0?f=this._promiseFulfilled(b._value(),g):(p&16777216)!==0?f=this._promiseRejected(b._reason(),g):f=this._promiseCancelled(g):f=this._promiseFulfilled(b,g)}f||u._setAsyncGuaranteed()},a.prototype._isResolved=function(){return this._values===null},a.prototype._resolve=function(l){this._values=null,this._promise._fulfill(l)},a.prototype._cancel=function(){this._isResolved()||!this._promise._isCancellable()||(this._values=null,this._promise._cancel())},a.prototype._reject=function(l){this._values=null,this._promise._rejectCallback(l,!1)},a.prototype._promiseFulfilled=function(l,c){this._values[c]=l;var u=++this._totalResolved;return u>=this._length?(this._resolve(this._values),!0):!1},a.prototype._promiseCancelled=function(){return this._cancel(),!0},a.prototype._promiseRejected=function(l){return this._totalResolved++,this._reject(l),!0},a.prototype._resultCancelled=function(){if(!this._isResolved()){var l=this._values;if(this._cancel(),l instanceof n)l.cancel();else for(var c=0;c<l.length;++c)l[c]instanceof n&&l[c].cancel()}},a.prototype.shouldCopyValues=function(){return!0},a.prototype.getActualLength=function(l){return l},a}),xp}var Dp,x0;function Pw(){return x0||(x0=1,Dp=function(n){var e=!1,t=[];n.prototype._promiseCreated=function(){},n.prototype._pushContext=function(){},n.prototype._popContext=function(){return null},n._peekContext=n.prototype._peekContext=function(){};function i(){this._trace=new i.CapturedTrace(s())}i.prototype._pushContext=function(){this._trace!==void 0&&(this._trace._promiseCreated=null,t.push(this._trace))},i.prototype._popContext=function(){if(this._trace!==void 0){var o=t.pop(),a=o._promiseCreated;return o._promiseCreated=null,a}return null};function r(){if(e)return new i}function s(){var o=t.length-1;if(o>=0)return t[o]}return i.CapturedTrace=null,i.create=r,i.deactivateLongStackTraces=function(){},i.activateLongStackTraces=function(){var o=n.prototype._pushContext,a=n.prototype._popContext,l=n._peekContext,c=n.prototype._peekContext,u=n.prototype._promiseCreated;i.deactivateLongStackTraces=function(){n.prototype._pushContext=o,n.prototype._popContext=a,n._peekContext=l,n.prototype._peekContext=c,n.prototype._promiseCreated=u,e=!1},e=!0,n.prototype._pushContext=i.prototype._pushContext,n.prototype._popContext=i.prototype._popContext,n._peekContext=n.prototype._peekContext=s,n.prototype._promiseCreated=function(){var f=this._peekContext();f&&f._promiseCreated==null&&(f._promiseCreated=this)}},i}),Dp}var Tp,D0;function Lw(){return D0||(D0=1,Tp=function(n,e){var t=n._getDomain,i=n._async,r=Jr().Warning,s=at(),o=s.canAttachTrace,a,l,c=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,u=/\((?:timers\.js):\d+:\d+\)/,f=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,p=null,g=null,b=!1,y,v=!!(s.env("BLUEBIRD_DEBUG")!=0&&(s.env("BLUEBIRD_DEBUG")||s.env("NODE_ENV")==="development")),x=!!(s.env("BLUEBIRD_WARNINGS")!=0&&(v||s.env("BLUEBIRD_WARNINGS"))),D=!!(s.env("BLUEBIRD_LONG_STACK_TRACES")!=0&&(v||s.env("BLUEBIRD_LONG_STACK_TRACES"))),T=s.env("BLUEBIRD_W_FORGOTTEN_RETURN")!=0&&(x||!!s.env("BLUEBIRD_W_FORGOTTEN_RETURN"));n.prototype.suppressUnhandledRejections=function(){var Z=this._target();Z._bitField=Z._bitField&-1048577|524288},n.prototype._ensurePossibleRejectionHandled=function(){(this._bitField&524288)===0&&(this._setRejectionIsUnhandled(),i.invokeLater(this._notifyUnhandledRejection,this,void 0))},n.prototype._notifyUnhandledRejectionIsHandled=function(){Se("rejectionHandled",a,void 0,this)},n.prototype._setReturnedNonUndefined=function(){this._bitField=this._bitField|268435456},n.prototype._returnedNonUndefined=function(){return(this._bitField&268435456)!==0},n.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var Z=this._settledValue();this._setUnhandledRejectionIsNotified(),Se("unhandledRejection",l,Z,this)}},n.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=this._bitField|262144},n.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=this._bitField&-262145},n.prototype._isUnhandledRejectionNotified=function(){return(this._bitField&262144)>0},n.prototype._setRejectionIsUnhandled=function(){this._bitField=this._bitField|1048576},n.prototype._unsetRejectionIsUnhandled=function(){this._bitField=this._bitField&-1048577,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},n.prototype._isRejectionUnhandled=function(){return(this._bitField&1048576)>0},n.prototype._warn=function(Z,ie,le){return ne(Z,ie,le||this)},n.onPossiblyUnhandledRejection=function(Z){var ie=t();l=typeof Z=="function"?ie===null?Z:s.domainBind(ie,Z):void 0},n.onUnhandledRejectionHandled=function(Z){var ie=t();a=typeof Z=="function"?ie===null?Z:s.domainBind(ie,Z):void 0};var C=function(){};n.longStackTraces=function(){if(i.haveItemsQueued()&&!re.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);if(!re.longStackTraces&&ae()){var Z=n.prototype._captureStackTrace,ie=n.prototype._attachExtraTrace;re.longStackTraces=!0,C=function(){if(i.haveItemsQueued()&&!re.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);n.prototype._captureStackTrace=Z,n.prototype._attachExtraTrace=ie,e.deactivateLongStackTraces(),i.enableTrampoline(),re.longStackTraces=!1},n.prototype._captureStackTrace=Y,n.prototype._attachExtraTrace=F,e.activateLongStackTraces(),i.disableTrampolineIfNecessary()}},n.hasLongStackTraces=function(){return re.longStackTraces&&ae()};var _=(function(){try{if(typeof CustomEvent=="function"){var Z=new CustomEvent("CustomEvent");return s.global.dispatchEvent(Z),function(ie,le){var fe=new CustomEvent(ie.toLowerCase(),{detail:le,cancelable:!0});return!s.global.dispatchEvent(fe)}}else if(typeof Event=="function"){var Z=new Event("CustomEvent");return s.global.dispatchEvent(Z),function(le,fe){var xe=new Event(le.toLowerCase(),{cancelable:!0});return xe.detail=fe,!s.global.dispatchEvent(xe)}}else{var Z=document.createEvent("CustomEvent");return Z.initCustomEvent("testingtheevent",!1,!0,{}),s.global.dispatchEvent(Z),function(le,fe){var xe=document.createEvent("CustomEvent");return xe.initCustomEvent(le.toLowerCase(),!1,!0,fe),!s.global.dispatchEvent(xe)}}}catch{}return function(){return!1}})(),A=(function(){return s.isNode?function(){return process.emit.apply(process,arguments)}:s.global?function(Z){var ie="on"+Z.toLowerCase(),le=s.global[ie];return le?(le.apply(s.global,[].slice.call(arguments,1)),!0):!1}:function(){return!1}})();function R(Z,ie){return{promise:ie}}var k={promiseCreated:R,promiseFulfilled:R,promiseRejected:R,promiseResolved:R,promiseCancelled:R,promiseChained:function(Z,ie,le){return{promise:ie,child:le}},warning:function(Z,ie){return{warning:ie}},unhandledRejection:function(Z,ie,le){return{reason:ie,promise:le}},rejectionHandled:R},I=function(Z){var ie=!1;try{ie=A.apply(null,arguments)}catch(fe){i.throwLater(fe),ie=!0}var le=!1;try{le=_(Z,k[Z].apply(null,arguments))}catch(fe){i.throwLater(fe),le=!0}return le||ie};n.config=function(Z){if(Z=Object(Z),"longStackTraces"in Z&&(Z.longStackTraces?n.longStackTraces():!Z.longStackTraces&&n.hasLongStackTraces()&&C()),"warnings"in Z){var ie=Z.warnings;re.warnings=!!ie,T=re.warnings,s.isObject(ie)&&"wForgottenReturn"in ie&&(T=!!ie.wForgottenReturn)}if("cancellation"in Z&&Z.cancellation&&!re.cancellation){if(i.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");n.prototype._clearCancellationData=K,n.prototype._propagateFrom=q,n.prototype._onCancel=O,n.prototype._setOnCancel=S,n.prototype._attachCancellationCallback=U,n.prototype._execute=J,j=q,re.cancellation=!0}return"monitoring"in Z&&(Z.monitoring&&!re.monitoring?(re.monitoring=!0,n.prototype._fireEvent=I):!Z.monitoring&&re.monitoring&&(re.monitoring=!1,n.prototype._fireEvent=L)),n};function L(){return!1}n.prototype._fireEvent=L,n.prototype._execute=function(Z,ie,le){try{Z(ie,le)}catch(fe){return fe}},n.prototype._onCancel=function(){},n.prototype._setOnCancel=function(Z){},n.prototype._attachCancellationCallback=function(Z){},n.prototype._captureStackTrace=function(){},n.prototype._attachExtraTrace=function(){},n.prototype._clearCancellationData=function(){},n.prototype._propagateFrom=function(Z,ie){};function J(Z,ie,le){var fe=this;try{Z(ie,le,function(xe){if(typeof xe!="function")throw new TypeError("onCancel must be a function, got: "+s.toString(xe));fe._attachCancellationCallback(xe)})}catch(xe){return xe}}function U(Z){if(!this._isCancellable())return this;var ie=this._onCancel();ie!==void 0?s.isArray(ie)?ie.push(Z):this._setOnCancel([ie,Z]):this._setOnCancel(Z)}function O(){return this._onCancelField}function S(Z){this._onCancelField=Z}function K(){this._cancellationParent=void 0,this._onCancelField=void 0}function q(Z,ie){if((ie&1)!==0){this._cancellationParent=Z;var le=Z._branchesRemainingToCancel;le===void 0&&(le=0),Z._branchesRemainingToCancel=le+1}(ie&2)!==0&&Z._isBound()&&this._setBoundTo(Z._boundTo)}function B(Z,ie){(ie&2)!==0&&Z._isBound()&&this._setBoundTo(Z._boundTo)}var j=B;function V(){var Z=this._boundTo;return Z!==void 0&&Z instanceof n?Z.isFulfilled()?Z.value():void 0:Z}function Y(){this._trace=new ue(this._peekContext())}function F(Z,ie){if(o(Z)){var le=this._trace;if(le!==void 0&&ie&&(le=le._parent),le!==void 0)le.attachExtraTrace(Z);else if(!Z.__stackCleaned__){var fe=Te(Z);s.notEnumerableProp(Z,"stack",fe.message+`
`+fe.stack.join(`
`)),s.notEnumerableProp(Z,"__stackCleaned__",!0)}}}function X(Z,ie,le,fe,xe){if(Z===void 0&&ie!==null&&T){if(xe!==void 0&&xe._returnedNonUndefined()||(fe._bitField&65535)===0)return;le&&(le=le+" ");var se="",me="";if(ie._trace){for(var ve=ie._trace.stack.split(`
`),De=ge(ve),Re=De.length-1;Re>=0;--Re){var Ie=De[Re];if(!u.test(Ie)){var Ke=Ie.match(f);Ke&&(se="at "+Ke[1]+":"+Ke[2]+":"+Ke[3]+" ");break}}if(De.length>0){for(var fn=De[0],Re=0;Re<ve.length;++Re)if(ve[Re]===fn){Re>0&&(me=`
`+ve[Re-1]);break}}}var wt="a promise was created in a "+le+"handler "+se+"but was not returned from it, see http://goo.gl/rRqMUw"+me;fe._warn(wt,!0,ie)}}function z(Z,ie){var le=Z+" is deprecated and will be removed in a future version.";return ie&&(le+=" Use "+ie+" instead."),ne(le)}function ne(Z,ie,le){if(re.warnings){var fe=new r(Z),xe;if(ie)le._attachExtraTrace(fe);else if(re.longStackTraces&&(xe=n._peekContext()))xe.attachExtraTrace(fe);else{var se=Te(fe);fe.stack=se.message+`
`+se.stack.join(`
`)}I("warning",fe)||Ee(fe,"",!0)}}function oe(Z,ie){for(var le=0;le<ie.length-1;++le)ie[le].push("From previous event:"),ie[le]=ie[le].join(`
`);return le<ie.length&&(ie[le]=ie[le].join(`
`)),Z+`
`+ie.join(`
`)}function pe(Z){for(var ie=0;ie<Z.length;++ie)(Z[ie].length===0||ie+1<Z.length&&Z[ie][0]===Z[ie+1][0])&&(Z.splice(ie,1),ie--)}function ce(Z){for(var ie=Z[0],le=1;le<Z.length;++le){for(var fe=Z[le],xe=ie.length-1,se=ie[xe],me=-1,ve=fe.length-1;ve>=0;--ve)if(fe[ve]===se){me=ve;break}for(var ve=me;ve>=0;--ve){var De=fe[ve];if(ie[xe]===De)ie.pop(),xe--;else break}ie=fe}}function ge(Z){for(var ie=[],le=0;le<Z.length;++le){var fe=Z[le],xe=fe==="    (No stack trace)"||p.test(fe),se=xe&&Q(fe);xe&&!se&&(b&&fe.charAt(0)!==" "&&(fe="    "+fe),ie.push(fe))}return ie}function ye(Z){for(var ie=Z.stack.replace(/\s+$/g,"").split(`
`),le=0;le<ie.length;++le){var fe=ie[le];if(fe==="    (No stack trace)"||p.test(fe))break}return le>0&&Z.name!="SyntaxError"&&(ie=ie.slice(le)),ie}function Te(Z){var ie=Z.stack,le=Z.toString();return ie=typeof ie=="string"&&ie.length>0?ye(Z):["    (No stack trace)"],{message:le,stack:Z.name=="SyntaxError"?ie:ge(ie)}}function Ee(Z,ie,le){if(typeof console<"u"){var fe;if(s.isObject(Z)){var xe=Z.stack;fe=ie+g(xe,Z)}else fe=ie+String(Z);typeof y=="function"?y(fe,le):(typeof console.log=="function"||typeof console.log=="object")&&console.log(fe)}}function Se(Z,ie,le,fe){var xe=!1;try{typeof ie=="function"&&(xe=!0,Z==="rejectionHandled"?ie(fe):ie(le,fe))}catch(se){i.throwLater(se)}Z==="unhandledRejection"?!I(Z,le,fe)&&!xe&&Ee(le,"Unhandled rejection "):I(Z,fe)}function Oe(Z){var ie;if(typeof Z=="function")ie="[function "+(Z.name||"anonymous")+"]";else{ie=Z&&typeof Z.toString=="function"?Z.toString():s.toString(Z);var le=/\[object [a-zA-Z0-9$_]+\]/;if(le.test(ie))try{var fe=JSON.stringify(Z);ie=fe}catch{}ie.length===0&&(ie="(empty array)")}return"(<"+w(ie)+">, no stack trace)"}function w(Z){var ie=41;return Z.length<ie?Z:Z.substr(0,ie-3)+"..."}function ae(){return typeof he=="function"}var Q=function(){return!1},H=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function $(Z){var ie=Z.match(H);if(ie)return{fileName:ie[1],line:parseInt(ie[2],10)}}function ee(Z,ie){if(ae()){for(var le=Z.stack.split(`
`),fe=ie.stack.split(`
`),xe=-1,se=-1,me,ve,De=0;De<le.length;++De){var Re=$(le[De]);if(Re){me=Re.fileName,xe=Re.line;break}}for(var De=0;De<fe.length;++De){var Re=$(fe[De]);if(Re){ve=Re.fileName,se=Re.line;break}}xe<0||se<0||!me||!ve||me!==ve||xe>=se||(Q=function(Ie){if(c.test(Ie))return!0;var Ke=$(Ie);return!!(Ke&&Ke.fileName===me&&xe<=Ke.line&&Ke.line<=se)})}}function ue(Z){this._parent=Z,this._promisesCreated=0;var ie=this._length=1+(Z===void 0?0:Z._length);he(this,ue),ie>32&&this.uncycle()}s.inherits(ue,Error),e.CapturedTrace=ue,ue.prototype.uncycle=function(){var Z=this._length;if(!(Z<2)){for(var ie=[],le={},fe=0,xe=this;xe!==void 0;++fe)ie.push(xe),xe=xe._parent;Z=this._length=fe;for(var fe=Z-1;fe>=0;--fe){var se=ie[fe].stack;le[se]===void 0&&(le[se]=fe)}for(var fe=0;fe<Z;++fe){var me=ie[fe].stack,ve=le[me];if(ve!==void 0&&ve!==fe){ve>0&&(ie[ve-1]._parent=void 0,ie[ve-1]._length=1),ie[fe]._parent=void 0,ie[fe]._length=1;var De=fe>0?ie[fe-1]:this;ve<Z-1?(De._parent=ie[ve+1],De._parent.uncycle(),De._length=De._parent._length+1):(De._parent=void 0,De._length=1);for(var Re=De._length+1,Ie=fe-2;Ie>=0;--Ie)ie[Ie]._length=Re,Re++;return}}}},ue.prototype.attachExtraTrace=function(Z){if(!Z.__stackCleaned__){this.uncycle();for(var ie=Te(Z),le=ie.message,fe=[ie.stack],xe=this;xe!==void 0;)fe.push(ge(xe.stack.split(`
`))),xe=xe._parent;ce(fe),pe(fe),s.notEnumerableProp(Z,"stack",oe(le,fe)),s.notEnumerableProp(Z,"__stackCleaned__",!0)}};var he=(function(){var ie=/^\s*at\s*/,le=function(me,ve){return typeof me=="string"?me:ve.name!==void 0&&ve.message!==void 0?ve.toString():Oe(ve)};if(typeof Error.stackTraceLimit=="number"&&typeof Error.captureStackTrace=="function"){Error.stackTraceLimit+=6,p=ie,g=le;var fe=Error.captureStackTrace;return Q=function(me){return c.test(me)},function(me,ve){Error.stackTraceLimit+=6,fe(me,ve),Error.stackTraceLimit-=6}}var xe=new Error;if(typeof xe.stack=="string"&&xe.stack.split(`
`)[0].indexOf("stackDetection@")>=0)return p=/@/,g=le,b=!0,function(ve){ve.stack=new Error().stack};var se;try{throw new Error}catch(me){se="stack"in me}return!("stack"in xe)&&se&&typeof Error.stackTraceLimit=="number"?(p=ie,g=le,function(ve){Error.stackTraceLimit+=6;try{throw new Error}catch(De){ve.stack=De.stack}Error.stackTraceLimit-=6}):(g=function(me,ve){return typeof me=="string"?me:(typeof ve=="object"||typeof ve=="function")&&ve.name!==void 0&&ve.message!==void 0?ve.toString():Oe(ve)},null)})();typeof console<"u"&&typeof console.warn<"u"&&(y=function(Z){console.warn(Z)},s.isNode&&process.stderr.isTTY?y=function(Z,ie){var le=ie?"\x1B[33m":"\x1B[31m";console.warn(le+Z+`\x1B[0m
`)}:!s.isNode&&typeof new Error().stack=="string"&&(y=function(Z,ie){console.warn("%c"+Z,ie?"color: darkorange":"color: red")}));var re={warnings:x,longStackTraces:!1,cancellation:!1,monitoring:!1};return D&&n.longStackTraces(),{longStackTraces:function(){return re.longStackTraces},warnings:function(){return re.warnings},cancellation:function(){return re.cancellation},monitoring:function(){return re.monitoring},propagateFromFunction:function(){return j},boundValueFunction:function(){return V},checkForgottenReturns:X,setBounds:ee,warn:ne,deprecated:z,CapturedTrace:ue,fireDomEvent:_,fireGlobalEvent:A}}),Tp}var _p,T0;function Bw(){return T0||(T0=1,_p=function(n,e){var t=at(),i=n.CancellationError,r=t.errorObj;function s(f,p,g){this.promise=f,this.type=p,this.handler=g,this.called=!1,this.cancelPromise=null}s.prototype.isFinallyHandler=function(){return this.type===0};function o(f){this.finallyHandler=f}o.prototype._resultCancelled=function(){a(this.finallyHandler)};function a(f,p){return f.cancelPromise!=null?(arguments.length>1?f.cancelPromise._reject(p):f.cancelPromise._cancel(),f.cancelPromise=null,!0):!1}function l(){return u.call(this,this.promise._target()._settledValue())}function c(f){if(!a(this,f))return r.e=f,r}function u(f){var p=this.promise,g=this.handler;if(!this.called){this.called=!0;var b=this.isFinallyHandler()?g.call(p._boundValue()):g.call(p._boundValue(),f);if(b!==void 0){p._setReturnedNonUndefined();var y=e(b,p);if(y instanceof n){if(this.cancelPromise!=null)if(y._isCancelled()){var v=new i("late cancellation observer");return p._attachExtraTrace(v),r.e=v,r}else y.isPending()&&y._attachCancellationCallback(new o(this));return y._then(l,c,void 0,this,void 0)}}}return p.isRejected()?(a(this),r.e=f,r):(a(this),f)}return n.prototype._passThrough=function(f,p,g,b){return typeof f!="function"?this.then():this._then(g,b,void 0,new s(this,p,f),void 0)},n.prototype.lastly=n.prototype.finally=function(f){return this._passThrough(f,0,u,u)},n.prototype.tap=function(f){return this._passThrough(f,1,u)},s}),_p}var Cp,_0;function Ow(){return _0||(_0=1,Cp=function(n){var e=at(),t=Za().keys,i=e.tryCatch,r=e.errorObj;function s(o,a,l){return function(c){var u=l._boundValue();e:for(var f=0;f<o.length;++f){var p=o[f];if(p===Error||p!=null&&p.prototype instanceof Error){if(c instanceof p)return i(a).call(u,c)}else if(typeof p=="function"){var g=i(p).call(u,c);if(g===r)return g;if(g)return i(a).call(u,c)}else if(e.isObject(c)){for(var b=t(p),y=0;y<b.length;++y){var v=b[y];if(p[v]!=c[v])continue e}return i(a).call(u,c)}}return n}}return s}),Cp}var Ap,C0;function E_(){if(C0)return Ap;C0=1;var n=at(),e=n.maybeWrapAsError,t=Jr(),i=t.OperationalError,r=Za();function s(c){return c instanceof Error&&r.getPrototypeOf(c)===Error.prototype}var o=/^(?:name|message|stack|cause)$/;function a(c){var u;if(s(c)){u=new i(c),u.name=c.name,u.message=c.message,u.stack=c.stack;for(var f=r.keys(c),p=0;p<f.length;++p){var g=f[p];o.test(g)||(u[g]=c[g])}return u}return n.markAsOriginatingFromRejection(c),c}function l(c,u){return function(f,p){if(c!==null){if(f){var g=a(e(f));c._attachExtraTrace(g),c._reject(g)}else if(!u)c._fulfill(p);else{for(var b=arguments.length,y=new Array(Math.max(b-1,0)),v=1;v<b;++v)y[v-1]=arguments[v];c._fulfill(y)}c=null}}}return Ap=l,Ap}var Ep,A0;function Ww(){return A0||(A0=1,Ep=function(n,e,t,i,r){var s=at(),o=s.tryCatch;n.method=function(a){if(typeof a!="function")throw new n.TypeError("expecting a function but got "+s.classString(a));return function(){var l=new n(e);l._captureStackTrace(),l._pushContext();var c=o(a).apply(this,arguments),u=l._popContext();return r.checkForgottenReturns(c,u,"Promise.method",l),l._resolveFromSyncValue(c),l}},n.attempt=n.try=function(a){if(typeof a!="function")return i("expecting a function but got "+s.classString(a));var l=new n(e);l._captureStackTrace(),l._pushContext();var c;if(arguments.length>1){r.deprecated("calling Promise.try with more than 1 argument");var u=arguments[1],f=arguments[2];c=s.isArray(u)?o(a).apply(f,u):o(a).call(f,u)}else c=o(a)();var p=l._popContext();return r.checkForgottenReturns(c,p,"Promise.try",l),l._resolveFromSyncValue(c),l},n.prototype._resolveFromSyncValue=function(a){a===s.errorObj?this._rejectCallback(a.e,!1):this._resolveCallback(a,!0)}}),Ep}var wp,E0;function qw(){return E0||(E0=1,wp=function(n,e,t,i){var r=!1,s=function(c,u){this._reject(u)},o=function(c,u){u.promiseRejectionQueued=!0,u.bindingPromise._then(s,s,null,this,c)},a=function(c,u){(this._bitField&50397184)===0&&this._resolveCallback(u.target)},l=function(c,u){u.promiseRejectionQueued||this._reject(c)};n.prototype.bind=function(c){r||(r=!0,n.prototype._propagateFrom=i.propagateFromFunction(),n.prototype._boundValue=i.boundValueFunction());var u=t(c),f=new n(e);f._propagateFrom(this,1);var p=this._target();if(f._setBoundTo(u),u instanceof n){var g={promiseRejectionQueued:!1,promise:f,target:p,bindingPromise:u};p._then(e,o,void 0,f,g),u._then(a,l,void 0,f,g),f._setOnCancel(u)}else f._resolveCallback(p);return f},n.prototype._setBoundTo=function(c){c!==void 0?(this._bitField=this._bitField|2097152,this._boundTo=c):this._bitField=this._bitField&-2097153},n.prototype._isBound=function(){return(this._bitField&2097152)===2097152},n.bind=function(c,u){return n.resolve(u).bind(c)}}),wp}var Sp,w0;function Vw(){return w0||(w0=1,Sp=function(n,e,t,i){var r=at(),s=r.tryCatch,o=r.errorObj,a=n._async;n.prototype.break=n.prototype.cancel=function(){if(!i.cancellation())return this._warn("cancellation is disabled");for(var l=this,c=l;l._isCancellable();){if(!l._cancelBy(c)){c._isFollowing()?c._followee().cancel():c._cancelBranched();break}var u=l._cancellationParent;if(u==null||!u._isCancellable()){l._isFollowing()?l._followee().cancel():l._cancelBranched();break}else l._isFollowing()&&l._followee().cancel(),l._setWillBeCancelled(),c=l,l=u}},n.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},n.prototype._enoughBranchesHaveCancelled=function(){return this._branchesRemainingToCancel===void 0||this._branchesRemainingToCancel<=0},n.prototype._cancelBy=function(l){return l===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),this._enoughBranchesHaveCancelled()?(this._invokeOnCancel(),!0):!1)},n.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},n.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),a.invoke(this._cancelPromises,this,void 0))},n.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},n.prototype._unsetOnCancel=function(){this._onCancelField=void 0},n.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},n.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},n.prototype._doInvokeOnCancel=function(l,c){if(r.isArray(l))for(var u=0;u<l.length;++u)this._doInvokeOnCancel(l[u],c);else if(l!==void 0)if(typeof l=="function"){if(!c){var f=s(l).call(this._boundValue());f===o&&(this._attachExtraTrace(f.e),a.throwLater(f.e))}}else l._resultCancelled(this)},n.prototype._invokeOnCancel=function(){var l=this._onCancel();this._unsetOnCancel(),a.invoke(this._doInvokeOnCancel,this,l)},n.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},n.prototype._resultCancelled=function(){this.cancel()}}),Sp}var Up,S0;function Hw(){return S0||(S0=1,Up=function(n){function e(){return this.value}function t(){throw this.reason}n.prototype.return=n.prototype.thenReturn=function(i){return i instanceof n&&i.suppressUnhandledRejections(),this._then(e,void 0,void 0,{value:i},void 0)},n.prototype.throw=n.prototype.thenThrow=function(i){return this._then(t,void 0,void 0,{reason:i},void 0)},n.prototype.catchThrow=function(i){if(arguments.length<=1)return this._then(void 0,t,void 0,{reason:i},void 0);var r=arguments[1],s=function(){throw r};return this.caught(i,s)},n.prototype.catchReturn=function(i){if(arguments.length<=1)return i instanceof n&&i.suppressUnhandledRejections(),this._then(void 0,e,void 0,{value:i},void 0);var r=arguments[1];r instanceof n&&r.suppressUnhandledRejections();var s=function(){return r};return this.caught(i,s)}}),Up}var Rp,U0;function Gw(){return U0||(U0=1,Rp=function(n){function e(l){l!==void 0?(l=l._target(),this._bitField=l._bitField,this._settledValueField=l._isFateSealed()?l._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}e.prototype._settledValue=function(){return this._settledValueField};var t=e.prototype.value=function(){if(!this.isFulfilled())throw new TypeError(`cannot get fulfillment value of a non-fulfilled promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},i=e.prototype.error=e.prototype.reason=function(){if(!this.isRejected())throw new TypeError(`cannot get rejection reason of a non-rejected promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},r=e.prototype.isFulfilled=function(){return(this._bitField&33554432)!==0},s=e.prototype.isRejected=function(){return(this._bitField&16777216)!==0},o=e.prototype.isPending=function(){return(this._bitField&50397184)===0},a=e.prototype.isResolved=function(){return(this._bitField&50331648)!==0};e.prototype.isCancelled=function(){return(this._bitField&8454144)!==0},n.prototype.__isCancelled=function(){return(this._bitField&65536)===65536},n.prototype._isCancelled=function(){return this._target().__isCancelled()},n.prototype.isCancelled=function(){return(this._target()._bitField&8454144)!==0},n.prototype.isPending=function(){return o.call(this._target())},n.prototype.isRejected=function(){return s.call(this._target())},n.prototype.isFulfilled=function(){return r.call(this._target())},n.prototype.isResolved=function(){return a.call(this._target())},n.prototype.value=function(){return t.call(this._target())},n.prototype.reason=function(){var l=this._target();return l._unsetRejectionIsUnhandled(),i.call(l)},n.prototype._value=function(){return this._settledValue()},n.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},n.PromiseInspection=e}),Rp}var Ip,R0;function $w(){return R0||(R0=1,Ip=function(n,e,t,i,r,s){var o=at(),a=o.canEvaluate,l=o.tryCatch,c=o.errorObj,u;if(a){for(var f=function(D){return new Function("value","holder",`                             
	            'use strict';                                                    
	            holder.pIndex = value;                                           
	            holder.checkFulfillment(this);                                   
	            `.replace(/Index/g,D))},p=function(D){return new Function("promise","holder",`                           
	            'use strict';                                                    
	            holder.pIndex = promise;                                         
	            `.replace(/Index/g,D))},g=function(D){for(var T=new Array(D),C=0;C<T.length;++C)T[C]="this.p"+(C+1);var _=T.join(" = ")+" = null;",A=`var promise;
`+T.map(function(L){return`                                                         
	                promise = `+L+`;                                      
	                if (promise instanceof Promise) {                            
	                    promise.cancel();                                        
	                }                                                            
	            `}).join(`
`),R=T.join(", "),k="Holder$"+D,I=`return function(tryCatch, errorObj, Promise, async) {    
	            'use strict';                                                    
	            function [TheName](fn) {                                         
	                [TheProperties]                                              
	                this.fn = fn;                                                
	                this.asyncNeeded = true;                                     
	                this.now = 0;                                                
	            }                                                                
	                                                                             
	            [TheName].prototype._callFunction = function(promise) {          
	                promise._pushContext();                                      
	                var ret = tryCatch(this.fn)([ThePassedArguments]);           
	                promise._popContext();                                       
	                if (ret === errorObj) {                                      
	                    promise._rejectCallback(ret.e, false);                   
	                } else {                                                     
	                    promise._resolveCallback(ret);                           
	                }                                                            
	            };                                                               
	                                                                             
	            [TheName].prototype.checkFulfillment = function(promise) {       
	                var now = ++this.now;                                        
	                if (now === [TheTotal]) {                                    
	                    if (this.asyncNeeded) {                                  
	                        async.invoke(this._callFunction, this, promise);     
	                    } else {                                                 
	                        this._callFunction(promise);                         
	                    }                                                        
	                                                                             
	                }                                                            
	            };                                                               
	                                                                             
	            [TheName].prototype._resultCancelled = function() {              
	                [CancellationCode]                                           
	            };                                                               
	                                                                             
	            return [TheName];                                                
	        }(tryCatch, errorObj, Promise, async);                               
	        `;return I=I.replace(/\[TheName\]/g,k).replace(/\[TheTotal\]/g,D).replace(/\[ThePassedArguments\]/g,R).replace(/\[TheProperties\]/g,_).replace(/\[CancellationCode\]/g,A),new Function("tryCatch","errorObj","Promise","async",I)(l,c,n,r)},b=[],y=[],v=[],x=0;x<8;++x)b.push(g(x+1)),y.push(f(x+1)),v.push(p(x+1));u=function(D){this._reject(D)}}n.join=function(){var D=arguments.length-1,T;if(D>0&&typeof arguments[D]=="function"&&(T=arguments[D],D<=8&&a)){var S=new n(i);S._captureStackTrace();for(var C=b[D-1],_=new C(T),A=y,R=0;R<D;++R){var k=t(arguments[R],S);if(k instanceof n){k=k._target();var I=k._bitField;(I&50397184)===0?(k._then(A[R],u,void 0,S,_),v[R](k,_),_.asyncNeeded=!1):(I&33554432)!==0?A[R].call(S,k._value(),_):(I&16777216)!==0?S._reject(k._reason()):S._cancel()}else A[R].call(S,k,_)}if(!S._isFateSealed()){if(_.asyncNeeded){var L=s();L!==null&&(_.fn=o.domainBind(L,_.fn))}S._setAsyncGuaranteed(),S._setOnCancel(_)}return S}for(var J=arguments.length,U=new Array(J),O=0;O<J;++O)U[O]=arguments[O];T&&U.pop();var S=new e(U).promise();return T!==void 0?S.spread(T):S}}),Ip}var Fp,I0;function zw(){return I0||(I0=1,Fp=function(n,e,t,i,r,s){var o=n._getDomain,a=at(),l=a.tryCatch,c=a.errorObj,u=n._async;function f(g,b,y,v){this.constructor$(g),this._promise._captureStackTrace();var x=o();this._callback=x===null?b:a.domainBind(x,b),this._preservedValues=v===r?new Array(this.length()):null,this._limit=y,this._inFlight=0,this._queue=[],u.invoke(this._asyncInit,this,void 0)}a.inherits(f,e),f.prototype._asyncInit=function(){this._init$(void 0,-2)},f.prototype._init=function(){},f.prototype._promiseFulfilled=function(g,b){var y=this._values,v=this.length(),x=this._preservedValues,D=this._limit;if(b<0){if(b=b*-1-1,y[b]=g,D>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(D>=1&&this._inFlight>=D)return y[b]=g,this._queue.push(b),!1;x!==null&&(x[b]=g);var T=this._promise,C=this._callback,_=T._boundValue();T._pushContext();var A=l(C).call(_,g,b,v),R=T._popContext();if(s.checkForgottenReturns(A,R,x!==null?"Promise.filter":"Promise.map",T),A===c)return this._reject(A.e),!0;var k=i(A,this._promise);if(k instanceof n){k=k._target();var I=k._bitField;if((I&50397184)===0)return D>=1&&this._inFlight++,y[b]=k,k._proxy(this,(b+1)*-1),!1;if((I&33554432)!==0)A=k._value();else return(I&16777216)!==0?(this._reject(k._reason()),!0):(this._cancel(),!0)}y[b]=A}var L=++this._totalResolved;return L>=v?(x!==null?this._filter(y,x):this._resolve(y),!0):!1},f.prototype._drainQueue=function(){for(var g=this._queue,b=this._limit,y=this._values;g.length>0&&this._inFlight<b;){if(this._isResolved())return;var v=g.pop();this._promiseFulfilled(y[v],v)}},f.prototype._filter=function(g,b){for(var y=b.length,v=new Array(y),x=0,D=0;D<y;++D)g[D]&&(v[x++]=b[D]);v.length=x,this._resolve(v)},f.prototype.preservedValues=function(){return this._preservedValues};function p(g,b,y,v){if(typeof b!="function")return t("expecting a function but got "+a.classString(b));var x=0;if(y!==void 0)if(typeof y=="object"&&y!==null){if(typeof y.concurrency!="number")return n.reject(new TypeError("'concurrency' must be a number but it is "+a.classString(y.concurrency)));x=y.concurrency}else return n.reject(new TypeError("options argument must be an object but it is "+a.classString(y)));return x=typeof x=="number"&&isFinite(x)&&x>=1?x:0,new f(g,b,x,v).promise()}n.prototype.map=function(g,b){return p(this,g,b,null)},n.map=function(g,b,y,v){return p(g,b,y,v)}}),Fp}var kp,F0;function Xw(){if(F0)return kp;F0=1;var n=Object.create;if(n){var e=n(null),t=n(null);e[" size"]=t[" size"]=0}return kp=function(i){var r=at(),s=r.canEvaluate,o=r.isIdentifier,a,l;{var c=function(v){return new Function("ensureMethod",`                                    
	        return function(obj) {                                               
	            'use strict'                                                     
	            var len = this.length;                                           
	            ensureMethod(obj, 'methodName');                                 
	            switch(len) {                                                    
	                case 1: return obj.methodName(this[0]);                      
	                case 2: return obj.methodName(this[0], this[1]);             
	                case 3: return obj.methodName(this[0], this[1], this[2]);    
	                case 0: return obj.methodName();                             
	                default:                                                     
	                    return obj.methodName.apply(obj, this);                  
	            }                                                                
	        };                                                                   
	        `.replace(/methodName/g,v))(p)},u=function(v){return new Function("obj",`                                             
	        'use strict';                                                        
	        return obj.propertyName;                                             
	        `.replace("propertyName",v))},f=function(v,x,D){var T=D[v];if(typeof T!="function"){if(!o(v))return null;if(T=x(v),D[v]=T,D[" size"]++,D[" size"]>512){for(var C=Object.keys(D),_=0;_<256;++_)delete D[C[_]];D[" size"]=C.length-256}}return T};a=function(v){return f(v,c,e)},l=function(v){return f(v,u,t)}}function p(v,x){var D;if(v!=null&&(D=v[x]),typeof D!="function"){var T="Object "+r.classString(v)+" has no method '"+r.toString(x)+"'";throw new i.TypeError(T)}return D}function g(v){var x=this.pop(),D=p(v,x);return D.apply(v,this)}i.prototype.call=function(v){for(var x=arguments.length,D=new Array(Math.max(x-1,0)),T=1;T<x;++T)D[T-1]=arguments[T];if(s){var C=a(v);if(C!==null)return this._then(C,void 0,void 0,D,void 0)}return D.push(v),this._then(g,void 0,void 0,D,void 0)};function b(v){return v[this]}function y(v){var x=+this;return x<0&&(x=Math.max(0,x+v.length)),v[x]}i.prototype.get=function(v){var x=typeof v=="number",D;if(x)D=y;else if(s){var T=l(v);D=T!==null?T:b}else D=b;return this._then(D,void 0,void 0,v,void 0)}},kp}var Np,k0;function Jw(){return k0||(k0=1,Np=function(n,e,t,i,r,s){var o=at(),a=Jr().TypeError,l=at().inherits,c=o.errorObj,u=o.tryCatch,f={};function p(T){setTimeout(function(){throw T},0)}function g(T){var C=t(T);return C!==T&&typeof T._isDisposable=="function"&&typeof T._getDisposer=="function"&&T._isDisposable()&&C._setDisposable(T._getDisposer()),C}function b(T,C){var _=0,A=T.length,R=new n(r);function k(){if(_>=A)return R._fulfill();var I=g(T[_++]);if(I instanceof n&&I._isDisposable()){try{I=t(I._getDisposer().tryDispose(C),T.promise)}catch(L){return p(L)}if(I instanceof n)return I._then(k,p,null,null,null)}k()}return k(),R}function y(T,C,_){this._data=T,this._promise=C,this._context=_}y.prototype.data=function(){return this._data},y.prototype.promise=function(){return this._promise},y.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():f},y.prototype.tryDispose=function(T){var C=this.resource(),_=this._context;_!==void 0&&_._pushContext();var A=C!==f?this.doDispose(C,T):null;return _!==void 0&&_._popContext(),this._promise._unsetDisposable(),this._data=null,A},y.isDisposer=function(T){return T!=null&&typeof T.resource=="function"&&typeof T.tryDispose=="function"};function v(T,C,_){this.constructor$(T,C,_)}l(v,y),v.prototype.doDispose=function(T,C){var _=this.data();return _.call(T,T,C)};function x(T){return y.isDisposer(T)?(this.resources[this.index]._setDisposable(T),T.promise()):T}function D(T){this.length=T,this.promise=null,this[T-1]=null}D.prototype._resultCancelled=function(){for(var T=this.length,C=0;C<T;++C){var _=this[C];_ instanceof n&&_.cancel()}},n.using=function(){var T=arguments.length;if(T<2)return e("you must pass at least 2 arguments to Promise.using");var C=arguments[T-1];if(typeof C!="function")return e("expecting a function but got "+o.classString(C));var _,A=!0;T===2&&Array.isArray(arguments[0])?(_=arguments[0],T=_.length,A=!1):(_=arguments,T--);for(var R=new D(T),k=0;k<T;++k){var I=_[k];if(y.isDisposer(I)){var L=I;I=I.promise(),I._setDisposable(L)}else{var J=t(I);J instanceof n&&(I=J._then(x,null,null,{resources:R,index:k},void 0))}R[k]=I}for(var U=new Array(R.length),k=0;k<U.length;++k)U[k]=n.resolve(R[k]).reflect();var O=n.all(U).then(function(K){for(var q=0;q<K.length;++q){var B=K[q];if(B.isRejected())return c.e=B.error(),c;if(!B.isFulfilled()){O.cancel();return}K[q]=B.value()}S._pushContext(),C=u(C);var j=A?C.apply(void 0,K):C(K),V=S._popContext();return s.checkForgottenReturns(j,V,"Promise.using",S),j}),S=O.lastly(function(){var K=new n.PromiseInspection(O);return b(R,K)});return R.promise=S,S._setOnCancel(R),S},n.prototype._setDisposable=function(T){this._bitField=this._bitField|131072,this._disposer=T},n.prototype._isDisposable=function(){return(this._bitField&131072)>0},n.prototype._getDisposer=function(){return this._disposer},n.prototype._unsetDisposable=function(){this._bitField=this._bitField&-131073,this._disposer=void 0},n.prototype.disposer=function(T){if(typeof T=="function")return new v(T,this,i());throw new a}}),Np}var Mp,N0;function Yw(){return N0||(N0=1,Mp=function(n,e,t){var i=at(),r=n.TimeoutError;function s(f){this.handle=f}s.prototype._resultCancelled=function(){clearTimeout(this.handle)};var o=function(f){return a(+this).thenReturn(f)},a=n.delay=function(f,p){var g,b;return p!==void 0?(g=n.resolve(p)._then(o,null,null,f,void 0),t.cancellation()&&p instanceof n&&g._setOnCancel(p)):(g=new n(e),b=setTimeout(function(){g._fulfill()},+f),t.cancellation()&&g._setOnCancel(new s(b)),g._captureStackTrace()),g._setAsyncGuaranteed(),g};n.prototype.delay=function(f){return a(f,this)};var l=function(f,p,g){var b;typeof p!="string"?p instanceof Error?b=p:b=new r("operation timed out"):b=new r(p),i.markAsOriginatingFromRejection(b),f._attachExtraTrace(b),f._reject(b),g!=null&&g.cancel()};function c(f){return clearTimeout(this.handle),f}function u(f){throw clearTimeout(this.handle),f}n.prototype.timeout=function(f,p){f=+f;var g,b,y=new s(setTimeout(function(){g.isPending()&&l(g,p,b)},f));return t.cancellation()?(b=this.then(),g=b._then(c,u,void 0,y,void 0),g._setOnCancel(y)):g=this._then(c,u,void 0,y,void 0),g}}),Mp}var Pp,M0;function Kw(){return M0||(M0=1,Pp=function(n,e,t,i,r,s){var o=Jr(),a=o.TypeError,l=at(),c=l.errorObj,u=l.tryCatch,f=[];function p(b,y,v){for(var x=0;x<y.length;++x){v._pushContext();var D=u(y[x])(b);if(v._popContext(),D===c){v._pushContext();var T=n.reject(c.e);return v._popContext(),T}var C=i(D,v);if(C instanceof n)return C}return null}function g(b,y,v,x){if(s.cancellation()){var D=new n(t),T=this._finallyPromise=new n(t);this._promise=D.lastly(function(){return T}),D._captureStackTrace(),D._setOnCancel(this)}else{var C=this._promise=new n(t);C._captureStackTrace()}this._stack=x,this._generatorFunction=b,this._receiver=y,this._generator=void 0,this._yieldHandlers=typeof v=="function"?[v].concat(f):f,this._yieldedPromise=null,this._cancellationPhase=!1}l.inherits(g,r),g.prototype._isResolved=function(){return this._promise===null},g.prototype._cleanup=function(){this._promise=this._generator=null,s.cancellation()&&this._finallyPromise!==null&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},g.prototype._promiseCancelled=function(){if(!this._isResolved()){var b=typeof this._generator.return<"u",y;if(b)this._promise._pushContext(),y=u(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var v=new n.CancellationError("generator .return() sentinel");n.coroutine.returnSentinel=v,this._promise._attachExtraTrace(v),this._promise._pushContext(),y=u(this._generator.throw).call(this._generator,v),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(y)}},g.prototype._promiseFulfilled=function(b){this._yieldedPromise=null,this._promise._pushContext();var y=u(this._generator.next).call(this._generator,b);this._promise._popContext(),this._continue(y)},g.prototype._promiseRejected=function(b){this._yieldedPromise=null,this._promise._attachExtraTrace(b),this._promise._pushContext();var y=u(this._generator.throw).call(this._generator,b);this._promise._popContext(),this._continue(y)},g.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof n){var b=this._yieldedPromise;this._yieldedPromise=null,b.cancel()}},g.prototype.promise=function(){return this._promise},g.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},g.prototype._continue=function(b){var y=this._promise;if(b===c)return this._cleanup(),this._cancellationPhase?y.cancel():y._rejectCallback(b.e,!1);var v=b.value;if(b.done===!0)return this._cleanup(),this._cancellationPhase?y.cancel():y._resolveCallback(v);var x=i(v,this._promise);if(!(x instanceof n)&&(x=p(x,this._yieldHandlers,this._promise),x===null)){this._promiseRejected(new a(`A value %s was yielded that could not be treated as a promise

    See http://goo.gl/MqrFmX

`.replace("%s",v)+`From coroutine:
`+this._stack.split(`
`).slice(1,-7).join(`
`)));return}x=x._target();var D=x._bitField;(D&50397184)===0?(this._yieldedPromise=x,x._proxy(this,null)):(D&33554432)!==0?n._async.invoke(this._promiseFulfilled,this,x._value()):(D&16777216)!==0?n._async.invoke(this._promiseRejected,this,x._reason()):this._promiseCancelled()},n.coroutine=function(b,y){if(typeof b!="function")throw new a(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var v=Object(y).yieldHandler,x=g,D=new Error().stack;return function(){var T=b.apply(this,arguments),C=new x(void 0,void 0,v,D),_=C.promise();return C._generator=T,C._promiseFulfilled(void 0),_}},n.coroutine.addYieldHandler=function(b){if(typeof b!="function")throw new a("expecting a function but got "+l.classString(b));f.push(b)},n.spawn=function(b){if(s.deprecated("Promise.spawn()","Promise.coroutine()"),typeof b!="function")return e(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var y=new g(b,this),v=y.promise();return y._run(n.spawn),v}}),Pp}var Lp,P0;function jw(){return P0||(P0=1,Lp=function(n){var e=at(),t=n._async,i=e.tryCatch,r=e.errorObj;function s(l,c){var u=this;if(!e.isArray(l))return o.call(u,l,c);var f=i(c).apply(u._boundValue(),[null].concat(l));f===r&&t.throwLater(f.e)}function o(l,c){var u=this,f=u._boundValue(),p=l===void 0?i(c).call(f,null):i(c).call(f,null,l);p===r&&t.throwLater(p.e)}function a(l,c){var u=this;if(!l){var f=new Error(l+"");f.cause=l,l=f}var p=i(c).call(u._boundValue(),l);p===r&&t.throwLater(p.e)}n.prototype.asCallback=n.prototype.nodeify=function(l,c){if(typeof l=="function"){var u=o;c!==void 0&&Object(c).spread&&(u=s),this._then(u,a,void 0,this,l)}return this}}),Lp}var Bp,L0;function Zw(){return L0||(L0=1,Bp=function(n,e){var t={},i=at(),r=E_(),s=i.withAppended,o=i.maybeWrapAsError,a=i.canEvaluate,l=Jr().TypeError,c="Async",u={__isPromisified__:!0},f=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"],p=new RegExp("^(?:"+f.join("|")+")$"),g=function(O){return i.isIdentifier(O)&&O.charAt(0)!=="_"&&O!=="constructor"};function b(O){return!p.test(O)}function y(O){try{return O.__isPromisified__===!0}catch{return!1}}function v(O,S,K){var q=i.getDataPropertyOrDefault(O,S+K,u);return q?y(q):!1}function x(O,S,K){for(var q=0;q<O.length;q+=2){var B=O[q];if(K.test(B)){for(var j=B.replace(K,""),V=0;V<O.length;V+=2)if(O[V]===j)throw new l(`Cannot promisify an API that has normal methods with '%s'-suffix

    See http://goo.gl/MqrFmX
`.replace("%s",S))}}}function D(O,S,K,q){for(var B=i.inheritedDataKeys(O),j=[],V=0;V<B.length;++V){var Y=B[V],F=O[Y],X=q===g?!0:g(Y);typeof F=="function"&&!y(F)&&!v(O,Y,S)&&q(Y,F,O,X)&&j.push(Y,F)}return x(j,S,K),j}var T=function(O){return O.replace(/([$])/,"\\$")},C;{var _=function(O){for(var S=[O],K=Math.max(0,O-1-3),q=O-1;q>=K;--q)S.push(q);for(var q=O+1;q<=3;++q)S.push(q);return S},A=function(O){return i.filledRange(O,"_arg","")},R=function(O){return i.filledRange(Math.max(O,3),"_arg","")},k=function(O){return typeof O.length=="number"?Math.max(Math.min(O.length,1024),0):0};C=function(O,S,K,q,B,j){var V=Math.max(0,k(q)-1),Y=_(V),F=typeof O=="string"||S===t;function X(pe){var ce=A(pe).join(", "),ge=pe>0?", ":"",ye;return F?ye=`ret = callback.call(this, {{args}}, nodeback); break;
`:ye=S===void 0?`ret = callback({{args}}, nodeback); break;
`:`ret = callback.call(receiver, {{args}}, nodeback); break;
`,ye.replace("{{args}}",ce).replace(", ",ge)}function z(){for(var pe="",ce=0;ce<Y.length;++ce)pe+="case "+Y[ce]+":"+X(Y[ce]);return pe+=`                                                             
	        default:                                                             
	            var args = new Array(len + 1);                                   
	            var i = 0;                                                       
	            for (var i = 0; i < len; ++i) {                                  
	               args[i] = arguments[i];                                       
	            }                                                                
	            args[i] = nodeback;                                              
	            [CodeForCall]                                                    
	            break;                                                           
	        `.replace("[CodeForCall]",F?`ret = callback.apply(this, args);
`:`ret = callback.apply(receiver, args);
`),pe}var ne=typeof O=="string"?"this != null ? this['"+O+"'] : fn":"fn",oe=`'use strict';                                                
	        var ret = function (Parameters) {                                    
	            'use strict';                                                    
	            var len = arguments.length;                                      
	            var promise = new Promise(INTERNAL);                             
	            promise._captureStackTrace();                                    
	            var nodeback = nodebackForPromise(promise, `+j+`);   
	            var ret;                                                         
	            var callback = tryCatch([GetFunctionCode]);                      
	            switch(len) {                                                    
	                [CodeForSwitchCase]                                          
	            }                                                                
	            if (ret === errorObj) {                                          
	                promise._rejectCallback(maybeWrapAsError(ret.e), true, true);
	            }                                                                
	            if (!promise._isFateSealed()) promise._setAsyncGuaranteed();     
	            return promise;                                                  
	        };                                                                   
	        notEnumerableProp(ret, '__isPromisified__', true);                   
	        return ret;                                                          
	    `.replace("[CodeForSwitchCase]",z()).replace("[GetFunctionCode]",ne);return oe=oe.replace("Parameters",R(V)),new Function("Promise","fn","receiver","withAppended","maybeWrapAsError","nodebackForPromise","tryCatch","errorObj","notEnumerableProp","INTERNAL",oe)(n,q,S,s,o,r,i.tryCatch,i.errorObj,i.notEnumerableProp,e)}}function I(O,S,K,q,B,j){var V=(function(){return this})(),Y=O;typeof Y=="string"&&(O=q);function F(){var X=S;S===t&&(X=this);var z=new n(e);z._captureStackTrace();var ne=typeof Y=="string"&&this!==V?this[Y]:O,oe=r(z,j);try{ne.apply(X,s(arguments,oe))}catch(pe){z._rejectCallback(o(pe),!0,!0)}return z._isFateSealed()||z._setAsyncGuaranteed(),z}return i.notEnumerableProp(F,"__isPromisified__",!0),F}var L=a?C:I;function J(O,S,K,q,B){for(var j=new RegExp(T(S)+"$"),V=D(O,S,j,K),Y=0,F=V.length;Y<F;Y+=2){var X=V[Y],z=V[Y+1],ne=X+S;if(q===L)O[ne]=L(X,t,X,z,S,B);else{var oe=q(z,function(){return L(X,t,X,z,S,B)});i.notEnumerableProp(oe,"__isPromisified__",!0),O[ne]=oe}}return i.toFastProperties(O),O}function U(O,S,K){return L(O,S,void 0,O,null,K)}n.promisify=function(O,S){if(typeof O!="function")throw new l("expecting a function but got "+i.classString(O));if(y(O))return O;S=Object(S);var K=S.context===void 0?t:S.context,q=!!S.multiArgs,B=U(O,K,q);return i.copyDescriptors(O,B,b),B},n.promisifyAll=function(O,S){if(typeof O!="function"&&typeof O!="object")throw new l(`the target of promisifyAll must be an object or a function

    See http://goo.gl/MqrFmX
`);S=Object(S);var K=!!S.multiArgs,q=S.suffix;typeof q!="string"&&(q=c);var B=S.filter;typeof B!="function"&&(B=g);var j=S.promisifier;if(typeof j!="function"&&(j=L),!i.isIdentifier(q))throw new RangeError(`suffix must be a valid identifier

    See http://goo.gl/MqrFmX
`);for(var V=i.inheritedDataKeys(O),Y=0;Y<V.length;++Y){var F=O[V[Y]];V[Y]!=="constructor"&&i.isClass(F)&&(J(F.prototype,q,B,j,K),J(F,q,B,j,K))}return J(O,q,B,j,K)}}),Bp}var Op,B0;function Qw(){return B0||(B0=1,Op=function(n,e,t,i){var r=at(),s=r.isObject,o=Za(),a;typeof Map=="function"&&(a=Map);var l=(function(){var p=0,g=0;function b(y,v){this[p]=y,this[p+g]=v,p++}return function(v){g=v.size,p=0;var x=new Array(v.size*2);return v.forEach(b,x),x}})(),c=function(p){for(var g=new a,b=p.length/2|0,y=0;y<b;++y){var v=p[b+y],x=p[y];g.set(v,x)}return g};function u(p){var g=!1,b;if(a!==void 0&&p instanceof a)b=l(p),g=!0;else{var y=o.keys(p),v=y.length;b=new Array(v*2);for(var x=0;x<v;++x){var D=y[x];b[x]=p[D],b[x+v]=D}}this.constructor$(b),this._isMap=g,this._init$(void 0,-3)}r.inherits(u,e),u.prototype._init=function(){},u.prototype._promiseFulfilled=function(p,g){this._values[g]=p;var b=++this._totalResolved;if(b>=this._length){var y;if(this._isMap)y=c(this._values);else{y={};for(var v=this.length(),x=0,D=this.length();x<D;++x)y[this._values[x+v]]=this._values[x]}return this._resolve(y),!0}return!1},u.prototype.shouldCopyValues=function(){return!1},u.prototype.getActualLength=function(p){return p>>1};function f(p){var g,b=t(p);if(s(b))b instanceof n?g=b._then(n.props,void 0,void 0,void 0,void 0):g=new u(b).promise();else return i(`cannot await properties of a non-object

    See http://goo.gl/MqrFmX
`);return b instanceof n&&g._propagateFrom(b,2),g}n.prototype.props=function(){return f(this)},n.props=function(p){return f(p)}}),Op}var Wp,O0;function eS(){return O0||(O0=1,Wp=function(n,e,t,i){var r=at(),s=function(a){return a.then(function(l){return o(l,a)})};function o(a,l){var c=t(a);if(c instanceof n)return s(c);if(a=r.asArray(a),a===null)return i("expecting an array or an iterable object but got "+r.classString(a));var u=new n(e);l!==void 0&&u._propagateFrom(l,3);for(var f=u._fulfill,p=u._reject,g=0,b=a.length;g<b;++g){var y=a[g];y===void 0&&!(g in a)||n.cast(y)._then(f,p,void 0,u,null)}return u}n.race=function(a){return o(a,void 0)},n.prototype.race=function(){return o(this,void 0)}}),Wp}var qp,W0;function tS(){return W0||(W0=1,qp=function(n,e,t,i,r,s){var o=n._getDomain,a=at(),l=a.tryCatch;function c(b,y,v,x){this.constructor$(b);var D=o();this._fn=D===null?y:a.domainBind(D,y),v!==void 0&&(v=n.resolve(v),v._attachCancellationCallback(this)),this._initialValue=v,this._currentCancellable=null,x===r?this._eachValues=Array(this._length):x===0?this._eachValues=null:this._eachValues=void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}a.inherits(c,e),c.prototype._gotAccum=function(b){this._eachValues!==void 0&&this._eachValues!==null&&b!==r&&this._eachValues.push(b)},c.prototype._eachComplete=function(b){return this._eachValues!==null&&this._eachValues.push(b),this._eachValues},c.prototype._init=function(){},c.prototype._resolveEmptyArray=function(){this._resolve(this._eachValues!==void 0?this._eachValues:this._initialValue)},c.prototype.shouldCopyValues=function(){return!1},c.prototype._resolve=function(b){this._promise._resolveCallback(b),this._values=null},c.prototype._resultCancelled=function(b){if(b===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof n&&this._currentCancellable.cancel(),this._initialValue instanceof n&&this._initialValue.cancel())},c.prototype._iterate=function(b){this._values=b;var y,v,x=b.length;if(this._initialValue!==void 0?(y=this._initialValue,v=0):(y=n.resolve(b[0]),v=1),this._currentCancellable=y,!y.isRejected())for(;v<x;++v){var D={accum:null,value:b[v],index:v,length:x,array:this};y=y._then(p,void 0,void 0,D,void 0)}this._eachValues!==void 0&&(y=y._then(this._eachComplete,void 0,void 0,this,void 0)),y._then(u,u,void 0,y,this)},n.prototype.reduce=function(b,y){return f(this,b,y,null)},n.reduce=function(b,y,v,x){return f(b,y,v,x)};function u(b,y){this.isFulfilled()?y._resolve(b):y._reject(b)}function f(b,y,v,x){if(typeof y!="function")return t("expecting a function but got "+a.classString(y));var D=new c(b,y,v,x);return D.promise()}function p(b){this.accum=b,this.array._gotAccum(b);var y=i(this.value,this.array._promise);return y instanceof n?(this.array._currentCancellable=y,y._then(g,void 0,void 0,this,void 0)):g.call(this,y)}function g(b){var y=this.array,v=y._promise,x=l(y._fn);v._pushContext();var D;y._eachValues!==void 0?D=x.call(v._boundValue(),b,this.index,this.length):D=x.call(v._boundValue(),this.accum,b,this.index,this.length),D instanceof n&&(y._currentCancellable=D);var T=v._popContext();return s.checkForgottenReturns(D,T,y._eachValues!==void 0?"Promise.each":"Promise.reduce",v),D}}),qp}var Vp,q0;function nS(){return q0||(q0=1,Vp=function(n,e,t){var i=n.PromiseInspection,r=at();function s(o){this.constructor$(o)}r.inherits(s,e),s.prototype._promiseResolved=function(o,a){this._values[o]=a;var l=++this._totalResolved;return l>=this._length?(this._resolve(this._values),!0):!1},s.prototype._promiseFulfilled=function(o,a){var l=new i;return l._bitField=33554432,l._settledValueField=o,this._promiseResolved(a,l)},s.prototype._promiseRejected=function(o,a){var l=new i;return l._bitField=16777216,l._settledValueField=o,this._promiseResolved(a,l)},n.settle=function(o){return t.deprecated(".settle()",".reflect()"),new s(o).promise()},n.prototype.settle=function(){return n.settle(this)}}),Vp}var Hp,V0;function iS(){return V0||(V0=1,Hp=function(n,e,t){var i=at(),r=Jr().RangeError,s=Jr().AggregateError,o=i.isArray,a={};function l(u){this.constructor$(u),this._howMany=0,this._unwrap=!1,this._initialized=!1}i.inherits(l,e),l.prototype._init=function(){if(this._initialized){if(this._howMany===0){this._resolve([]);return}this._init$(void 0,-5);var u=o(this._values);!this._isResolved()&&u&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},l.prototype.init=function(){this._initialized=!0,this._init()},l.prototype.setUnwrap=function(){this._unwrap=!0},l.prototype.howMany=function(){return this._howMany},l.prototype.setHowMany=function(u){this._howMany=u},l.prototype._promiseFulfilled=function(u){return this._addFulfilled(u),this._fulfilled()===this.howMany()?(this._values.length=this.howMany(),this.howMany()===1&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0):!1},l.prototype._promiseRejected=function(u){return this._addRejected(u),this._checkOutcome()},l.prototype._promiseCancelled=function(){return this._values instanceof n||this._values==null?this._cancel():(this._addRejected(a),this._checkOutcome())},l.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var u=new s,f=this.length();f<this._values.length;++f)this._values[f]!==a&&u.push(this._values[f]);return u.length>0?this._reject(u):this._cancel(),!0}return!1},l.prototype._fulfilled=function(){return this._totalResolved},l.prototype._rejected=function(){return this._values.length-this.length()},l.prototype._addRejected=function(u){this._values.push(u)},l.prototype._addFulfilled=function(u){this._values[this._totalResolved++]=u},l.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},l.prototype._getRangeError=function(u){var f="Input array must contain at least "+this._howMany+" items but contains only "+u+" items";return new r(f)},l.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))};function c(u,f){if((f|0)!==f||f<0)return t(`expecting a positive integer

    See http://goo.gl/MqrFmX
`);var p=new l(u),g=p.promise();return p.setHowMany(f),p.init(),g}n.some=function(u,f){return c(u,f)},n.prototype.some=function(u){return c(this,u)},n._SomePromiseArray=l}),Hp}var Gp,H0;function rS(){return H0||(H0=1,Gp=function(n,e){var t=n.map;n.prototype.filter=function(i,r){return t(this,i,r,e)},n.filter=function(i,r,s){return t(i,r,s,e)}}),Gp}var $p,G0;function sS(){return G0||(G0=1,$p=function(n,e){var t=n.reduce,i=n.all;function r(){return i(this)}function s(o,a){return t(o,a,e,e)}n.prototype.each=function(o){return t(this,o,e,0)._then(r,void 0,void 0,this,void 0)},n.prototype.mapSeries=function(o){return t(this,o,e,e)},n.each=function(o,a){return t(o,a,e,0)._then(r,void 0,void 0,o,void 0)},n.mapSeries=s}),$p}var zp,$0;function oS(){return $0||($0=1,zp=function(n){var e=n._SomePromiseArray;function t(i){var r=new e(i),s=r.promise();return r.setHowMany(1),r.setUnwrap(),r.init(),s}n.any=function(i){return t(i)},n.prototype.any=function(){return t(this)}}),zp}var z0;function aS(){return z0||(z0=1,(function(n){n.exports=function(){var e=function(){return new p(`circular promise resolution chain

    See http://goo.gl/MqrFmX
`)},t=function(){return new U.PromiseInspection(this._target())},i=function(q){return U.reject(new p(q))};function r(){}var s={},o=at(),a;o.isNode?a=function(){var q=process.domain;return q===void 0&&(q=null),q}:a=function(){return null},o.notEnumerableProp(U,"_getDomain",a);var l=Za(),c=kw(),u=new c;l.defineProperty(U,"_async",{value:u});var f=Jr(),p=U.TypeError=f.TypeError;U.RangeError=f.RangeError;var g=U.CancellationError=f.CancellationError;U.TimeoutError=f.TimeoutError,U.OperationalError=f.OperationalError,U.RejectionError=f.OperationalError,U.AggregateError=f.AggregateError;var b=function(){},y={},v={},x=Nw()(U,b),D=Mw()(U,b,x,i,r),T=Pw()(U),C=T.create,_=Lw()(U,T);_.CapturedTrace;var A=Bw()(U,x),R=Ow()(v),k=E_(),I=o.errorObj,L=o.tryCatch;function J(q,B){if(typeof B!="function")throw new p("expecting a function but got "+o.classString(B));if(q.constructor!==U)throw new p(`the promise constructor cannot be invoked directly

    See http://goo.gl/MqrFmX
`)}function U(q){this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,q!==b&&(J(this,q),this._resolveFromExecutor(q)),this._promiseCreated(),this._fireEvent("promiseCreated",this)}U.prototype.toString=function(){return"[object Promise]"},U.prototype.caught=U.prototype.catch=function(q){var B=arguments.length;if(B>1){var j=new Array(B-1),V=0,Y;for(Y=0;Y<B-1;++Y){var F=arguments[Y];if(o.isObject(F))j[V++]=F;else return i("expecting an object but got A catch statement predicate "+o.classString(F))}return j.length=V,q=arguments[Y],this.then(void 0,R(j,q,this))}return this.then(void 0,q)},U.prototype.reflect=function(){return this._then(t,t,void 0,this,void 0)},U.prototype.then=function(q,B){if(_.warnings()&&arguments.length>0&&typeof q!="function"&&typeof B!="function"){var j=".then() only accepts functions but was passed: "+o.classString(q);arguments.length>1&&(j+=", "+o.classString(B)),this._warn(j)}return this._then(q,B,void 0,void 0,void 0)},U.prototype.done=function(q,B){var j=this._then(q,B,void 0,void 0,void 0);j._setIsFinal()},U.prototype.spread=function(q){return typeof q!="function"?i("expecting a function but got "+o.classString(q)):this.all()._then(q,void 0,void 0,y,void 0)},U.prototype.toJSON=function(){var q={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(q.fulfillmentValue=this.value(),q.isFulfilled=!0):this.isRejected()&&(q.rejectionReason=this.reason(),q.isRejected=!0),q},U.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new D(this).promise()},U.prototype.error=function(q){return this.caught(o.originatesFromRejection,q)},U.getNewLibraryCopy=n.exports,U.is=function(q){return q instanceof U},U.fromNode=U.fromCallback=function(q){var B=new U(b);B._captureStackTrace();var j=arguments.length>1?!!Object(arguments[1]).multiArgs:!1,V=L(q)(k(B,j));return V===I&&B._rejectCallback(V.e,!0),B._isFateSealed()||B._setAsyncGuaranteed(),B},U.all=function(q){return new D(q).promise()},U.cast=function(q){var B=x(q);return B instanceof U||(B=new U(b),B._captureStackTrace(),B._setFulfilled(),B._rejectionHandler0=q),B},U.resolve=U.fulfilled=U.cast,U.reject=U.rejected=function(q){var B=new U(b);return B._captureStackTrace(),B._rejectCallback(q,!0),B},U.setScheduler=function(q){if(typeof q!="function")throw new p("expecting a function but got "+o.classString(q));return u.setScheduler(q)},U.prototype._then=function(q,B,j,V,Y){var F=Y!==void 0,X=F?Y:new U(b),z=this._target(),ne=z._bitField;F||(X._propagateFrom(this,3),X._captureStackTrace(),V===void 0&&(this._bitField&2097152)!==0&&((ne&50397184)!==0?V=this._boundValue():V=z===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,X));var oe=a();if((ne&50397184)!==0){var pe,ce,ge=z._settlePromiseCtx;(ne&33554432)!==0?(ce=z._rejectionHandler0,pe=q):(ne&16777216)!==0?(ce=z._fulfillmentHandler0,pe=B,z._unsetRejectionIsUnhandled()):(ge=z._settlePromiseLateCancellationObserver,ce=new g("late cancellation observer"),z._attachExtraTrace(ce),pe=B),u.invoke(ge,z,{handler:oe===null?pe:typeof pe=="function"&&o.domainBind(oe,pe),promise:X,receiver:V,value:ce})}else z._addCallbacks(q,B,X,V,oe);return X},U.prototype._length=function(){return this._bitField&65535},U.prototype._isFateSealed=function(){return(this._bitField&117506048)!==0},U.prototype._isFollowing=function(){return(this._bitField&67108864)===67108864},U.prototype._setLength=function(q){this._bitField=this._bitField&-65536|q&65535},U.prototype._setFulfilled=function(){this._bitField=this._bitField|33554432,this._fireEvent("promiseFulfilled",this)},U.prototype._setRejected=function(){this._bitField=this._bitField|16777216,this._fireEvent("promiseRejected",this)},U.prototype._setFollowing=function(){this._bitField=this._bitField|67108864,this._fireEvent("promiseResolved",this)},U.prototype._setIsFinal=function(){this._bitField=this._bitField|4194304},U.prototype._isFinal=function(){return(this._bitField&4194304)>0},U.prototype._unsetCancelled=function(){this._bitField=this._bitField&-65537},U.prototype._setCancelled=function(){this._bitField=this._bitField|65536,this._fireEvent("promiseCancelled",this)},U.prototype._setWillBeCancelled=function(){this._bitField=this._bitField|8388608},U.prototype._setAsyncGuaranteed=function(){u.hasCustomScheduler()||(this._bitField=this._bitField|134217728)},U.prototype._receiverAt=function(q){var B=q===0?this._receiver0:this[q*4-4+3];if(B!==s)return B===void 0&&this._isBound()?this._boundValue():B},U.prototype._promiseAt=function(q){return this[q*4-4+2]},U.prototype._fulfillmentHandlerAt=function(q){return this[q*4-4+0]},U.prototype._rejectionHandlerAt=function(q){return this[q*4-4+1]},U.prototype._boundValue=function(){},U.prototype._migrateCallback0=function(q){q._bitField;var B=q._fulfillmentHandler0,j=q._rejectionHandler0,V=q._promise0,Y=q._receiverAt(0);Y===void 0&&(Y=s),this._addCallbacks(B,j,V,Y,null)},U.prototype._migrateCallbackAt=function(q,B){var j=q._fulfillmentHandlerAt(B),V=q._rejectionHandlerAt(B),Y=q._promiseAt(B),F=q._receiverAt(B);F===void 0&&(F=s),this._addCallbacks(j,V,Y,F,null)},U.prototype._addCallbacks=function(q,B,j,V,Y){var F=this._length();if(F>=65531&&(F=0,this._setLength(0)),F===0)this._promise0=j,this._receiver0=V,typeof q=="function"&&(this._fulfillmentHandler0=Y===null?q:o.domainBind(Y,q)),typeof B=="function"&&(this._rejectionHandler0=Y===null?B:o.domainBind(Y,B));else{var X=F*4-4;this[X+2]=j,this[X+3]=V,typeof q=="function"&&(this[X+0]=Y===null?q:o.domainBind(Y,q)),typeof B=="function"&&(this[X+1]=Y===null?B:o.domainBind(Y,B))}return this._setLength(F+1),F},U.prototype._proxy=function(q,B){this._addCallbacks(void 0,void 0,B,q,null)},U.prototype._resolveCallback=function(q,B){if((this._bitField&117506048)===0){if(q===this)return this._rejectCallback(e(),!1);var j=x(q,this);if(!(j instanceof U))return this._fulfill(q);B&&this._propagateFrom(j,2);var V=j._target();if(V===this){this._reject(e());return}var Y=V._bitField;if((Y&50397184)===0){var F=this._length();F>0&&V._migrateCallback0(this);for(var X=1;X<F;++X)V._migrateCallbackAt(this,X);this._setFollowing(),this._setLength(0),this._setFollowee(V)}else if((Y&33554432)!==0)this._fulfill(V._value());else if((Y&16777216)!==0)this._reject(V._reason());else{var z=new g("late cancellation observer");V._attachExtraTrace(z),this._reject(z)}}},U.prototype._rejectCallback=function(q,B,j){var V=o.ensureErrorObject(q),Y=V===q;if(!Y&&!j&&_.warnings()){var F="a promise was rejected with a non-error: "+o.classString(q);this._warn(F,!0)}this._attachExtraTrace(V,B?Y:!1),this._reject(q)},U.prototype._resolveFromExecutor=function(q){var B=this;this._captureStackTrace(),this._pushContext();var j=!0,V=this._execute(q,function(Y){B._resolveCallback(Y)},function(Y){B._rejectCallback(Y,j)});j=!1,this._popContext(),V!==void 0&&B._rejectCallback(V,!0)},U.prototype._settlePromiseFromHandler=function(q,B,j,V){var Y=V._bitField;if((Y&65536)===0){V._pushContext();var F;B===y?!j||typeof j.length!="number"?(F=I,F.e=new p("cannot .spread() a non-array: "+o.classString(j))):F=L(q).apply(this._boundValue(),j):F=L(q).call(B,j);var X=V._popContext();Y=V._bitField,(Y&65536)===0&&(F===v?V._reject(j):F===I?V._rejectCallback(F.e,!1):(_.checkForgottenReturns(F,X,"",V,this),V._resolveCallback(F)))}},U.prototype._target=function(){for(var q=this;q._isFollowing();)q=q._followee();return q},U.prototype._followee=function(){return this._rejectionHandler0},U.prototype._setFollowee=function(q){this._rejectionHandler0=q},U.prototype._settlePromise=function(q,B,j,V){var Y=q instanceof U,F=this._bitField,X=(F&134217728)!==0;(F&65536)!==0?(Y&&q._invokeInternalOnCancel(),j instanceof A&&j.isFinallyHandler()?(j.cancelPromise=q,L(B).call(j,V)===I&&q._reject(I.e)):B===t?q._fulfill(t.call(j)):j instanceof r?j._promiseCancelled(q):Y||q instanceof D?q._cancel():j.cancel()):typeof B=="function"?Y?(X&&q._setAsyncGuaranteed(),this._settlePromiseFromHandler(B,j,V,q)):B.call(j,V,q):j instanceof r?j._isResolved()||((F&33554432)!==0?j._promiseFulfilled(V,q):j._promiseRejected(V,q)):Y&&(X&&q._setAsyncGuaranteed(),(F&33554432)!==0?q._fulfill(V):q._reject(V))},U.prototype._settlePromiseLateCancellationObserver=function(q){var B=q.handler,j=q.promise,V=q.receiver,Y=q.value;typeof B=="function"?j instanceof U?this._settlePromiseFromHandler(B,V,Y,j):B.call(V,Y,j):j instanceof U&&j._reject(Y)},U.prototype._settlePromiseCtx=function(q){this._settlePromise(q.promise,q.handler,q.receiver,q.value)},U.prototype._settlePromise0=function(q,B,j){var V=this._promise0,Y=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(V,q,Y,B)},U.prototype._clearCallbackDataAtIndex=function(q){var B=q*4-4;this[B+2]=this[B+3]=this[B+0]=this[B+1]=void 0},U.prototype._fulfill=function(q){var B=this._bitField;if(!((B&117506048)>>>16)){if(q===this){var j=e();return this._attachExtraTrace(j),this._reject(j)}this._setFulfilled(),this._rejectionHandler0=q,(B&65535)>0&&((B&134217728)!==0?this._settlePromises():u.settlePromises(this))}},U.prototype._reject=function(q){var B=this._bitField;if(!((B&117506048)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=q,this._isFinal())return u.fatalError(q,o.isNode);(B&65535)>0?u.settlePromises(this):this._ensurePossibleRejectionHandled()}},U.prototype._fulfillPromises=function(q,B){for(var j=1;j<q;j++){var V=this._fulfillmentHandlerAt(j),Y=this._promiseAt(j),F=this._receiverAt(j);this._clearCallbackDataAtIndex(j),this._settlePromise(Y,V,F,B)}},U.prototype._rejectPromises=function(q,B){for(var j=1;j<q;j++){var V=this._rejectionHandlerAt(j),Y=this._promiseAt(j),F=this._receiverAt(j);this._clearCallbackDataAtIndex(j),this._settlePromise(Y,V,F,B)}},U.prototype._settlePromises=function(){var q=this._bitField,B=q&65535;if(B>0){if((q&16842752)!==0){var j=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,j,q),this._rejectPromises(B,j)}else{var V=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,V,q),this._fulfillPromises(B,V)}this._setLength(0)}this._clearCancellationData()},U.prototype._settledValue=function(){var q=this._bitField;if((q&33554432)!==0)return this._rejectionHandler0;if((q&16777216)!==0)return this._fulfillmentHandler0};function O(q){this.promise._resolveCallback(q)}function S(q){this.promise._rejectCallback(q,!1)}U.defer=U.pending=function(){_.deprecated("Promise.defer","new Promise");var q=new U(b);return{promise:q,resolve:O,reject:S}},o.notEnumerableProp(U,"_makeSelfResolutionError",e),Ww()(U,b,x,i,_),qw()(U,b,x,_),Vw()(U,D,i,_),Hw()(U),Gw()(U),$w()(U,D,x,b,u,a),U.Promise=U,U.version="3.4.7",zw()(U,D,i,x,b,_),Xw()(U),Jw()(U,i,x,C,b,_),Yw()(U,b,_),Kw()(U,i,b,x,r,_),jw()(U),Zw()(U,b),Qw()(U,D,x,i),eS()(U,b,x,i),tS()(U,D,i,x,b,_),nS()(U,D,_),iS()(U,D,i),rS()(U,b),sS()(U,b),oS()(U),o.toFastProperties(U),o.toFastProperties(U.prototype);function K(q){var B=new U(b);B._fulfillmentHandler0=q,B._rejectionHandler0=q,B._promise0=q,B._receiver0=q}return K({a:1}),K({b:2}),K({c:3}),K(1),K(function(){}),K(void 0),K(!1),K(new U(b)),_.setBounds(c.firstLineError,o.lastLineError),U}})(gp)),gp.exports}var X0;function ts(){if(X0)return En;X0=1;var n=gt,e=aS()();En.defer=t,En.when=e.resolve,En.resolve=e.resolve,En.all=e.all,En.props=e.props,En.reject=e.reject,En.promisify=e.promisify,En.mapSeries=e.mapSeries,En.attempt=e.attempt,En.nfcall=function(i){var r=Array.prototype.slice.call(arguments,1),s=e.promisify(i);return s.apply(null,r)},e.prototype.fail=e.prototype.caught,e.prototype.also=function(i){return this.then(function(r){var s=n.extend({},r,i(r));return e.props(s)})};function t(){var i,r,s=new e.Promise(function(o,a){i=o,r=a});return{resolve:i,reject:r,promise:s}}return En}var Ze={},J0;function wo(){if(J0)return Ze;J0=1;var n=gt,e=Ze.types={document:"document",paragraph:"paragraph",run:"run",text:"text",tab:"tab",hyperlink:"hyperlink",noteReference:"noteReference",image:"image",note:"note",commentReference:"commentReference",comment:"comment",table:"table",tableRow:"tableRow",tableCell:"tableCell",break:"break",bookmarkStart:"bookmarkStart"};function t(_,A){return A=A||{},{type:e.document,children:_,notes:A.notes||new u({}),comments:A.comments||[]}}function i(_,A){A=A||{};var R=A.indent||{};return{type:e.paragraph,children:_,styleId:A.styleId||null,styleName:A.styleName||null,numbering:A.numbering||null,alignment:A.alignment||null,indent:{start:R.start||null,end:R.end||null,firstLine:R.firstLine||null,hanging:R.hanging||null}}}function r(_,A){return A=A||{},{type:e.run,children:_,styleId:A.styleId||null,styleName:A.styleName||null,isBold:!!A.isBold,isUnderline:!!A.isUnderline,isItalic:!!A.isItalic,isStrikethrough:!!A.isStrikethrough,isAllCaps:!!A.isAllCaps,isSmallCaps:!!A.isSmallCaps,verticalAlignment:A.verticalAlignment||s.baseline,font:A.font||null,fontSize:A.fontSize||null}}var s={baseline:"baseline",superscript:"superscript",subscript:"subscript"};function o(_){return{type:e.text,value:_}}function a(){return{type:e.tab}}function l(_,A){return{type:e.hyperlink,children:_,href:A.href,anchor:A.anchor,targetFrame:A.targetFrame}}function c(_){return{type:e.noteReference,noteType:_.noteType,noteId:_.noteId}}function u(_){this._notes=n.indexBy(_,function(A){return b(A.noteType,A.noteId)})}u.prototype.resolve=function(_){return this.findNoteByKey(b(_.noteType,_.noteId))},u.prototype.findNoteByKey=function(_){return this._notes[_]||null};function f(_){return{type:e.note,noteType:_.noteType,noteId:_.noteId,body:_.body}}function p(_){return{type:e.commentReference,commentId:_.commentId}}function g(_){return{type:e.comment,commentId:_.commentId,body:_.body,authorName:_.authorName,authorInitials:_.authorInitials}}function b(_,A){return _+"-"+A}function y(_){return{type:e.image,read:function(A){return A?_.readImage(A):_.readImage().then(function(R){return Buffer.from(R)})},readAsArrayBuffer:function(){return _.readImage()},readAsBase64String:function(){return _.readImage("base64")},readAsBuffer:function(){return _.readImage().then(function(A){return Buffer.from(A)})},altText:_.altText,contentType:_.contentType}}function v(_,A){return A=A||{},{type:e.table,children:_,styleId:A.styleId||null,styleName:A.styleName||null}}function x(_,A){return A=A||{},{type:e.tableRow,children:_,isHeader:A.isHeader||!1}}function D(_,A){return A=A||{},{type:e.tableCell,children:_,colSpan:A.colSpan==null?1:A.colSpan,rowSpan:A.rowSpan==null?1:A.rowSpan}}function T(_){return{type:e.break,breakType:_}}function C(_){return{type:e.bookmarkStart,name:_.name}}return Ze.document=Ze.Document=t,Ze.paragraph=Ze.Paragraph=i,Ze.run=Ze.Run=r,Ze.text=Ze.Text=o,Ze.tab=Ze.Tab=a,Ze.Hyperlink=l,Ze.noteReference=Ze.NoteReference=c,Ze.Notes=u,Ze.Note=f,Ze.commentReference=p,Ze.comment=g,Ze.Image=y,Ze.Table=v,Ze.TableRow=x,Ze.TableCell=D,Ze.lineBreak=T("line"),Ze.pageBreak=T("page"),Ze.columnBreak=T("column"),Ze.BookmarkStart=C,Ze.verticalAlignment=s,Ze}var Fo={},Y0;function fr(){if(Y0)return Fo;Y0=1;var n=gt;Fo.Result=e,Fo.success=t,Fo.warning=i,Fo.error=r;function e(l,c){this.value=l,this.messages=c||[]}e.prototype.map=function(l){return new e(l(this.value),this.messages)},e.prototype.flatMap=function(l){var c=l(this.value);return new e(c.value,s([this,c]))},e.prototype.flatMapThen=function(l){var c=this;return l(this.value).then(function(u){return new e(u.value,s([c,u]))})},e.combine=function(l){var c=n.flatten(n.pluck(l,"value")),u=s(l);return new e(c,u)};function t(l){return new e(l,[])}function i(l){return{type:"warning",message:l}}function r(l){return{type:"error",message:l.message,error:l}}function s(l){var c=[];return n.flatten(n.pluck(l,"messages"),!0).forEach(function(u){o(c,u)||c.push(u)}),c}function o(l,c){return n.find(l,a.bind(null,c))!==void 0}function a(l,c){return l.type===c.type&&l.message===c.message}return Fo}var dl={},hl={},K0;function lS(){if(K0)return hl;K0=1,hl.byteLength=a,hl.toByteArray=c,hl.fromByteArray=p;for(var n=[],e=[],t=typeof Uint8Array<"u"?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=0,s=i.length;r<s;++r)n[r]=i[r],e[i.charCodeAt(r)]=r;e[45]=62,e[95]=63;function o(g){var b=g.length;if(b%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var y=g.indexOf("=");y===-1&&(y=b);var v=y===b?0:4-y%4;return[y,v]}function a(g){var b=o(g),y=b[0],v=b[1];return(y+v)*3/4-v}function l(g,b,y){return(b+y)*3/4-y}function c(g){var b,y=o(g),v=y[0],x=y[1],D=new t(l(g,v,x)),T=0,C=x>0?v-4:v,_;for(_=0;_<C;_+=4)b=e[g.charCodeAt(_)]<<18|e[g.charCodeAt(_+1)]<<12|e[g.charCodeAt(_+2)]<<6|e[g.charCodeAt(_+3)],D[T++]=b>>16&255,D[T++]=b>>8&255,D[T++]=b&255;return x===2&&(b=e[g.charCodeAt(_)]<<2|e[g.charCodeAt(_+1)]>>4,D[T++]=b&255),x===1&&(b=e[g.charCodeAt(_)]<<10|e[g.charCodeAt(_+1)]<<4|e[g.charCodeAt(_+2)]>>2,D[T++]=b>>8&255,D[T++]=b&255),D}function u(g){return n[g>>18&63]+n[g>>12&63]+n[g>>6&63]+n[g&63]}function f(g,b,y){for(var v,x=[],D=b;D<y;D+=3)v=(g[D]<<16&16711680)+(g[D+1]<<8&65280)+(g[D+2]&255),x.push(u(v));return x.join("")}function p(g){for(var b,y=g.length,v=y%3,x=[],D=16383,T=0,C=y-v;T<C;T+=D)x.push(f(g,T,T+D>C?C:T+D));return v===1?(b=g[y-1],x.push(n[b>>2]+n[b<<4&63]+"==")):v===2&&(b=(g[y-2]<<8)+g[y-1],x.push(n[b>>10]+n[b>>4&63]+n[b<<2&63]+"=")),x.join("")}return hl}var Xp={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var j0;function cS(){return j0||(j0=1,(function(n,e){(function(t){n.exports=t()})(function(){return(function t(i,r,s){function o(c,u){if(!r[c]){if(!i[c]){var f=typeof Ll=="function"&&Ll;if(!u&&f)return f(c,!0);if(a)return a(c,!0);var p=new Error("Cannot find module '"+c+"'");throw p.code="MODULE_NOT_FOUND",p}var g=r[c]={exports:{}};i[c][0].call(g.exports,function(b){var y=i[c][1][b];return o(y||b)},g,g.exports,t,i,r,s)}return r[c].exports}for(var a=typeof Ll=="function"&&Ll,l=0;l<s.length;l++)o(s[l]);return o})({1:[function(t,i,r){var s=t("./utils"),o=t("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r.encode=function(l){for(var c,u,f,p,g,b,y,v=[],x=0,D=l.length,T=D,C=s.getTypeOf(l)!=="string";x<l.length;)T=D-x,f=C?(c=l[x++],u=x<D?l[x++]:0,x<D?l[x++]:0):(c=l.charCodeAt(x++),u=x<D?l.charCodeAt(x++):0,x<D?l.charCodeAt(x++):0),p=c>>2,g=(3&c)<<4|u>>4,b=1<T?(15&u)<<2|f>>6:64,y=2<T?63&f:64,v.push(a.charAt(p)+a.charAt(g)+a.charAt(b)+a.charAt(y));return v.join("")},r.decode=function(l){var c,u,f,p,g,b,y=0,v=0,x="data:";if(l.substr(0,x.length)===x)throw new Error("Invalid base64 input, it looks like a data url.");var D,T=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===a.charAt(64)&&T--,l.charAt(l.length-2)===a.charAt(64)&&T--,T%1!=0)throw new Error("Invalid base64 input, bad content length.");for(D=o.uint8array?new Uint8Array(0|T):new Array(0|T);y<l.length;)c=a.indexOf(l.charAt(y++))<<2|(p=a.indexOf(l.charAt(y++)))>>4,u=(15&p)<<4|(g=a.indexOf(l.charAt(y++)))>>2,f=(3&g)<<6|(b=a.indexOf(l.charAt(y++))),D[v++]=c,g!==64&&(D[v++]=u),b!==64&&(D[v++]=f);return D}},{"./support":30,"./utils":32}],2:[function(t,i,r){var s=t("./external"),o=t("./stream/DataWorker"),a=t("./stream/Crc32Probe"),l=t("./stream/DataLengthProbe");function c(u,f,p,g,b){this.compressedSize=u,this.uncompressedSize=f,this.crc32=p,this.compression=g,this.compressedContent=b}c.prototype={getContentWorker:function(){var u=new o(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),f=this;return u.on("end",function(){if(this.streamInfo.data_length!==f.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),u},getCompressedWorker:function(){return new o(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},c.createWorkerFrom=function(u,f,p){return u.pipe(new a).pipe(new l("uncompressedSize")).pipe(f.compressWorker(p)).pipe(new l("compressedSize")).withStreamInfo("compression",f)},i.exports=c},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,i,r){var s=t("./stream/GenericWorker");r.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},r.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,i,r){var s=t("./utils"),o=(function(){for(var a,l=[],c=0;c<256;c++){a=c;for(var u=0;u<8;u++)a=1&a?3988292384^a>>>1:a>>>1;l[c]=a}return l})();i.exports=function(a,l){return a!==void 0&&a.length?s.getTypeOf(a)!=="string"?(function(c,u,f,p){var g=o,b=p+f;c^=-1;for(var y=p;y<b;y++)c=c>>>8^g[255&(c^u[y])];return-1^c})(0|l,a,a.length,0):(function(c,u,f,p){var g=o,b=p+f;c^=-1;for(var y=p;y<b;y++)c=c>>>8^g[255&(c^u.charCodeAt(y))];return-1^c})(0|l,a,a.length,0):0}},{"./utils":32}],5:[function(t,i,r){r.base64=!1,r.binary=!1,r.dir=!1,r.createFolders=!0,r.date=null,r.compression=null,r.compressionOptions=null,r.comment=null,r.unixPermissions=null,r.dosPermissions=null},{}],6:[function(t,i,r){var s=null;s=typeof Promise<"u"?Promise:t("lie"),i.exports={Promise:s}},{lie:37}],7:[function(t,i,r){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=t("pako"),a=t("./utils"),l=t("./stream/GenericWorker"),c=s?"uint8array":"array";function u(f,p){l.call(this,"FlateWorker/"+f),this._pako=null,this._pakoAction=f,this._pakoOptions=p,this.meta={}}r.magic="\b\0",a.inherits(u,l),u.prototype.processChunk=function(f){this.meta=f.meta,this._pako===null&&this._createPako(),this._pako.push(a.transformTo(c,f.data),!1)},u.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},u.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},u.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var f=this;this._pako.onData=function(p){f.push({data:p,meta:f.meta})}},r.compressWorker=function(f){return new u("Deflate",f)},r.uncompressWorker=function(){return new u("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,i,r){function s(g,b){var y,v="";for(y=0;y<b;y++)v+=String.fromCharCode(255&g),g>>>=8;return v}function o(g,b,y,v,x,D){var T,C,_=g.file,A=g.compression,R=D!==c.utf8encode,k=a.transformTo("string",D(_.name)),I=a.transformTo("string",c.utf8encode(_.name)),L=_.comment,J=a.transformTo("string",D(L)),U=a.transformTo("string",c.utf8encode(L)),O=I.length!==_.name.length,S=U.length!==L.length,K="",q="",B="",j=_.dir,V=_.date,Y={crc32:0,compressedSize:0,uncompressedSize:0};b&&!y||(Y.crc32=g.crc32,Y.compressedSize=g.compressedSize,Y.uncompressedSize=g.uncompressedSize);var F=0;b&&(F|=8),R||!O&&!S||(F|=2048);var X=0,z=0;j&&(X|=16),x==="UNIX"?(z=798,X|=(function(oe,pe){var ce=oe;return oe||(ce=pe?16893:33204),(65535&ce)<<16})(_.unixPermissions,j)):(z=20,X|=(function(oe){return 63&(oe||0)})(_.dosPermissions)),T=V.getUTCHours(),T<<=6,T|=V.getUTCMinutes(),T<<=5,T|=V.getUTCSeconds()/2,C=V.getUTCFullYear()-1980,C<<=4,C|=V.getUTCMonth()+1,C<<=5,C|=V.getUTCDate(),O&&(q=s(1,1)+s(u(k),4)+I,K+="up"+s(q.length,2)+q),S&&(B=s(1,1)+s(u(J),4)+U,K+="uc"+s(B.length,2)+B);var ne="";return ne+=`
\0`,ne+=s(F,2),ne+=A.magic,ne+=s(T,2),ne+=s(C,2),ne+=s(Y.crc32,4),ne+=s(Y.compressedSize,4),ne+=s(Y.uncompressedSize,4),ne+=s(k.length,2),ne+=s(K.length,2),{fileRecord:f.LOCAL_FILE_HEADER+ne+k+K,dirRecord:f.CENTRAL_FILE_HEADER+s(z,2)+ne+s(J.length,2)+"\0\0\0\0"+s(X,4)+s(v,4)+k+K+J}}var a=t("../utils"),l=t("../stream/GenericWorker"),c=t("../utf8"),u=t("../crc32"),f=t("../signature");function p(g,b,y,v){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=b,this.zipPlatform=y,this.encodeFileName=v,this.streamFiles=g,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(p,l),p.prototype.push=function(g){var b=g.meta.percent||0,y=this.entriesCount,v=this._sources.length;this.accumulate?this.contentBuffer.push(g):(this.bytesWritten+=g.data.length,l.prototype.push.call(this,{data:g.data,meta:{currentFile:this.currentFile,percent:y?(b+100*(y-v-1))/y:100}}))},p.prototype.openedSource=function(g){this.currentSourceOffset=this.bytesWritten,this.currentFile=g.file.name;var b=this.streamFiles&&!g.file.dir;if(b){var y=o(g,b,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:y.fileRecord,meta:{percent:0}})}else this.accumulate=!0},p.prototype.closedSource=function(g){this.accumulate=!1;var b=this.streamFiles&&!g.file.dir,y=o(g,b,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(y.dirRecord),b)this.push({data:(function(v){return f.DATA_DESCRIPTOR+s(v.crc32,4)+s(v.compressedSize,4)+s(v.uncompressedSize,4)})(g),meta:{percent:100}});else for(this.push({data:y.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},p.prototype.flush=function(){for(var g=this.bytesWritten,b=0;b<this.dirRecords.length;b++)this.push({data:this.dirRecords[b],meta:{percent:100}});var y=this.bytesWritten-g,v=(function(x,D,T,C,_){var A=a.transformTo("string",_(C));return f.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(x,2)+s(x,2)+s(D,4)+s(T,4)+s(A.length,2)+A})(this.dirRecords.length,y,g,this.zipComment,this.encodeFileName);this.push({data:v,meta:{percent:100}})},p.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},p.prototype.registerPrevious=function(g){this._sources.push(g);var b=this;return g.on("data",function(y){b.processChunk(y)}),g.on("end",function(){b.closedSource(b.previous.streamInfo),b._sources.length?b.prepareNextSource():b.end()}),g.on("error",function(y){b.error(y)}),this},p.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},p.prototype.error=function(g){var b=this._sources;if(!l.prototype.error.call(this,g))return!1;for(var y=0;y<b.length;y++)try{b[y].error(g)}catch{}return!0},p.prototype.lock=function(){l.prototype.lock.call(this);for(var g=this._sources,b=0;b<g.length;b++)g[b].lock()},i.exports=p},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,i,r){var s=t("../compressions"),o=t("./ZipFileWorker");r.generateWorker=function(a,l,c){var u=new o(l.streamFiles,c,l.platform,l.encodeFileName),f=0;try{a.forEach(function(p,g){f++;var b=(function(D,T){var C=D||T,_=s[C];if(!_)throw new Error(C+" is not a valid compression method !");return _})(g.options.compression,l.compression),y=g.options.compressionOptions||l.compressionOptions||{},v=g.dir,x=g.date;g._compressWorker(b,y).withStreamInfo("file",{name:p,dir:v,date:x,comment:g.comment||"",unixPermissions:g.unixPermissions,dosPermissions:g.dosPermissions}).pipe(u)}),u.entriesCount=f}catch(p){u.error(p)}return u}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,i,r){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new s;for(var a in this)typeof this[a]!="function"&&(o[a]=this[a]);return o}}(s.prototype=t("./object")).loadAsync=t("./load"),s.support=t("./support"),s.defaults=t("./defaults"),s.version="3.10.1",s.loadAsync=function(o,a){return new s().loadAsync(o,a)},s.external=t("./external"),i.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,i,r){var s=t("./utils"),o=t("./external"),a=t("./utf8"),l=t("./zipEntries"),c=t("./stream/Crc32Probe"),u=t("./nodejsUtils");function f(p){return new o.Promise(function(g,b){var y=p.decompressed.getContentWorker().pipe(new c);y.on("error",function(v){b(v)}).on("end",function(){y.streamInfo.crc32!==p.decompressed.crc32?b(new Error("Corrupted zip : CRC32 mismatch")):g()}).resume()})}i.exports=function(p,g){var b=this;return g=s.extend(g||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),u.isNode&&u.isStream(p)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",p,!0,g.optimizedBinaryString,g.base64).then(function(y){var v=new l(g);return v.load(y),v}).then(function(y){var v=[o.Promise.resolve(y)],x=y.files;if(g.checkCRC32)for(var D=0;D<x.length;D++)v.push(f(x[D]));return o.Promise.all(v)}).then(function(y){for(var v=y.shift(),x=v.files,D=0;D<x.length;D++){var T=x[D],C=T.fileNameStr,_=s.resolve(T.fileNameStr);b.file(_,T.decompressed,{binary:!0,optimizedBinaryString:!0,date:T.date,dir:T.dir,comment:T.fileCommentStr.length?T.fileCommentStr:null,unixPermissions:T.unixPermissions,dosPermissions:T.dosPermissions,createFolders:g.createFolders}),T.dir||(b.file(_).unsafeOriginalName=C)}return v.zipComment.length&&(b.comment=v.zipComment),b})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,i,r){var s=t("../utils"),o=t("../stream/GenericWorker");function a(l,c){o.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(c)}s.inherits(a,o),a.prototype._bindStream=function(l){var c=this;(this._stream=l).pause(),l.on("data",function(u){c.push({data:u,meta:{percent:0}})}).on("error",function(u){c.isPaused?this.generatedError=u:c.error(u)}).on("end",function(){c.isPaused?c._upstreamEnded=!0:c.end()})},a.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},i.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,i,r){var s=t("readable-stream").Readable;function o(a,l,c){s.call(this,l),this._helper=a;var u=this;a.on("data",function(f,p){u.push(f)||u._helper.pause(),c&&c(p)}).on("error",function(f){u.emit("error",f)}).on("end",function(){u.push(null)})}t("../utils").inherits(o,s),o.prototype._read=function(){this._helper.resume()},i.exports=o},{"../utils":32,"readable-stream":16}],14:[function(t,i,r){i.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,o);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,o)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var o=new Buffer(s);return o.fill(0),o},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(t,i,r){function s(_,A,R){var k,I=a.getTypeOf(A),L=a.extend(R||{},u);L.date=L.date||new Date,L.compression!==null&&(L.compression=L.compression.toUpperCase()),typeof L.unixPermissions=="string"&&(L.unixPermissions=parseInt(L.unixPermissions,8)),L.unixPermissions&&16384&L.unixPermissions&&(L.dir=!0),L.dosPermissions&&16&L.dosPermissions&&(L.dir=!0),L.dir&&(_=x(_)),L.createFolders&&(k=v(_))&&D.call(this,k,!0);var J=I==="string"&&L.binary===!1&&L.base64===!1;R&&R.binary!==void 0||(L.binary=!J),(A instanceof f&&A.uncompressedSize===0||L.dir||!A||A.length===0)&&(L.base64=!1,L.binary=!0,A="",L.compression="STORE",I="string");var U=null;U=A instanceof f||A instanceof l?A:b.isNode&&b.isStream(A)?new y(_,A):a.prepareContent(_,A,L.binary,L.optimizedBinaryString,L.base64);var O=new p(_,U,L);this.files[_]=O}var o=t("./utf8"),a=t("./utils"),l=t("./stream/GenericWorker"),c=t("./stream/StreamHelper"),u=t("./defaults"),f=t("./compressedObject"),p=t("./zipObject"),g=t("./generate"),b=t("./nodejsUtils"),y=t("./nodejs/NodejsStreamInputAdapter"),v=function(_){_.slice(-1)==="/"&&(_=_.substring(0,_.length-1));var A=_.lastIndexOf("/");return 0<A?_.substring(0,A):""},x=function(_){return _.slice(-1)!=="/"&&(_+="/"),_},D=function(_,A){return A=A!==void 0?A:u.createFolders,_=x(_),this.files[_]||s.call(this,_,null,{dir:!0,createFolders:A}),this.files[_]};function T(_){return Object.prototype.toString.call(_)==="[object RegExp]"}var C={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(_){var A,R,k;for(A in this.files)k=this.files[A],(R=A.slice(this.root.length,A.length))&&A.slice(0,this.root.length)===this.root&&_(R,k)},filter:function(_){var A=[];return this.forEach(function(R,k){_(R,k)&&A.push(k)}),A},file:function(_,A,R){if(arguments.length!==1)return _=this.root+_,s.call(this,_,A,R),this;if(T(_)){var k=_;return this.filter(function(L,J){return!J.dir&&k.test(L)})}var I=this.files[this.root+_];return I&&!I.dir?I:null},folder:function(_){if(!_)return this;if(T(_))return this.filter(function(I,L){return L.dir&&_.test(I)});var A=this.root+_,R=D.call(this,A),k=this.clone();return k.root=R.name,k},remove:function(_){_=this.root+_;var A=this.files[_];if(A||(_.slice(-1)!=="/"&&(_+="/"),A=this.files[_]),A&&!A.dir)delete this.files[_];else for(var R=this.filter(function(I,L){return L.name.slice(0,_.length)===_}),k=0;k<R.length;k++)delete this.files[R[k].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(_){var A,R={};try{if((R=a.extend(_||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=R.type.toLowerCase(),R.compression=R.compression.toUpperCase(),R.type==="binarystring"&&(R.type="string"),!R.type)throw new Error("No output type specified.");a.checkSupport(R.type),R.platform!=="darwin"&&R.platform!=="freebsd"&&R.platform!=="linux"&&R.platform!=="sunos"||(R.platform="UNIX"),R.platform==="win32"&&(R.platform="DOS");var k=R.comment||this.comment||"";A=g.generateWorker(this,R,k)}catch(I){(A=new l("error")).error(I)}return new c(A,R.type||"string",R.mimeType)},generateAsync:function(_,A){return this.generateInternalStream(_).accumulate(A)},generateNodeStream:function(_,A){return(_=_||{}).type||(_.type="nodebuffer"),this.generateInternalStream(_).toNodejsStream(A)}};i.exports=C},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,i,r){i.exports=t("stream")},{stream:void 0}],17:[function(t,i,r){var s=t("./DataReader");function o(a){s.call(this,a);for(var l=0;l<this.data.length;l++)a[l]=255&a[l]}t("../utils").inherits(o,s),o.prototype.byteAt=function(a){return this.data[this.zero+a]},o.prototype.lastIndexOfSignature=function(a){for(var l=a.charCodeAt(0),c=a.charCodeAt(1),u=a.charCodeAt(2),f=a.charCodeAt(3),p=this.length-4;0<=p;--p)if(this.data[p]===l&&this.data[p+1]===c&&this.data[p+2]===u&&this.data[p+3]===f)return p-this.zero;return-1},o.prototype.readAndCheckSignature=function(a){var l=a.charCodeAt(0),c=a.charCodeAt(1),u=a.charCodeAt(2),f=a.charCodeAt(3),p=this.readData(4);return l===p[0]&&c===p[1]&&u===p[2]&&f===p[3]},o.prototype.readData=function(a){if(this.checkOffset(a),a===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},i.exports=o},{"../utils":32,"./DataReader":18}],18:[function(t,i,r){var s=t("../utils");function o(a){this.data=a,this.length=a.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||a<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(){},readInt:function(a){var l,c=0;for(this.checkOffset(a),l=this.index+a-1;l>=this.index;l--)c=(c<<8)+this.byteAt(l);return this.index+=a,c},readString:function(a){return s.transformTo("string",this.readData(a))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var a=this.readInt(4);return new Date(Date.UTC(1980+(a>>25&127),(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(31&a)<<1))}},i.exports=o},{"../utils":32}],19:[function(t,i,r){var s=t("./Uint8ArrayReader");function o(a){s.call(this,a)}t("../utils").inherits(o,s),o.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},i.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,i,r){var s=t("./DataReader");function o(a){s.call(this,a)}t("../utils").inherits(o,s),o.prototype.byteAt=function(a){return this.data.charCodeAt(this.zero+a)},o.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)-this.zero},o.prototype.readAndCheckSignature=function(a){return a===this.readData(4)},o.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},i.exports=o},{"../utils":32,"./DataReader":18}],21:[function(t,i,r){var s=t("./ArrayReader");function o(a){s.call(this,a)}t("../utils").inherits(o,s),o.prototype.readData=function(a){if(this.checkOffset(a),a===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},i.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(t,i,r){var s=t("../utils"),o=t("../support"),a=t("./ArrayReader"),l=t("./StringReader"),c=t("./NodeBufferReader"),u=t("./Uint8ArrayReader");i.exports=function(f){var p=s.getTypeOf(f);return s.checkSupport(p),p!=="string"||o.uint8array?p==="nodebuffer"?new c(f):o.uint8array?new u(s.transformTo("uint8array",f)):new a(s.transformTo("array",f)):new l(f)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,i,r){r.LOCAL_FILE_HEADER="PK",r.CENTRAL_FILE_HEADER="PK",r.CENTRAL_DIRECTORY_END="PK",r.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",r.ZIP64_CENTRAL_DIRECTORY_END="PK",r.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,i,r){var s=t("./GenericWorker"),o=t("../utils");function a(l){s.call(this,"ConvertWorker to "+l),this.destType=l}o.inherits(a,s),a.prototype.processChunk=function(l){this.push({data:o.transformTo(this.destType,l.data),meta:l.meta})},i.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(t,i,r){var s=t("./GenericWorker"),o=t("../crc32");function a(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(a,s),a.prototype.processChunk=function(l){this.streamInfo.crc32=o(l.data,this.streamInfo.crc32||0),this.push(l)},i.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,i,r){var s=t("../utils"),o=t("./GenericWorker");function a(l){o.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}s.inherits(a,o),a.prototype.processChunk=function(l){if(l){var c=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=c+l.data.length}o.prototype.processChunk.call(this,l)},i.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(t,i,r){var s=t("../utils"),o=t("./GenericWorker");function a(l){o.call(this,"DataWorker");var c=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(u){c.dataIsReady=!0,c.data=u,c.max=u&&u.length||0,c.type=s.getTypeOf(u),c.isPaused||c._tickAndRepeat()},function(u){c.error(u)})}s.inherits(a,o),a.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,c=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,c);break;case"uint8array":l=this.data.subarray(this.index,c);break;case"array":case"nodebuffer":l=this.data.slice(this.index,c)}return this.index=c,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},i.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(t,i,r){function s(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,a){return this._listeners[o].push(a),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,a){if(this._listeners[o])for(var l=0;l<this._listeners[o].length;l++)this._listeners[o][l].call(this,a)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var a=this;return o.on("data",function(l){a.processChunk(l)}),o.on("end",function(){a.end()}),o.on("error",function(l){a.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,a){return this.extraStreamInfo[o]=a,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},i.exports=s},{}],29:[function(t,i,r){var s=t("../utils"),o=t("./ConvertWorker"),a=t("./GenericWorker"),l=t("../base64"),c=t("../support"),u=t("../external"),f=null;if(c.nodestream)try{f=t("../nodejs/NodejsStreamOutputAdapter")}catch{}function p(b,y){return new u.Promise(function(v,x){var D=[],T=b._internalType,C=b._outputType,_=b._mimeType;b.on("data",function(A,R){D.push(A),y&&y(R)}).on("error",function(A){D=[],x(A)}).on("end",function(){try{var A=(function(R,k,I){switch(R){case"blob":return s.newBlob(s.transformTo("arraybuffer",k),I);case"base64":return l.encode(k);default:return s.transformTo(R,k)}})(C,(function(R,k){var I,L=0,J=null,U=0;for(I=0;I<k.length;I++)U+=k[I].length;switch(R){case"string":return k.join("");case"array":return Array.prototype.concat.apply([],k);case"uint8array":for(J=new Uint8Array(U),I=0;I<k.length;I++)J.set(k[I],L),L+=k[I].length;return J;case"nodebuffer":return Buffer.concat(k);default:throw new Error("concat : unsupported type '"+R+"'")}})(T,D),_);v(A)}catch(R){x(R)}D=[]}).resume()})}function g(b,y,v){var x=y;switch(y){case"blob":case"arraybuffer":x="uint8array";break;case"base64":x="string"}try{this._internalType=x,this._outputType=y,this._mimeType=v,s.checkSupport(x),this._worker=b.pipe(new o(x)),b.lock()}catch(D){this._worker=new a("error"),this._worker.error(D)}}g.prototype={accumulate:function(b){return p(this,b)},on:function(b,y){var v=this;return b==="data"?this._worker.on(b,function(x){y.call(v,x.data,x.meta)}):this._worker.on(b,function(){s.delay(y,arguments,v)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(b){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new f(this,{objectMode:this._outputType!=="nodebuffer"},b)}},i.exports=g},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,i,r){if(r.base64=!0,r.array=!0,r.string=!0,r.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",r.nodebuffer=typeof Buffer<"u",r.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")r.blob=!1;else{var s=new ArrayBuffer(0);try{r.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(s),r.blob=o.getBlob("application/zip").size===0}catch{r.blob=!1}}}try{r.nodestream=!!t("readable-stream").Readable}catch{r.nodestream=!1}},{"readable-stream":16}],31:[function(t,i,r){for(var s=t("./utils"),o=t("./support"),a=t("./nodejsUtils"),l=t("./stream/GenericWorker"),c=new Array(256),u=0;u<256;u++)c[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;c[254]=c[254]=1;function f(){l.call(this,"utf-8 decode"),this.leftOver=null}function p(){l.call(this,"utf-8 encode")}r.utf8encode=function(g){return o.nodebuffer?a.newBufferFrom(g,"utf-8"):(function(b){var y,v,x,D,T,C=b.length,_=0;for(D=0;D<C;D++)(64512&(v=b.charCodeAt(D)))==55296&&D+1<C&&(64512&(x=b.charCodeAt(D+1)))==56320&&(v=65536+(v-55296<<10)+(x-56320),D++),_+=v<128?1:v<2048?2:v<65536?3:4;for(y=o.uint8array?new Uint8Array(_):new Array(_),D=T=0;T<_;D++)(64512&(v=b.charCodeAt(D)))==55296&&D+1<C&&(64512&(x=b.charCodeAt(D+1)))==56320&&(v=65536+(v-55296<<10)+(x-56320),D++),v<128?y[T++]=v:(v<2048?y[T++]=192|v>>>6:(v<65536?y[T++]=224|v>>>12:(y[T++]=240|v>>>18,y[T++]=128|v>>>12&63),y[T++]=128|v>>>6&63),y[T++]=128|63&v);return y})(g)},r.utf8decode=function(g){return o.nodebuffer?s.transformTo("nodebuffer",g).toString("utf-8"):(function(b){var y,v,x,D,T=b.length,C=new Array(2*T);for(y=v=0;y<T;)if((x=b[y++])<128)C[v++]=x;else if(4<(D=c[x]))C[v++]=65533,y+=D-1;else{for(x&=D===2?31:D===3?15:7;1<D&&y<T;)x=x<<6|63&b[y++],D--;1<D?C[v++]=65533:x<65536?C[v++]=x:(x-=65536,C[v++]=55296|x>>10&1023,C[v++]=56320|1023&x)}return C.length!==v&&(C.subarray?C=C.subarray(0,v):C.length=v),s.applyFromCharCode(C)})(g=s.transformTo(o.uint8array?"uint8array":"array",g))},s.inherits(f,l),f.prototype.processChunk=function(g){var b=s.transformTo(o.uint8array?"uint8array":"array",g.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var y=b;(b=new Uint8Array(y.length+this.leftOver.length)).set(this.leftOver,0),b.set(y,this.leftOver.length)}else b=this.leftOver.concat(b);this.leftOver=null}var v=(function(D,T){var C;for((T=T||D.length)>D.length&&(T=D.length),C=T-1;0<=C&&(192&D[C])==128;)C--;return C<0||C===0?T:C+c[D[C]]>T?C:T})(b),x=b;v!==b.length&&(o.uint8array?(x=b.subarray(0,v),this.leftOver=b.subarray(v,b.length)):(x=b.slice(0,v),this.leftOver=b.slice(v,b.length))),this.push({data:r.utf8decode(x),meta:g.meta})},f.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:r.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},r.Utf8DecodeWorker=f,s.inherits(p,l),p.prototype.processChunk=function(g){this.push({data:r.utf8encode(g.data),meta:g.meta})},r.Utf8EncodeWorker=p},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,i,r){var s=t("./support"),o=t("./base64"),a=t("./nodejsUtils"),l=t("./external");function c(y){return y}function u(y,v){for(var x=0;x<y.length;++x)v[x]=255&y.charCodeAt(x);return v}t("setimmediate"),r.newBlob=function(y,v){r.checkSupport("blob");try{return new Blob([y],{type:v})}catch{try{var x=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return x.append(y),x.getBlob(v)}catch{throw new Error("Bug : can't construct the Blob.")}}};var f={stringifyByChunk:function(y,v,x){var D=[],T=0,C=y.length;if(C<=x)return String.fromCharCode.apply(null,y);for(;T<C;)v==="array"||v==="nodebuffer"?D.push(String.fromCharCode.apply(null,y.slice(T,Math.min(T+x,C)))):D.push(String.fromCharCode.apply(null,y.subarray(T,Math.min(T+x,C)))),T+=x;return D.join("")},stringifyByChar:function(y){for(var v="",x=0;x<y.length;x++)v+=String.fromCharCode(y[x]);return v},applyCanBeUsed:{uint8array:(function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,a.allocBuffer(1)).length===1}catch{return!1}})()}};function p(y){var v=65536,x=r.getTypeOf(y),D=!0;if(x==="uint8array"?D=f.applyCanBeUsed.uint8array:x==="nodebuffer"&&(D=f.applyCanBeUsed.nodebuffer),D)for(;1<v;)try{return f.stringifyByChunk(y,x,v)}catch{v=Math.floor(v/2)}return f.stringifyByChar(y)}function g(y,v){for(var x=0;x<y.length;x++)v[x]=y[x];return v}r.applyFromCharCode=p;var b={};b.string={string:c,array:function(y){return u(y,new Array(y.length))},arraybuffer:function(y){return b.string.uint8array(y).buffer},uint8array:function(y){return u(y,new Uint8Array(y.length))},nodebuffer:function(y){return u(y,a.allocBuffer(y.length))}},b.array={string:p,array:c,arraybuffer:function(y){return new Uint8Array(y).buffer},uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return a.newBufferFrom(y)}},b.arraybuffer={string:function(y){return p(new Uint8Array(y))},array:function(y){return g(new Uint8Array(y),new Array(y.byteLength))},arraybuffer:c,uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return a.newBufferFrom(new Uint8Array(y))}},b.uint8array={string:p,array:function(y){return g(y,new Array(y.length))},arraybuffer:function(y){return y.buffer},uint8array:c,nodebuffer:function(y){return a.newBufferFrom(y)}},b.nodebuffer={string:p,array:function(y){return g(y,new Array(y.length))},arraybuffer:function(y){return b.nodebuffer.uint8array(y).buffer},uint8array:function(y){return g(y,new Uint8Array(y.length))},nodebuffer:c},r.transformTo=function(y,v){if(v=v||"",!y)return v;r.checkSupport(y);var x=r.getTypeOf(v);return b[x][y](v)},r.resolve=function(y){for(var v=y.split("/"),x=[],D=0;D<v.length;D++){var T=v[D];T==="."||T===""&&D!==0&&D!==v.length-1||(T===".."?x.pop():x.push(T))}return x.join("/")},r.getTypeOf=function(y){return typeof y=="string"?"string":Object.prototype.toString.call(y)==="[object Array]"?"array":s.nodebuffer&&a.isBuffer(y)?"nodebuffer":s.uint8array&&y instanceof Uint8Array?"uint8array":s.arraybuffer&&y instanceof ArrayBuffer?"arraybuffer":void 0},r.checkSupport=function(y){if(!s[y.toLowerCase()])throw new Error(y+" is not supported by this platform")},r.MAX_VALUE_16BITS=65535,r.MAX_VALUE_32BITS=-1,r.pretty=function(y){var v,x,D="";for(x=0;x<(y||"").length;x++)D+="\\x"+((v=y.charCodeAt(x))<16?"0":"")+v.toString(16).toUpperCase();return D},r.delay=function(y,v,x){setImmediate(function(){y.apply(x||null,v||[])})},r.inherits=function(y,v){function x(){}x.prototype=v.prototype,y.prototype=new x},r.extend=function(){var y,v,x={};for(y=0;y<arguments.length;y++)for(v in arguments[y])Object.prototype.hasOwnProperty.call(arguments[y],v)&&x[v]===void 0&&(x[v]=arguments[y][v]);return x},r.prepareContent=function(y,v,x,D,T){return l.Promise.resolve(v).then(function(C){return s.blob&&(C instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(C))!==-1)&&typeof FileReader<"u"?new l.Promise(function(_,A){var R=new FileReader;R.onload=function(k){_(k.target.result)},R.onerror=function(k){A(k.target.error)},R.readAsArrayBuffer(C)}):C}).then(function(C){var _=r.getTypeOf(C);return _?(_==="arraybuffer"?C=r.transformTo("uint8array",C):_==="string"&&(T?C=o.decode(C):x&&D!==!0&&(C=(function(A){return u(A,s.uint8array?new Uint8Array(A.length):new Array(A.length))})(C))),C):l.Promise.reject(new Error("Can't read the data of '"+y+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,i,r){var s=t("./reader/readerFor"),o=t("./utils"),a=t("./signature"),l=t("./zipEntry"),c=t("./support");function u(f){this.files=[],this.loadOptions=f}u.prototype={checkSignature:function(f){if(!this.reader.readAndCheckSignature(f)){this.reader.index-=4;var p=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(p)+", expected "+o.pretty(f)+")")}},isSignature:function(f,p){var g=this.reader.index;this.reader.setIndex(f);var b=this.reader.readString(4)===p;return this.reader.setIndex(g),b},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var f=this.reader.readData(this.zipCommentLength),p=c.uint8array?"uint8array":"array",g=o.transformTo(p,f);this.zipComment=this.loadOptions.decodeFileName(g)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var f,p,g,b=this.zip64EndOfCentralSize-44;0<b;)f=this.reader.readInt(2),p=this.reader.readInt(4),g=this.reader.readData(p),this.zip64ExtensibleData[f]={id:f,length:p,value:g}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var f,p;for(f=0;f<this.files.length;f++)p=this.files[f],this.reader.setIndex(p.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),p.readLocalPart(this.reader),p.handleUTF8(),p.processAttributes()},readCentralDir:function(){var f;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(f=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(f);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var f=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(f<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(f);var p=f;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(f=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(f),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var g=this.centralDirOffset+this.centralDirSize;this.zip64&&(g+=20,g+=12+this.zip64EndOfCentralSize);var b=p-g;if(0<b)this.isSignature(p,a.CENTRAL_FILE_HEADER)||(this.reader.zero=b);else if(b<0)throw new Error("Corrupted zip: missing "+Math.abs(b)+" bytes.")},prepareReader:function(f){this.reader=s(f)},load:function(f){this.prepareReader(f),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},i.exports=u},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,i,r){var s=t("./reader/readerFor"),o=t("./utils"),a=t("./compressedObject"),l=t("./crc32"),c=t("./utf8"),u=t("./compressions"),f=t("./support");function p(g,b){this.options=g,this.loadOptions=b}p.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(g){var b,y;if(g.skip(22),this.fileNameLength=g.readInt(2),y=g.readInt(2),this.fileName=g.readData(this.fileNameLength),g.skip(y),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((b=(function(v){for(var x in u)if(Object.prototype.hasOwnProperty.call(u,x)&&u[x].magic===v)return u[x];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,b,g.readData(this.compressedSize))},readCentralPart:function(g){this.versionMadeBy=g.readInt(2),g.skip(2),this.bitFlag=g.readInt(2),this.compressionMethod=g.readString(2),this.date=g.readDate(),this.crc32=g.readInt(4),this.compressedSize=g.readInt(4),this.uncompressedSize=g.readInt(4);var b=g.readInt(2);if(this.extraFieldsLength=g.readInt(2),this.fileCommentLength=g.readInt(2),this.diskNumberStart=g.readInt(2),this.internalFileAttributes=g.readInt(2),this.externalFileAttributes=g.readInt(4),this.localHeaderOffset=g.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");g.skip(b),this.readExtraFields(g),this.parseZIP64ExtraField(g),this.fileComment=g.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var g=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),g==0&&(this.dosPermissions=63&this.externalFileAttributes),g==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var g=s(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=g.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=g.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=g.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=g.readInt(4))}},readExtraFields:function(g){var b,y,v,x=g.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});g.index+4<x;)b=g.readInt(2),y=g.readInt(2),v=g.readData(y),this.extraFields[b]={id:b,length:y,value:v};g.setIndex(x)},handleUTF8:function(){var g=f.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=c.utf8decode(this.fileName),this.fileCommentStr=c.utf8decode(this.fileComment);else{var b=this.findExtraFieldUnicodePath();if(b!==null)this.fileNameStr=b;else{var y=o.transformTo(g,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(y)}var v=this.findExtraFieldUnicodeComment();if(v!==null)this.fileCommentStr=v;else{var x=o.transformTo(g,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(x)}}},findExtraFieldUnicodePath:function(){var g=this.extraFields[28789];if(g){var b=s(g.value);return b.readInt(1)!==1||l(this.fileName)!==b.readInt(4)?null:c.utf8decode(b.readData(g.length-5))}return null},findExtraFieldUnicodeComment:function(){var g=this.extraFields[25461];if(g){var b=s(g.value);return b.readInt(1)!==1||l(this.fileComment)!==b.readInt(4)?null:c.utf8decode(b.readData(g.length-5))}return null}},i.exports=p},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,i,r){function s(b,y,v){this.name=b,this.dir=v.dir,this.date=v.date,this.comment=v.comment,this.unixPermissions=v.unixPermissions,this.dosPermissions=v.dosPermissions,this._data=y,this._dataBinary=v.binary,this.options={compression:v.compression,compressionOptions:v.compressionOptions}}var o=t("./stream/StreamHelper"),a=t("./stream/DataWorker"),l=t("./utf8"),c=t("./compressedObject"),u=t("./stream/GenericWorker");s.prototype={internalStream:function(b){var y=null,v="string";try{if(!b)throw new Error("No output type specified.");var x=(v=b.toLowerCase())==="string"||v==="text";v!=="binarystring"&&v!=="text"||(v="string"),y=this._decompressWorker();var D=!this._dataBinary;D&&!x&&(y=y.pipe(new l.Utf8EncodeWorker)),!D&&x&&(y=y.pipe(new l.Utf8DecodeWorker))}catch(T){(y=new u("error")).error(T)}return new o(y,v,"")},async:function(b,y){return this.internalStream(b).accumulate(y)},nodeStream:function(b,y){return this.internalStream(b||"nodebuffer").toNodejsStream(y)},_compressWorker:function(b,y){if(this._data instanceof c&&this._data.compression.magic===b.magic)return this._data.getCompressedWorker();var v=this._decompressWorker();return this._dataBinary||(v=v.pipe(new l.Utf8EncodeWorker)),c.createWorkerFrom(v,b,y)},_decompressWorker:function(){return this._data instanceof c?this._data.getContentWorker():this._data instanceof u?this._data:new a(this._data)}};for(var f=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],p=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},g=0;g<f.length;g++)s.prototype[f[g]]=p;i.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,i,r){(function(s){var o,a,l=s.MutationObserver||s.WebKitMutationObserver;if(l){var c=0,u=new l(b),f=s.document.createTextNode("");u.observe(f,{characterData:!0}),o=function(){f.data=c=++c%2}}else if(s.setImmediate||s.MessageChannel===void 0)o="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var y=s.document.createElement("script");y.onreadystatechange=function(){b(),y.onreadystatechange=null,y.parentNode.removeChild(y),y=null},s.document.documentElement.appendChild(y)}:function(){setTimeout(b,0)};else{var p=new s.MessageChannel;p.port1.onmessage=b,o=function(){p.port2.postMessage(0)}}var g=[];function b(){var y,v;a=!0;for(var x=g.length;x;){for(v=g,g=[],y=-1;++y<x;)v[y]();x=g.length}a=!1}i.exports=function(y){g.push(y)!==1||a||o()}}).call(this,typeof Ln<"u"?Ln:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(t,i,r){var s=t("immediate");function o(){}var a={},l=["REJECTED"],c=["FULFILLED"],u=["PENDING"];function f(x){if(typeof x!="function")throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,x!==o&&y(this,x)}function p(x,D,T){this.promise=x,typeof D=="function"&&(this.onFulfilled=D,this.callFulfilled=this.otherCallFulfilled),typeof T=="function"&&(this.onRejected=T,this.callRejected=this.otherCallRejected)}function g(x,D,T){s(function(){var C;try{C=D(T)}catch(_){return a.reject(x,_)}C===x?a.reject(x,new TypeError("Cannot resolve promise with itself")):a.resolve(x,C)})}function b(x){var D=x&&x.then;if(x&&(typeof x=="object"||typeof x=="function")&&typeof D=="function")return function(){D.apply(x,arguments)}}function y(x,D){var T=!1;function C(R){T||(T=!0,a.reject(x,R))}function _(R){T||(T=!0,a.resolve(x,R))}var A=v(function(){D(_,C)});A.status==="error"&&C(A.value)}function v(x,D){var T={};try{T.value=x(D),T.status="success"}catch(C){T.status="error",T.value=C}return T}(i.exports=f).prototype.finally=function(x){if(typeof x!="function")return this;var D=this.constructor;return this.then(function(T){return D.resolve(x()).then(function(){return T})},function(T){return D.resolve(x()).then(function(){throw T})})},f.prototype.catch=function(x){return this.then(null,x)},f.prototype.then=function(x,D){if(typeof x!="function"&&this.state===c||typeof D!="function"&&this.state===l)return this;var T=new this.constructor(o);return this.state!==u?g(T,this.state===c?x:D,this.outcome):this.queue.push(new p(T,x,D)),T},p.prototype.callFulfilled=function(x){a.resolve(this.promise,x)},p.prototype.otherCallFulfilled=function(x){g(this.promise,this.onFulfilled,x)},p.prototype.callRejected=function(x){a.reject(this.promise,x)},p.prototype.otherCallRejected=function(x){g(this.promise,this.onRejected,x)},a.resolve=function(x,D){var T=v(b,D);if(T.status==="error")return a.reject(x,T.value);var C=T.value;if(C)y(x,C);else{x.state=c,x.outcome=D;for(var _=-1,A=x.queue.length;++_<A;)x.queue[_].callFulfilled(D)}return x},a.reject=function(x,D){x.state=l,x.outcome=D;for(var T=-1,C=x.queue.length;++T<C;)x.queue[T].callRejected(D);return x},f.resolve=function(x){return x instanceof this?x:a.resolve(new this(o),x)},f.reject=function(x){var D=new this(o);return a.reject(D,x)},f.all=function(x){var D=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var T=x.length,C=!1;if(!T)return this.resolve([]);for(var _=new Array(T),A=0,R=-1,k=new this(o);++R<T;)I(x[R],R);return k;function I(L,J){D.resolve(L).then(function(U){_[J]=U,++A!==T||C||(C=!0,a.resolve(k,_))},function(U){C||(C=!0,a.reject(k,U))})}},f.race=function(x){var D=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var T=x.length,C=!1;if(!T)return this.resolve([]);for(var _=-1,A=new this(o);++_<T;)R=x[_],D.resolve(R).then(function(k){C||(C=!0,a.resolve(A,k))},function(k){C||(C=!0,a.reject(A,k))});var R;return A}},{immediate:36}],38:[function(t,i,r){var s={};(0,t("./lib/utils/common").assign)(s,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),i.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,i,r){var s=t("./zlib/deflate"),o=t("./utils/common"),a=t("./utils/strings"),l=t("./zlib/messages"),c=t("./zlib/zstream"),u=Object.prototype.toString,f=0,p=-1,g=0,b=8;function y(x){if(!(this instanceof y))return new y(x);this.options=o.assign({level:p,method:b,chunkSize:16384,windowBits:15,memLevel:8,strategy:g,to:""},x||{});var D=this.options;D.raw&&0<D.windowBits?D.windowBits=-D.windowBits:D.gzip&&0<D.windowBits&&D.windowBits<16&&(D.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var T=s.deflateInit2(this.strm,D.level,D.method,D.windowBits,D.memLevel,D.strategy);if(T!==f)throw new Error(l[T]);if(D.header&&s.deflateSetHeader(this.strm,D.header),D.dictionary){var C;if(C=typeof D.dictionary=="string"?a.string2buf(D.dictionary):u.call(D.dictionary)==="[object ArrayBuffer]"?new Uint8Array(D.dictionary):D.dictionary,(T=s.deflateSetDictionary(this.strm,C))!==f)throw new Error(l[T]);this._dict_set=!0}}function v(x,D){var T=new y(D);if(T.push(x,!0),T.err)throw T.msg||l[T.err];return T.result}y.prototype.push=function(x,D){var T,C,_=this.strm,A=this.options.chunkSize;if(this.ended)return!1;C=D===~~D?D:D===!0?4:0,typeof x=="string"?_.input=a.string2buf(x):u.call(x)==="[object ArrayBuffer]"?_.input=new Uint8Array(x):_.input=x,_.next_in=0,_.avail_in=_.input.length;do{if(_.avail_out===0&&(_.output=new o.Buf8(A),_.next_out=0,_.avail_out=A),(T=s.deflate(_,C))!==1&&T!==f)return this.onEnd(T),!(this.ended=!0);_.avail_out!==0&&(_.avail_in!==0||C!==4&&C!==2)||(this.options.to==="string"?this.onData(a.buf2binstring(o.shrinkBuf(_.output,_.next_out))):this.onData(o.shrinkBuf(_.output,_.next_out)))}while((0<_.avail_in||_.avail_out===0)&&T!==1);return C===4?(T=s.deflateEnd(this.strm),this.onEnd(T),this.ended=!0,T===f):C!==2||(this.onEnd(f),!(_.avail_out=0))},y.prototype.onData=function(x){this.chunks.push(x)},y.prototype.onEnd=function(x){x===f&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=x,this.msg=this.strm.msg},r.Deflate=y,r.deflate=v,r.deflateRaw=function(x,D){return(D=D||{}).raw=!0,v(x,D)},r.gzip=function(x,D){return(D=D||{}).gzip=!0,v(x,D)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,i,r){var s=t("./zlib/inflate"),o=t("./utils/common"),a=t("./utils/strings"),l=t("./zlib/constants"),c=t("./zlib/messages"),u=t("./zlib/zstream"),f=t("./zlib/gzheader"),p=Object.prototype.toString;function g(y){if(!(this instanceof g))return new g(y);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},y||{});var v=this.options;v.raw&&0<=v.windowBits&&v.windowBits<16&&(v.windowBits=-v.windowBits,v.windowBits===0&&(v.windowBits=-15)),!(0<=v.windowBits&&v.windowBits<16)||y&&y.windowBits||(v.windowBits+=32),15<v.windowBits&&v.windowBits<48&&(15&v.windowBits)==0&&(v.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var x=s.inflateInit2(this.strm,v.windowBits);if(x!==l.Z_OK)throw new Error(c[x]);this.header=new f,s.inflateGetHeader(this.strm,this.header)}function b(y,v){var x=new g(v);if(x.push(y,!0),x.err)throw x.msg||c[x.err];return x.result}g.prototype.push=function(y,v){var x,D,T,C,_,A,R=this.strm,k=this.options.chunkSize,I=this.options.dictionary,L=!1;if(this.ended)return!1;D=v===~~v?v:v===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof y=="string"?R.input=a.binstring2buf(y):p.call(y)==="[object ArrayBuffer]"?R.input=new Uint8Array(y):R.input=y,R.next_in=0,R.avail_in=R.input.length;do{if(R.avail_out===0&&(R.output=new o.Buf8(k),R.next_out=0,R.avail_out=k),(x=s.inflate(R,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&I&&(A=typeof I=="string"?a.string2buf(I):p.call(I)==="[object ArrayBuffer]"?new Uint8Array(I):I,x=s.inflateSetDictionary(this.strm,A)),x===l.Z_BUF_ERROR&&L===!0&&(x=l.Z_OK,L=!1),x!==l.Z_STREAM_END&&x!==l.Z_OK)return this.onEnd(x),!(this.ended=!0);R.next_out&&(R.avail_out!==0&&x!==l.Z_STREAM_END&&(R.avail_in!==0||D!==l.Z_FINISH&&D!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(T=a.utf8border(R.output,R.next_out),C=R.next_out-T,_=a.buf2string(R.output,T),R.next_out=C,R.avail_out=k-C,C&&o.arraySet(R.output,R.output,T,C,0),this.onData(_)):this.onData(o.shrinkBuf(R.output,R.next_out)))),R.avail_in===0&&R.avail_out===0&&(L=!0)}while((0<R.avail_in||R.avail_out===0)&&x!==l.Z_STREAM_END);return x===l.Z_STREAM_END&&(D=l.Z_FINISH),D===l.Z_FINISH?(x=s.inflateEnd(this.strm),this.onEnd(x),this.ended=!0,x===l.Z_OK):D!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(R.avail_out=0))},g.prototype.onData=function(y){this.chunks.push(y)},g.prototype.onEnd=function(y){y===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=y,this.msg=this.strm.msg},r.Inflate=g,r.inflate=b,r.inflateRaw=function(y,v){return(v=v||{}).raw=!0,b(y,v)},r.ungzip=b},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,i,r){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";r.assign=function(l){for(var c=Array.prototype.slice.call(arguments,1);c.length;){var u=c.shift();if(u){if(typeof u!="object")throw new TypeError(u+"must be non-object");for(var f in u)u.hasOwnProperty(f)&&(l[f]=u[f])}}return l},r.shrinkBuf=function(l,c){return l.length===c?l:l.subarray?l.subarray(0,c):(l.length=c,l)};var o={arraySet:function(l,c,u,f,p){if(c.subarray&&l.subarray)l.set(c.subarray(u,u+f),p);else for(var g=0;g<f;g++)l[p+g]=c[u+g]},flattenChunks:function(l){var c,u,f,p,g,b;for(c=f=0,u=l.length;c<u;c++)f+=l[c].length;for(b=new Uint8Array(f),c=p=0,u=l.length;c<u;c++)g=l[c],b.set(g,p),p+=g.length;return b}},a={arraySet:function(l,c,u,f,p){for(var g=0;g<f;g++)l[p+g]=c[u+g]},flattenChunks:function(l){return[].concat.apply([],l)}};r.setTyped=function(l){l?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,o)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,a))},r.setTyped(s)},{}],42:[function(t,i,r){var s=t("./common"),o=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{a=!1}for(var l=new s.Buf8(256),c=0;c<256;c++)l[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;function u(f,p){if(p<65537&&(f.subarray&&a||!f.subarray&&o))return String.fromCharCode.apply(null,s.shrinkBuf(f,p));for(var g="",b=0;b<p;b++)g+=String.fromCharCode(f[b]);return g}l[254]=l[254]=1,r.string2buf=function(f){var p,g,b,y,v,x=f.length,D=0;for(y=0;y<x;y++)(64512&(g=f.charCodeAt(y)))==55296&&y+1<x&&(64512&(b=f.charCodeAt(y+1)))==56320&&(g=65536+(g-55296<<10)+(b-56320),y++),D+=g<128?1:g<2048?2:g<65536?3:4;for(p=new s.Buf8(D),y=v=0;v<D;y++)(64512&(g=f.charCodeAt(y)))==55296&&y+1<x&&(64512&(b=f.charCodeAt(y+1)))==56320&&(g=65536+(g-55296<<10)+(b-56320),y++),g<128?p[v++]=g:(g<2048?p[v++]=192|g>>>6:(g<65536?p[v++]=224|g>>>12:(p[v++]=240|g>>>18,p[v++]=128|g>>>12&63),p[v++]=128|g>>>6&63),p[v++]=128|63&g);return p},r.buf2binstring=function(f){return u(f,f.length)},r.binstring2buf=function(f){for(var p=new s.Buf8(f.length),g=0,b=p.length;g<b;g++)p[g]=f.charCodeAt(g);return p},r.buf2string=function(f,p){var g,b,y,v,x=p||f.length,D=new Array(2*x);for(g=b=0;g<x;)if((y=f[g++])<128)D[b++]=y;else if(4<(v=l[y]))D[b++]=65533,g+=v-1;else{for(y&=v===2?31:v===3?15:7;1<v&&g<x;)y=y<<6|63&f[g++],v--;1<v?D[b++]=65533:y<65536?D[b++]=y:(y-=65536,D[b++]=55296|y>>10&1023,D[b++]=56320|1023&y)}return u(D,b)},r.utf8border=function(f,p){var g;for((p=p||f.length)>f.length&&(p=f.length),g=p-1;0<=g&&(192&f[g])==128;)g--;return g<0||g===0?p:g+l[f[g]]>p?g:p}},{"./common":41}],43:[function(t,i,r){i.exports=function(s,o,a,l){for(var c=65535&s|0,u=s>>>16&65535|0,f=0;a!==0;){for(a-=f=2e3<a?2e3:a;u=u+(c=c+o[l++]|0)|0,--f;);c%=65521,u%=65521}return c|u<<16|0}},{}],44:[function(t,i,r){i.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,i,r){var s=(function(){for(var o,a=[],l=0;l<256;l++){o=l;for(var c=0;c<8;c++)o=1&o?3988292384^o>>>1:o>>>1;a[l]=o}return a})();i.exports=function(o,a,l,c){var u=s,f=c+l;o^=-1;for(var p=c;p<f;p++)o=o>>>8^u[255&(o^a[p])];return-1^o}},{}],46:[function(t,i,r){var s,o=t("../utils/common"),a=t("./trees"),l=t("./adler32"),c=t("./crc32"),u=t("./messages"),f=0,p=4,g=0,b=-2,y=-1,v=4,x=2,D=8,T=9,C=286,_=30,A=19,R=2*C+1,k=15,I=3,L=258,J=L+I+1,U=42,O=113,S=1,K=2,q=3,B=4;function j(w,ae){return w.msg=u[ae],ae}function V(w){return(w<<1)-(4<w?9:0)}function Y(w){for(var ae=w.length;0<=--ae;)w[ae]=0}function F(w){var ae=w.state,Q=ae.pending;Q>w.avail_out&&(Q=w.avail_out),Q!==0&&(o.arraySet(w.output,ae.pending_buf,ae.pending_out,Q,w.next_out),w.next_out+=Q,ae.pending_out+=Q,w.total_out+=Q,w.avail_out-=Q,ae.pending-=Q,ae.pending===0&&(ae.pending_out=0))}function X(w,ae){a._tr_flush_block(w,0<=w.block_start?w.block_start:-1,w.strstart-w.block_start,ae),w.block_start=w.strstart,F(w.strm)}function z(w,ae){w.pending_buf[w.pending++]=ae}function ne(w,ae){w.pending_buf[w.pending++]=ae>>>8&255,w.pending_buf[w.pending++]=255&ae}function oe(w,ae){var Q,H,$=w.max_chain_length,ee=w.strstart,ue=w.prev_length,he=w.nice_match,re=w.strstart>w.w_size-J?w.strstart-(w.w_size-J):0,Z=w.window,ie=w.w_mask,le=w.prev,fe=w.strstart+L,xe=Z[ee+ue-1],se=Z[ee+ue];w.prev_length>=w.good_match&&($>>=2),he>w.lookahead&&(he=w.lookahead);do if(Z[(Q=ae)+ue]===se&&Z[Q+ue-1]===xe&&Z[Q]===Z[ee]&&Z[++Q]===Z[ee+1]){ee+=2,Q++;do;while(Z[++ee]===Z[++Q]&&Z[++ee]===Z[++Q]&&Z[++ee]===Z[++Q]&&Z[++ee]===Z[++Q]&&Z[++ee]===Z[++Q]&&Z[++ee]===Z[++Q]&&Z[++ee]===Z[++Q]&&Z[++ee]===Z[++Q]&&ee<fe);if(H=L-(fe-ee),ee=fe-L,ue<H){if(w.match_start=ae,he<=(ue=H))break;xe=Z[ee+ue-1],se=Z[ee+ue]}}while((ae=le[ae&ie])>re&&--$!=0);return ue<=w.lookahead?ue:w.lookahead}function pe(w){var ae,Q,H,$,ee,ue,he,re,Z,ie,le=w.w_size;do{if($=w.window_size-w.lookahead-w.strstart,w.strstart>=le+(le-J)){for(o.arraySet(w.window,w.window,le,le,0),w.match_start-=le,w.strstart-=le,w.block_start-=le,ae=Q=w.hash_size;H=w.head[--ae],w.head[ae]=le<=H?H-le:0,--Q;);for(ae=Q=le;H=w.prev[--ae],w.prev[ae]=le<=H?H-le:0,--Q;);$+=le}if(w.strm.avail_in===0)break;if(ue=w.strm,he=w.window,re=w.strstart+w.lookahead,Z=$,ie=void 0,ie=ue.avail_in,Z<ie&&(ie=Z),Q=ie===0?0:(ue.avail_in-=ie,o.arraySet(he,ue.input,ue.next_in,ie,re),ue.state.wrap===1?ue.adler=l(ue.adler,he,ie,re):ue.state.wrap===2&&(ue.adler=c(ue.adler,he,ie,re)),ue.next_in+=ie,ue.total_in+=ie,ie),w.lookahead+=Q,w.lookahead+w.insert>=I)for(ee=w.strstart-w.insert,w.ins_h=w.window[ee],w.ins_h=(w.ins_h<<w.hash_shift^w.window[ee+1])&w.hash_mask;w.insert&&(w.ins_h=(w.ins_h<<w.hash_shift^w.window[ee+I-1])&w.hash_mask,w.prev[ee&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=ee,ee++,w.insert--,!(w.lookahead+w.insert<I)););}while(w.lookahead<J&&w.strm.avail_in!==0)}function ce(w,ae){for(var Q,H;;){if(w.lookahead<J){if(pe(w),w.lookahead<J&&ae===f)return S;if(w.lookahead===0)break}if(Q=0,w.lookahead>=I&&(w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+I-1])&w.hash_mask,Q=w.prev[w.strstart&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=w.strstart),Q!==0&&w.strstart-Q<=w.w_size-J&&(w.match_length=oe(w,Q)),w.match_length>=I)if(H=a._tr_tally(w,w.strstart-w.match_start,w.match_length-I),w.lookahead-=w.match_length,w.match_length<=w.max_lazy_match&&w.lookahead>=I){for(w.match_length--;w.strstart++,w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+I-1])&w.hash_mask,Q=w.prev[w.strstart&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=w.strstart,--w.match_length!=0;);w.strstart++}else w.strstart+=w.match_length,w.match_length=0,w.ins_h=w.window[w.strstart],w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+1])&w.hash_mask;else H=a._tr_tally(w,0,w.window[w.strstart]),w.lookahead--,w.strstart++;if(H&&(X(w,!1),w.strm.avail_out===0))return S}return w.insert=w.strstart<I-1?w.strstart:I-1,ae===p?(X(w,!0),w.strm.avail_out===0?q:B):w.last_lit&&(X(w,!1),w.strm.avail_out===0)?S:K}function ge(w,ae){for(var Q,H,$;;){if(w.lookahead<J){if(pe(w),w.lookahead<J&&ae===f)return S;if(w.lookahead===0)break}if(Q=0,w.lookahead>=I&&(w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+I-1])&w.hash_mask,Q=w.prev[w.strstart&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=w.strstart),w.prev_length=w.match_length,w.prev_match=w.match_start,w.match_length=I-1,Q!==0&&w.prev_length<w.max_lazy_match&&w.strstart-Q<=w.w_size-J&&(w.match_length=oe(w,Q),w.match_length<=5&&(w.strategy===1||w.match_length===I&&4096<w.strstart-w.match_start)&&(w.match_length=I-1)),w.prev_length>=I&&w.match_length<=w.prev_length){for($=w.strstart+w.lookahead-I,H=a._tr_tally(w,w.strstart-1-w.prev_match,w.prev_length-I),w.lookahead-=w.prev_length-1,w.prev_length-=2;++w.strstart<=$&&(w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+I-1])&w.hash_mask,Q=w.prev[w.strstart&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=w.strstart),--w.prev_length!=0;);if(w.match_available=0,w.match_length=I-1,w.strstart++,H&&(X(w,!1),w.strm.avail_out===0))return S}else if(w.match_available){if((H=a._tr_tally(w,0,w.window[w.strstart-1]))&&X(w,!1),w.strstart++,w.lookahead--,w.strm.avail_out===0)return S}else w.match_available=1,w.strstart++,w.lookahead--}return w.match_available&&(H=a._tr_tally(w,0,w.window[w.strstart-1]),w.match_available=0),w.insert=w.strstart<I-1?w.strstart:I-1,ae===p?(X(w,!0),w.strm.avail_out===0?q:B):w.last_lit&&(X(w,!1),w.strm.avail_out===0)?S:K}function ye(w,ae,Q,H,$){this.good_length=w,this.max_lazy=ae,this.nice_length=Q,this.max_chain=H,this.func=$}function Te(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=D,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*R),this.dyn_dtree=new o.Buf16(2*(2*_+1)),this.bl_tree=new o.Buf16(2*(2*A+1)),Y(this.dyn_ltree),Y(this.dyn_dtree),Y(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(k+1),this.heap=new o.Buf16(2*C+1),Y(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*C+1),Y(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Ee(w){var ae;return w&&w.state?(w.total_in=w.total_out=0,w.data_type=x,(ae=w.state).pending=0,ae.pending_out=0,ae.wrap<0&&(ae.wrap=-ae.wrap),ae.status=ae.wrap?U:O,w.adler=ae.wrap===2?0:1,ae.last_flush=f,a._tr_init(ae),g):j(w,b)}function Se(w){var ae=Ee(w);return ae===g&&(function(Q){Q.window_size=2*Q.w_size,Y(Q.head),Q.max_lazy_match=s[Q.level].max_lazy,Q.good_match=s[Q.level].good_length,Q.nice_match=s[Q.level].nice_length,Q.max_chain_length=s[Q.level].max_chain,Q.strstart=0,Q.block_start=0,Q.lookahead=0,Q.insert=0,Q.match_length=Q.prev_length=I-1,Q.match_available=0,Q.ins_h=0})(w.state),ae}function Oe(w,ae,Q,H,$,ee){if(!w)return b;var ue=1;if(ae===y&&(ae=6),H<0?(ue=0,H=-H):15<H&&(ue=2,H-=16),$<1||T<$||Q!==D||H<8||15<H||ae<0||9<ae||ee<0||v<ee)return j(w,b);H===8&&(H=9);var he=new Te;return(w.state=he).strm=w,he.wrap=ue,he.gzhead=null,he.w_bits=H,he.w_size=1<<he.w_bits,he.w_mask=he.w_size-1,he.hash_bits=$+7,he.hash_size=1<<he.hash_bits,he.hash_mask=he.hash_size-1,he.hash_shift=~~((he.hash_bits+I-1)/I),he.window=new o.Buf8(2*he.w_size),he.head=new o.Buf16(he.hash_size),he.prev=new o.Buf16(he.w_size),he.lit_bufsize=1<<$+6,he.pending_buf_size=4*he.lit_bufsize,he.pending_buf=new o.Buf8(he.pending_buf_size),he.d_buf=1*he.lit_bufsize,he.l_buf=3*he.lit_bufsize,he.level=ae,he.strategy=ee,he.method=Q,Se(w)}s=[new ye(0,0,0,0,function(w,ae){var Q=65535;for(Q>w.pending_buf_size-5&&(Q=w.pending_buf_size-5);;){if(w.lookahead<=1){if(pe(w),w.lookahead===0&&ae===f)return S;if(w.lookahead===0)break}w.strstart+=w.lookahead,w.lookahead=0;var H=w.block_start+Q;if((w.strstart===0||w.strstart>=H)&&(w.lookahead=w.strstart-H,w.strstart=H,X(w,!1),w.strm.avail_out===0)||w.strstart-w.block_start>=w.w_size-J&&(X(w,!1),w.strm.avail_out===0))return S}return w.insert=0,ae===p?(X(w,!0),w.strm.avail_out===0?q:B):(w.strstart>w.block_start&&(X(w,!1),w.strm.avail_out),S)}),new ye(4,4,8,4,ce),new ye(4,5,16,8,ce),new ye(4,6,32,32,ce),new ye(4,4,16,16,ge),new ye(8,16,32,32,ge),new ye(8,16,128,128,ge),new ye(8,32,128,256,ge),new ye(32,128,258,1024,ge),new ye(32,258,258,4096,ge)],r.deflateInit=function(w,ae){return Oe(w,ae,D,15,8,0)},r.deflateInit2=Oe,r.deflateReset=Se,r.deflateResetKeep=Ee,r.deflateSetHeader=function(w,ae){return w&&w.state?w.state.wrap!==2?b:(w.state.gzhead=ae,g):b},r.deflate=function(w,ae){var Q,H,$,ee;if(!w||!w.state||5<ae||ae<0)return w?j(w,b):b;if(H=w.state,!w.output||!w.input&&w.avail_in!==0||H.status===666&&ae!==p)return j(w,w.avail_out===0?-5:b);if(H.strm=w,Q=H.last_flush,H.last_flush=ae,H.status===U)if(H.wrap===2)w.adler=0,z(H,31),z(H,139),z(H,8),H.gzhead?(z(H,(H.gzhead.text?1:0)+(H.gzhead.hcrc?2:0)+(H.gzhead.extra?4:0)+(H.gzhead.name?8:0)+(H.gzhead.comment?16:0)),z(H,255&H.gzhead.time),z(H,H.gzhead.time>>8&255),z(H,H.gzhead.time>>16&255),z(H,H.gzhead.time>>24&255),z(H,H.level===9?2:2<=H.strategy||H.level<2?4:0),z(H,255&H.gzhead.os),H.gzhead.extra&&H.gzhead.extra.length&&(z(H,255&H.gzhead.extra.length),z(H,H.gzhead.extra.length>>8&255)),H.gzhead.hcrc&&(w.adler=c(w.adler,H.pending_buf,H.pending,0)),H.gzindex=0,H.status=69):(z(H,0),z(H,0),z(H,0),z(H,0),z(H,0),z(H,H.level===9?2:2<=H.strategy||H.level<2?4:0),z(H,3),H.status=O);else{var ue=D+(H.w_bits-8<<4)<<8;ue|=(2<=H.strategy||H.level<2?0:H.level<6?1:H.level===6?2:3)<<6,H.strstart!==0&&(ue|=32),ue+=31-ue%31,H.status=O,ne(H,ue),H.strstart!==0&&(ne(H,w.adler>>>16),ne(H,65535&w.adler)),w.adler=1}if(H.status===69)if(H.gzhead.extra){for($=H.pending;H.gzindex<(65535&H.gzhead.extra.length)&&(H.pending!==H.pending_buf_size||(H.gzhead.hcrc&&H.pending>$&&(w.adler=c(w.adler,H.pending_buf,H.pending-$,$)),F(w),$=H.pending,H.pending!==H.pending_buf_size));)z(H,255&H.gzhead.extra[H.gzindex]),H.gzindex++;H.gzhead.hcrc&&H.pending>$&&(w.adler=c(w.adler,H.pending_buf,H.pending-$,$)),H.gzindex===H.gzhead.extra.length&&(H.gzindex=0,H.status=73)}else H.status=73;if(H.status===73)if(H.gzhead.name){$=H.pending;do{if(H.pending===H.pending_buf_size&&(H.gzhead.hcrc&&H.pending>$&&(w.adler=c(w.adler,H.pending_buf,H.pending-$,$)),F(w),$=H.pending,H.pending===H.pending_buf_size)){ee=1;break}ee=H.gzindex<H.gzhead.name.length?255&H.gzhead.name.charCodeAt(H.gzindex++):0,z(H,ee)}while(ee!==0);H.gzhead.hcrc&&H.pending>$&&(w.adler=c(w.adler,H.pending_buf,H.pending-$,$)),ee===0&&(H.gzindex=0,H.status=91)}else H.status=91;if(H.status===91)if(H.gzhead.comment){$=H.pending;do{if(H.pending===H.pending_buf_size&&(H.gzhead.hcrc&&H.pending>$&&(w.adler=c(w.adler,H.pending_buf,H.pending-$,$)),F(w),$=H.pending,H.pending===H.pending_buf_size)){ee=1;break}ee=H.gzindex<H.gzhead.comment.length?255&H.gzhead.comment.charCodeAt(H.gzindex++):0,z(H,ee)}while(ee!==0);H.gzhead.hcrc&&H.pending>$&&(w.adler=c(w.adler,H.pending_buf,H.pending-$,$)),ee===0&&(H.status=103)}else H.status=103;if(H.status===103&&(H.gzhead.hcrc?(H.pending+2>H.pending_buf_size&&F(w),H.pending+2<=H.pending_buf_size&&(z(H,255&w.adler),z(H,w.adler>>8&255),w.adler=0,H.status=O)):H.status=O),H.pending!==0){if(F(w),w.avail_out===0)return H.last_flush=-1,g}else if(w.avail_in===0&&V(ae)<=V(Q)&&ae!==p)return j(w,-5);if(H.status===666&&w.avail_in!==0)return j(w,-5);if(w.avail_in!==0||H.lookahead!==0||ae!==f&&H.status!==666){var he=H.strategy===2?(function(re,Z){for(var ie;;){if(re.lookahead===0&&(pe(re),re.lookahead===0)){if(Z===f)return S;break}if(re.match_length=0,ie=a._tr_tally(re,0,re.window[re.strstart]),re.lookahead--,re.strstart++,ie&&(X(re,!1),re.strm.avail_out===0))return S}return re.insert=0,Z===p?(X(re,!0),re.strm.avail_out===0?q:B):re.last_lit&&(X(re,!1),re.strm.avail_out===0)?S:K})(H,ae):H.strategy===3?(function(re,Z){for(var ie,le,fe,xe,se=re.window;;){if(re.lookahead<=L){if(pe(re),re.lookahead<=L&&Z===f)return S;if(re.lookahead===0)break}if(re.match_length=0,re.lookahead>=I&&0<re.strstart&&(le=se[fe=re.strstart-1])===se[++fe]&&le===se[++fe]&&le===se[++fe]){xe=re.strstart+L;do;while(le===se[++fe]&&le===se[++fe]&&le===se[++fe]&&le===se[++fe]&&le===se[++fe]&&le===se[++fe]&&le===se[++fe]&&le===se[++fe]&&fe<xe);re.match_length=L-(xe-fe),re.match_length>re.lookahead&&(re.match_length=re.lookahead)}if(re.match_length>=I?(ie=a._tr_tally(re,1,re.match_length-I),re.lookahead-=re.match_length,re.strstart+=re.match_length,re.match_length=0):(ie=a._tr_tally(re,0,re.window[re.strstart]),re.lookahead--,re.strstart++),ie&&(X(re,!1),re.strm.avail_out===0))return S}return re.insert=0,Z===p?(X(re,!0),re.strm.avail_out===0?q:B):re.last_lit&&(X(re,!1),re.strm.avail_out===0)?S:K})(H,ae):s[H.level].func(H,ae);if(he!==q&&he!==B||(H.status=666),he===S||he===q)return w.avail_out===0&&(H.last_flush=-1),g;if(he===K&&(ae===1?a._tr_align(H):ae!==5&&(a._tr_stored_block(H,0,0,!1),ae===3&&(Y(H.head),H.lookahead===0&&(H.strstart=0,H.block_start=0,H.insert=0))),F(w),w.avail_out===0))return H.last_flush=-1,g}return ae!==p?g:H.wrap<=0?1:(H.wrap===2?(z(H,255&w.adler),z(H,w.adler>>8&255),z(H,w.adler>>16&255),z(H,w.adler>>24&255),z(H,255&w.total_in),z(H,w.total_in>>8&255),z(H,w.total_in>>16&255),z(H,w.total_in>>24&255)):(ne(H,w.adler>>>16),ne(H,65535&w.adler)),F(w),0<H.wrap&&(H.wrap=-H.wrap),H.pending!==0?g:1)},r.deflateEnd=function(w){var ae;return w&&w.state?(ae=w.state.status)!==U&&ae!==69&&ae!==73&&ae!==91&&ae!==103&&ae!==O&&ae!==666?j(w,b):(w.state=null,ae===O?j(w,-3):g):b},r.deflateSetDictionary=function(w,ae){var Q,H,$,ee,ue,he,re,Z,ie=ae.length;if(!w||!w.state||(ee=(Q=w.state).wrap)===2||ee===1&&Q.status!==U||Q.lookahead)return b;for(ee===1&&(w.adler=l(w.adler,ae,ie,0)),Q.wrap=0,ie>=Q.w_size&&(ee===0&&(Y(Q.head),Q.strstart=0,Q.block_start=0,Q.insert=0),Z=new o.Buf8(Q.w_size),o.arraySet(Z,ae,ie-Q.w_size,Q.w_size,0),ae=Z,ie=Q.w_size),ue=w.avail_in,he=w.next_in,re=w.input,w.avail_in=ie,w.next_in=0,w.input=ae,pe(Q);Q.lookahead>=I;){for(H=Q.strstart,$=Q.lookahead-(I-1);Q.ins_h=(Q.ins_h<<Q.hash_shift^Q.window[H+I-1])&Q.hash_mask,Q.prev[H&Q.w_mask]=Q.head[Q.ins_h],Q.head[Q.ins_h]=H,H++,--$;);Q.strstart=H,Q.lookahead=I-1,pe(Q)}return Q.strstart+=Q.lookahead,Q.block_start=Q.strstart,Q.insert=Q.lookahead,Q.lookahead=0,Q.match_length=Q.prev_length=I-1,Q.match_available=0,w.next_in=he,w.input=re,w.avail_in=ue,Q.wrap=ee,g},r.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,i,r){i.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,i,r){i.exports=function(s,o){var a,l,c,u,f,p,g,b,y,v,x,D,T,C,_,A,R,k,I,L,J,U,O,S,K;a=s.state,l=s.next_in,S=s.input,c=l+(s.avail_in-5),u=s.next_out,K=s.output,f=u-(o-s.avail_out),p=u+(s.avail_out-257),g=a.dmax,b=a.wsize,y=a.whave,v=a.wnext,x=a.window,D=a.hold,T=a.bits,C=a.lencode,_=a.distcode,A=(1<<a.lenbits)-1,R=(1<<a.distbits)-1;e:do{T<15&&(D+=S[l++]<<T,T+=8,D+=S[l++]<<T,T+=8),k=C[D&A];t:for(;;){if(D>>>=I=k>>>24,T-=I,(I=k>>>16&255)===0)K[u++]=65535&k;else{if(!(16&I)){if((64&I)==0){k=C[(65535&k)+(D&(1<<I)-1)];continue t}if(32&I){a.mode=12;break e}s.msg="invalid literal/length code",a.mode=30;break e}L=65535&k,(I&=15)&&(T<I&&(D+=S[l++]<<T,T+=8),L+=D&(1<<I)-1,D>>>=I,T-=I),T<15&&(D+=S[l++]<<T,T+=8,D+=S[l++]<<T,T+=8),k=_[D&R];n:for(;;){if(D>>>=I=k>>>24,T-=I,!(16&(I=k>>>16&255))){if((64&I)==0){k=_[(65535&k)+(D&(1<<I)-1)];continue n}s.msg="invalid distance code",a.mode=30;break e}if(J=65535&k,T<(I&=15)&&(D+=S[l++]<<T,(T+=8)<I&&(D+=S[l++]<<T,T+=8)),g<(J+=D&(1<<I)-1)){s.msg="invalid distance too far back",a.mode=30;break e}if(D>>>=I,T-=I,(I=u-f)<J){if(y<(I=J-I)&&a.sane){s.msg="invalid distance too far back",a.mode=30;break e}if(O=x,(U=0)===v){if(U+=b-I,I<L){for(L-=I;K[u++]=x[U++],--I;);U=u-J,O=K}}else if(v<I){if(U+=b+v-I,(I-=v)<L){for(L-=I;K[u++]=x[U++],--I;);if(U=0,v<L){for(L-=I=v;K[u++]=x[U++],--I;);U=u-J,O=K}}}else if(U+=v-I,I<L){for(L-=I;K[u++]=x[U++],--I;);U=u-J,O=K}for(;2<L;)K[u++]=O[U++],K[u++]=O[U++],K[u++]=O[U++],L-=3;L&&(K[u++]=O[U++],1<L&&(K[u++]=O[U++]))}else{for(U=u-J;K[u++]=K[U++],K[u++]=K[U++],K[u++]=K[U++],2<(L-=3););L&&(K[u++]=K[U++],1<L&&(K[u++]=K[U++]))}break}}break}}while(l<c&&u<p);l-=L=T>>3,D&=(1<<(T-=L<<3))-1,s.next_in=l,s.next_out=u,s.avail_in=l<c?c-l+5:5-(l-c),s.avail_out=u<p?p-u+257:257-(u-p),a.hold=D,a.bits=T}},{}],49:[function(t,i,r){var s=t("../utils/common"),o=t("./adler32"),a=t("./crc32"),l=t("./inffast"),c=t("./inftrees"),u=1,f=2,p=0,g=-2,b=1,y=852,v=592;function x(U){return(U>>>24&255)+(U>>>8&65280)+((65280&U)<<8)+((255&U)<<24)}function D(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function T(U){var O;return U&&U.state?(O=U.state,U.total_in=U.total_out=O.total=0,U.msg="",O.wrap&&(U.adler=1&O.wrap),O.mode=b,O.last=0,O.havedict=0,O.dmax=32768,O.head=null,O.hold=0,O.bits=0,O.lencode=O.lendyn=new s.Buf32(y),O.distcode=O.distdyn=new s.Buf32(v),O.sane=1,O.back=-1,p):g}function C(U){var O;return U&&U.state?((O=U.state).wsize=0,O.whave=0,O.wnext=0,T(U)):g}function _(U,O){var S,K;return U&&U.state?(K=U.state,O<0?(S=0,O=-O):(S=1+(O>>4),O<48&&(O&=15)),O&&(O<8||15<O)?g:(K.window!==null&&K.wbits!==O&&(K.window=null),K.wrap=S,K.wbits=O,C(U))):g}function A(U,O){var S,K;return U?(K=new D,(U.state=K).window=null,(S=_(U,O))!==p&&(U.state=null),S):g}var R,k,I=!0;function L(U){if(I){var O;for(R=new s.Buf32(512),k=new s.Buf32(32),O=0;O<144;)U.lens[O++]=8;for(;O<256;)U.lens[O++]=9;for(;O<280;)U.lens[O++]=7;for(;O<288;)U.lens[O++]=8;for(c(u,U.lens,0,288,R,0,U.work,{bits:9}),O=0;O<32;)U.lens[O++]=5;c(f,U.lens,0,32,k,0,U.work,{bits:5}),I=!1}U.lencode=R,U.lenbits=9,U.distcode=k,U.distbits=5}function J(U,O,S,K){var q,B=U.state;return B.window===null&&(B.wsize=1<<B.wbits,B.wnext=0,B.whave=0,B.window=new s.Buf8(B.wsize)),K>=B.wsize?(s.arraySet(B.window,O,S-B.wsize,B.wsize,0),B.wnext=0,B.whave=B.wsize):(K<(q=B.wsize-B.wnext)&&(q=K),s.arraySet(B.window,O,S-K,q,B.wnext),(K-=q)?(s.arraySet(B.window,O,S-K,K,0),B.wnext=K,B.whave=B.wsize):(B.wnext+=q,B.wnext===B.wsize&&(B.wnext=0),B.whave<B.wsize&&(B.whave+=q))),0}r.inflateReset=C,r.inflateReset2=_,r.inflateResetKeep=T,r.inflateInit=function(U){return A(U,15)},r.inflateInit2=A,r.inflate=function(U,O){var S,K,q,B,j,V,Y,F,X,z,ne,oe,pe,ce,ge,ye,Te,Ee,Se,Oe,w,ae,Q,H,$=0,ee=new s.Buf8(4),ue=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!U||!U.state||!U.output||!U.input&&U.avail_in!==0)return g;(S=U.state).mode===12&&(S.mode=13),j=U.next_out,q=U.output,Y=U.avail_out,B=U.next_in,K=U.input,V=U.avail_in,F=S.hold,X=S.bits,z=V,ne=Y,ae=p;e:for(;;)switch(S.mode){case b:if(S.wrap===0){S.mode=13;break}for(;X<16;){if(V===0)break e;V--,F+=K[B++]<<X,X+=8}if(2&S.wrap&&F===35615){ee[S.check=0]=255&F,ee[1]=F>>>8&255,S.check=a(S.check,ee,2,0),X=F=0,S.mode=2;break}if(S.flags=0,S.head&&(S.head.done=!1),!(1&S.wrap)||(((255&F)<<8)+(F>>8))%31){U.msg="incorrect header check",S.mode=30;break}if((15&F)!=8){U.msg="unknown compression method",S.mode=30;break}if(X-=4,w=8+(15&(F>>>=4)),S.wbits===0)S.wbits=w;else if(w>S.wbits){U.msg="invalid window size",S.mode=30;break}S.dmax=1<<w,U.adler=S.check=1,S.mode=512&F?10:12,X=F=0;break;case 2:for(;X<16;){if(V===0)break e;V--,F+=K[B++]<<X,X+=8}if(S.flags=F,(255&S.flags)!=8){U.msg="unknown compression method",S.mode=30;break}if(57344&S.flags){U.msg="unknown header flags set",S.mode=30;break}S.head&&(S.head.text=F>>8&1),512&S.flags&&(ee[0]=255&F,ee[1]=F>>>8&255,S.check=a(S.check,ee,2,0)),X=F=0,S.mode=3;case 3:for(;X<32;){if(V===0)break e;V--,F+=K[B++]<<X,X+=8}S.head&&(S.head.time=F),512&S.flags&&(ee[0]=255&F,ee[1]=F>>>8&255,ee[2]=F>>>16&255,ee[3]=F>>>24&255,S.check=a(S.check,ee,4,0)),X=F=0,S.mode=4;case 4:for(;X<16;){if(V===0)break e;V--,F+=K[B++]<<X,X+=8}S.head&&(S.head.xflags=255&F,S.head.os=F>>8),512&S.flags&&(ee[0]=255&F,ee[1]=F>>>8&255,S.check=a(S.check,ee,2,0)),X=F=0,S.mode=5;case 5:if(1024&S.flags){for(;X<16;){if(V===0)break e;V--,F+=K[B++]<<X,X+=8}S.length=F,S.head&&(S.head.extra_len=F),512&S.flags&&(ee[0]=255&F,ee[1]=F>>>8&255,S.check=a(S.check,ee,2,0)),X=F=0}else S.head&&(S.head.extra=null);S.mode=6;case 6:if(1024&S.flags&&(V<(oe=S.length)&&(oe=V),oe&&(S.head&&(w=S.head.extra_len-S.length,S.head.extra||(S.head.extra=new Array(S.head.extra_len)),s.arraySet(S.head.extra,K,B,oe,w)),512&S.flags&&(S.check=a(S.check,K,oe,B)),V-=oe,B+=oe,S.length-=oe),S.length))break e;S.length=0,S.mode=7;case 7:if(2048&S.flags){if(V===0)break e;for(oe=0;w=K[B+oe++],S.head&&w&&S.length<65536&&(S.head.name+=String.fromCharCode(w)),w&&oe<V;);if(512&S.flags&&(S.check=a(S.check,K,oe,B)),V-=oe,B+=oe,w)break e}else S.head&&(S.head.name=null);S.length=0,S.mode=8;case 8:if(4096&S.flags){if(V===0)break e;for(oe=0;w=K[B+oe++],S.head&&w&&S.length<65536&&(S.head.comment+=String.fromCharCode(w)),w&&oe<V;);if(512&S.flags&&(S.check=a(S.check,K,oe,B)),V-=oe,B+=oe,w)break e}else S.head&&(S.head.comment=null);S.mode=9;case 9:if(512&S.flags){for(;X<16;){if(V===0)break e;V--,F+=K[B++]<<X,X+=8}if(F!==(65535&S.check)){U.msg="header crc mismatch",S.mode=30;break}X=F=0}S.head&&(S.head.hcrc=S.flags>>9&1,S.head.done=!0),U.adler=S.check=0,S.mode=12;break;case 10:for(;X<32;){if(V===0)break e;V--,F+=K[B++]<<X,X+=8}U.adler=S.check=x(F),X=F=0,S.mode=11;case 11:if(S.havedict===0)return U.next_out=j,U.avail_out=Y,U.next_in=B,U.avail_in=V,S.hold=F,S.bits=X,2;U.adler=S.check=1,S.mode=12;case 12:if(O===5||O===6)break e;case 13:if(S.last){F>>>=7&X,X-=7&X,S.mode=27;break}for(;X<3;){if(V===0)break e;V--,F+=K[B++]<<X,X+=8}switch(S.last=1&F,X-=1,3&(F>>>=1)){case 0:S.mode=14;break;case 1:if(L(S),S.mode=20,O!==6)break;F>>>=2,X-=2;break e;case 2:S.mode=17;break;case 3:U.msg="invalid block type",S.mode=30}F>>>=2,X-=2;break;case 14:for(F>>>=7&X,X-=7&X;X<32;){if(V===0)break e;V--,F+=K[B++]<<X,X+=8}if((65535&F)!=(F>>>16^65535)){U.msg="invalid stored block lengths",S.mode=30;break}if(S.length=65535&F,X=F=0,S.mode=15,O===6)break e;case 15:S.mode=16;case 16:if(oe=S.length){if(V<oe&&(oe=V),Y<oe&&(oe=Y),oe===0)break e;s.arraySet(q,K,B,oe,j),V-=oe,B+=oe,Y-=oe,j+=oe,S.length-=oe;break}S.mode=12;break;case 17:for(;X<14;){if(V===0)break e;V--,F+=K[B++]<<X,X+=8}if(S.nlen=257+(31&F),F>>>=5,X-=5,S.ndist=1+(31&F),F>>>=5,X-=5,S.ncode=4+(15&F),F>>>=4,X-=4,286<S.nlen||30<S.ndist){U.msg="too many length or distance symbols",S.mode=30;break}S.have=0,S.mode=18;case 18:for(;S.have<S.ncode;){for(;X<3;){if(V===0)break e;V--,F+=K[B++]<<X,X+=8}S.lens[ue[S.have++]]=7&F,F>>>=3,X-=3}for(;S.have<19;)S.lens[ue[S.have++]]=0;if(S.lencode=S.lendyn,S.lenbits=7,Q={bits:S.lenbits},ae=c(0,S.lens,0,19,S.lencode,0,S.work,Q),S.lenbits=Q.bits,ae){U.msg="invalid code lengths set",S.mode=30;break}S.have=0,S.mode=19;case 19:for(;S.have<S.nlen+S.ndist;){for(;ye=($=S.lencode[F&(1<<S.lenbits)-1])>>>16&255,Te=65535&$,!((ge=$>>>24)<=X);){if(V===0)break e;V--,F+=K[B++]<<X,X+=8}if(Te<16)F>>>=ge,X-=ge,S.lens[S.have++]=Te;else{if(Te===16){for(H=ge+2;X<H;){if(V===0)break e;V--,F+=K[B++]<<X,X+=8}if(F>>>=ge,X-=ge,S.have===0){U.msg="invalid bit length repeat",S.mode=30;break}w=S.lens[S.have-1],oe=3+(3&F),F>>>=2,X-=2}else if(Te===17){for(H=ge+3;X<H;){if(V===0)break e;V--,F+=K[B++]<<X,X+=8}X-=ge,w=0,oe=3+(7&(F>>>=ge)),F>>>=3,X-=3}else{for(H=ge+7;X<H;){if(V===0)break e;V--,F+=K[B++]<<X,X+=8}X-=ge,w=0,oe=11+(127&(F>>>=ge)),F>>>=7,X-=7}if(S.have+oe>S.nlen+S.ndist){U.msg="invalid bit length repeat",S.mode=30;break}for(;oe--;)S.lens[S.have++]=w}}if(S.mode===30)break;if(S.lens[256]===0){U.msg="invalid code -- missing end-of-block",S.mode=30;break}if(S.lenbits=9,Q={bits:S.lenbits},ae=c(u,S.lens,0,S.nlen,S.lencode,0,S.work,Q),S.lenbits=Q.bits,ae){U.msg="invalid literal/lengths set",S.mode=30;break}if(S.distbits=6,S.distcode=S.distdyn,Q={bits:S.distbits},ae=c(f,S.lens,S.nlen,S.ndist,S.distcode,0,S.work,Q),S.distbits=Q.bits,ae){U.msg="invalid distances set",S.mode=30;break}if(S.mode=20,O===6)break e;case 20:S.mode=21;case 21:if(6<=V&&258<=Y){U.next_out=j,U.avail_out=Y,U.next_in=B,U.avail_in=V,S.hold=F,S.bits=X,l(U,ne),j=U.next_out,q=U.output,Y=U.avail_out,B=U.next_in,K=U.input,V=U.avail_in,F=S.hold,X=S.bits,S.mode===12&&(S.back=-1);break}for(S.back=0;ye=($=S.lencode[F&(1<<S.lenbits)-1])>>>16&255,Te=65535&$,!((ge=$>>>24)<=X);){if(V===0)break e;V--,F+=K[B++]<<X,X+=8}if(ye&&(240&ye)==0){for(Ee=ge,Se=ye,Oe=Te;ye=($=S.lencode[Oe+((F&(1<<Ee+Se)-1)>>Ee)])>>>16&255,Te=65535&$,!(Ee+(ge=$>>>24)<=X);){if(V===0)break e;V--,F+=K[B++]<<X,X+=8}F>>>=Ee,X-=Ee,S.back+=Ee}if(F>>>=ge,X-=ge,S.back+=ge,S.length=Te,ye===0){S.mode=26;break}if(32&ye){S.back=-1,S.mode=12;break}if(64&ye){U.msg="invalid literal/length code",S.mode=30;break}S.extra=15&ye,S.mode=22;case 22:if(S.extra){for(H=S.extra;X<H;){if(V===0)break e;V--,F+=K[B++]<<X,X+=8}S.length+=F&(1<<S.extra)-1,F>>>=S.extra,X-=S.extra,S.back+=S.extra}S.was=S.length,S.mode=23;case 23:for(;ye=($=S.distcode[F&(1<<S.distbits)-1])>>>16&255,Te=65535&$,!((ge=$>>>24)<=X);){if(V===0)break e;V--,F+=K[B++]<<X,X+=8}if((240&ye)==0){for(Ee=ge,Se=ye,Oe=Te;ye=($=S.distcode[Oe+((F&(1<<Ee+Se)-1)>>Ee)])>>>16&255,Te=65535&$,!(Ee+(ge=$>>>24)<=X);){if(V===0)break e;V--,F+=K[B++]<<X,X+=8}F>>>=Ee,X-=Ee,S.back+=Ee}if(F>>>=ge,X-=ge,S.back+=ge,64&ye){U.msg="invalid distance code",S.mode=30;break}S.offset=Te,S.extra=15&ye,S.mode=24;case 24:if(S.extra){for(H=S.extra;X<H;){if(V===0)break e;V--,F+=K[B++]<<X,X+=8}S.offset+=F&(1<<S.extra)-1,F>>>=S.extra,X-=S.extra,S.back+=S.extra}if(S.offset>S.dmax){U.msg="invalid distance too far back",S.mode=30;break}S.mode=25;case 25:if(Y===0)break e;if(oe=ne-Y,S.offset>oe){if((oe=S.offset-oe)>S.whave&&S.sane){U.msg="invalid distance too far back",S.mode=30;break}pe=oe>S.wnext?(oe-=S.wnext,S.wsize-oe):S.wnext-oe,oe>S.length&&(oe=S.length),ce=S.window}else ce=q,pe=j-S.offset,oe=S.length;for(Y<oe&&(oe=Y),Y-=oe,S.length-=oe;q[j++]=ce[pe++],--oe;);S.length===0&&(S.mode=21);break;case 26:if(Y===0)break e;q[j++]=S.length,Y--,S.mode=21;break;case 27:if(S.wrap){for(;X<32;){if(V===0)break e;V--,F|=K[B++]<<X,X+=8}if(ne-=Y,U.total_out+=ne,S.total+=ne,ne&&(U.adler=S.check=S.flags?a(S.check,q,ne,j-ne):o(S.check,q,ne,j-ne)),ne=Y,(S.flags?F:x(F))!==S.check){U.msg="incorrect data check",S.mode=30;break}X=F=0}S.mode=28;case 28:if(S.wrap&&S.flags){for(;X<32;){if(V===0)break e;V--,F+=K[B++]<<X,X+=8}if(F!==(4294967295&S.total)){U.msg="incorrect length check",S.mode=30;break}X=F=0}S.mode=29;case 29:ae=1;break e;case 30:ae=-3;break e;case 31:return-4;case 32:default:return g}return U.next_out=j,U.avail_out=Y,U.next_in=B,U.avail_in=V,S.hold=F,S.bits=X,(S.wsize||ne!==U.avail_out&&S.mode<30&&(S.mode<27||O!==4))&&J(U,U.output,U.next_out,ne-U.avail_out)?(S.mode=31,-4):(z-=U.avail_in,ne-=U.avail_out,U.total_in+=z,U.total_out+=ne,S.total+=ne,S.wrap&&ne&&(U.adler=S.check=S.flags?a(S.check,q,ne,U.next_out-ne):o(S.check,q,ne,U.next_out-ne)),U.data_type=S.bits+(S.last?64:0)+(S.mode===12?128:0)+(S.mode===20||S.mode===15?256:0),(z==0&&ne===0||O===4)&&ae===p&&(ae=-5),ae)},r.inflateEnd=function(U){if(!U||!U.state)return g;var O=U.state;return O.window&&(O.window=null),U.state=null,p},r.inflateGetHeader=function(U,O){var S;return U&&U.state?(2&(S=U.state).wrap)==0?g:((S.head=O).done=!1,p):g},r.inflateSetDictionary=function(U,O){var S,K=O.length;return U&&U.state?(S=U.state).wrap!==0&&S.mode!==11?g:S.mode===11&&o(1,O,K,0)!==S.check?-3:J(U,O,K,K)?(S.mode=31,-4):(S.havedict=1,p):g},r.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,i,r){var s=t("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];i.exports=function(u,f,p,g,b,y,v,x){var D,T,C,_,A,R,k,I,L,J=x.bits,U=0,O=0,S=0,K=0,q=0,B=0,j=0,V=0,Y=0,F=0,X=null,z=0,ne=new s.Buf16(16),oe=new s.Buf16(16),pe=null,ce=0;for(U=0;U<=15;U++)ne[U]=0;for(O=0;O<g;O++)ne[f[p+O]]++;for(q=J,K=15;1<=K&&ne[K]===0;K--);if(K<q&&(q=K),K===0)return b[y++]=20971520,b[y++]=20971520,x.bits=1,0;for(S=1;S<K&&ne[S]===0;S++);for(q<S&&(q=S),U=V=1;U<=15;U++)if(V<<=1,(V-=ne[U])<0)return-1;if(0<V&&(u===0||K!==1))return-1;for(oe[1]=0,U=1;U<15;U++)oe[U+1]=oe[U]+ne[U];for(O=0;O<g;O++)f[p+O]!==0&&(v[oe[f[p+O]]++]=O);if(R=u===0?(X=pe=v,19):u===1?(X=o,z-=257,pe=a,ce-=257,256):(X=l,pe=c,-1),U=S,A=y,j=O=F=0,C=-1,_=(Y=1<<(B=q))-1,u===1&&852<Y||u===2&&592<Y)return 1;for(;;){for(k=U-j,L=v[O]<R?(I=0,v[O]):v[O]>R?(I=pe[ce+v[O]],X[z+v[O]]):(I=96,0),D=1<<U-j,S=T=1<<B;b[A+(F>>j)+(T-=D)]=k<<24|I<<16|L|0,T!==0;);for(D=1<<U-1;F&D;)D>>=1;if(D!==0?(F&=D-1,F+=D):F=0,O++,--ne[U]==0){if(U===K)break;U=f[p+v[O]]}if(q<U&&(F&_)!==C){for(j===0&&(j=q),A+=S,V=1<<(B=U-j);B+j<K&&!((V-=ne[B+j])<=0);)B++,V<<=1;if(Y+=1<<B,u===1&&852<Y||u===2&&592<Y)return 1;b[C=F&_]=q<<24|B<<16|A-y|0}}return F!==0&&(b[A+F]=U-j<<24|64<<16|0),x.bits=q,0}},{"../utils/common":41}],51:[function(t,i,r){i.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,i,r){var s=t("../utils/common"),o=0,a=1;function l($){for(var ee=$.length;0<=--ee;)$[ee]=0}var c=0,u=29,f=256,p=f+1+u,g=30,b=19,y=2*p+1,v=15,x=16,D=7,T=256,C=16,_=17,A=18,R=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],k=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],I=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],L=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],J=new Array(2*(p+2));l(J);var U=new Array(2*g);l(U);var O=new Array(512);l(O);var S=new Array(256);l(S);var K=new Array(u);l(K);var q,B,j,V=new Array(g);function Y($,ee,ue,he,re){this.static_tree=$,this.extra_bits=ee,this.extra_base=ue,this.elems=he,this.max_length=re,this.has_stree=$&&$.length}function F($,ee){this.dyn_tree=$,this.max_code=0,this.stat_desc=ee}function X($){return $<256?O[$]:O[256+($>>>7)]}function z($,ee){$.pending_buf[$.pending++]=255&ee,$.pending_buf[$.pending++]=ee>>>8&255}function ne($,ee,ue){$.bi_valid>x-ue?($.bi_buf|=ee<<$.bi_valid&65535,z($,$.bi_buf),$.bi_buf=ee>>x-$.bi_valid,$.bi_valid+=ue-x):($.bi_buf|=ee<<$.bi_valid&65535,$.bi_valid+=ue)}function oe($,ee,ue){ne($,ue[2*ee],ue[2*ee+1])}function pe($,ee){for(var ue=0;ue|=1&$,$>>>=1,ue<<=1,0<--ee;);return ue>>>1}function ce($,ee,ue){var he,re,Z=new Array(v+1),ie=0;for(he=1;he<=v;he++)Z[he]=ie=ie+ue[he-1]<<1;for(re=0;re<=ee;re++){var le=$[2*re+1];le!==0&&($[2*re]=pe(Z[le]++,le))}}function ge($){var ee;for(ee=0;ee<p;ee++)$.dyn_ltree[2*ee]=0;for(ee=0;ee<g;ee++)$.dyn_dtree[2*ee]=0;for(ee=0;ee<b;ee++)$.bl_tree[2*ee]=0;$.dyn_ltree[2*T]=1,$.opt_len=$.static_len=0,$.last_lit=$.matches=0}function ye($){8<$.bi_valid?z($,$.bi_buf):0<$.bi_valid&&($.pending_buf[$.pending++]=$.bi_buf),$.bi_buf=0,$.bi_valid=0}function Te($,ee,ue,he){var re=2*ee,Z=2*ue;return $[re]<$[Z]||$[re]===$[Z]&&he[ee]<=he[ue]}function Ee($,ee,ue){for(var he=$.heap[ue],re=ue<<1;re<=$.heap_len&&(re<$.heap_len&&Te(ee,$.heap[re+1],$.heap[re],$.depth)&&re++,!Te(ee,he,$.heap[re],$.depth));)$.heap[ue]=$.heap[re],ue=re,re<<=1;$.heap[ue]=he}function Se($,ee,ue){var he,re,Z,ie,le=0;if($.last_lit!==0)for(;he=$.pending_buf[$.d_buf+2*le]<<8|$.pending_buf[$.d_buf+2*le+1],re=$.pending_buf[$.l_buf+le],le++,he===0?oe($,re,ee):(oe($,(Z=S[re])+f+1,ee),(ie=R[Z])!==0&&ne($,re-=K[Z],ie),oe($,Z=X(--he),ue),(ie=k[Z])!==0&&ne($,he-=V[Z],ie)),le<$.last_lit;);oe($,T,ee)}function Oe($,ee){var ue,he,re,Z=ee.dyn_tree,ie=ee.stat_desc.static_tree,le=ee.stat_desc.has_stree,fe=ee.stat_desc.elems,xe=-1;for($.heap_len=0,$.heap_max=y,ue=0;ue<fe;ue++)Z[2*ue]!==0?($.heap[++$.heap_len]=xe=ue,$.depth[ue]=0):Z[2*ue+1]=0;for(;$.heap_len<2;)Z[2*(re=$.heap[++$.heap_len]=xe<2?++xe:0)]=1,$.depth[re]=0,$.opt_len--,le&&($.static_len-=ie[2*re+1]);for(ee.max_code=xe,ue=$.heap_len>>1;1<=ue;ue--)Ee($,Z,ue);for(re=fe;ue=$.heap[1],$.heap[1]=$.heap[$.heap_len--],Ee($,Z,1),he=$.heap[1],$.heap[--$.heap_max]=ue,$.heap[--$.heap_max]=he,Z[2*re]=Z[2*ue]+Z[2*he],$.depth[re]=($.depth[ue]>=$.depth[he]?$.depth[ue]:$.depth[he])+1,Z[2*ue+1]=Z[2*he+1]=re,$.heap[1]=re++,Ee($,Z,1),2<=$.heap_len;);$.heap[--$.heap_max]=$.heap[1],(function(se,me){var ve,De,Re,Ie,Ke,fn,wt=me.dyn_tree,Ro=me.max_code,yr=me.stat_desc.static_tree,Vu=me.stat_desc.has_stree,il=me.stat_desc.extra_bits,rl=me.stat_desc.extra_base,N=me.stat_desc.max_length,G=0;for(Ie=0;Ie<=v;Ie++)se.bl_count[Ie]=0;for(wt[2*se.heap[se.heap_max]+1]=0,ve=se.heap_max+1;ve<y;ve++)N<(Ie=wt[2*wt[2*(De=se.heap[ve])+1]+1]+1)&&(Ie=N,G++),wt[2*De+1]=Ie,Ro<De||(se.bl_count[Ie]++,Ke=0,rl<=De&&(Ke=il[De-rl]),fn=wt[2*De],se.opt_len+=fn*(Ie+Ke),Vu&&(se.static_len+=fn*(yr[2*De+1]+Ke)));if(G!==0){do{for(Ie=N-1;se.bl_count[Ie]===0;)Ie--;se.bl_count[Ie]--,se.bl_count[Ie+1]+=2,se.bl_count[N]--,G-=2}while(0<G);for(Ie=N;Ie!==0;Ie--)for(De=se.bl_count[Ie];De!==0;)Ro<(Re=se.heap[--ve])||(wt[2*Re+1]!==Ie&&(se.opt_len+=(Ie-wt[2*Re+1])*wt[2*Re],wt[2*Re+1]=Ie),De--)}})($,ee),ce(Z,xe,$.bl_count)}function w($,ee,ue){var he,re,Z=-1,ie=ee[1],le=0,fe=7,xe=4;for(ie===0&&(fe=138,xe=3),ee[2*(ue+1)+1]=65535,he=0;he<=ue;he++)re=ie,ie=ee[2*(he+1)+1],++le<fe&&re===ie||(le<xe?$.bl_tree[2*re]+=le:re!==0?(re!==Z&&$.bl_tree[2*re]++,$.bl_tree[2*C]++):le<=10?$.bl_tree[2*_]++:$.bl_tree[2*A]++,Z=re,xe=(le=0)===ie?(fe=138,3):re===ie?(fe=6,3):(fe=7,4))}function ae($,ee,ue){var he,re,Z=-1,ie=ee[1],le=0,fe=7,xe=4;for(ie===0&&(fe=138,xe=3),he=0;he<=ue;he++)if(re=ie,ie=ee[2*(he+1)+1],!(++le<fe&&re===ie)){if(le<xe)for(;oe($,re,$.bl_tree),--le!=0;);else re!==0?(re!==Z&&(oe($,re,$.bl_tree),le--),oe($,C,$.bl_tree),ne($,le-3,2)):le<=10?(oe($,_,$.bl_tree),ne($,le-3,3)):(oe($,A,$.bl_tree),ne($,le-11,7));Z=re,xe=(le=0)===ie?(fe=138,3):re===ie?(fe=6,3):(fe=7,4)}}l(V);var Q=!1;function H($,ee,ue,he){ne($,(c<<1)+(he?1:0),3),(function(re,Z,ie,le){ye(re),z(re,ie),z(re,~ie),s.arraySet(re.pending_buf,re.window,Z,ie,re.pending),re.pending+=ie})($,ee,ue)}r._tr_init=function($){Q||((function(){var ee,ue,he,re,Z,ie=new Array(v+1);for(re=he=0;re<u-1;re++)for(K[re]=he,ee=0;ee<1<<R[re];ee++)S[he++]=re;for(S[he-1]=re,re=Z=0;re<16;re++)for(V[re]=Z,ee=0;ee<1<<k[re];ee++)O[Z++]=re;for(Z>>=7;re<g;re++)for(V[re]=Z<<7,ee=0;ee<1<<k[re]-7;ee++)O[256+Z++]=re;for(ue=0;ue<=v;ue++)ie[ue]=0;for(ee=0;ee<=143;)J[2*ee+1]=8,ee++,ie[8]++;for(;ee<=255;)J[2*ee+1]=9,ee++,ie[9]++;for(;ee<=279;)J[2*ee+1]=7,ee++,ie[7]++;for(;ee<=287;)J[2*ee+1]=8,ee++,ie[8]++;for(ce(J,p+1,ie),ee=0;ee<g;ee++)U[2*ee+1]=5,U[2*ee]=pe(ee,5);q=new Y(J,R,f+1,p,v),B=new Y(U,k,0,g,v),j=new Y(new Array(0),I,0,b,D)})(),Q=!0),$.l_desc=new F($.dyn_ltree,q),$.d_desc=new F($.dyn_dtree,B),$.bl_desc=new F($.bl_tree,j),$.bi_buf=0,$.bi_valid=0,ge($)},r._tr_stored_block=H,r._tr_flush_block=function($,ee,ue,he){var re,Z,ie=0;0<$.level?($.strm.data_type===2&&($.strm.data_type=(function(le){var fe,xe=4093624447;for(fe=0;fe<=31;fe++,xe>>>=1)if(1&xe&&le.dyn_ltree[2*fe]!==0)return o;if(le.dyn_ltree[18]!==0||le.dyn_ltree[20]!==0||le.dyn_ltree[26]!==0)return a;for(fe=32;fe<f;fe++)if(le.dyn_ltree[2*fe]!==0)return a;return o})($)),Oe($,$.l_desc),Oe($,$.d_desc),ie=(function(le){var fe;for(w(le,le.dyn_ltree,le.l_desc.max_code),w(le,le.dyn_dtree,le.d_desc.max_code),Oe(le,le.bl_desc),fe=b-1;3<=fe&&le.bl_tree[2*L[fe]+1]===0;fe--);return le.opt_len+=3*(fe+1)+5+5+4,fe})($),re=$.opt_len+3+7>>>3,(Z=$.static_len+3+7>>>3)<=re&&(re=Z)):re=Z=ue+5,ue+4<=re&&ee!==-1?H($,ee,ue,he):$.strategy===4||Z===re?(ne($,2+(he?1:0),3),Se($,J,U)):(ne($,4+(he?1:0),3),(function(le,fe,xe,se){var me;for(ne(le,fe-257,5),ne(le,xe-1,5),ne(le,se-4,4),me=0;me<se;me++)ne(le,le.bl_tree[2*L[me]+1],3);ae(le,le.dyn_ltree,fe-1),ae(le,le.dyn_dtree,xe-1)})($,$.l_desc.max_code+1,$.d_desc.max_code+1,ie+1),Se($,$.dyn_ltree,$.dyn_dtree)),ge($),he&&ye($)},r._tr_tally=function($,ee,ue){return $.pending_buf[$.d_buf+2*$.last_lit]=ee>>>8&255,$.pending_buf[$.d_buf+2*$.last_lit+1]=255&ee,$.pending_buf[$.l_buf+$.last_lit]=255&ue,$.last_lit++,ee===0?$.dyn_ltree[2*ue]++:($.matches++,ee--,$.dyn_ltree[2*(S[ue]+f+1)]++,$.dyn_dtree[2*X(ee)]++),$.last_lit===$.lit_bufsize-1},r._tr_align=function($){ne($,2,3),oe($,T,J),(function(ee){ee.bi_valid===16?(z(ee,ee.bi_buf),ee.bi_buf=0,ee.bi_valid=0):8<=ee.bi_valid&&(ee.pending_buf[ee.pending++]=255&ee.bi_buf,ee.bi_buf>>=8,ee.bi_valid-=8)})($)}},{"../utils/common":41}],53:[function(t,i,r){i.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,i,r){(function(s){(function(o,a){if(!o.setImmediate){var l,c,u,f,p=1,g={},b=!1,y=o.document,v=Object.getPrototypeOf&&Object.getPrototypeOf(o);v=v&&v.setTimeout?v:o,l={}.toString.call(o.process)==="[object process]"?function(C){process.nextTick(function(){D(C)})}:(function(){if(o.postMessage&&!o.importScripts){var C=!0,_=o.onmessage;return o.onmessage=function(){C=!1},o.postMessage("","*"),o.onmessage=_,C}})()?(f="setImmediate$"+Math.random()+"$",o.addEventListener?o.addEventListener("message",T,!1):o.attachEvent("onmessage",T),function(C){o.postMessage(f+C,"*")}):o.MessageChannel?((u=new MessageChannel).port1.onmessage=function(C){D(C.data)},function(C){u.port2.postMessage(C)}):y&&"onreadystatechange"in y.createElement("script")?(c=y.documentElement,function(C){var _=y.createElement("script");_.onreadystatechange=function(){D(C),_.onreadystatechange=null,c.removeChild(_),_=null},c.appendChild(_)}):function(C){setTimeout(D,0,C)},v.setImmediate=function(C){typeof C!="function"&&(C=new Function(""+C));for(var _=new Array(arguments.length-1),A=0;A<_.length;A++)_[A]=arguments[A+1];var R={callback:C,args:_};return g[p]=R,l(p),p++},v.clearImmediate=x}function x(C){delete g[C]}function D(C){if(b)setTimeout(D,0,C);else{var _=g[C];if(_){b=!0;try{(function(A){var R=A.callback,k=A.args;switch(k.length){case 0:R();break;case 1:R(k[0]);break;case 2:R(k[0],k[1]);break;case 3:R(k[0],k[1],k[2]);break;default:R.apply(a,k)}})(_)}finally{x(C),b=!1}}}}function T(C){C.source===o&&typeof C.data=="string"&&C.data.indexOf(f)===0&&D(+C.data.slice(f.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof Ln<"u"?Ln:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(Xp)),Xp.exports}var Z0;function w_(){if(Z0)return dl;Z0=1;var n=lS(),e=cS();dl.openArrayBuffer=t,dl.splitPath=i,dl.joinPath=r;function t(s){return e.loadAsync(s).then(function(o){function a(f){return o.file(f)!==null}function l(f,p){return o.file(f).async("uint8array").then(function(g){if(p==="base64")return n.fromByteArray(g);if(p){var b=new TextDecoder(p);return b.decode(g)}else return g})}function c(f,p){o.file(f,p)}function u(){return o.generateAsync({type:"arraybuffer"})}return{exists:a,read:l,write:c,toArrayBuffer:u}})}function i(s){var o=s.lastIndexOf("/");return o===-1?{dirname:"",basename:s}:{dirname:s.substring(0,o),basename:s.substring(o+1)}}function r(){var s=Array.prototype.filter.call(arguments,function(a){return a}),o=[];return s.forEach(function(a){/^\//.test(a)?o=[a]:o.push(a)}),o.join("/")}return dl}var Zu={},as={},fl={},Q0;function S_(){if(Q0)return fl;Q0=1;var n=gt;fl.Element=t,fl.element=function(s,o,a){return new t(s,o,a)},fl.text=function(s){return{type:"text",value:s}};var e={first:function(){return null},firstOrEmpty:function(){return e},attributes:{}};function t(s,o,a){this.type="element",this.name=s,this.attributes=o||{},this.children=a||[]}t.prototype.first=function(s){return n.find(this.children,function(o){return o.name===s})},t.prototype.firstOrEmpty=function(s){return this.first(s)||e},t.prototype.getElementsByTagName=function(s){var o=n.filter(this.children,function(a){return a.name===s});return r(o)},t.prototype.text=function(){if(this.children.length===0)return"";if(this.children.length!==1||this.children[0].type!=="text")throw new Error("Not implemented");return this.children[0].value};var i={getElementsByTagName:function(s){return r(n.flatten(this.map(function(o){return o.getElementsByTagName(s)},!0)))}};function r(s){return n.extend(s,i)}return fl}var Jp={},Qu={},pl={},Ri={},ls={},eb;function bf(){if(eb)return ls;eb=1;function n(s,o,a){if(a===void 0&&(a=Array.prototype),s&&typeof a.find=="function")return a.find.call(s,o);for(var l=0;l<s.length;l++)if(Object.prototype.hasOwnProperty.call(s,l)){var c=s[l];if(o.call(void 0,c,l,s))return c}}function e(s,o){return o===void 0&&(o=Object),o&&typeof o.freeze=="function"?o.freeze(s):s}function t(s,o){if(s===null||typeof s!="object")throw new TypeError("target is not an object");for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(s[a]=o[a]);return s}var i=e({HTML:"text/html",isHTML:function(s){return s===i.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),r=e({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(s){return s===r.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});return ls.assign=t,ls.find=n,ls.freeze=e,ls.MIME_TYPE=i,ls.NAMESPACE=r,ls}var tb;function ev(){if(tb)return Ri;tb=1;var n=bf(),e=n.find,t=n.NAMESPACE;function i(N){return N!==""}function r(N){return N?N.split(/[\t\n\f\r ]+/).filter(i):[]}function s(N,G){return N.hasOwnProperty(G)||(N[G]=!0),N}function o(N){if(!N)return[];var G=r(N);return Object.keys(G.reduce(s,{}))}function a(N){return function(G){return N&&N.indexOf(G)!==-1}}function l(N,G){for(var te in N)Object.prototype.hasOwnProperty.call(N,te)&&(G[te]=N[te])}function c(N,G){var te=N.prototype;if(!(te instanceof G)){let de=function(){};de.prototype=G.prototype,de=new de,l(te,de),N.prototype=te=de}te.constructor!=N&&(typeof N!="function"&&console.error("unknown Class:"+N),te.constructor=N)}var u={},f=u.ELEMENT_NODE=1,p=u.ATTRIBUTE_NODE=2,g=u.TEXT_NODE=3,b=u.CDATA_SECTION_NODE=4,y=u.ENTITY_REFERENCE_NODE=5,v=u.ENTITY_NODE=6,x=u.PROCESSING_INSTRUCTION_NODE=7,D=u.COMMENT_NODE=8,T=u.DOCUMENT_NODE=9,C=u.DOCUMENT_TYPE_NODE=10,_=u.DOCUMENT_FRAGMENT_NODE=11,A=u.NOTATION_NODE=12,R={},k={};R.INDEX_SIZE_ERR=(k[1]="Index size error",1),R.DOMSTRING_SIZE_ERR=(k[2]="DOMString size error",2);var I=R.HIERARCHY_REQUEST_ERR=(k[3]="Hierarchy request error",3);R.WRONG_DOCUMENT_ERR=(k[4]="Wrong document",4),R.INVALID_CHARACTER_ERR=(k[5]="Invalid character",5),R.NO_DATA_ALLOWED_ERR=(k[6]="No data allowed",6),R.NO_MODIFICATION_ALLOWED_ERR=(k[7]="No modification allowed",7);var L=R.NOT_FOUND_ERR=(k[8]="Not found",8);R.NOT_SUPPORTED_ERR=(k[9]="Not supported",9);var J=R.INUSE_ATTRIBUTE_ERR=(k[10]="Attribute in use",10);R.INVALID_STATE_ERR=(k[11]="Invalid state",11),R.SYNTAX_ERR=(k[12]="Syntax error",12),R.INVALID_MODIFICATION_ERR=(k[13]="Invalid modification",13),R.NAMESPACE_ERR=(k[14]="Invalid namespace",14),R.INVALID_ACCESS_ERR=(k[15]="Invalid access",15);function U(N,G){if(G instanceof Error)var te=G;else te=this,Error.call(this,k[N]),this.message=k[N],Error.captureStackTrace&&Error.captureStackTrace(this,U);return te.code=N,G&&(this.message=this.message+": "+G),te}U.prototype=Error.prototype,l(R,U);function O(){}O.prototype={length:0,item:function(N){return N>=0&&N<this.length?this[N]:null},toString:function(N,G){for(var te=[],de=0;de<this.length;de++)yr(this[de],te,N,G);return te.join("")},filter:function(N){return Array.prototype.filter.call(this,N)},indexOf:function(N){return Array.prototype.indexOf.call(this,N)}};function S(N,G){this._node=N,this._refresh=G,K(this)}function K(N){var G=N._node._inc||N._node.ownerDocument._inc;if(N._inc!==G){var te=N._refresh(N._node);if(rl(N,"length",te.length),!N.$$length||te.length<N.$$length)for(var de=te.length;de in N;de++)Object.prototype.hasOwnProperty.call(N,de)&&delete N[de];l(te,N),N._inc=G}}S.prototype.item=function(N){return K(this),this[N]||null},c(S,O);function q(){}function B(N,G){for(var te=N.length;te--;)if(N[te]===G)return te}function j(N,G,te,de){if(de?G[B(G,de)]=te:G[G.length++]=te,N){te.ownerElement=N;var be=N.ownerDocument;be&&(de&&pe(be,N,de),oe(be,N,te))}}function V(N,G,te){var de=B(G,te);if(de>=0){for(var be=G.length-1;de<be;)G[de]=G[++de];if(G.length=be,N){var Ne=N.ownerDocument;Ne&&(pe(Ne,N,te),te.ownerElement=null)}}else throw new U(L,new Error(N.tagName+"@"+te))}q.prototype={length:0,item:O.prototype.item,getNamedItem:function(N){for(var G=this.length;G--;){var te=this[G];if(te.nodeName==N)return te}},setNamedItem:function(N){var G=N.ownerElement;if(G&&G!=this._ownerElement)throw new U(J);var te=this.getNamedItem(N.nodeName);return j(this._ownerElement,this,N,te),te},setNamedItemNS:function(N){var G=N.ownerElement,te;if(G&&G!=this._ownerElement)throw new U(J);return te=this.getNamedItemNS(N.namespaceURI,N.localName),j(this._ownerElement,this,N,te),te},removeNamedItem:function(N){var G=this.getNamedItem(N);return V(this._ownerElement,this,G),G},removeNamedItemNS:function(N,G){var te=this.getNamedItemNS(N,G);return V(this._ownerElement,this,te),te},getNamedItemNS:function(N,G){for(var te=this.length;te--;){var de=this[te];if(de.localName==G&&de.namespaceURI==N)return de}return null}};function Y(){}Y.prototype={hasFeature:function(N,G){return!0},createDocument:function(N,G,te){var de=new ne;if(de.implementation=this,de.childNodes=new O,de.doctype=te||null,te&&de.appendChild(te),G){var be=de.createElementNS(N,G);de.appendChild(be)}return de},createDocumentType:function(N,G,te){var de=new se;return de.name=N,de.nodeName=N,de.publicId=G||"",de.systemId=te||"",de}};function F(){}F.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(N,G){return ee(this,N,G)},replaceChild:function(N,G){ee(this,N,G,$),G&&this.removeChild(G)},removeChild:function(N){return ge(this,N)},appendChild:function(N){return this.insertBefore(N,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(N){return il(this.ownerDocument||this,this,N)},normalize:function(){for(var N=this.firstChild;N;){var G=N.nextSibling;G&&G.nodeType==g&&N.nodeType==g?(this.removeChild(G),N.appendData(G.data)):(N.normalize(),N=G)}},isSupported:function(N,G){return this.ownerDocument.implementation.hasFeature(N,G)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(N){for(var G=this;G;){var te=G._nsMap;if(te){for(var de in te)if(Object.prototype.hasOwnProperty.call(te,de)&&te[de]===N)return de}G=G.nodeType==p?G.ownerDocument:G.parentNode}return null},lookupNamespaceURI:function(N){for(var G=this;G;){var te=G._nsMap;if(te&&Object.prototype.hasOwnProperty.call(te,N))return te[N];G=G.nodeType==p?G.ownerDocument:G.parentNode}return null},isDefaultNamespace:function(N){var G=this.lookupPrefix(N);return G==null}};function X(N){return N=="<"&&"&lt;"||N==">"&&"&gt;"||N=="&"&&"&amp;"||N=='"'&&"&quot;"||"&#"+N.charCodeAt()+";"}l(u,F),l(u,F.prototype);function z(N,G){if(G(N))return!0;if(N=N.firstChild)do if(z(N,G))return!0;while(N=N.nextSibling)}function ne(){this.ownerDocument=this}function oe(N,G,te){N&&N._inc++;var de=te.namespaceURI;de===t.XMLNS&&(G._nsMap[te.prefix?te.localName:""]=te.value)}function pe(N,G,te,de){N&&N._inc++;var be=te.namespaceURI;be===t.XMLNS&&delete G._nsMap[te.prefix?te.localName:""]}function ce(N,G,te){if(N&&N._inc){N._inc++;var de=G.childNodes;if(te)de[de.length++]=te;else{for(var be=G.firstChild,Ne=0;be;)de[Ne++]=be,be=be.nextSibling;de.length=Ne,delete de[de.length]}}}function ge(N,G){var te=G.previousSibling,de=G.nextSibling;return te?te.nextSibling=de:N.firstChild=de,de?de.previousSibling=te:N.lastChild=te,G.parentNode=null,G.previousSibling=null,G.nextSibling=null,ce(N.ownerDocument,N),G}function ye(N){return N&&(N.nodeType===F.DOCUMENT_NODE||N.nodeType===F.DOCUMENT_FRAGMENT_NODE||N.nodeType===F.ELEMENT_NODE)}function Te(N){return N&&(Se(N)||Oe(N)||Ee(N)||N.nodeType===F.DOCUMENT_FRAGMENT_NODE||N.nodeType===F.COMMENT_NODE||N.nodeType===F.PROCESSING_INSTRUCTION_NODE)}function Ee(N){return N&&N.nodeType===F.DOCUMENT_TYPE_NODE}function Se(N){return N&&N.nodeType===F.ELEMENT_NODE}function Oe(N){return N&&N.nodeType===F.TEXT_NODE}function w(N,G){var te=N.childNodes||[];if(e(te,Se)||Ee(G))return!1;var de=e(te,Ee);return!(G&&de&&te.indexOf(de)>te.indexOf(G))}function ae(N,G){var te=N.childNodes||[];function de(Ne){return Se(Ne)&&Ne!==G}if(e(te,de))return!1;var be=e(te,Ee);return!(G&&be&&te.indexOf(be)>te.indexOf(G))}function Q(N,G,te){if(!ye(N))throw new U(I,"Unexpected parent node type "+N.nodeType);if(te&&te.parentNode!==N)throw new U(L,"child not in parent");if(!Te(G)||Ee(G)&&N.nodeType!==F.DOCUMENT_NODE)throw new U(I,"Unexpected node type "+G.nodeType+" for parent node type "+N.nodeType)}function H(N,G,te){var de=N.childNodes||[],be=G.childNodes||[];if(G.nodeType===F.DOCUMENT_FRAGMENT_NODE){var Ne=be.filter(Se);if(Ne.length>1||e(be,Oe))throw new U(I,"More than one element or text in fragment");if(Ne.length===1&&!w(N,te))throw new U(I,"Element in fragment can not be inserted before doctype")}if(Se(G)&&!w(N,te))throw new U(I,"Only one element can be added and only after doctype");if(Ee(G)){if(e(de,Ee))throw new U(I,"Only one doctype is allowed");var lt=e(de,Se);if(te&&de.indexOf(lt)<de.indexOf(te))throw new U(I,"Doctype can only be inserted before an element");if(!te&&lt)throw new U(I,"Doctype can not be appended since element is present")}}function $(N,G,te){var de=N.childNodes||[],be=G.childNodes||[];if(G.nodeType===F.DOCUMENT_FRAGMENT_NODE){var Ne=be.filter(Se);if(Ne.length>1||e(be,Oe))throw new U(I,"More than one element or text in fragment");if(Ne.length===1&&!ae(N,te))throw new U(I,"Element in fragment can not be inserted before doctype")}if(Se(G)&&!ae(N,te))throw new U(I,"Only one element can be added and only after doctype");if(Ee(G)){if(e(de,function(Wn){return Ee(Wn)&&Wn!==te}))throw new U(I,"Only one doctype is allowed");var lt=e(de,Se);if(te&&de.indexOf(lt)<de.indexOf(te))throw new U(I,"Doctype can only be inserted before an element")}}function ee(N,G,te,de){Q(N,G,te),N.nodeType===F.DOCUMENT_NODE&&(de||H)(N,G,te);var be=G.parentNode;if(be&&be.removeChild(G),G.nodeType===_){var Ne=G.firstChild;if(Ne==null)return G;var lt=G.lastChild}else Ne=lt=G;var tn=te?te.previousSibling:N.lastChild;Ne.previousSibling=tn,lt.nextSibling=te,tn?tn.nextSibling=Ne:N.firstChild=Ne,te==null?N.lastChild=lt:te.previousSibling=lt;do{Ne.parentNode=N;var Wn=N.ownerDocument||N;ue(Ne,Wn)}while(Ne!==lt&&(Ne=Ne.nextSibling));return ce(N.ownerDocument||N,N),G.nodeType==_&&(G.firstChild=G.lastChild=null),G}function ue(N,G){if(N.ownerDocument!==G){if(N.ownerDocument=G,N.nodeType===f&&N.attributes)for(var te=0;te<N.attributes.length;te++){var de=N.attributes.item(te);de&&(de.ownerDocument=G)}for(var be=N.firstChild;be;)ue(be,G),be=be.nextSibling}}function he(N,G){G.parentNode&&G.parentNode.removeChild(G),G.parentNode=N,G.previousSibling=N.lastChild,G.nextSibling=null,G.previousSibling?G.previousSibling.nextSibling=G:N.firstChild=G,N.lastChild=G,ce(N.ownerDocument,N,G);var te=N.ownerDocument||N;return ue(G,te),G}ne.prototype={nodeName:"#document",nodeType:T,doctype:null,documentElement:null,_inc:1,insertBefore:function(N,G){if(N.nodeType==_){for(var te=N.firstChild;te;){var de=te.nextSibling;this.insertBefore(te,G),te=de}return N}return ee(this,N,G),ue(N,this),this.documentElement===null&&N.nodeType===f&&(this.documentElement=N),N},removeChild:function(N){return this.documentElement==N&&(this.documentElement=null),ge(this,N)},replaceChild:function(N,G){ee(this,N,G,$),ue(N,this),G&&this.removeChild(G),Se(N)&&(this.documentElement=N)},importNode:function(N,G){return Vu(this,N,G)},getElementById:function(N){var G=null;return z(this.documentElement,function(te){if(te.nodeType==f&&te.getAttribute("id")==N)return G=te,!0}),G},getElementsByClassName:function(N){var G=o(N);return new S(this,function(te){var de=[];return G.length>0&&z(te.documentElement,function(be){if(be!==te&&be.nodeType===f){var Ne=be.getAttribute("class");if(Ne){var lt=N===Ne;if(!lt){var tn=o(Ne);lt=G.every(a(tn))}lt&&de.push(be)}}}),de})},createElement:function(N){var G=new re;G.ownerDocument=this,G.nodeName=N,G.tagName=N,G.localName=N,G.childNodes=new O;var te=G.attributes=new q;return te._ownerElement=G,G},createDocumentFragment:function(){var N=new Re;return N.ownerDocument=this,N.childNodes=new O,N},createTextNode:function(N){var G=new le;return G.ownerDocument=this,G.appendData(N),G},createComment:function(N){var G=new fe;return G.ownerDocument=this,G.appendData(N),G},createCDATASection:function(N){var G=new xe;return G.ownerDocument=this,G.appendData(N),G},createProcessingInstruction:function(N,G){var te=new Ie;return te.ownerDocument=this,te.tagName=te.nodeName=te.target=N,te.nodeValue=te.data=G,te},createAttribute:function(N){var G=new Z;return G.ownerDocument=this,G.name=N,G.nodeName=N,G.localName=N,G.specified=!0,G},createEntityReference:function(N){var G=new De;return G.ownerDocument=this,G.nodeName=N,G},createElementNS:function(N,G){var te=new re,de=G.split(":"),be=te.attributes=new q;return te.childNodes=new O,te.ownerDocument=this,te.nodeName=G,te.tagName=G,te.namespaceURI=N,de.length==2?(te.prefix=de[0],te.localName=de[1]):te.localName=G,be._ownerElement=te,te},createAttributeNS:function(N,G){var te=new Z,de=G.split(":");return te.ownerDocument=this,te.nodeName=G,te.name=G,te.namespaceURI=N,te.specified=!0,de.length==2?(te.prefix=de[0],te.localName=de[1]):te.localName=G,te}},c(ne,F);function re(){this._nsMap={}}re.prototype={nodeType:f,hasAttribute:function(N){return this.getAttributeNode(N)!=null},getAttribute:function(N){var G=this.getAttributeNode(N);return G&&G.value||""},getAttributeNode:function(N){return this.attributes.getNamedItem(N)},setAttribute:function(N,G){var te=this.ownerDocument.createAttribute(N);te.value=te.nodeValue=""+G,this.setAttributeNode(te)},removeAttribute:function(N){var G=this.getAttributeNode(N);G&&this.removeAttributeNode(G)},appendChild:function(N){return N.nodeType===_?this.insertBefore(N,null):he(this,N)},setAttributeNode:function(N){return this.attributes.setNamedItem(N)},setAttributeNodeNS:function(N){return this.attributes.setNamedItemNS(N)},removeAttributeNode:function(N){return this.attributes.removeNamedItem(N.nodeName)},removeAttributeNS:function(N,G){var te=this.getAttributeNodeNS(N,G);te&&this.removeAttributeNode(te)},hasAttributeNS:function(N,G){return this.getAttributeNodeNS(N,G)!=null},getAttributeNS:function(N,G){var te=this.getAttributeNodeNS(N,G);return te&&te.value||""},setAttributeNS:function(N,G,te){var de=this.ownerDocument.createAttributeNS(N,G);de.value=de.nodeValue=""+te,this.setAttributeNode(de)},getAttributeNodeNS:function(N,G){return this.attributes.getNamedItemNS(N,G)},getElementsByTagName:function(N){return new S(this,function(G){var te=[];return z(G,function(de){de!==G&&de.nodeType==f&&(N==="*"||de.tagName==N)&&te.push(de)}),te})},getElementsByTagNameNS:function(N,G){return new S(this,function(te){var de=[];return z(te,function(be){be!==te&&be.nodeType===f&&(N==="*"||be.namespaceURI===N)&&(G==="*"||be.localName==G)&&de.push(be)}),de})}},ne.prototype.getElementsByTagName=re.prototype.getElementsByTagName,ne.prototype.getElementsByTagNameNS=re.prototype.getElementsByTagNameNS,c(re,F);function Z(){}Z.prototype.nodeType=p,c(Z,F);function ie(){}ie.prototype={data:"",substringData:function(N,G){return this.data.substring(N,N+G)},appendData:function(N){N=this.data+N,this.nodeValue=this.data=N,this.length=N.length},insertData:function(N,G){this.replaceData(N,0,G)},appendChild:function(N){throw new Error(k[I])},deleteData:function(N,G){this.replaceData(N,G,"")},replaceData:function(N,G,te){var de=this.data.substring(0,N),be=this.data.substring(N+G);te=de+te+be,this.nodeValue=this.data=te,this.length=te.length}},c(ie,F);function le(){}le.prototype={nodeName:"#text",nodeType:g,splitText:function(N){var G=this.data,te=G.substring(N);G=G.substring(0,N),this.data=this.nodeValue=G,this.length=G.length;var de=this.ownerDocument.createTextNode(te);return this.parentNode&&this.parentNode.insertBefore(de,this.nextSibling),de}},c(le,ie);function fe(){}fe.prototype={nodeName:"#comment",nodeType:D},c(fe,ie);function xe(){}xe.prototype={nodeName:"#cdata-section",nodeType:b},c(xe,ie);function se(){}se.prototype.nodeType=C,c(se,F);function me(){}me.prototype.nodeType=A,c(me,F);function ve(){}ve.prototype.nodeType=v,c(ve,F);function De(){}De.prototype.nodeType=y,c(De,F);function Re(){}Re.prototype.nodeName="#document-fragment",Re.prototype.nodeType=_,c(Re,F);function Ie(){}Ie.prototype.nodeType=x,c(Ie,F);function Ke(){}Ke.prototype.serializeToString=function(N,G,te){return fn.call(N,G,te)},F.prototype.toString=fn;function fn(N,G){var te=[],de=this.nodeType==9&&this.documentElement||this,be=de.prefix,Ne=de.namespaceURI;if(Ne&&be==null){var be=de.lookupPrefix(Ne);if(be==null)var lt=[{namespace:Ne,prefix:null}]}return yr(this,te,N,G,lt),te.join("")}function wt(N,G,te){var de=N.prefix||"",be=N.namespaceURI;if(!be||de==="xml"&&be===t.XML||be===t.XMLNS)return!1;for(var Ne=te.length;Ne--;){var lt=te[Ne];if(lt.prefix===de)return lt.namespace!==be}return!0}function Ro(N,G,te){N.push(" ",G,'="',te.replace(/[<>&"\t\n\r]/g,X),'"')}function yr(N,G,te,de,be){if(be||(be=[]),de)if(N=de(N),N){if(typeof N=="string"){G.push(N);return}}else return;switch(N.nodeType){case f:var Ne=N.attributes,lt=Ne.length,Bt=N.firstChild,tn=N.tagName;te=t.isHTML(N.namespaceURI)||te;var Wn=tn;if(!te&&!N.prefix&&N.namespaceURI){for(var vr,wi=0;wi<Ne.length;wi++)if(Ne.item(wi).name==="xmlns"){vr=Ne.item(wi).value;break}if(!vr)for(var is=be.length-1;is>=0;is--){var rs=be[is];if(rs.prefix===""&&rs.namespace===N.namespaceURI){vr=rs.namespace;break}}if(vr!==N.namespaceURI)for(var is=be.length-1;is>=0;is--){var rs=be[is];if(rs.namespace===N.namespaceURI){rs.prefix&&(Wn=rs.prefix+":"+tn);break}}}G.push("<",Wn);for(var ss=0;ss<lt;ss++){var si=Ne.item(ss);si.prefix=="xmlns"?be.push({prefix:si.localName,namespace:si.value}):si.nodeName=="xmlns"&&be.push({prefix:"",namespace:si.value})}for(var ss=0;ss<lt;ss++){var si=Ne.item(ss);if(wt(si,te,be)){var os=si.prefix||"",sl=si.namespaceURI;Ro(G,os?"xmlns:"+os:"xmlns",sl),be.push({prefix:os,namespace:sl})}yr(si,G,te,de,be)}if(tn===Wn&&wt(N,te,be)){var os=N.prefix||"",sl=N.namespaceURI;Ro(G,os?"xmlns:"+os:"xmlns",sl),be.push({prefix:os,namespace:sl})}if(Bt||te&&!/^(?:meta|link|img|br|hr|input)$/i.test(tn)){if(G.push(">"),te&&/^script$/i.test(tn))for(;Bt;)Bt.data?G.push(Bt.data):yr(Bt,G,te,de,be.slice()),Bt=Bt.nextSibling;else for(;Bt;)yr(Bt,G,te,de,be.slice()),Bt=Bt.nextSibling;G.push("</",Wn,">")}else G.push("/>");return;case T:case _:for(var Bt=N.firstChild;Bt;)yr(Bt,G,te,de,be.slice()),Bt=Bt.nextSibling;return;case p:return Ro(G,N.name,N.value);case g:return G.push(N.data.replace(/[<&>]/g,X));case b:return G.push("<![CDATA[",N.data,"]]>");case D:return G.push("<!--",N.data,"-->");case C:var pv=N.publicId,Io=N.systemId;if(G.push("<!DOCTYPE ",N.name),pv)G.push(" PUBLIC ",pv),Io&&Io!="."&&G.push(" ",Io),G.push(">");else if(Io&&Io!=".")G.push(" SYSTEM ",Io,">");else{var gv=N.internalSubset;gv&&G.push(" [",gv,"]"),G.push(">")}return;case x:return G.push("<?",N.target," ",N.data,"?>");case y:return G.push("&",N.nodeName,";");default:G.push("??",N.nodeName)}}function Vu(N,G,te){var de;switch(G.nodeType){case f:de=G.cloneNode(!1),de.ownerDocument=N;case _:break;case p:te=!0;break}if(de||(de=G.cloneNode(!1)),de.ownerDocument=N,de.parentNode=null,te)for(var be=G.firstChild;be;)de.appendChild(Vu(N,be,te)),be=be.nextSibling;return de}function il(N,G,te){var de=new G.constructor;for(var be in G)if(Object.prototype.hasOwnProperty.call(G,be)){var Ne=G[be];typeof Ne!="object"&&Ne!=de[be]&&(de[be]=Ne)}switch(G.childNodes&&(de.childNodes=new O),de.ownerDocument=N,de.nodeType){case f:var lt=G.attributes,tn=de.attributes=new q,Wn=lt.length;tn._ownerElement=de;for(var vr=0;vr<Wn;vr++)de.setAttributeNode(il(N,lt.item(vr),!0));break;case p:te=!0}if(te)for(var wi=G.firstChild;wi;)de.appendChild(il(N,wi,te)),wi=wi.nextSibling;return de}function rl(N,G,te){N[G]=te}try{if(Object.defineProperty){let N=function(G){switch(G.nodeType){case f:case _:var te=[];for(G=G.firstChild;G;)G.nodeType!==7&&G.nodeType!==8&&te.push(N(G)),G=G.nextSibling;return te.join("");default:return G.nodeValue}};Object.defineProperty(S.prototype,"length",{get:function(){return K(this),this.$$length}}),Object.defineProperty(F.prototype,"textContent",{get:function(){return N(this)},set:function(G){switch(this.nodeType){case f:case _:for(;this.firstChild;)this.removeChild(this.firstChild);(G||String(G))&&this.appendChild(this.ownerDocument.createTextNode(G));break;default:this.data=G,this.value=G,this.nodeValue=G}}}),rl=function(G,te,de){G["$$"+te]=de}}}catch{}return Ri.DocumentType=se,Ri.DOMException=U,Ri.DOMImplementation=Y,Ri.Element=re,Ri.Node=F,Ri.NodeList=O,Ri.XMLSerializer=Ke,Ri}var gl={},Yp={},nb;function uS(){return nb||(nb=1,(function(n){var e=bf().freeze;n.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),n.HTML_ENTITIES=e({Aacute:"Á",aacute:"á",Abreve:"Ă",abreve:"ă",ac:"∾",acd:"∿",acE:"∾̳",Acirc:"Â",acirc:"â",acute:"´",Acy:"А",acy:"а",AElig:"Æ",aelig:"æ",af:"⁡",Afr:"𝔄",afr:"𝔞",Agrave:"À",agrave:"à",alefsym:"ℵ",aleph:"ℵ",Alpha:"Α",alpha:"α",Amacr:"Ā",amacr:"ā",amalg:"⨿",AMP:"&",amp:"&",And:"⩓",and:"∧",andand:"⩕",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsd:"∡",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",Aogon:"Ą",aogon:"ą",Aopf:"𝔸",aopf:"𝕒",ap:"≈",apacir:"⩯",apE:"⩰",ape:"≊",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",Aring:"Å",aring:"å",Ascr:"𝒜",ascr:"𝒶",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",Barwed:"⌆",barwed:"⌅",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",Bcy:"Б",bcy:"б",bdquo:"„",becaus:"∵",Because:"∵",because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",Beta:"Β",beta:"β",beth:"ℶ",between:"≬",Bfr:"𝔅",bfr:"𝔟",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bNot:"⫭",bnot:"⌐",Bopf:"𝔹",bopf:"𝕓",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxDL:"╗",boxDl:"╖",boxdL:"╕",boxdl:"┐",boxDR:"╔",boxDr:"╓",boxdR:"╒",boxdr:"┌",boxH:"═",boxh:"─",boxHD:"╦",boxHd:"╤",boxhD:"╥",boxhd:"┬",boxHU:"╩",boxHu:"╧",boxhU:"╨",boxhu:"┴",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxUL:"╝",boxUl:"╜",boxuL:"╛",boxul:"┘",boxUR:"╚",boxUr:"╙",boxuR:"╘",boxur:"└",boxV:"║",boxv:"│",boxVH:"╬",boxVh:"╫",boxvH:"╪",boxvh:"┼",boxVL:"╣",boxVl:"╢",boxvL:"╡",boxvl:"┤",boxVR:"╠",boxVr:"╟",boxvR:"╞",boxvr:"├",bprime:"‵",Breve:"˘",breve:"˘",brvbar:"¦",Bscr:"ℬ",bscr:"𝒷",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsol:"\\",bsolb:"⧅",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpE:"⪮",bumpe:"≏",Bumpeq:"≎",bumpeq:"≏",Cacute:"Ć",cacute:"ć",Cap:"⋒",cap:"∩",capand:"⩄",capbrcup:"⩉",capcap:"⩋",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",Ccaron:"Č",ccaron:"č",Ccedil:"Ç",ccedil:"ç",Ccirc:"Ĉ",ccirc:"ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",Cdot:"Ċ",cdot:"ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",CenterDot:"·",centerdot:"·",Cfr:"ℭ",cfr:"𝔠",CHcy:"Ч",chcy:"ч",check:"✓",checkmark:"✓",Chi:"Χ",chi:"χ",cir:"○",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cirE:"⧃",cire:"≗",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",Colon:"∷",colon:":",Colone:"⩴",colone:"≔",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",Conint:"∯",conint:"∮",ContourIntegral:"∮",Copf:"ℂ",copf:"𝕔",coprod:"∐",Coproduct:"∐",COPY:"©",copy:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",Cross:"⨯",cross:"✗",Cscr:"𝒞",cscr:"𝒸",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",Cup:"⋓",cup:"∪",cupbrcap:"⩈",CupCap:"≍",cupcap:"⩆",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",Dagger:"‡",dagger:"†",daleth:"ℸ",Darr:"↡",dArr:"⇓",darr:"↓",dash:"‐",Dashv:"⫤",dashv:"⊣",dbkarow:"⤏",dblac:"˝",Dcaron:"Ď",dcaron:"ď",Dcy:"Д",dcy:"д",DD:"ⅅ",dd:"ⅆ",ddagger:"‡",ddarr:"⇊",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",Delta:"Δ",delta:"δ",demptyv:"⦱",dfisht:"⥿",Dfr:"𝔇",dfr:"𝔡",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",Diamond:"⋄",diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",DJcy:"Ђ",djcy:"ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",Dopf:"𝔻",dopf:"𝕕",Dot:"¨",dot:"˙",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",DownArrow:"↓",Downarrow:"⇓",downarrow:"↓",DownArrowBar:"⤓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVector:"↽",DownLeftVectorBar:"⥖",DownRightTeeVector:"⥟",DownRightVector:"⇁",DownRightVectorBar:"⥗",DownTee:"⊤",DownTeeArrow:"↧",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",Dscr:"𝒟",dscr:"𝒹",DScy:"Ѕ",dscy:"ѕ",dsol:"⧶",Dstrok:"Đ",dstrok:"đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",DZcy:"Џ",dzcy:"џ",dzigrarr:"⟿",Eacute:"É",eacute:"é",easter:"⩮",Ecaron:"Ě",ecaron:"ě",ecir:"≖",Ecirc:"Ê",ecirc:"ê",ecolon:"≕",Ecy:"Э",ecy:"э",eDDot:"⩷",Edot:"Ė",eDot:"≑",edot:"ė",ee:"ⅇ",efDot:"≒",Efr:"𝔈",efr:"𝔢",eg:"⪚",Egrave:"È",egrave:"è",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",Emacr:"Ē",emacr:"ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp:" ",emsp13:" ",emsp14:" ",ENG:"Ŋ",eng:"ŋ",ensp:" ",Eogon:"Ę",eogon:"ę",Eopf:"𝔼",eopf:"𝕖",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",Epsilon:"Ε",epsilon:"ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",Escr:"ℰ",escr:"ℯ",esdot:"≐",Esim:"⩳",esim:"≂",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",ExponentialE:"ⅇ",exponentiale:"ⅇ",fallingdotseq:"≒",Fcy:"Ф",fcy:"ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",Ffr:"𝔉",ffr:"𝔣",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",Fopf:"𝔽",fopf:"𝕗",ForAll:"∀",forall:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",Fscr:"ℱ",fscr:"𝒻",gacute:"ǵ",Gamma:"Γ",gamma:"γ",Gammad:"Ϝ",gammad:"ϝ",gap:"⪆",Gbreve:"Ğ",gbreve:"ğ",Gcedil:"Ģ",Gcirc:"Ĝ",gcirc:"ĝ",Gcy:"Г",gcy:"г",Gdot:"Ġ",gdot:"ġ",gE:"≧",ge:"≥",gEl:"⪌",gel:"⋛",geq:"≥",geqq:"≧",geqslant:"⩾",ges:"⩾",gescc:"⪩",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",Gfr:"𝔊",gfr:"𝔤",Gg:"⋙",gg:"≫",ggg:"⋙",gimel:"ℷ",GJcy:"Ѓ",gjcy:"ѓ",gl:"≷",gla:"⪥",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gnE:"≩",gne:"⪈",gneq:"⪈",gneqq:"≩",gnsim:"⋧",Gopf:"𝔾",gopf:"𝕘",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",Gscr:"𝒢",gscr:"ℊ",gsim:"≳",gsime:"⪎",gsiml:"⪐",Gt:"≫",GT:">",gt:">",gtcc:"⪧",gtcir:"⩺",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",HARDcy:"Ъ",hardcy:"ъ",hArr:"⇔",harr:"↔",harrcir:"⥈",harrw:"↭",Hat:"^",hbar:"ℏ",Hcirc:"Ĥ",hcirc:"ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",Hfr:"ℌ",hfr:"𝔥",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",Hopf:"ℍ",hopf:"𝕙",horbar:"―",HorizontalLine:"─",Hscr:"ℋ",hscr:"𝒽",hslash:"ℏ",Hstrok:"Ħ",hstrok:"ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",Iacute:"Í",iacute:"í",ic:"⁣",Icirc:"Î",icirc:"î",Icy:"И",icy:"и",Idot:"İ",IEcy:"Е",iecy:"е",iexcl:"¡",iff:"⇔",Ifr:"ℑ",ifr:"𝔦",Igrave:"Ì",igrave:"ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",IJlig:"Ĳ",ijlig:"ĳ",Im:"ℑ",Imacr:"Ī",imacr:"ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",imof:"⊷",imped:"Ƶ",Implies:"⇒",in:"∈",incare:"℅",infin:"∞",infintie:"⧝",inodot:"ı",Int:"∬",int:"∫",intcal:"⊺",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",IOcy:"Ё",iocy:"ё",Iogon:"Į",iogon:"į",Iopf:"𝕀",iopf:"𝕚",Iota:"Ι",iota:"ι",iprod:"⨼",iquest:"¿",Iscr:"ℐ",iscr:"𝒾",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",Itilde:"Ĩ",itilde:"ĩ",Iukcy:"І",iukcy:"і",Iuml:"Ï",iuml:"ï",Jcirc:"Ĵ",jcirc:"ĵ",Jcy:"Й",jcy:"й",Jfr:"𝔍",jfr:"𝔧",jmath:"ȷ",Jopf:"𝕁",jopf:"𝕛",Jscr:"𝒥",jscr:"𝒿",Jsercy:"Ј",jsercy:"ј",Jukcy:"Є",jukcy:"є",Kappa:"Κ",kappa:"κ",kappav:"ϰ",Kcedil:"Ķ",kcedil:"ķ",Kcy:"К",kcy:"к",Kfr:"𝔎",kfr:"𝔨",kgreen:"ĸ",KHcy:"Х",khcy:"х",KJcy:"Ќ",kjcy:"ќ",Kopf:"𝕂",kopf:"𝕜",Kscr:"𝒦",kscr:"𝓀",lAarr:"⇚",Lacute:"Ĺ",lacute:"ĺ",laemptyv:"⦴",lagran:"ℒ",Lambda:"Λ",lambda:"λ",Lang:"⟪",lang:"⟨",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",Larr:"↞",lArr:"⇐",larr:"←",larrb:"⇤",larrbfs:"⤟",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",lat:"⪫",lAtail:"⤛",latail:"⤙",late:"⪭",lates:"⪭︀",lBarr:"⤎",lbarr:"⤌",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",Lcaron:"Ľ",lcaron:"ľ",Lcedil:"Ļ",lcedil:"ļ",lceil:"⌈",lcub:"{",Lcy:"Л",lcy:"л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",lE:"≦",le:"≤",LeftAngleBracket:"⟨",LeftArrow:"←",Leftarrow:"⇐",leftarrow:"←",LeftArrowBar:"⇤",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVector:"⇃",LeftDownVectorBar:"⥙",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",LeftRightArrow:"↔",Leftrightarrow:"⇔",leftrightarrow:"↔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTee:"⊣",LeftTeeArrow:"↤",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangle:"⊲",LeftTriangleBar:"⧏",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVector:"↿",LeftUpVectorBar:"⥘",LeftVector:"↼",LeftVectorBar:"⥒",lEg:"⪋",leg:"⋚",leq:"≤",leqq:"≦",leqslant:"⩽",les:"⩽",lescc:"⪨",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",Lfr:"𝔏",lfr:"𝔩",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",LJcy:"Љ",ljcy:"љ",Ll:"⋘",ll:"≪",llarr:"⇇",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",Lmidot:"Ŀ",lmidot:"ŀ",lmoust:"⎰",lmoustache:"⎰",lnap:"⪉",lnapprox:"⪉",lnE:"≨",lne:"⪇",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",LongLeftArrow:"⟵",Longleftarrow:"⟸",longleftarrow:"⟵",LongLeftRightArrow:"⟷",Longleftrightarrow:"⟺",longleftrightarrow:"⟷",longmapsto:"⟼",LongRightArrow:"⟶",Longrightarrow:"⟹",longrightarrow:"⟶",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",Lopf:"𝕃",lopf:"𝕝",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",Lscr:"ℒ",lscr:"𝓁",Lsh:"↰",lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",Lstrok:"Ł",lstrok:"ł",Lt:"≪",LT:"<",lt:"<",ltcc:"⪦",ltcir:"⩹",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",Map:"⤅",map:"↦",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",Mcy:"М",mcy:"м",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",Mfr:"𝔐",mfr:"𝔪",mho:"℧",micro:"µ",mid:"∣",midast:"*",midcir:"⫰",middot:"·",minus:"−",minusb:"⊟",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",Mopf:"𝕄",mopf:"𝕞",mp:"∓",Mscr:"ℳ",mscr:"𝓂",mstpos:"∾",Mu:"Μ",mu:"μ",multimap:"⊸",mumap:"⊸",nabla:"∇",Nacute:"Ń",nacute:"ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natur:"♮",natural:"♮",naturals:"ℕ",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",Ncaron:"Ň",ncaron:"ň",Ncedil:"Ņ",ncedil:"ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",Ncy:"Н",ncy:"н",ndash:"–",ne:"≠",nearhk:"⤤",neArr:"⇗",nearr:"↗",nearrow:"↗",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:`
`,nexist:"∄",nexists:"∄",Nfr:"𝔑",nfr:"𝔫",ngE:"≧̸",nge:"≱",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",nGt:"≫⃒",ngt:"≯",ngtr:"≯",nGtv:"≫̸",nhArr:"⇎",nharr:"↮",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",NJcy:"Њ",njcy:"њ",nlArr:"⇍",nlarr:"↚",nldr:"‥",nlE:"≦̸",nle:"≰",nLeftarrow:"⇍",nleftarrow:"↚",nLeftrightarrow:"⇎",nleftrightarrow:"↮",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nLt:"≪⃒",nlt:"≮",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",Nopf:"ℕ",nopf:"𝕟",Not:"⫬",not:"¬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangle:"⋪",NotLeftTriangleBar:"⧏̸",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangle:"⋫",NotRightTriangleBar:"⧐̸",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",npar:"∦",nparallel:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",npre:"⪯̸",nprec:"⊀",npreceq:"⪯̸",nrArr:"⇏",nrarr:"↛",nrarrc:"⤳̸",nrarrw:"↝̸",nRightarrow:"⇏",nrightarrow:"↛",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",Nscr:"𝒩",nscr:"𝓃",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsubE:"⫅̸",nsube:"⊈",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupE:"⫆̸",nsupe:"⊉",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",Ntilde:"Ñ",ntilde:"ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",Nu:"Ν",nu:"ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nVDash:"⊯",nVdash:"⊮",nvDash:"⊭",nvdash:"⊬",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwArr:"⇖",nwarr:"↖",nwarrow:"↖",nwnear:"⤧",Oacute:"Ó",oacute:"ó",oast:"⊛",ocir:"⊚",Ocirc:"Ô",ocirc:"ô",Ocy:"О",ocy:"о",odash:"⊝",Odblac:"Ő",odblac:"ő",odiv:"⨸",odot:"⊙",odsold:"⦼",OElig:"Œ",oelig:"œ",ofcir:"⦿",Ofr:"𝔒",ofr:"𝔬",ogon:"˛",Ograve:"Ò",ograve:"ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",Omacr:"Ō",omacr:"ō",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",omid:"⦶",ominus:"⊖",Oopf:"𝕆",oopf:"𝕠",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",Or:"⩔",or:"∨",orarr:"↻",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",Oscr:"𝒪",oscr:"ℴ",Oslash:"Ø",oslash:"ø",osol:"⊘",Otilde:"Õ",otilde:"õ",Otimes:"⨷",otimes:"⊗",otimesas:"⨶",Ouml:"Ö",ouml:"ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",par:"∥",para:"¶",parallel:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",Pcy:"П",pcy:"п",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",Pfr:"𝔓",pfr:"𝔭",Phi:"Φ",phi:"φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",Pi:"Π",pi:"π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plus:"+",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",Popf:"ℙ",popf:"𝕡",pound:"£",Pr:"⪻",pr:"≺",prap:"⪷",prcue:"≼",prE:"⪳",pre:"⪯",prec:"≺",precapprox:"⪷",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",precsim:"≾",Prime:"″",prime:"′",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportion:"∷",Proportional:"∝",propto:"∝",prsim:"≾",prurel:"⊰",Pscr:"𝒫",pscr:"𝓅",Psi:"Ψ",psi:"ψ",puncsp:" ",Qfr:"𝔔",qfr:"𝔮",qint:"⨌",Qopf:"ℚ",qopf:"𝕢",qprime:"⁗",Qscr:"𝒬",qscr:"𝓆",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",QUOT:'"',quot:'"',rAarr:"⇛",race:"∽̱",Racute:"Ŕ",racute:"ŕ",radic:"√",raemptyv:"⦳",Rang:"⟫",rang:"⟩",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",Rarr:"↠",rArr:"⇒",rarr:"→",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",Rarrtl:"⤖",rarrtl:"↣",rarrw:"↝",rAtail:"⤜",ratail:"⤚",ratio:"∶",rationals:"ℚ",RBarr:"⤐",rBarr:"⤏",rbarr:"⤍",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",Rcaron:"Ř",rcaron:"ř",Rcedil:"Ŗ",rcedil:"ŗ",rceil:"⌉",rcub:"}",Rcy:"Р",rcy:"р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",Re:"ℜ",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",rect:"▭",REG:"®",reg:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",Rfr:"ℜ",rfr:"𝔯",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",Rho:"Ρ",rho:"ρ",rhov:"ϱ",RightAngleBracket:"⟩",RightArrow:"→",Rightarrow:"⇒",rightarrow:"→",RightArrowBar:"⇥",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVector:"⇂",RightDownVectorBar:"⥕",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTee:"⊢",RightTeeArrow:"↦",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangle:"⊳",RightTriangleBar:"⧐",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVector:"↾",RightUpVectorBar:"⥔",RightVector:"⇀",RightVectorBar:"⥓",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoust:"⎱",rmoustache:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",Ropf:"ℝ",ropf:"𝕣",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",Rscr:"ℛ",rscr:"𝓇",Rsh:"↱",rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",Sacute:"Ś",sacute:"ś",sbquo:"‚",Sc:"⪼",sc:"≻",scap:"⪸",Scaron:"Š",scaron:"š",sccue:"≽",scE:"⪴",sce:"⪰",Scedil:"Ş",scedil:"ş",Scirc:"Ŝ",scirc:"ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",Scy:"С",scy:"с",sdot:"⋅",sdotb:"⊡",sdote:"⩦",searhk:"⤥",seArr:"⇘",searr:"↘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",Sfr:"𝔖",sfr:"𝔰",sfrown:"⌢",sharp:"♯",SHCHcy:"Щ",shchcy:"щ",SHcy:"Ш",shcy:"ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",SOFTcy:"Ь",softcy:"ь",sol:"/",solb:"⧄",solbar:"⌿",Sopf:"𝕊",sopf:"𝕤",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",squ:"□",Square:"□",square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squf:"▪",srarr:"→",Sscr:"𝒮",sscr:"𝓈",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",Star:"⋆",star:"☆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",Sub:"⋐",sub:"⊂",subdot:"⪽",subE:"⫅",sube:"⊆",subedot:"⫃",submult:"⫁",subnE:"⫋",subne:"⊊",subplus:"⪿",subrarr:"⥹",Subset:"⋐",subset:"⊂",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succ:"≻",succapprox:"⪸",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",Sum:"∑",sum:"∑",sung:"♪",Sup:"⋑",sup:"⊃",sup1:"¹",sup2:"²",sup3:"³",supdot:"⪾",supdsub:"⫘",supE:"⫆",supe:"⊇",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supnE:"⫌",supne:"⊋",supplus:"⫀",Supset:"⋑",supset:"⊃",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swArr:"⇙",swarr:"↙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"	",target:"⌖",Tau:"Τ",tau:"τ",tbrk:"⎴",Tcaron:"Ť",tcaron:"ť",Tcedil:"Ţ",tcedil:"ţ",Tcy:"Т",tcy:"т",tdot:"⃛",telrec:"⌕",Tfr:"𝔗",tfr:"𝔱",there4:"∴",Therefore:"∴",therefore:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",thinsp:" ",ThinSpace:" ",thkap:"≈",thksim:"∼",THORN:"Þ",thorn:"þ",Tilde:"∼",tilde:"˜",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",times:"×",timesb:"⊠",timesbar:"⨱",timesd:"⨰",tint:"∭",toea:"⤨",top:"⊤",topbot:"⌶",topcir:"⫱",Topf:"𝕋",topf:"𝕥",topfork:"⫚",tosa:"⤩",tprime:"‴",TRADE:"™",trade:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",Tscr:"𝒯",tscr:"𝓉",TScy:"Ц",tscy:"ц",TSHcy:"Ћ",tshcy:"ћ",Tstrok:"Ŧ",tstrok:"ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",Uacute:"Ú",uacute:"ú",Uarr:"↟",uArr:"⇑",uarr:"↑",Uarrocir:"⥉",Ubrcy:"Ў",ubrcy:"ў",Ubreve:"Ŭ",ubreve:"ŭ",Ucirc:"Û",ucirc:"û",Ucy:"У",ucy:"у",udarr:"⇅",Udblac:"Ű",udblac:"ű",udhar:"⥮",ufisht:"⥾",Ufr:"𝔘",ufr:"𝔲",Ugrave:"Ù",ugrave:"ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",Umacr:"Ū",umacr:"ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",Uogon:"Ų",uogon:"ų",Uopf:"𝕌",uopf:"𝕦",UpArrow:"↑",Uparrow:"⇑",uparrow:"↑",UpArrowBar:"⤒",UpArrowDownArrow:"⇅",UpDownArrow:"↕",Updownarrow:"⇕",updownarrow:"↕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",Upsi:"ϒ",upsi:"υ",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",UpTee:"⊥",UpTeeArrow:"↥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",Uring:"Ů",uring:"ů",urtri:"◹",Uscr:"𝒰",uscr:"𝓊",utdot:"⋰",Utilde:"Ũ",utilde:"ũ",utri:"▵",utrif:"▴",uuarr:"⇈",Uuml:"Ü",uuml:"ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",vArr:"⇕",varr:"↕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",Vbar:"⫫",vBar:"⫨",vBarv:"⫩",Vcy:"В",vcy:"в",VDash:"⊫",Vdash:"⊩",vDash:"⊨",vdash:"⊢",Vdashl:"⫦",Vee:"⋁",vee:"∨",veebar:"⊻",veeeq:"≚",vellip:"⋮",Verbar:"‖",verbar:"|",Vert:"‖",vert:"|",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",Vfr:"𝔙",vfr:"𝔳",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",Vopf:"𝕍",vopf:"𝕧",vprop:"∝",vrtri:"⊳",Vscr:"𝒱",vscr:"𝓋",vsubnE:"⫋︀",vsubne:"⊊︀",vsupnE:"⫌︀",vsupne:"⊋︀",Vvdash:"⊪",vzigzag:"⦚",Wcirc:"Ŵ",wcirc:"ŵ",wedbar:"⩟",Wedge:"⋀",wedge:"∧",wedgeq:"≙",weierp:"℘",Wfr:"𝔚",wfr:"𝔴",Wopf:"𝕎",wopf:"𝕨",wp:"℘",wr:"≀",wreath:"≀",Wscr:"𝒲",wscr:"𝓌",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",Xfr:"𝔛",xfr:"𝔵",xhArr:"⟺",xharr:"⟷",Xi:"Ξ",xi:"ξ",xlArr:"⟸",xlarr:"⟵",xmap:"⟼",xnis:"⋻",xodot:"⨀",Xopf:"𝕏",xopf:"𝕩",xoplus:"⨁",xotime:"⨂",xrArr:"⟹",xrarr:"⟶",Xscr:"𝒳",xscr:"𝓍",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",Yacute:"Ý",yacute:"ý",YAcy:"Я",yacy:"я",Ycirc:"Ŷ",ycirc:"ŷ",Ycy:"Ы",ycy:"ы",yen:"¥",Yfr:"𝔜",yfr:"𝔶",YIcy:"Ї",yicy:"ї",Yopf:"𝕐",yopf:"𝕪",Yscr:"𝒴",yscr:"𝓎",YUcy:"Ю",yucy:"ю",Yuml:"Ÿ",yuml:"ÿ",Zacute:"Ź",zacute:"ź",Zcaron:"Ž",zcaron:"ž",Zcy:"З",zcy:"з",Zdot:"Ż",zdot:"ż",zeetrf:"ℨ",ZeroWidthSpace:"​",Zeta:"Ζ",zeta:"ζ",Zfr:"ℨ",zfr:"𝔷",ZHcy:"Ж",zhcy:"ж",zigrarr:"⇝",Zopf:"ℤ",zopf:"𝕫",Zscr:"𝒵",zscr:"𝓏",zwj:"‍",zwnj:"‌"}),n.entityMap=n.HTML_ENTITIES})(Yp)),Yp}var ed={},ib;function dS(){if(ib)return ed;ib=1;var n=bf().NAMESPACE,e=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,t=new RegExp("[\\-\\.0-9"+e.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),i=new RegExp("^"+e.source+t.source+"*(?::"+e.source+t.source+"*)?$"),r=0,s=1,o=2,a=3,l=4,c=5,u=6,f=7;function p(I,L){this.message=I,this.locator=L,Error.captureStackTrace&&Error.captureStackTrace(this,p)}p.prototype=new Error,p.prototype.name=p.name;function g(){}g.prototype={parse:function(I,L,J){var U=this.domBuilder;U.startDocument(),C(L,L={}),b(I,L,J,U,this.errorHandler),U.endDocument()}};function b(I,L,J,U,O){function S(he){if(he>65535){he-=65536;var re=55296+(he>>10),Z=56320+(he&1023);return String.fromCharCode(re,Z)}else return String.fromCharCode(he)}function K(he){var re=he.slice(1,-1);return Object.hasOwnProperty.call(J,re)?J[re]:re.charAt(0)==="#"?S(parseInt(re.substr(1).replace("x","0x"))):(O.error("entity not found:"+he),he)}function q(he){if(he>ne){var re=I.substring(ne,he).replace(/&#?\w+;/g,K);F&&B(ne),U.characters(re,0,he-ne),ne=he}}function B(he,re){for(;he>=V&&(re=Y.exec(I));)j=re.index,V=j+re[0].length,F.lineNumber++;F.columnNumber=he-j+1}for(var j=0,V=0,Y=/.*(?:\r\n?|\n)|.*$/g,F=U.locator,X=[{currentNSMap:L}],z={},ne=0;;){try{var oe=I.indexOf("<",ne);if(oe<0){if(!I.substr(ne).match(/^\s*$/)){var pe=U.doc,ce=pe.createTextNode(I.substr(ne));pe.appendChild(ce),U.currentElement=ce}return}switch(oe>ne&&q(oe),I.charAt(oe+1)){case"/":var Q=I.indexOf(">",oe+3),ge=I.substring(oe+2,Q).replace(/[ \t\n\r]+$/g,""),ye=X.pop();Q<0?(ge=I.substring(oe+2).replace(/[\s<].*/,""),O.error("end tag name: "+ge+" is not complete:"+ye.tagName),Q=oe+1+ge.length):ge.match(/\s</)&&(ge=ge.replace(/[\s<].*/,""),O.error("end tag name: "+ge+" maybe not complete"),Q=oe+1+ge.length);var Te=ye.localNSMap,Ee=ye.tagName==ge,Se=Ee||ye.tagName&&ye.tagName.toLowerCase()==ge.toLowerCase();if(Se){if(U.endElement(ye.uri,ye.localName,ge),Te)for(var Oe in Te)Object.prototype.hasOwnProperty.call(Te,Oe)&&U.endPrefixMapping(Oe);Ee||O.fatalError("end tag name: "+ge+" is not match the current start tagName:"+ye.tagName)}else X.push(ye);Q++;break;case"?":F&&B(oe),Q=A(I,oe,U);break;case"!":F&&B(oe),Q=_(I,oe,U,O);break;default:F&&B(oe);var w=new R,ae=X[X.length-1].currentNSMap,Q=v(I,oe,w,ae,K,O),H=w.length;if(!w.closed&&T(I,Q,w.tagName,z)&&(w.closed=!0,J.nbsp||O.warning("unclosed xml attribute")),F&&H){for(var $=y(F,{}),ee=0;ee<H;ee++){var ue=w[ee];B(ue.offset),ue.locator=y(F,{})}U.locator=$,x(w,U,ae)&&X.push(w),U.locator=F}else x(w,U,ae)&&X.push(w);n.isHTML(w.uri)&&!w.closed?Q=D(I,Q,w.tagName,K,U):Q++}}catch(he){if(he instanceof p)throw he;O.error("element parse error: "+he),Q=-1}Q>ne?ne=Q:q(Math.max(oe,ne)+1)}}function y(I,L){return L.lineNumber=I.lineNumber,L.columnNumber=I.columnNumber,L}function v(I,L,J,U,O,S){function K(F,X,z){J.attributeNames.hasOwnProperty(F)&&S.fatalError("Attribute "+F+" redefined"),J.addValue(F,X.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,O),z)}for(var q,B,j=++L,V=r;;){var Y=I.charAt(j);switch(Y){case"=":if(V===s)q=I.slice(L,j),V=a;else if(V===o)V=a;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(V===a||V===s)if(V===s&&(S.warning('attribute value must after "="'),q=I.slice(L,j)),L=j+1,j=I.indexOf(Y,L),j>0)B=I.slice(L,j),K(q,B,L-1),V=c;else throw new Error("attribute value no end '"+Y+"' match");else if(V==l)B=I.slice(L,j),K(q,B,L),S.warning('attribute "'+q+'" missed start quot('+Y+")!!"),L=j+1,V=c;else throw new Error('attribute value must after "="');break;case"/":switch(V){case r:J.setTagName(I.slice(L,j));case c:case u:case f:V=f,J.closed=!0;case l:case s:break;case o:J.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return S.error("unexpected end of input"),V==r&&J.setTagName(I.slice(L,j)),j;case">":switch(V){case r:J.setTagName(I.slice(L,j));case c:case u:case f:break;case l:case s:B=I.slice(L,j),B.slice(-1)==="/"&&(J.closed=!0,B=B.slice(0,-1));case o:V===o&&(B=q),V==l?(S.warning('attribute "'+B+'" missed quot(")!'),K(q,B,L)):((!n.isHTML(U[""])||!B.match(/^(?:disabled|checked|selected)$/i))&&S.warning('attribute "'+B+'" missed value!! "'+B+'" instead!!'),K(B,B,L));break;case a:throw new Error("attribute value missed!!")}return j;case"":Y=" ";default:if(Y<=" ")switch(V){case r:J.setTagName(I.slice(L,j)),V=u;break;case s:q=I.slice(L,j),V=o;break;case l:var B=I.slice(L,j);S.warning('attribute "'+B+'" missed quot(")!!'),K(q,B,L);case c:V=u;break}else switch(V){case o:J.tagName,(!n.isHTML(U[""])||!q.match(/^(?:disabled|checked|selected)$/i))&&S.warning('attribute "'+q+'" missed value!! "'+q+'" instead2!!'),K(q,q,L),L=j,V=s;break;case c:S.warning('attribute space is required"'+q+'"!!');case u:V=s,L=j;break;case a:V=l,L=j;break;case f:throw new Error("elements closed character '/' and '>' must be connected to")}}j++}}function x(I,L,J){for(var U=I.tagName,O=null,Y=I.length;Y--;){var S=I[Y],K=S.qName,q=S.value,F=K.indexOf(":");if(F>0)var B=S.prefix=K.slice(0,F),j=K.slice(F+1),V=B==="xmlns"&&j;else j=K,B=null,V=K==="xmlns"&&"";S.localName=j,V!==!1&&(O==null&&(O={},C(J,J={})),J[V]=O[V]=q,S.uri=n.XMLNS,L.startPrefixMapping(V,q))}for(var Y=I.length;Y--;){S=I[Y];var B=S.prefix;B&&(B==="xml"&&(S.uri=n.XML),B!=="xmlns"&&(S.uri=J[B||""]))}var F=U.indexOf(":");F>0?(B=I.prefix=U.slice(0,F),j=I.localName=U.slice(F+1)):(B=null,j=I.localName=U);var X=I.uri=J[B||""];if(L.startElement(X,j,U,I),I.closed){if(L.endElement(X,j,U),O)for(B in O)Object.prototype.hasOwnProperty.call(O,B)&&L.endPrefixMapping(B)}else return I.currentNSMap=J,I.localNSMap=O,!0}function D(I,L,J,U,O){if(/^(?:script|textarea)$/i.test(J)){var S=I.indexOf("</"+J+">",L),K=I.substring(L+1,S);if(/[&<]/.test(K))return/^script$/i.test(J)?(O.characters(K,0,K.length),S):(K=K.replace(/&#?\w+;/g,U),O.characters(K,0,K.length),S)}return L+1}function T(I,L,J,U){var O=U[J];return O==null&&(O=I.lastIndexOf("</"+J+">"),O<L&&(O=I.lastIndexOf("</"+J)),U[J]=O),O<L}function C(I,L){for(var J in I)Object.prototype.hasOwnProperty.call(I,J)&&(L[J]=I[J])}function _(I,L,J,U){var O=I.charAt(L+2);switch(O){case"-":if(I.charAt(L+3)==="-"){var S=I.indexOf("-->",L+4);return S>L?(J.comment(I,L+4,S-L-4),S+3):(U.error("Unclosed comment"),-1)}else return-1;default:if(I.substr(L+3,6)=="CDATA["){var S=I.indexOf("]]>",L+9);return J.startCDATA(),J.characters(I,L+9,S-L-9),J.endCDATA(),S+3}var K=k(I,L),q=K.length;if(q>1&&/!doctype/i.test(K[0][0])){var B=K[1][0],j=!1,V=!1;q>3&&(/^public$/i.test(K[2][0])?(j=K[3][0],V=q>4&&K[4][0]):/^system$/i.test(K[2][0])&&(V=K[3][0]));var Y=K[q-1];return J.startDTD(B,j,V),J.endDTD(),Y.index+Y[0].length}}return-1}function A(I,L,J){var U=I.indexOf("?>",L);if(U){var O=I.substring(L,U).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return O?(O[0].length,J.processingInstruction(O[1],O[2]),U+2):-1}return-1}function R(){this.attributeNames={}}R.prototype={setTagName:function(I){if(!i.test(I))throw new Error("invalid tagName:"+I);this.tagName=I},addValue:function(I,L,J){if(!i.test(I))throw new Error("invalid attribute:"+I);this.attributeNames[I]=this.length,this[this.length++]={qName:I,value:L,offset:J}},length:0,getLocalName:function(I){return this[I].localName},getLocator:function(I){return this[I].locator},getQName:function(I){return this[I].qName},getURI:function(I){return this[I].uri},getValue:function(I){return this[I].value}};function k(I,L){var J,U=[],O=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(O.lastIndex=L,O.exec(I);J=O.exec(I);)if(U.push(J),J[1])return U}return ed.XMLReader=g,ed.ParseError=p,ed}var rb;function hS(){if(rb)return gl;rb=1;var n=bf(),e=ev(),t=uS(),i=dS(),r=e.DOMImplementation,s=n.NAMESPACE,o=i.ParseError,a=i.XMLReader;function l(v){return v.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028]/g,`
`)}function c(v){this.options=v||{locator:{}}}c.prototype.parseFromString=function(v,x){var D=this.options,T=new a,C=D.domBuilder||new f,_=D.errorHandler,A=D.locator,R=D.xmlns||{},k=/\/x?html?$/.test(x),I=k?t.HTML_ENTITIES:t.XML_ENTITIES;A&&C.setDocumentLocator(A),T.errorHandler=u(_,C,A),T.domBuilder=D.domBuilder||C,k&&(R[""]=s.HTML),R.xml=R.xml||s.XML;var L=D.normalizeLineEndings||l;return v&&typeof v=="string"?T.parse(L(v),R,I):T.errorHandler.error("invalid doc source"),C.doc};function u(v,x,D){if(!v){if(x instanceof f)return x;v=x}var T={},C=v instanceof Function;D=D||{};function _(A){var R=v[A];!R&&C&&(R=v.length==2?function(k){v(A,k)}:v),T[A]=R&&function(k){R("[xmldom "+A+"]	"+k+g(D))}||function(){}}return _("warning"),_("error"),_("fatalError"),T}function f(){this.cdata=!1}function p(v,x){x.lineNumber=v.lineNumber,x.columnNumber=v.columnNumber}f.prototype={startDocument:function(){this.doc=new r().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(v,x,D,T){var C=this.doc,_=C.createElementNS(v,D||x),A=T.length;y(this,_),this.currentElement=_,this.locator&&p(this.locator,_);for(var R=0;R<A;R++){var v=T.getURI(R),k=T.getValue(R),D=T.getQName(R),I=C.createAttributeNS(v,D);this.locator&&p(T.getLocator(R),I),I.value=I.nodeValue=k,_.setAttributeNode(I)}},endElement:function(v,x,D){var T=this.currentElement;T.tagName,this.currentElement=T.parentNode},startPrefixMapping:function(v,x){},endPrefixMapping:function(v){},processingInstruction:function(v,x){var D=this.doc.createProcessingInstruction(v,x);this.locator&&p(this.locator,D),y(this,D)},ignorableWhitespace:function(v,x,D){},characters:function(v,x,D){if(v=b.apply(this,arguments),v){if(this.cdata)var T=this.doc.createCDATASection(v);else var T=this.doc.createTextNode(v);this.currentElement?this.currentElement.appendChild(T):/^\s*$/.test(v)&&this.doc.appendChild(T),this.locator&&p(this.locator,T)}},skippedEntity:function(v){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(v){(this.locator=v)&&(v.lineNumber=0)},comment:function(v,x,D){v=b.apply(this,arguments);var T=this.doc.createComment(v);this.locator&&p(this.locator,T),y(this,T)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(v,x,D){var T=this.doc.implementation;if(T&&T.createDocumentType){var C=T.createDocumentType(v,x,D);this.locator&&p(this.locator,C),y(this,C),this.doc.doctype=C}},warning:function(v){console.warn("[xmldom warning]	"+v,g(this.locator))},error:function(v){console.error("[xmldom error]	"+v,g(this.locator))},fatalError:function(v){throw new o(v,this.locator)}};function g(v){if(v)return`
@`+(v.systemId||"")+"#[line:"+v.lineNumber+",col:"+v.columnNumber+"]"}function b(v,x,D){return typeof v=="string"?v.substr(x,D):v.length>=x+D||x?new java.lang.String(v,x,D)+"":v}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(v){f.prototype[v]=function(){return null}});function y(v,x){v.currentElement?v.currentElement.appendChild(x):v.doc.appendChild(x)}return gl.__DOMHandler=f,gl.normalizeLineEndings=l,gl.DOMParser=c,gl}var sb;function fS(){if(sb)return pl;sb=1;var n=ev();return pl.DOMImplementation=n.DOMImplementation,pl.XMLSerializer=n.XMLSerializer,pl.DOMParser=hS().DOMParser,pl}var ob;function pS(){if(ob)return Qu;ob=1;var n=fS(),e=ev();function t(i){var r=null,s=new n.DOMParser({errorHandler:function(a,l){r={level:a,message:l}}}),o=s.parseFromString(i);if(r===null)return o;throw new Error(r.level+": "+r.message)}return Qu.parseFromString=t,Qu.Node=e.Node,Qu}var ab;function gS(){if(ab)return Jp;ab=1;var n=ts(),e=gt,t=pS(),i=S_(),r=i.Element;Jp.readString=o;var s=t.Node;function o(a,l){l=l||{};try{var c=t.parseFromString(a,"text/xml")}catch(g){return n.reject(g)}if(c.documentElement.tagName==="parsererror")return n.resolve(new Error(c.documentElement.textContent));function u(g){switch(g.nodeType){case s.ELEMENT_NODE:return f(g);case s.TEXT_NODE:return i.text(g.nodeValue)}}function f(g){var b=p(g),y=[];e.forEach(g.childNodes,function(x){var D=u(x);D&&y.push(D)});var v={};return e.forEach(g.attributes,function(x){v[p(x)]=x.value}),new r(b,v,y)}function p(g){if(g.namespaceURI){var b=l[g.namespaceURI],y;return b?y=b+":":y="{"+g.namespaceURI+"}",y+g.localName}else return g.localName}return n.resolve(u(c.documentElement))}return Jp}var Kp={},cs={},ai={},lb;function ns(){return lb||(lb=1,(function(){var n,e,t,i,r,s,o,a=[].slice,l={}.hasOwnProperty;n=function(){var c,u,f,p,g,b;if(b=arguments[0],g=2<=arguments.length?a.call(arguments,1):[],r(Object.assign))Object.assign.apply(null,arguments);else for(c=0,f=g.length;c<f;c++)if(p=g[c],p!=null)for(u in p)l.call(p,u)&&(b[u]=p[u]);return b},r=function(c){return!!c&&Object.prototype.toString.call(c)==="[object Function]"},s=function(c){var u;return!!c&&((u=typeof c)=="function"||u==="object")},t=function(c){return r(Array.isArray)?Array.isArray(c):Object.prototype.toString.call(c)==="[object Array]"},i=function(c){var u;if(t(c))return!c.length;for(u in c)if(l.call(c,u))return!1;return!0},o=function(c){var u,f;return s(c)&&(f=Object.getPrototypeOf(c))&&(u=f.constructor)&&typeof u=="function"&&u instanceof u&&Function.prototype.toString.call(u)===Function.prototype.toString.call(Object)},e=function(c){return r(c.valueOf)?c.valueOf():c},ai.assign=n,ai.isFunction=r,ai.isObject=s,ai.isArray=t,ai.isEmpty=i,ai.isPlainObject=o,ai.getValue=e}).call(ai)),ai}var Nd={exports:{}},Md={exports:{}},Pd={exports:{}},Ld={exports:{}},mS=Ld.exports,cb;function U_(){return cb||(cb=1,(function(){Ld.exports=(function(){function n(e,t,i){if(this.options=e.options,this.stringify=e.stringify,this.parent=e,t==null)throw new Error("Missing attribute name. "+this.debugInfo(t));if(i==null)throw new Error("Missing attribute value. "+this.debugInfo(t));this.name=this.stringify.attName(t),this.value=this.stringify.attValue(i)}return n.prototype.clone=function(){return Object.create(this)},n.prototype.toString=function(e){return this.options.writer.set(e).attribute(this)},n.prototype.debugInfo=function(e){return e=e||this.name,e==null?"parent: <"+this.parent.name+">":"attribute: {"+e+"}, parent: <"+this.parent.name+">"},n})()}).call(mS)),Ld.exports}var yS=Pd.exports,ub;function xf(){return ub||(ub=1,(function(){var n,e,t,i,r,s,o=function(l,c){for(var u in c)a.call(c,u)&&(l[u]=c[u]);function f(){this.constructor=l}return f.prototype=c.prototype,l.prototype=new f,l.__super__=c.prototype,l},a={}.hasOwnProperty;s=ns(),r=s.isObject,i=s.isFunction,t=s.getValue,e=hn(),n=U_(),Pd.exports=(function(l){o(c,l);function c(u,f,p){if(c.__super__.constructor.call(this,u),f==null)throw new Error("Missing element name. "+this.debugInfo());this.name=this.stringify.eleName(f),this.attributes={},p!=null&&this.attribute(p),u.isDocument&&(this.isRoot=!0,this.documentObject=u,u.rootObject=this)}return c.prototype.clone=function(){var u,f,p,g;p=Object.create(this),p.isRoot&&(p.documentObject=null),p.attributes={},g=this.attributes;for(f in g)a.call(g,f)&&(u=g[f],p.attributes[f]=u.clone());return p.children=[],this.children.forEach(function(b){var y;return y=b.clone(),y.parent=p,p.children.push(y)}),p},c.prototype.attribute=function(u,f){var p,g;if(u!=null&&(u=t(u)),r(u))for(p in u)a.call(u,p)&&(g=u[p],this.attribute(p,g));else i(f)&&(f=f.apply()),(!this.options.skipNullAttributes||f!=null)&&(this.attributes[u]=new n(this,u,f));return this},c.prototype.removeAttribute=function(u){var f,p,g;if(u==null)throw new Error("Missing attribute name. "+this.debugInfo());if(u=t(u),Array.isArray(u))for(p=0,g=u.length;p<g;p++)f=u[p],delete this.attributes[f];else delete this.attributes[u];return this},c.prototype.toString=function(u){return this.options.writer.set(u).element(this)},c.prototype.att=function(u,f){return this.attribute(u,f)},c.prototype.a=function(u,f){return this.attribute(u,f)},c})(e)}).call(yS)),Pd.exports}var Bd={exports:{}},vS=Bd.exports,db;function Df(){return db||(db=1,(function(){var n,e=function(i,r){for(var s in r)t.call(r,s)&&(i[s]=r[s]);function o(){this.constructor=i}return o.prototype=r.prototype,i.prototype=new o,i.__super__=r.prototype,i},t={}.hasOwnProperty;n=hn(),Bd.exports=(function(i){e(r,i);function r(s,o){if(r.__super__.constructor.call(this,s),o==null)throw new Error("Missing CDATA text. "+this.debugInfo());this.text=this.stringify.cdata(o)}return r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(s){return this.options.writer.set(s).cdata(this)},r})(n)}).call(vS)),Bd.exports}var Od={exports:{}},bS=Od.exports,hb;function Tf(){return hb||(hb=1,(function(){var n,e=function(i,r){for(var s in r)t.call(r,s)&&(i[s]=r[s]);function o(){this.constructor=i}return o.prototype=r.prototype,i.prototype=new o,i.__super__=r.prototype,i},t={}.hasOwnProperty;n=hn(),Od.exports=(function(i){e(r,i);function r(s,o){if(r.__super__.constructor.call(this,s),o==null)throw new Error("Missing comment text. "+this.debugInfo());this.text=this.stringify.comment(o)}return r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(s){return this.options.writer.set(s).comment(this)},r})(n)}).call(bS)),Od.exports}var Wd={exports:{}},xS=Wd.exports,fb;function _f(){return fb||(fb=1,(function(){var n,e,t=function(r,s){for(var o in s)i.call(s,o)&&(r[o]=s[o]);function a(){this.constructor=r}return a.prototype=s.prototype,r.prototype=new a,r.__super__=s.prototype,r},i={}.hasOwnProperty;e=ns().isObject,n=hn(),Wd.exports=(function(r){t(s,r);function s(o,a,l,c){var u;s.__super__.constructor.call(this,o),e(a)&&(u=a,a=u.version,l=u.encoding,c=u.standalone),a||(a="1.0"),this.version=this.stringify.xmlVersion(a),l!=null&&(this.encoding=this.stringify.xmlEncoding(l)),c!=null&&(this.standalone=this.stringify.xmlStandalone(c))}return s.prototype.toString=function(o){return this.options.writer.set(o).declaration(this)},s})(n)}).call(xS)),Wd.exports}var qd={exports:{}},Vd={exports:{}},DS=Vd.exports,pb;function Cf(){return pb||(pb=1,(function(){var n,e=function(i,r){for(var s in r)t.call(r,s)&&(i[s]=r[s]);function o(){this.constructor=i}return o.prototype=r.prototype,i.prototype=new o,i.__super__=r.prototype,i},t={}.hasOwnProperty;n=hn(),Vd.exports=(function(i){e(r,i);function r(s,o,a,l,c,u){if(r.__super__.constructor.call(this,s),o==null)throw new Error("Missing DTD element name. "+this.debugInfo());if(a==null)throw new Error("Missing DTD attribute name. "+this.debugInfo(o));if(!l)throw new Error("Missing DTD attribute type. "+this.debugInfo(o));if(!c)throw new Error("Missing DTD attribute default. "+this.debugInfo(o));if(c.indexOf("#")!==0&&(c="#"+c),!c.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT. "+this.debugInfo(o));if(u&&!c.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT. "+this.debugInfo(o));this.elementName=this.stringify.eleName(o),this.attributeName=this.stringify.attName(a),this.attributeType=this.stringify.dtdAttType(l),this.defaultValue=this.stringify.dtdAttDefault(u),this.defaultValueType=c}return r.prototype.toString=function(s){return this.options.writer.set(s).dtdAttList(this)},r})(n)}).call(DS)),Vd.exports}var Hd={exports:{}},TS=Hd.exports,gb;function Af(){return gb||(gb=1,(function(){var n,e,t=function(r,s){for(var o in s)i.call(s,o)&&(r[o]=s[o]);function a(){this.constructor=r}return a.prototype=s.prototype,r.prototype=new a,r.__super__=s.prototype,r},i={}.hasOwnProperty;e=ns().isObject,n=hn(),Hd.exports=(function(r){t(s,r);function s(o,a,l,c){if(s.__super__.constructor.call(this,o),l==null)throw new Error("Missing DTD entity name. "+this.debugInfo(l));if(c==null)throw new Error("Missing DTD entity value. "+this.debugInfo(l));if(this.pe=!!a,this.name=this.stringify.eleName(l),!e(c))this.value=this.stringify.dtdEntityValue(c);else{if(!c.pubID&&!c.sysID)throw new Error("Public and/or system identifiers are required for an external entity. "+this.debugInfo(l));if(c.pubID&&!c.sysID)throw new Error("System identifier is required for a public external entity. "+this.debugInfo(l));if(c.pubID!=null&&(this.pubID=this.stringify.dtdPubID(c.pubID)),c.sysID!=null&&(this.sysID=this.stringify.dtdSysID(c.sysID)),c.nData!=null&&(this.nData=this.stringify.dtdNData(c.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity. "+this.debugInfo(l))}}return s.prototype.toString=function(o){return this.options.writer.set(o).dtdEntity(this)},s})(n)}).call(TS)),Hd.exports}var Gd={exports:{}},_S=Gd.exports,mb;function Ef(){return mb||(mb=1,(function(){var n,e=function(i,r){for(var s in r)t.call(r,s)&&(i[s]=r[s]);function o(){this.constructor=i}return o.prototype=r.prototype,i.prototype=new o,i.__super__=r.prototype,i},t={}.hasOwnProperty;n=hn(),Gd.exports=(function(i){e(r,i);function r(s,o,a){if(r.__super__.constructor.call(this,s),o==null)throw new Error("Missing DTD element name. "+this.debugInfo());a||(a="(#PCDATA)"),Array.isArray(a)&&(a="("+a.join(",")+")"),this.name=this.stringify.eleName(o),this.value=this.stringify.dtdElementValue(a)}return r.prototype.toString=function(s){return this.options.writer.set(s).dtdElement(this)},r})(n)}).call(_S)),Gd.exports}var $d={exports:{}},CS=$d.exports,yb;function wf(){return yb||(yb=1,(function(){var n,e=function(i,r){for(var s in r)t.call(r,s)&&(i[s]=r[s]);function o(){this.constructor=i}return o.prototype=r.prototype,i.prototype=new o,i.__super__=r.prototype,i},t={}.hasOwnProperty;n=hn(),$d.exports=(function(i){e(r,i);function r(s,o,a){if(r.__super__.constructor.call(this,s),o==null)throw new Error("Missing DTD notation name. "+this.debugInfo(o));if(!a.pubID&&!a.sysID)throw new Error("Public or system identifiers are required for an external entity. "+this.debugInfo(o));this.name=this.stringify.eleName(o),a.pubID!=null&&(this.pubID=this.stringify.dtdPubID(a.pubID)),a.sysID!=null&&(this.sysID=this.stringify.dtdSysID(a.sysID))}return r.prototype.toString=function(s){return this.options.writer.set(s).dtdNotation(this)},r})(n)}).call(CS)),$d.exports}var AS=qd.exports,vb;function Sf(){return vb||(vb=1,(function(){var n,e,t,i,r,s,o=function(l,c){for(var u in c)a.call(c,u)&&(l[u]=c[u]);function f(){this.constructor=l}return f.prototype=c.prototype,l.prototype=new f,l.__super__=c.prototype,l},a={}.hasOwnProperty;s=ns().isObject,r=hn(),n=Cf(),t=Af(),e=Ef(),i=wf(),qd.exports=(function(l){o(c,l);function c(u,f,p){var g,b;c.__super__.constructor.call(this,u),this.name="!DOCTYPE",this.documentObject=u,s(f)&&(g=f,f=g.pubID,p=g.sysID),p==null&&(b=[f,p],p=b[0],f=b[1]),f!=null&&(this.pubID=this.stringify.dtdPubID(f)),p!=null&&(this.sysID=this.stringify.dtdSysID(p))}return c.prototype.element=function(u,f){var p;return p=new e(this,u,f),this.children.push(p),this},c.prototype.attList=function(u,f,p,g,b){var y;return y=new n(this,u,f,p,g,b),this.children.push(y),this},c.prototype.entity=function(u,f){var p;return p=new t(this,!1,u,f),this.children.push(p),this},c.prototype.pEntity=function(u,f){var p;return p=new t(this,!0,u,f),this.children.push(p),this},c.prototype.notation=function(u,f){var p;return p=new i(this,u,f),this.children.push(p),this},c.prototype.toString=function(u){return this.options.writer.set(u).docType(this)},c.prototype.ele=function(u,f){return this.element(u,f)},c.prototype.att=function(u,f,p,g,b){return this.attList(u,f,p,g,b)},c.prototype.ent=function(u,f){return this.entity(u,f)},c.prototype.pent=function(u,f){return this.pEntity(u,f)},c.prototype.not=function(u,f){return this.notation(u,f)},c.prototype.up=function(){return this.root()||this.documentObject},c})(r)}).call(AS)),qd.exports}var zd={exports:{}},ES=zd.exports,bb;function Uf(){return bb||(bb=1,(function(){var n,e=function(i,r){for(var s in r)t.call(r,s)&&(i[s]=r[s]);function o(){this.constructor=i}return o.prototype=r.prototype,i.prototype=new o,i.__super__=r.prototype,i},t={}.hasOwnProperty;n=hn(),zd.exports=(function(i){e(r,i);function r(s,o){if(r.__super__.constructor.call(this,s),o==null)throw new Error("Missing raw text. "+this.debugInfo());this.value=this.stringify.raw(o)}return r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(s){return this.options.writer.set(s).raw(this)},r})(n)}).call(ES)),zd.exports}var Xd={exports:{}},wS=Xd.exports,xb;function Rf(){return xb||(xb=1,(function(){var n,e=function(i,r){for(var s in r)t.call(r,s)&&(i[s]=r[s]);function o(){this.constructor=i}return o.prototype=r.prototype,i.prototype=new o,i.__super__=r.prototype,i},t={}.hasOwnProperty;n=hn(),Xd.exports=(function(i){e(r,i);function r(s,o){if(r.__super__.constructor.call(this,s),o==null)throw new Error("Missing element text. "+this.debugInfo());this.value=this.stringify.eleText(o)}return r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(s){return this.options.writer.set(s).text(this)},r})(n)}).call(wS)),Xd.exports}var Jd={exports:{}},SS=Jd.exports,Db;function If(){return Db||(Db=1,(function(){var n,e=function(i,r){for(var s in r)t.call(r,s)&&(i[s]=r[s]);function o(){this.constructor=i}return o.prototype=r.prototype,i.prototype=new o,i.__super__=r.prototype,i},t={}.hasOwnProperty;n=hn(),Jd.exports=(function(i){e(r,i);function r(s,o,a){if(r.__super__.constructor.call(this,s),o==null)throw new Error("Missing instruction target. "+this.debugInfo());this.target=this.stringify.insTarget(o),a&&(this.value=this.stringify.insValue(a))}return r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(s){return this.options.writer.set(s).processingInstruction(this)},r})(n)}).call(SS)),Jd.exports}var Yd={exports:{}},US=Yd.exports,Tb;function tv(){return Tb||(Tb=1,(function(){var n,e=function(i,r){for(var s in r)t.call(r,s)&&(i[s]=r[s]);function o(){this.constructor=i}return o.prototype=r.prototype,i.prototype=new o,i.__super__=r.prototype,i},t={}.hasOwnProperty;n=hn(),Yd.exports=(function(i){e(r,i);function r(s){r.__super__.constructor.call(this,s),this.isDummy=!0}return r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(s){return""},r})(n)}).call(US)),Yd.exports}var RS=Md.exports,_b;function hn(){return _b||(_b=1,(function(){var n,e,t,i,r,s,o,a,l,c,u,f,p,g,b={}.hasOwnProperty;g=ns(),p=g.isObject,f=g.isFunction,u=g.isEmpty,c=g.getValue,s=null,n=null,e=null,t=null,i=null,a=null,l=null,o=null,r=null,Md.exports=(function(){function y(v){this.parent=v,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),this.children=[],s||(s=xf(),n=Df(),e=Tf(),t=_f(),i=Sf(),a=Uf(),l=Rf(),o=If(),r=tv())}return y.prototype.element=function(v,x,D){var T,C,_,A,R,k,I,L,J,U,O;if(k=null,x===null&&D==null&&(J=[{},null],x=J[0],D=J[1]),x==null&&(x={}),x=c(x),p(x)||(U=[x,D],D=U[0],x=U[1]),v!=null&&(v=c(v)),Array.isArray(v))for(_=0,I=v.length;_<I;_++)C=v[_],k=this.element(C);else if(f(v))k=this.element(v.apply());else if(p(v)){for(R in v)if(b.call(v,R))if(O=v[R],f(O)&&(O=O.apply()),p(O)&&u(O)&&(O=null),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&R.indexOf(this.stringify.convertAttKey)===0)k=this.attribute(R.substr(this.stringify.convertAttKey.length),O);else if(!this.options.separateArrayItems&&Array.isArray(O))for(A=0,L=O.length;A<L;A++)C=O[A],T={},T[R]=C,k=this.element(T);else p(O)?(k=this.element(R),k.element(O)):k=this.element(R,O)}else this.options.skipNullNodes&&D===null?k=this.dummy():!this.options.ignoreDecorators&&this.stringify.convertTextKey&&v.indexOf(this.stringify.convertTextKey)===0?k=this.text(D):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&v.indexOf(this.stringify.convertCDataKey)===0?k=this.cdata(D):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&v.indexOf(this.stringify.convertCommentKey)===0?k=this.comment(D):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&v.indexOf(this.stringify.convertRawKey)===0?k=this.raw(D):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&v.indexOf(this.stringify.convertPIKey)===0?k=this.instruction(v.substr(this.stringify.convertPIKey.length),D):k=this.node(v,x,D);if(k==null)throw new Error("Could not create any elements with: "+v+". "+this.debugInfo());return k},y.prototype.insertBefore=function(v,x,D){var T,C,_;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(v));return C=this.parent.children.indexOf(this),_=this.parent.children.splice(C),T=this.parent.element(v,x,D),Array.prototype.push.apply(this.parent.children,_),T},y.prototype.insertAfter=function(v,x,D){var T,C,_;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(v));return C=this.parent.children.indexOf(this),_=this.parent.children.splice(C+1),T=this.parent.element(v,x,D),Array.prototype.push.apply(this.parent.children,_),T},y.prototype.remove=function(){var v;if(this.isRoot)throw new Error("Cannot remove the root element. "+this.debugInfo());return v=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[v,v-v+1].concat([])),this.parent},y.prototype.node=function(v,x,D){var T,C;return v!=null&&(v=c(v)),x||(x={}),x=c(x),p(x)||(C=[x,D],D=C[0],x=C[1]),T=new s(this,v,x),D!=null&&T.text(D),this.children.push(T),T},y.prototype.text=function(v){var x;return x=new l(this,v),this.children.push(x),this},y.prototype.cdata=function(v){var x;return x=new n(this,v),this.children.push(x),this},y.prototype.comment=function(v){var x;return x=new e(this,v),this.children.push(x),this},y.prototype.commentBefore=function(v){var x,D;return x=this.parent.children.indexOf(this),D=this.parent.children.splice(x),this.parent.comment(v),Array.prototype.push.apply(this.parent.children,D),this},y.prototype.commentAfter=function(v){var x,D;return x=this.parent.children.indexOf(this),D=this.parent.children.splice(x+1),this.parent.comment(v),Array.prototype.push.apply(this.parent.children,D),this},y.prototype.raw=function(v){var x;return x=new a(this,v),this.children.push(x),this},y.prototype.dummy=function(){var v;return v=new r(this),this.children.push(v),v},y.prototype.instruction=function(v,x){var D,T,C,_,A;if(v!=null&&(v=c(v)),x!=null&&(x=c(x)),Array.isArray(v))for(_=0,A=v.length;_<A;_++)D=v[_],this.instruction(D);else if(p(v))for(D in v)b.call(v,D)&&(T=v[D],this.instruction(D,T));else f(x)&&(x=x.apply()),C=new o(this,v,x),this.children.push(C);return this},y.prototype.instructionBefore=function(v,x){var D,T;return D=this.parent.children.indexOf(this),T=this.parent.children.splice(D),this.parent.instruction(v,x),Array.prototype.push.apply(this.parent.children,T),this},y.prototype.instructionAfter=function(v,x){var D,T;return D=this.parent.children.indexOf(this),T=this.parent.children.splice(D+1),this.parent.instruction(v,x),Array.prototype.push.apply(this.parent.children,T),this},y.prototype.declaration=function(v,x,D){var T,C;return T=this.document(),C=new t(T,v,x,D),T.children[0]instanceof t?T.children[0]=C:T.children.unshift(C),T.root()||T},y.prototype.doctype=function(v,x){var D,T,C,_,A,R,k,I,L,J;for(T=this.document(),C=new i(T,v,x),L=T.children,_=A=0,k=L.length;A<k;_=++A)if(D=L[_],D instanceof i)return T.children[_]=C,C;for(J=T.children,_=R=0,I=J.length;R<I;_=++R)if(D=J[_],D.isRoot)return T.children.splice(_,0,C),C;return T.children.push(C),C},y.prototype.up=function(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},y.prototype.root=function(){var v;for(v=this;v;){if(v.isDocument)return v.rootObject;if(v.isRoot)return v;v=v.parent}},y.prototype.document=function(){var v;for(v=this;v;){if(v.isDocument)return v;v=v.parent}},y.prototype.end=function(v){return this.document().end(v)},y.prototype.prev=function(){var v;for(v=this.parent.children.indexOf(this);v>0&&this.parent.children[v-1].isDummy;)v=v-1;if(v<1)throw new Error("Already at the first node. "+this.debugInfo());return this.parent.children[v-1]},y.prototype.next=function(){var v;for(v=this.parent.children.indexOf(this);v<this.parent.children.length-1&&this.parent.children[v+1].isDummy;)v=v+1;if(v===-1||v===this.parent.children.length-1)throw new Error("Already at the last node. "+this.debugInfo());return this.parent.children[v+1]},y.prototype.importDocument=function(v){var x;return x=v.root().clone(),x.parent=this,x.isRoot=!1,this.children.push(x),this},y.prototype.debugInfo=function(v){var x,D;return v=v||this.name,v==null&&!((x=this.parent)!=null&&x.name)?"":v==null?"parent: <"+this.parent.name+">":(D=this.parent)!=null&&D.name?"node: <"+v+">, parent: <"+this.parent.name+">":"node: <"+v+">"},y.prototype.ele=function(v,x,D){return this.element(v,x,D)},y.prototype.nod=function(v,x,D){return this.node(v,x,D)},y.prototype.txt=function(v){return this.text(v)},y.prototype.dat=function(v){return this.cdata(v)},y.prototype.com=function(v){return this.comment(v)},y.prototype.ins=function(v,x){return this.instruction(v,x)},y.prototype.doc=function(){return this.document()},y.prototype.dec=function(v,x,D){return this.declaration(v,x,D)},y.prototype.dtd=function(v,x){return this.doctype(v,x)},y.prototype.e=function(v,x,D){return this.element(v,x,D)},y.prototype.n=function(v,x,D){return this.node(v,x,D)},y.prototype.t=function(v){return this.text(v)},y.prototype.d=function(v){return this.cdata(v)},y.prototype.c=function(v){return this.comment(v)},y.prototype.r=function(v){return this.raw(v)},y.prototype.i=function(v,x){return this.instruction(v,x)},y.prototype.u=function(){return this.up()},y.prototype.importXMLBuilder=function(v){return this.importDocument(v)},y})()}).call(RS)),Md.exports}var Kd={exports:{}},IS=Kd.exports,Cb;function R_(){return Cb||(Cb=1,(function(){var n=function(t,i){return function(){return t.apply(i,arguments)}},e={}.hasOwnProperty;Kd.exports=(function(){function t(i){this.assertLegalChar=n(this.assertLegalChar,this);var r,s,o;i||(i={}),this.noDoubleEncoding=i.noDoubleEncoding,s=i.stringify||{};for(r in s)e.call(s,r)&&(o=s[r],this[r]=o)}return t.prototype.eleName=function(i){return i=""+i||"",this.assertLegalChar(i)},t.prototype.eleText=function(i){return i=""+i||"",this.assertLegalChar(this.elEscape(i))},t.prototype.cdata=function(i){return i=""+i||"",i=i.replace("]]>","]]]]><![CDATA[>"),this.assertLegalChar(i)},t.prototype.comment=function(i){if(i=""+i||"",i.match(/--/))throw new Error("Comment text cannot contain double-hypen: "+i);return this.assertLegalChar(i)},t.prototype.raw=function(i){return""+i||""},t.prototype.attName=function(i){return i=""+i||""},t.prototype.attValue=function(i){return i=""+i||"",this.attEscape(i)},t.prototype.insTarget=function(i){return""+i||""},t.prototype.insValue=function(i){if(i=""+i||"",i.match(/\?>/))throw new Error("Invalid processing instruction value: "+i);return i},t.prototype.xmlVersion=function(i){if(i=""+i||"",!i.match(/1\.[0-9]+/))throw new Error("Invalid version number: "+i);return i},t.prototype.xmlEncoding=function(i){if(i=""+i||"",!i.match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/))throw new Error("Invalid encoding: "+i);return i},t.prototype.xmlStandalone=function(i){return i?"yes":"no"},t.prototype.dtdPubID=function(i){return""+i||""},t.prototype.dtdSysID=function(i){return""+i||""},t.prototype.dtdElementValue=function(i){return""+i||""},t.prototype.dtdAttType=function(i){return""+i||""},t.prototype.dtdAttDefault=function(i){return i!=null?""+i||"":i},t.prototype.dtdEntityValue=function(i){return""+i||""},t.prototype.dtdNData=function(i){return""+i||""},t.prototype.convertAttKey="@",t.prototype.convertPIKey="?",t.prototype.convertTextKey="#text",t.prototype.convertCDataKey="#cdata",t.prototype.convertCommentKey="#comment",t.prototype.convertRawKey="#raw",t.prototype.assertLegalChar=function(i){var r;if(r=i.match(/[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/),r)throw new Error("Invalid character in string: "+i+" at index "+r.index);return i},t.prototype.elEscape=function(i){var r;return r=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,i.replace(r,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;")},t.prototype.attEscape=function(i){var r;return r=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,i.replace(r,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;")},t})()}).call(IS)),Kd.exports}var jd={exports:{}},Zd={exports:{}},FS=Zd.exports,Ab;function I_(){return Ab||(Ab=1,(function(){var n={}.hasOwnProperty;Zd.exports=(function(){function e(t){var i,r,s,o,a,l,c,u,f;t||(t={}),this.pretty=t.pretty||!1,this.allowEmpty=(r=t.allowEmpty)!=null?r:!1,this.pretty?(this.indent=(s=t.indent)!=null?s:"  ",this.newline=(o=t.newline)!=null?o:`
`,this.offset=(a=t.offset)!=null?a:0,this.dontprettytextnodes=(l=t.dontprettytextnodes)!=null?l:0):(this.indent="",this.newline="",this.offset=0,this.dontprettytextnodes=0),this.spacebeforeslash=(c=t.spacebeforeslash)!=null?c:"",this.spacebeforeslash===!0&&(this.spacebeforeslash=" "),this.newlinedefault=this.newline,this.prettydefault=this.pretty,u=t.writer||{};for(i in u)n.call(u,i)&&(f=u[i],this[i]=f)}return e.prototype.set=function(t){var i,r,s;t||(t={}),"pretty"in t&&(this.pretty=t.pretty),"allowEmpty"in t&&(this.allowEmpty=t.allowEmpty),this.pretty?(this.indent="indent"in t?t.indent:"  ",this.newline="newline"in t?t.newline:`
`,this.offset="offset"in t?t.offset:0,this.dontprettytextnodes="dontprettytextnodes"in t?t.dontprettytextnodes:0):(this.indent="",this.newline="",this.offset=0,this.dontprettytextnodes=0),this.spacebeforeslash="spacebeforeslash"in t?t.spacebeforeslash:"",this.spacebeforeslash===!0&&(this.spacebeforeslash=" "),this.newlinedefault=this.newline,this.prettydefault=this.pretty,r=t.writer||{};for(i in r)n.call(r,i)&&(s=r[i],this[i]=s);return this},e.prototype.space=function(t){var i;return this.pretty?(i=(t||0)+this.offset+1,i>0?new Array(i).join(this.indent):""):""},e})()}).call(FS)),Zd.exports}var kS=jd.exports,Eb;function nv(){return Eb||(Eb=1,(function(){var n,e,t,i,r,s,o,a,l,c,u,f,p,g,b=function(v,x){for(var D in x)y.call(x,D)&&(v[D]=x[D]);function T(){this.constructor=v}return T.prototype=x.prototype,v.prototype=new T,v.__super__=x.prototype,v},y={}.hasOwnProperty;o=_f(),a=Sf(),n=Df(),e=Tf(),c=xf(),f=Uf(),p=Rf(),u=If(),l=tv(),t=Cf(),i=Ef(),r=Af(),s=wf(),g=I_(),jd.exports=(function(v){b(x,v);function x(D){x.__super__.constructor.call(this,D)}return x.prototype.document=function(D){var T,C,_,A,R;for(this.textispresent=!1,A="",R=D.children,C=0,_=R.length;C<_;C++)T=R[C],!(T instanceof l)&&(A+=(function(){switch(!1){case!(T instanceof o):return this.declaration(T);case!(T instanceof a):return this.docType(T);case!(T instanceof e):return this.comment(T);case!(T instanceof u):return this.processingInstruction(T);default:return this.element(T,0)}}).call(this));return this.pretty&&A.slice(-this.newline.length)===this.newline&&(A=A.slice(0,-this.newline.length)),A},x.prototype.attribute=function(D){return" "+D.name+'="'+D.value+'"'},x.prototype.cdata=function(D,T){return this.space(T)+"<![CDATA["+D.text+"]]>"+this.newline},x.prototype.comment=function(D,T){return this.space(T)+"<!-- "+D.text+" -->"+this.newline},x.prototype.declaration=function(D,T){var C;return C=this.space(T),C+='<?xml version="'+D.version+'"',D.encoding!=null&&(C+=' encoding="'+D.encoding+'"'),D.standalone!=null&&(C+=' standalone="'+D.standalone+'"'),C+=this.spacebeforeslash+"?>",C+=this.newline,C},x.prototype.docType=function(D,T){var C,_,A,R,k;if(T||(T=0),R=this.space(T),R+="<!DOCTYPE "+D.root().name,D.pubID&&D.sysID?R+=' PUBLIC "'+D.pubID+'" "'+D.sysID+'"':D.sysID&&(R+=' SYSTEM "'+D.sysID+'"'),D.children.length>0){for(R+=" [",R+=this.newline,k=D.children,_=0,A=k.length;_<A;_++)C=k[_],R+=(function(){switch(!1){case!(C instanceof t):return this.dtdAttList(C,T+1);case!(C instanceof i):return this.dtdElement(C,T+1);case!(C instanceof r):return this.dtdEntity(C,T+1);case!(C instanceof s):return this.dtdNotation(C,T+1);case!(C instanceof n):return this.cdata(C,T+1);case!(C instanceof e):return this.comment(C,T+1);case!(C instanceof u):return this.processingInstruction(C,T+1);default:throw new Error("Unknown DTD node type: "+C.constructor.name)}}).call(this);R+="]"}return R+=this.spacebeforeslash+">",R+=this.newline,R},x.prototype.element=function(D,T){var C,_,A,R,k,I,L,J,U,O,S,K,q;T||(T=0),q=!1,this.textispresent?(this.newline="",this.pretty=!1):(this.newline=this.newlinedefault,this.pretty=this.prettydefault),K=this.space(T),J="",J+=K+"<"+D.name,U=D.attributes;for(L in U)y.call(U,L)&&(C=U[L],J+=this.attribute(C));if(D.children.length===0||D.children.every(function(B){return B.value===""}))this.allowEmpty?J+="></"+D.name+">"+this.newline:J+=this.spacebeforeslash+"/>"+this.newline;else if(this.pretty&&D.children.length===1&&D.children[0].value!=null)J+=">",J+=D.children[0].value,J+="</"+D.name+">"+this.newline;else{if(this.dontprettytextnodes){for(O=D.children,A=0,k=O.length;A<k;A++)if(_=O[A],_.value!=null){this.textispresent++,q=!0;break}}for(this.textispresent&&(this.newline="",this.pretty=!1,K=this.space(T)),J+=">"+this.newline,S=D.children,R=0,I=S.length;R<I;R++)_=S[R],J+=(function(){switch(!1){case!(_ instanceof n):return this.cdata(_,T+1);case!(_ instanceof e):return this.comment(_,T+1);case!(_ instanceof c):return this.element(_,T+1);case!(_ instanceof f):return this.raw(_,T+1);case!(_ instanceof p):return this.text(_,T+1);case!(_ instanceof u):return this.processingInstruction(_,T+1);case!(_ instanceof l):return"";default:throw new Error("Unknown XML node type: "+_.constructor.name)}}).call(this);q&&this.textispresent--,this.textispresent||(this.newline=this.newlinedefault,this.pretty=this.prettydefault),J+=K+"</"+D.name+">"+this.newline}return J},x.prototype.processingInstruction=function(D,T){var C;return C=this.space(T)+"<?"+D.target,D.value&&(C+=" "+D.value),C+=this.spacebeforeslash+"?>"+this.newline,C},x.prototype.raw=function(D,T){return this.space(T)+D.value+this.newline},x.prototype.text=function(D,T){return this.space(T)+D.value+this.newline},x.prototype.dtdAttList=function(D,T){var C;return C=this.space(T)+"<!ATTLIST "+D.elementName+" "+D.attributeName+" "+D.attributeType,D.defaultValueType!=="#DEFAULT"&&(C+=" "+D.defaultValueType),D.defaultValue&&(C+=' "'+D.defaultValue+'"'),C+=this.spacebeforeslash+">"+this.newline,C},x.prototype.dtdElement=function(D,T){return this.space(T)+"<!ELEMENT "+D.name+" "+D.value+this.spacebeforeslash+">"+this.newline},x.prototype.dtdEntity=function(D,T){var C;return C=this.space(T)+"<!ENTITY",D.pe&&(C+=" %"),C+=" "+D.name,D.value?C+=' "'+D.value+'"':(D.pubID&&D.sysID?C+=' PUBLIC "'+D.pubID+'" "'+D.sysID+'"':D.sysID&&(C+=' SYSTEM "'+D.sysID+'"'),D.nData&&(C+=" NDATA "+D.nData)),C+=this.spacebeforeslash+">"+this.newline,C},x.prototype.dtdNotation=function(D,T){var C;return C=this.space(T)+"<!NOTATION "+D.name,D.pubID&&D.sysID?C+=' PUBLIC "'+D.pubID+'" "'+D.sysID+'"':D.pubID?C+=' PUBLIC "'+D.pubID+'"':D.sysID&&(C+=' SYSTEM "'+D.sysID+'"'),C+=this.spacebeforeslash+">"+this.newline,C},x.prototype.openNode=function(D,T){var C,_,A,R;if(T||(T=0),D instanceof c){A=this.space(T)+"<"+D.name,R=D.attributes;for(_ in R)y.call(R,_)&&(C=R[_],A+=this.attribute(C));return A+=(D.children?">":"/>")+this.newline,A}else return A=this.space(T)+"<!DOCTYPE "+D.rootNodeName,D.pubID&&D.sysID?A+=' PUBLIC "'+D.pubID+'" "'+D.sysID+'"':D.sysID&&(A+=' SYSTEM "'+D.sysID+'"'),A+=(D.children?" [":">")+this.newline,A},x.prototype.closeNode=function(D,T){switch(T||(T=0),!1){case!(D instanceof c):return this.space(T)+"</"+D.name+">"+this.newline;case!(D instanceof a):return this.space(T)+"]>"+this.newline}},x})(g)}).call(kS)),jd.exports}var NS=Nd.exports,wb;function MS(){return wb||(wb=1,(function(){var n,e,t,i,r=function(o,a){for(var l in a)s.call(a,l)&&(o[l]=a[l]);function c(){this.constructor=o}return c.prototype=a.prototype,o.prototype=new c,o.__super__=a.prototype,o},s={}.hasOwnProperty;i=ns().isPlainObject,n=hn(),t=R_(),e=nv(),Nd.exports=(function(o){r(a,o);function a(l){a.__super__.constructor.call(this,null),this.name="?xml",l||(l={}),l.writer||(l.writer=new e),this.options=l,this.stringify=new t(l),this.isDocument=!0}return a.prototype.end=function(l){var c;return l?i(l)&&(c=l,l=this.options.writer.set(c)):l=this.options.writer,l.document(this)},a.prototype.toString=function(l){return this.options.writer.set(l).document(this)},a})(n)}).call(NS)),Nd.exports}var Qd={exports:{}},PS=Qd.exports,Sb;function LS(){return Sb||(Sb=1,(function(){var n,e,t,i,r,s,o,a,l,c,u,f,p,g,b,y,v,x,D,T,C={}.hasOwnProperty;T=ns(),x=T.isObject,v=T.isFunction,D=T.isPlainObject,y=T.getValue,c=xf(),e=Df(),t=Tf(),f=Uf(),b=Rf(),u=If(),a=_f(),l=Sf(),i=Cf(),s=Af(),r=Ef(),o=wf(),n=U_(),g=R_(),p=nv(),Qd.exports=(function(){function _(A,R,k){var I;this.name="?xml",A||(A={}),A.writer?D(A.writer)&&(I=A.writer,A.writer=new p(I)):A.writer=new p(A),this.options=A,this.writer=A.writer,this.stringify=new g(A),this.onDataCallback=R||function(){},this.onEndCallback=k||function(){},this.currentNode=null,this.currentLevel=-1,this.openTags={},this.documentStarted=!1,this.documentCompleted=!1,this.root=null}return _.prototype.node=function(A,R,k){var I,L;if(A==null)throw new Error("Missing node name.");if(this.root&&this.currentLevel===-1)throw new Error("Document can only have one root node. "+this.debugInfo(A));return this.openCurrent(),A=y(A),R===null&&k==null&&(I=[{},null],R=I[0],k=I[1]),R==null&&(R={}),R=y(R),x(R)||(L=[R,k],k=L[0],R=L[1]),this.currentNode=new c(this,A,R),this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,k!=null&&this.text(k),this},_.prototype.element=function(A,R,k){return this.currentNode&&this.currentNode instanceof l?this.dtdElement.apply(this,arguments):this.node(A,R,k)},_.prototype.attribute=function(A,R){var k,I;if(!this.currentNode||this.currentNode.children)throw new Error("att() can only be used immediately after an ele() call in callback mode. "+this.debugInfo(A));if(A!=null&&(A=y(A)),x(A))for(k in A)C.call(A,k)&&(I=A[k],this.attribute(k,I));else v(R)&&(R=R.apply()),(!this.options.skipNullAttributes||R!=null)&&(this.currentNode.attributes[A]=new n(this,A,R));return this},_.prototype.text=function(A){var R;return this.openCurrent(),R=new b(this,A),this.onData(this.writer.text(R,this.currentLevel+1),this.currentLevel+1),this},_.prototype.cdata=function(A){var R;return this.openCurrent(),R=new e(this,A),this.onData(this.writer.cdata(R,this.currentLevel+1),this.currentLevel+1),this},_.prototype.comment=function(A){var R;return this.openCurrent(),R=new t(this,A),this.onData(this.writer.comment(R,this.currentLevel+1),this.currentLevel+1),this},_.prototype.raw=function(A){var R;return this.openCurrent(),R=new f(this,A),this.onData(this.writer.raw(R,this.currentLevel+1),this.currentLevel+1),this},_.prototype.instruction=function(A,R){var k,I,L,J,U;if(this.openCurrent(),A!=null&&(A=y(A)),R!=null&&(R=y(R)),Array.isArray(A))for(k=0,J=A.length;k<J;k++)I=A[k],this.instruction(I);else if(x(A))for(I in A)C.call(A,I)&&(L=A[I],this.instruction(I,L));else v(R)&&(R=R.apply()),U=new u(this,A,R),this.onData(this.writer.processingInstruction(U,this.currentLevel+1),this.currentLevel+1);return this},_.prototype.declaration=function(A,R,k){var I;if(this.openCurrent(),this.documentStarted)throw new Error("declaration() must be the first node.");return I=new a(this,A,R,k),this.onData(this.writer.declaration(I,this.currentLevel+1),this.currentLevel+1),this},_.prototype.doctype=function(A,R,k){if(this.openCurrent(),A==null)throw new Error("Missing root node name.");if(this.root)throw new Error("dtd() must come before the root node.");return this.currentNode=new l(this,R,k),this.currentNode.rootNodeName=A,this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,this},_.prototype.dtdElement=function(A,R){var k;return this.openCurrent(),k=new r(this,A,R),this.onData(this.writer.dtdElement(k,this.currentLevel+1),this.currentLevel+1),this},_.prototype.attList=function(A,R,k,I,L){var J;return this.openCurrent(),J=new i(this,A,R,k,I,L),this.onData(this.writer.dtdAttList(J,this.currentLevel+1),this.currentLevel+1),this},_.prototype.entity=function(A,R){var k;return this.openCurrent(),k=new s(this,!1,A,R),this.onData(this.writer.dtdEntity(k,this.currentLevel+1),this.currentLevel+1),this},_.prototype.pEntity=function(A,R){var k;return this.openCurrent(),k=new s(this,!0,A,R),this.onData(this.writer.dtdEntity(k,this.currentLevel+1),this.currentLevel+1),this},_.prototype.notation=function(A,R){var k;return this.openCurrent(),k=new o(this,A,R),this.onData(this.writer.dtdNotation(k,this.currentLevel+1),this.currentLevel+1),this},_.prototype.up=function(){if(this.currentLevel<0)throw new Error("The document node has no parent.");return this.currentNode?(this.currentNode.children?this.closeNode(this.currentNode):this.openNode(this.currentNode),this.currentNode=null):this.closeNode(this.openTags[this.currentLevel]),delete this.openTags[this.currentLevel],this.currentLevel--,this},_.prototype.end=function(){for(;this.currentLevel>=0;)this.up();return this.onEnd()},_.prototype.openCurrent=function(){if(this.currentNode)return this.currentNode.children=!0,this.openNode(this.currentNode)},_.prototype.openNode=function(A){if(!A.isOpen)return!this.root&&this.currentLevel===0&&A instanceof c&&(this.root=A),this.onData(this.writer.openNode(A,this.currentLevel),this.currentLevel),A.isOpen=!0},_.prototype.closeNode=function(A){if(!A.isClosed)return this.onData(this.writer.closeNode(A,this.currentLevel),this.currentLevel),A.isClosed=!0},_.prototype.onData=function(A,R){return this.documentStarted=!0,this.onDataCallback(A,R+1)},_.prototype.onEnd=function(){return this.documentCompleted=!0,this.onEndCallback()},_.prototype.debugInfo=function(A){return A==null?"":"node: <"+A+">"},_.prototype.ele=function(){return this.element.apply(this,arguments)},_.prototype.nod=function(A,R,k){return this.node(A,R,k)},_.prototype.txt=function(A){return this.text(A)},_.prototype.dat=function(A){return this.cdata(A)},_.prototype.com=function(A){return this.comment(A)},_.prototype.ins=function(A,R){return this.instruction(A,R)},_.prototype.dec=function(A,R,k){return this.declaration(A,R,k)},_.prototype.dtd=function(A,R,k){return this.doctype(A,R,k)},_.prototype.e=function(A,R,k){return this.element(A,R,k)},_.prototype.n=function(A,R,k){return this.node(A,R,k)},_.prototype.t=function(A){return this.text(A)},_.prototype.d=function(A){return this.cdata(A)},_.prototype.c=function(A){return this.comment(A)},_.prototype.r=function(A){return this.raw(A)},_.prototype.i=function(A,R){return this.instruction(A,R)},_.prototype.att=function(){return this.currentNode&&this.currentNode instanceof l?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},_.prototype.a=function(){return this.currentNode&&this.currentNode instanceof l?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},_.prototype.ent=function(A,R){return this.entity(A,R)},_.prototype.pent=function(A,R){return this.pEntity(A,R)},_.prototype.not=function(A,R){return this.notation(A,R)},_})()}).call(PS)),Qd.exports}var eh={exports:{}},BS=eh.exports,Ub;function OS(){return Ub||(Ub=1,(function(){var n,e,t,i,r,s,o,a,l,c,u,f,p,g,b=function(v,x){for(var D in x)y.call(x,D)&&(v[D]=x[D]);function T(){this.constructor=v}return T.prototype=x.prototype,v.prototype=new T,v.__super__=x.prototype,v},y={}.hasOwnProperty;o=_f(),a=Sf(),n=Df(),e=Tf(),c=xf(),f=Uf(),p=Rf(),u=If(),l=tv(),t=Cf(),i=Ef(),r=Af(),s=wf(),g=I_(),eh.exports=(function(v){b(x,v);function x(D,T){x.__super__.constructor.call(this,T),this.stream=D}return x.prototype.document=function(D){var T,C,_,A,R,k,I,L;for(k=D.children,C=0,A=k.length;C<A;C++)T=k[C],T.isLastRootNode=!1;for(D.children[D.children.length-1].isLastRootNode=!0,I=D.children,L=[],_=0,R=I.length;_<R;_++)if(T=I[_],!(T instanceof l))switch(!1){case!(T instanceof o):L.push(this.declaration(T));break;case!(T instanceof a):L.push(this.docType(T));break;case!(T instanceof e):L.push(this.comment(T));break;case!(T instanceof u):L.push(this.processingInstruction(T));break;default:L.push(this.element(T))}return L},x.prototype.attribute=function(D){return this.stream.write(" "+D.name+'="'+D.value+'"')},x.prototype.cdata=function(D,T){return this.stream.write(this.space(T)+"<![CDATA["+D.text+"]]>"+this.endline(D))},x.prototype.comment=function(D,T){return this.stream.write(this.space(T)+"<!-- "+D.text+" -->"+this.endline(D))},x.prototype.declaration=function(D,T){return this.stream.write(this.space(T)),this.stream.write('<?xml version="'+D.version+'"'),D.encoding!=null&&this.stream.write(' encoding="'+D.encoding+'"'),D.standalone!=null&&this.stream.write(' standalone="'+D.standalone+'"'),this.stream.write(this.spacebeforeslash+"?>"),this.stream.write(this.endline(D))},x.prototype.docType=function(D,T){var C,_,A,R;if(T||(T=0),this.stream.write(this.space(T)),this.stream.write("<!DOCTYPE "+D.root().name),D.pubID&&D.sysID?this.stream.write(' PUBLIC "'+D.pubID+'" "'+D.sysID+'"'):D.sysID&&this.stream.write(' SYSTEM "'+D.sysID+'"'),D.children.length>0){for(this.stream.write(" ["),this.stream.write(this.endline(D)),R=D.children,_=0,A=R.length;_<A;_++)switch(C=R[_],!1){case!(C instanceof t):this.dtdAttList(C,T+1);break;case!(C instanceof i):this.dtdElement(C,T+1);break;case!(C instanceof r):this.dtdEntity(C,T+1);break;case!(C instanceof s):this.dtdNotation(C,T+1);break;case!(C instanceof n):this.cdata(C,T+1);break;case!(C instanceof e):this.comment(C,T+1);break;case!(C instanceof u):this.processingInstruction(C,T+1);break;default:throw new Error("Unknown DTD node type: "+C.constructor.name)}this.stream.write("]")}return this.stream.write(this.spacebeforeslash+">"),this.stream.write(this.endline(D))},x.prototype.element=function(D,T){var C,_,A,R,k,I,L,J;T||(T=0),J=this.space(T),this.stream.write(J+"<"+D.name),I=D.attributes;for(k in I)y.call(I,k)&&(C=I[k],this.attribute(C));if(D.children.length===0||D.children.every(function(U){return U.value===""}))this.allowEmpty?this.stream.write("></"+D.name+">"):this.stream.write(this.spacebeforeslash+"/>");else if(this.pretty&&D.children.length===1&&D.children[0].value!=null)this.stream.write(">"),this.stream.write(D.children[0].value),this.stream.write("</"+D.name+">");else{for(this.stream.write(">"+this.newline),L=D.children,A=0,R=L.length;A<R;A++)switch(_=L[A],!1){case!(_ instanceof n):this.cdata(_,T+1);break;case!(_ instanceof e):this.comment(_,T+1);break;case!(_ instanceof c):this.element(_,T+1);break;case!(_ instanceof f):this.raw(_,T+1);break;case!(_ instanceof p):this.text(_,T+1);break;case!(_ instanceof u):this.processingInstruction(_,T+1);break;case!(_ instanceof l):break;default:throw new Error("Unknown XML node type: "+_.constructor.name)}this.stream.write(J+"</"+D.name+">")}return this.stream.write(this.endline(D))},x.prototype.processingInstruction=function(D,T){return this.stream.write(this.space(T)+"<?"+D.target),D.value&&this.stream.write(" "+D.value),this.stream.write(this.spacebeforeslash+"?>"+this.endline(D))},x.prototype.raw=function(D,T){return this.stream.write(this.space(T)+D.value+this.endline(D))},x.prototype.text=function(D,T){return this.stream.write(this.space(T)+D.value+this.endline(D))},x.prototype.dtdAttList=function(D,T){return this.stream.write(this.space(T)+"<!ATTLIST "+D.elementName+" "+D.attributeName+" "+D.attributeType),D.defaultValueType!=="#DEFAULT"&&this.stream.write(" "+D.defaultValueType),D.defaultValue&&this.stream.write(' "'+D.defaultValue+'"'),this.stream.write(this.spacebeforeslash+">"+this.endline(D))},x.prototype.dtdElement=function(D,T){return this.stream.write(this.space(T)+"<!ELEMENT "+D.name+" "+D.value),this.stream.write(this.spacebeforeslash+">"+this.endline(D))},x.prototype.dtdEntity=function(D,T){return this.stream.write(this.space(T)+"<!ENTITY"),D.pe&&this.stream.write(" %"),this.stream.write(" "+D.name),D.value?this.stream.write(' "'+D.value+'"'):(D.pubID&&D.sysID?this.stream.write(' PUBLIC "'+D.pubID+'" "'+D.sysID+'"'):D.sysID&&this.stream.write(' SYSTEM "'+D.sysID+'"'),D.nData&&this.stream.write(" NDATA "+D.nData)),this.stream.write(this.spacebeforeslash+">"+this.endline(D))},x.prototype.dtdNotation=function(D,T){return this.stream.write(this.space(T)+"<!NOTATION "+D.name),D.pubID&&D.sysID?this.stream.write(' PUBLIC "'+D.pubID+'" "'+D.sysID+'"'):D.pubID?this.stream.write(' PUBLIC "'+D.pubID+'"'):D.sysID&&this.stream.write(' SYSTEM "'+D.sysID+'"'),this.stream.write(this.spacebeforeslash+">"+this.endline(D))},x.prototype.endline=function(D){return D.isLastRootNode?"":this.newline},x})(g)}).call(BS)),eh.exports}var Rb;function WS(){return Rb||(Rb=1,(function(){var n,e,t,i,r,s,o;o=ns(),r=o.assign,s=o.isFunction,n=MS(),e=LS(),i=nv(),t=OS(),cs.create=function(a,l,c,u){var f,p;if(a==null)throw new Error("Root element needs a name.");return u=r({},l,c,u),f=new n(u),p=f.element(a),u.headless||(f.declaration(u),(u.pubID!=null||u.sysID!=null)&&f.doctype(u)),p},cs.begin=function(a,l,c){var u;return s(a)&&(u=[a,l],l=u[0],c=u[1],a={}),l?new e(a,l,c):new n(a)},cs.stringWriter=function(a){return new i(a)},cs.streamWriter=function(a,l){return new t(a,l)}}).call(cs)),cs}var Ib;function qS(){if(Ib)return Kp;Ib=1;var n=gt,e=WS();Kp.writeString=t;function t(r,s){var o=n.invert(s),a={element:c,text:i};function l(p,g){return a[g.type](p,g)}function c(p,g){var b=p.element(u(g.name),g.attributes);g.children.forEach(function(y){l(b,y)})}function u(p){var g=/^\{(.*)\}(.*)$/.exec(p);if(g){var b=o[g[1]];return b+(b===""?"":":")+g[2]}else return p}function f(p){var g=e.create(u(p.name),{version:"1.0",encoding:"UTF-8",standalone:!0});return n.forEach(s,function(b,y){var v="xmlns"+(y===""?"":":"+y);g.attribute(v,b)}),p.children.forEach(function(b){l(g,b)}),g.end()}return f(r)}function i(r,s){r.text(s.value)}return Kp}var Fb;function F_(){if(Fb)return as;Fb=1;var n=S_();return as.Element=n.Element,as.element=n.element,as.text=n.text,as.readString=gS().readString,as.writeString=qS().writeString,as}var kb;function VS(){if(kb)return Zu;kb=1;var n=gt,e=ts(),t=F_();Zu.read=r,Zu.readXmlFromZipFile=s;var i={"http://schemas.openxmlformats.org/wordprocessingml/2006/main":"w","http://schemas.openxmlformats.org/officeDocument/2006/relationships":"r","http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing":"wp","http://schemas.openxmlformats.org/drawingml/2006/main":"a","http://schemas.openxmlformats.org/drawingml/2006/picture":"pic","http://purl.oclc.org/ooxml/wordprocessingml/main":"w","http://purl.oclc.org/ooxml/officeDocument/relationships":"r","http://purl.oclc.org/ooxml/drawingml/wordprocessingDrawing":"wp","http://purl.oclc.org/ooxml/drawingml/main":"a","http://purl.oclc.org/ooxml/drawingml/picture":"pic","http://schemas.openxmlformats.org/package/2006/content-types":"content-types","http://schemas.openxmlformats.org/package/2006/relationships":"relationships","http://schemas.openxmlformats.org/markup-compatibility/2006":"mc","urn:schemas-microsoft-com:vml":"v","urn:schemas-microsoft-com:office:word":"office-word"};function r(l){return t.readString(l,i).then(function(c){return a(c)[0]})}function s(l,c){return l.exists(c)?l.read(c,"utf-8").then(o).then(r):e.resolve(null)}function o(l){return l.replace(/^\uFEFF/g,"")}function a(l){return l.type==="element"?l.name==="mc:AlternateContent"?l.first("mc:Fallback").children:(l.children=n.flatten(l.children.map(a,!0)),[l]):[l]}return Zu}var td={},qn={},nd={},Nb;function HS(){if(Nb)return nd;Nb=1,Object.defineProperty(nd,"__esModule",{value:!0});var n=[{"Typeface name":"Symbol","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Symbol","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"33","Unicode hex":"21"},{"Typeface name":"Symbol","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"8704","Unicode hex":"2200"},{"Typeface name":"Symbol","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"35","Unicode hex":"23"},{"Typeface name":"Symbol","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"8707","Unicode hex":"2203"},{"Typeface name":"Symbol","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"37","Unicode hex":"25"},{"Typeface name":"Symbol","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"38","Unicode hex":"26"},{"Typeface name":"Symbol","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"8717","Unicode hex":"220D"},{"Typeface name":"Symbol","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"40","Unicode hex":"28"},{"Typeface name":"Symbol","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"41","Unicode hex":"29"},{"Typeface name":"Symbol","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"42","Unicode hex":"2A"},{"Typeface name":"Symbol","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"43","Unicode hex":"2B"},{"Typeface name":"Symbol","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"44","Unicode hex":"2C"},{"Typeface name":"Symbol","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"8722","Unicode hex":"2212"},{"Typeface name":"Symbol","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"46","Unicode hex":"2E"},{"Typeface name":"Symbol","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"47","Unicode hex":"2F"},{"Typeface name":"Symbol","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"48","Unicode hex":"30"},{"Typeface name":"Symbol","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"49","Unicode hex":"31"},{"Typeface name":"Symbol","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"50","Unicode hex":"32"},{"Typeface name":"Symbol","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"51","Unicode hex":"33"},{"Typeface name":"Symbol","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"52","Unicode hex":"34"},{"Typeface name":"Symbol","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"53","Unicode hex":"35"},{"Typeface name":"Symbol","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"54","Unicode hex":"36"},{"Typeface name":"Symbol","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"55","Unicode hex":"37"},{"Typeface name":"Symbol","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"56","Unicode hex":"38"},{"Typeface name":"Symbol","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"57","Unicode hex":"39"},{"Typeface name":"Symbol","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"58","Unicode hex":"3A"},{"Typeface name":"Symbol","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"59","Unicode hex":"3B"},{"Typeface name":"Symbol","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"60","Unicode hex":"3C"},{"Typeface name":"Symbol","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"61","Unicode hex":"3D"},{"Typeface name":"Symbol","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"62","Unicode hex":"3E"},{"Typeface name":"Symbol","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"63","Unicode hex":"3F"},{"Typeface name":"Symbol","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"8773","Unicode hex":"2245"},{"Typeface name":"Symbol","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"913","Unicode hex":"391"},{"Typeface name":"Symbol","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"914","Unicode hex":"392"},{"Typeface name":"Symbol","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"935","Unicode hex":"3A7"},{"Typeface name":"Symbol","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"916","Unicode hex":"394"},{"Typeface name":"Symbol","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"917","Unicode hex":"395"},{"Typeface name":"Symbol","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"934","Unicode hex":"3A6"},{"Typeface name":"Symbol","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"915","Unicode hex":"393"},{"Typeface name":"Symbol","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"919","Unicode hex":"397"},{"Typeface name":"Symbol","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"921","Unicode hex":"399"},{"Typeface name":"Symbol","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"977","Unicode hex":"3D1"},{"Typeface name":"Symbol","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"922","Unicode hex":"39A"},{"Typeface name":"Symbol","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"923","Unicode hex":"39B"},{"Typeface name":"Symbol","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"924","Unicode hex":"39C"},{"Typeface name":"Symbol","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"925","Unicode hex":"39D"},{"Typeface name":"Symbol","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"927","Unicode hex":"39F"},{"Typeface name":"Symbol","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"928","Unicode hex":"3A0"},{"Typeface name":"Symbol","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"920","Unicode hex":"398"},{"Typeface name":"Symbol","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"929","Unicode hex":"3A1"},{"Typeface name":"Symbol","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"931","Unicode hex":"3A3"},{"Typeface name":"Symbol","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"932","Unicode hex":"3A4"},{"Typeface name":"Symbol","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"933","Unicode hex":"3A5"},{"Typeface name":"Symbol","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"962","Unicode hex":"3C2"},{"Typeface name":"Symbol","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"937","Unicode hex":"3A9"},{"Typeface name":"Symbol","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"926","Unicode hex":"39E"},{"Typeface name":"Symbol","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"936","Unicode hex":"3A8"},{"Typeface name":"Symbol","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"918","Unicode hex":"396"},{"Typeface name":"Symbol","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"91","Unicode hex":"5B"},{"Typeface name":"Symbol","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"8756","Unicode hex":"2234"},{"Typeface name":"Symbol","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"93","Unicode hex":"5D"},{"Typeface name":"Symbol","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"8869","Unicode hex":"22A5"},{"Typeface name":"Symbol","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"95","Unicode hex":"5F"},{"Typeface name":"Symbol","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"8254","Unicode hex":"203E"},{"Typeface name":"Symbol","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"945","Unicode hex":"3B1"},{"Typeface name":"Symbol","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"946","Unicode hex":"3B2"},{"Typeface name":"Symbol","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"967","Unicode hex":"3C7"},{"Typeface name":"Symbol","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"948","Unicode hex":"3B4"},{"Typeface name":"Symbol","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"949","Unicode hex":"3B5"},{"Typeface name":"Symbol","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"966","Unicode hex":"3C6"},{"Typeface name":"Symbol","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"947","Unicode hex":"3B3"},{"Typeface name":"Symbol","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"951","Unicode hex":"3B7"},{"Typeface name":"Symbol","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"953","Unicode hex":"3B9"},{"Typeface name":"Symbol","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"981","Unicode hex":"3D5"},{"Typeface name":"Symbol","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"954","Unicode hex":"3BA"},{"Typeface name":"Symbol","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"955","Unicode hex":"3BB"},{"Typeface name":"Symbol","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"956","Unicode hex":"3BC"},{"Typeface name":"Symbol","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"957","Unicode hex":"3BD"},{"Typeface name":"Symbol","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"959","Unicode hex":"3BF"},{"Typeface name":"Symbol","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"960","Unicode hex":"3C0"},{"Typeface name":"Symbol","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"952","Unicode hex":"3B8"},{"Typeface name":"Symbol","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"961","Unicode hex":"3C1"},{"Typeface name":"Symbol","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"963","Unicode hex":"3C3"},{"Typeface name":"Symbol","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"964","Unicode hex":"3C4"},{"Typeface name":"Symbol","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"965","Unicode hex":"3C5"},{"Typeface name":"Symbol","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"982","Unicode hex":"3D6"},{"Typeface name":"Symbol","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"969","Unicode hex":"3C9"},{"Typeface name":"Symbol","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"958","Unicode hex":"3BE"},{"Typeface name":"Symbol","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"968","Unicode hex":"3C8"},{"Typeface name":"Symbol","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"950","Unicode hex":"3B6"},{"Typeface name":"Symbol","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"123","Unicode hex":"7B"},{"Typeface name":"Symbol","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"124","Unicode hex":"7C"},{"Typeface name":"Symbol","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"125","Unicode hex":"7D"},{"Typeface name":"Symbol","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"126","Unicode hex":"7E"},{"Typeface name":"Symbol","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"8364","Unicode hex":"20AC"},{"Typeface name":"Symbol","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"978","Unicode hex":"3D2"},{"Typeface name":"Symbol","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"8242","Unicode hex":"2032"},{"Typeface name":"Symbol","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"8804","Unicode hex":"2264"},{"Typeface name":"Symbol","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"8260","Unicode hex":"2044"},{"Typeface name":"Symbol","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"8734","Unicode hex":"221E"},{"Typeface name":"Symbol","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"402","Unicode hex":"192"},{"Typeface name":"Symbol","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"9827","Unicode hex":"2663"},{"Typeface name":"Symbol","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"9830","Unicode hex":"2666"},{"Typeface name":"Symbol","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"9829","Unicode hex":"2665"},{"Typeface name":"Symbol","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"9824","Unicode hex":"2660"},{"Typeface name":"Symbol","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"8596","Unicode hex":"2194"},{"Typeface name":"Symbol","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"8592","Unicode hex":"2190"},{"Typeface name":"Symbol","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"8593","Unicode hex":"2191"},{"Typeface name":"Symbol","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"8594","Unicode hex":"2192"},{"Typeface name":"Symbol","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"8595","Unicode hex":"2193"},{"Typeface name":"Symbol","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"176","Unicode hex":"B0"},{"Typeface name":"Symbol","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"177","Unicode hex":"B1"},{"Typeface name":"Symbol","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"8243","Unicode hex":"2033"},{"Typeface name":"Symbol","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"8805","Unicode hex":"2265"},{"Typeface name":"Symbol","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"215","Unicode hex":"D7"},{"Typeface name":"Symbol","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"8733","Unicode hex":"221D"},{"Typeface name":"Symbol","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"8706","Unicode hex":"2202"},{"Typeface name":"Symbol","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"8226","Unicode hex":"2022"},{"Typeface name":"Symbol","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"247","Unicode hex":"F7"},{"Typeface name":"Symbol","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"8800","Unicode hex":"2260"},{"Typeface name":"Symbol","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"8801","Unicode hex":"2261"},{"Typeface name":"Symbol","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"8776","Unicode hex":"2248"},{"Typeface name":"Symbol","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"8230","Unicode hex":"2026"},{"Typeface name":"Symbol","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"9168","Unicode hex":"23D0"},{"Typeface name":"Symbol","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"9135","Unicode hex":"23AF"},{"Typeface name":"Symbol","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"8629","Unicode hex":"21B5"},{"Typeface name":"Symbol","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"8501","Unicode hex":"2135"},{"Typeface name":"Symbol","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"8465","Unicode hex":"2111"},{"Typeface name":"Symbol","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"8476","Unicode hex":"211C"},{"Typeface name":"Symbol","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"8472","Unicode hex":"2118"},{"Typeface name":"Symbol","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"8855","Unicode hex":"2297"},{"Typeface name":"Symbol","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"8853","Unicode hex":"2295"},{"Typeface name":"Symbol","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"8709","Unicode hex":"2205"},{"Typeface name":"Symbol","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"8745","Unicode hex":"2229"},{"Typeface name":"Symbol","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"8746","Unicode hex":"222A"},{"Typeface name":"Symbol","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"8835","Unicode hex":"2283"},{"Typeface name":"Symbol","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"8839","Unicode hex":"2287"},{"Typeface name":"Symbol","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"8836","Unicode hex":"2284"},{"Typeface name":"Symbol","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"8834","Unicode hex":"2282"},{"Typeface name":"Symbol","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"8838","Unicode hex":"2286"},{"Typeface name":"Symbol","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"8712","Unicode hex":"2208"},{"Typeface name":"Symbol","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"8713","Unicode hex":"2209"},{"Typeface name":"Symbol","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"8736","Unicode hex":"2220"},{"Typeface name":"Symbol","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"8711","Unicode hex":"2207"},{"Typeface name":"Symbol","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"174","Unicode hex":"AE"},{"Typeface name":"Symbol","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"169","Unicode hex":"A9"},{"Typeface name":"Symbol","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"8482","Unicode hex":"2122"},{"Typeface name":"Symbol","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"8719","Unicode hex":"220F"},{"Typeface name":"Symbol","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"8730","Unicode hex":"221A"},{"Typeface name":"Symbol","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"8901","Unicode hex":"22C5"},{"Typeface name":"Symbol","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"172","Unicode hex":"AC"},{"Typeface name":"Symbol","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"8743","Unicode hex":"2227"},{"Typeface name":"Symbol","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"8744","Unicode hex":"2228"},{"Typeface name":"Symbol","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"8660","Unicode hex":"21D4"},{"Typeface name":"Symbol","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"8656","Unicode hex":"21D0"},{"Typeface name":"Symbol","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"8657","Unicode hex":"21D1"},{"Typeface name":"Symbol","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"8658","Unicode hex":"21D2"},{"Typeface name":"Symbol","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"8659","Unicode hex":"21D3"},{"Typeface name":"Symbol","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"9674","Unicode hex":"25CA"},{"Typeface name":"Symbol","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"12296","Unicode hex":"3008"},{"Typeface name":"Symbol","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"174","Unicode hex":"AE"},{"Typeface name":"Symbol","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"169","Unicode hex":"A9"},{"Typeface name":"Symbol","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"8482","Unicode hex":"2122"},{"Typeface name":"Symbol","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"8721","Unicode hex":"2211"},{"Typeface name":"Symbol","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"9115","Unicode hex":"239B"},{"Typeface name":"Symbol","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"9116","Unicode hex":"239C"},{"Typeface name":"Symbol","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"9117","Unicode hex":"239D"},{"Typeface name":"Symbol","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"9121","Unicode hex":"23A1"},{"Typeface name":"Symbol","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"9122","Unicode hex":"23A2"},{"Typeface name":"Symbol","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"9123","Unicode hex":"23A3"},{"Typeface name":"Symbol","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"9127","Unicode hex":"23A7"},{"Typeface name":"Symbol","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"9128","Unicode hex":"23A8"},{"Typeface name":"Symbol","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"9129","Unicode hex":"23A9"},{"Typeface name":"Symbol","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"9130","Unicode hex":"23AA"},{"Typeface name":"Symbol","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"63743","Unicode hex":"F8FF"},{"Typeface name":"Symbol","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"12297","Unicode hex":"3009"},{"Typeface name":"Symbol","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"8747","Unicode hex":"222B"},{"Typeface name":"Symbol","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"8992","Unicode hex":"2320"},{"Typeface name":"Symbol","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"9134","Unicode hex":"23AE"},{"Typeface name":"Symbol","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"8993","Unicode hex":"2321"},{"Typeface name":"Symbol","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"9118","Unicode hex":"239E"},{"Typeface name":"Symbol","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"9119","Unicode hex":"239F"},{"Typeface name":"Symbol","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"9120","Unicode hex":"23A0"},{"Typeface name":"Symbol","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"9124","Unicode hex":"23A4"},{"Typeface name":"Symbol","Dingbat dec":"250","Dingbat hex":"FA","Unicode dec":"9125","Unicode hex":"23A5"},{"Typeface name":"Symbol","Dingbat dec":"251","Dingbat hex":"FB","Unicode dec":"9126","Unicode hex":"23A6"},{"Typeface name":"Symbol","Dingbat dec":"252","Dingbat hex":"FC","Unicode dec":"9131","Unicode hex":"23AB"},{"Typeface name":"Symbol","Dingbat dec":"253","Dingbat hex":"FD","Unicode dec":"9132","Unicode hex":"23AC"},{"Typeface name":"Symbol","Dingbat dec":"254","Dingbat hex":"FE","Unicode dec":"9133","Unicode hex":"23AD"},{"Typeface name":"Webdings","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Webdings","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"128375","Unicode hex":"1F577"},{"Typeface name":"Webdings","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"128376","Unicode hex":"1F578"},{"Typeface name":"Webdings","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"128370","Unicode hex":"1F572"},{"Typeface name":"Webdings","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"128374","Unicode hex":"1F576"},{"Typeface name":"Webdings","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"127942","Unicode hex":"1F3C6"},{"Typeface name":"Webdings","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"127894","Unicode hex":"1F396"},{"Typeface name":"Webdings","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"128391","Unicode hex":"1F587"},{"Typeface name":"Webdings","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"128488","Unicode hex":"1F5E8"},{"Typeface name":"Webdings","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"128489","Unicode hex":"1F5E9"},{"Typeface name":"Webdings","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"128496","Unicode hex":"1F5F0"},{"Typeface name":"Webdings","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"128497","Unicode hex":"1F5F1"},{"Typeface name":"Webdings","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"127798","Unicode hex":"1F336"},{"Typeface name":"Webdings","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"127895","Unicode hex":"1F397"},{"Typeface name":"Webdings","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"128638","Unicode hex":"1F67E"},{"Typeface name":"Webdings","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"128636","Unicode hex":"1F67C"},{"Typeface name":"Webdings","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"128469","Unicode hex":"1F5D5"},{"Typeface name":"Webdings","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"128470","Unicode hex":"1F5D6"},{"Typeface name":"Webdings","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"128471","Unicode hex":"1F5D7"},{"Typeface name":"Webdings","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"9204","Unicode hex":"23F4"},{"Typeface name":"Webdings","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"9205","Unicode hex":"23F5"},{"Typeface name":"Webdings","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"9206","Unicode hex":"23F6"},{"Typeface name":"Webdings","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"9207","Unicode hex":"23F7"},{"Typeface name":"Webdings","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"9194","Unicode hex":"23EA"},{"Typeface name":"Webdings","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"9193","Unicode hex":"23E9"},{"Typeface name":"Webdings","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"9198","Unicode hex":"23EE"},{"Typeface name":"Webdings","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"9197","Unicode hex":"23ED"},{"Typeface name":"Webdings","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"9208","Unicode hex":"23F8"},{"Typeface name":"Webdings","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"9209","Unicode hex":"23F9"},{"Typeface name":"Webdings","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"9210","Unicode hex":"23FA"},{"Typeface name":"Webdings","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"128474","Unicode hex":"1F5DA"},{"Typeface name":"Webdings","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"128499","Unicode hex":"1F5F3"},{"Typeface name":"Webdings","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"128736","Unicode hex":"1F6E0"},{"Typeface name":"Webdings","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"127959","Unicode hex":"1F3D7"},{"Typeface name":"Webdings","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"127960","Unicode hex":"1F3D8"},{"Typeface name":"Webdings","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"127961","Unicode hex":"1F3D9"},{"Typeface name":"Webdings","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"127962","Unicode hex":"1F3DA"},{"Typeface name":"Webdings","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"127964","Unicode hex":"1F3DC"},{"Typeface name":"Webdings","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"127981","Unicode hex":"1F3ED"},{"Typeface name":"Webdings","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"127963","Unicode hex":"1F3DB"},{"Typeface name":"Webdings","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"127968","Unicode hex":"1F3E0"},{"Typeface name":"Webdings","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"127958","Unicode hex":"1F3D6"},{"Typeface name":"Webdings","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"127965","Unicode hex":"1F3DD"},{"Typeface name":"Webdings","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"128739","Unicode hex":"1F6E3"},{"Typeface name":"Webdings","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"128269","Unicode hex":"1F50D"},{"Typeface name":"Webdings","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"127956","Unicode hex":"1F3D4"},{"Typeface name":"Webdings","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"128065","Unicode hex":"1F441"},{"Typeface name":"Webdings","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"128066","Unicode hex":"1F442"},{"Typeface name":"Webdings","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"127966","Unicode hex":"1F3DE"},{"Typeface name":"Webdings","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"127957","Unicode hex":"1F3D5"},{"Typeface name":"Webdings","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"128740","Unicode hex":"1F6E4"},{"Typeface name":"Webdings","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"127967","Unicode hex":"1F3DF"},{"Typeface name":"Webdings","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"128755","Unicode hex":"1F6F3"},{"Typeface name":"Webdings","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"128364","Unicode hex":"1F56C"},{"Typeface name":"Webdings","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"128363","Unicode hex":"1F56B"},{"Typeface name":"Webdings","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"128360","Unicode hex":"1F568"},{"Typeface name":"Webdings","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"128264","Unicode hex":"1F508"},{"Typeface name":"Webdings","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"127892","Unicode hex":"1F394"},{"Typeface name":"Webdings","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"127893","Unicode hex":"1F395"},{"Typeface name":"Webdings","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"128492","Unicode hex":"1F5EC"},{"Typeface name":"Webdings","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"128637","Unicode hex":"1F67D"},{"Typeface name":"Webdings","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"128493","Unicode hex":"1F5ED"},{"Typeface name":"Webdings","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"128490","Unicode hex":"1F5EA"},{"Typeface name":"Webdings","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"128491","Unicode hex":"1F5EB"},{"Typeface name":"Webdings","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"11156","Unicode hex":"2B94"},{"Typeface name":"Webdings","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"10004","Unicode hex":"2714"},{"Typeface name":"Webdings","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"128690","Unicode hex":"1F6B2"},{"Typeface name":"Webdings","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"11036","Unicode hex":"2B1C"},{"Typeface name":"Webdings","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"128737","Unicode hex":"1F6E1"},{"Typeface name":"Webdings","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"128230","Unicode hex":"1F4E6"},{"Typeface name":"Webdings","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"128753","Unicode hex":"1F6F1"},{"Typeface name":"Webdings","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"11035","Unicode hex":"2B1B"},{"Typeface name":"Webdings","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"128657","Unicode hex":"1F691"},{"Typeface name":"Webdings","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"128712","Unicode hex":"1F6C8"},{"Typeface name":"Webdings","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"128745","Unicode hex":"1F6E9"},{"Typeface name":"Webdings","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"128752","Unicode hex":"1F6F0"},{"Typeface name":"Webdings","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"128968","Unicode hex":"1F7C8"},{"Typeface name":"Webdings","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"128372","Unicode hex":"1F574"},{"Typeface name":"Webdings","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"11044","Unicode hex":"2B24"},{"Typeface name":"Webdings","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"128741","Unicode hex":"1F6E5"},{"Typeface name":"Webdings","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"128660","Unicode hex":"1F694"},{"Typeface name":"Webdings","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"128472","Unicode hex":"1F5D8"},{"Typeface name":"Webdings","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"128473","Unicode hex":"1F5D9"},{"Typeface name":"Webdings","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"10067","Unicode hex":"2753"},{"Typeface name":"Webdings","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"128754","Unicode hex":"1F6F2"},{"Typeface name":"Webdings","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"128647","Unicode hex":"1F687"},{"Typeface name":"Webdings","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"128653","Unicode hex":"1F68D"},{"Typeface name":"Webdings","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"9971","Unicode hex":"26F3"},{"Typeface name":"Webdings","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"10680","Unicode hex":"29B8"},{"Typeface name":"Webdings","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"8854","Unicode hex":"2296"},{"Typeface name":"Webdings","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"128685","Unicode hex":"1F6AD"},{"Typeface name":"Webdings","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"128494","Unicode hex":"1F5EE"},{"Typeface name":"Webdings","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"9168","Unicode hex":"23D0"},{"Typeface name":"Webdings","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"128495","Unicode hex":"1F5EF"},{"Typeface name":"Webdings","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"128498","Unicode hex":"1F5F2"},{"Typeface name":"Webdings","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"128697","Unicode hex":"1F6B9"},{"Typeface name":"Webdings","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"128698","Unicode hex":"1F6BA"},{"Typeface name":"Webdings","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"128713","Unicode hex":"1F6C9"},{"Typeface name":"Webdings","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"128714","Unicode hex":"1F6CA"},{"Typeface name":"Webdings","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"128700","Unicode hex":"1F6BC"},{"Typeface name":"Webdings","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"128125","Unicode hex":"1F47D"},{"Typeface name":"Webdings","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"127947","Unicode hex":"1F3CB"},{"Typeface name":"Webdings","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"9975","Unicode hex":"26F7"},{"Typeface name":"Webdings","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"127938","Unicode hex":"1F3C2"},{"Typeface name":"Webdings","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"127948","Unicode hex":"1F3CC"},{"Typeface name":"Webdings","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"127946","Unicode hex":"1F3CA"},{"Typeface name":"Webdings","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"127940","Unicode hex":"1F3C4"},{"Typeface name":"Webdings","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"127949","Unicode hex":"1F3CD"},{"Typeface name":"Webdings","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"127950","Unicode hex":"1F3CE"},{"Typeface name":"Webdings","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"128664","Unicode hex":"1F698"},{"Typeface name":"Webdings","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"128480","Unicode hex":"1F5E0"},{"Typeface name":"Webdings","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"128738","Unicode hex":"1F6E2"},{"Typeface name":"Webdings","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"128176","Unicode hex":"1F4B0"},{"Typeface name":"Webdings","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"127991","Unicode hex":"1F3F7"},{"Typeface name":"Webdings","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"128179","Unicode hex":"1F4B3"},{"Typeface name":"Webdings","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"128106","Unicode hex":"1F46A"},{"Typeface name":"Webdings","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"128481","Unicode hex":"1F5E1"},{"Typeface name":"Webdings","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"128482","Unicode hex":"1F5E2"},{"Typeface name":"Webdings","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"128483","Unicode hex":"1F5E3"},{"Typeface name":"Webdings","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"10031","Unicode hex":"272F"},{"Typeface name":"Webdings","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"128388","Unicode hex":"1F584"},{"Typeface name":"Webdings","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"128389","Unicode hex":"1F585"},{"Typeface name":"Webdings","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"128387","Unicode hex":"1F583"},{"Typeface name":"Webdings","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"128390","Unicode hex":"1F586"},{"Typeface name":"Webdings","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"128441","Unicode hex":"1F5B9"},{"Typeface name":"Webdings","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"128442","Unicode hex":"1F5BA"},{"Typeface name":"Webdings","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"128443","Unicode hex":"1F5BB"},{"Typeface name":"Webdings","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"128373","Unicode hex":"1F575"},{"Typeface name":"Webdings","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"128368","Unicode hex":"1F570"},{"Typeface name":"Webdings","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"128445","Unicode hex":"1F5BD"},{"Typeface name":"Webdings","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"128446","Unicode hex":"1F5BE"},{"Typeface name":"Webdings","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"128203","Unicode hex":"1F4CB"},{"Typeface name":"Webdings","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"128466","Unicode hex":"1F5D2"},{"Typeface name":"Webdings","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"128467","Unicode hex":"1F5D3"},{"Typeface name":"Webdings","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"128366","Unicode hex":"1F56E"},{"Typeface name":"Webdings","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"128218","Unicode hex":"1F4DA"},{"Typeface name":"Webdings","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"128478","Unicode hex":"1F5DE"},{"Typeface name":"Webdings","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"128479","Unicode hex":"1F5DF"},{"Typeface name":"Webdings","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"128451","Unicode hex":"1F5C3"},{"Typeface name":"Webdings","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"128450","Unicode hex":"1F5C2"},{"Typeface name":"Webdings","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"128444","Unicode hex":"1F5BC"},{"Typeface name":"Webdings","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"127917","Unicode hex":"1F3AD"},{"Typeface name":"Webdings","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"127900","Unicode hex":"1F39C"},{"Typeface name":"Webdings","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"127896","Unicode hex":"1F398"},{"Typeface name":"Webdings","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"127897","Unicode hex":"1F399"},{"Typeface name":"Webdings","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"127911","Unicode hex":"1F3A7"},{"Typeface name":"Webdings","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"128191","Unicode hex":"1F4BF"},{"Typeface name":"Webdings","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"127902","Unicode hex":"1F39E"},{"Typeface name":"Webdings","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"128247","Unicode hex":"1F4F7"},{"Typeface name":"Webdings","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"127903","Unicode hex":"1F39F"},{"Typeface name":"Webdings","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"127916","Unicode hex":"1F3AC"},{"Typeface name":"Webdings","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"128253","Unicode hex":"1F4FD"},{"Typeface name":"Webdings","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"128249","Unicode hex":"1F4F9"},{"Typeface name":"Webdings","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"128254","Unicode hex":"1F4FE"},{"Typeface name":"Webdings","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"128251","Unicode hex":"1F4FB"},{"Typeface name":"Webdings","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"127898","Unicode hex":"1F39A"},{"Typeface name":"Webdings","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"127899","Unicode hex":"1F39B"},{"Typeface name":"Webdings","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"128250","Unicode hex":"1F4FA"},{"Typeface name":"Webdings","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"128187","Unicode hex":"1F4BB"},{"Typeface name":"Webdings","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"128421","Unicode hex":"1F5A5"},{"Typeface name":"Webdings","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"128422","Unicode hex":"1F5A6"},{"Typeface name":"Webdings","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"128423","Unicode hex":"1F5A7"},{"Typeface name":"Webdings","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"128377","Unicode hex":"1F579"},{"Typeface name":"Webdings","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"127918","Unicode hex":"1F3AE"},{"Typeface name":"Webdings","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"128379","Unicode hex":"1F57B"},{"Typeface name":"Webdings","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"128380","Unicode hex":"1F57C"},{"Typeface name":"Webdings","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"128223","Unicode hex":"1F4DF"},{"Typeface name":"Webdings","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"128385","Unicode hex":"1F581"},{"Typeface name":"Webdings","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"128384","Unicode hex":"1F580"},{"Typeface name":"Webdings","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"128424","Unicode hex":"1F5A8"},{"Typeface name":"Webdings","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"128425","Unicode hex":"1F5A9"},{"Typeface name":"Webdings","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"128447","Unicode hex":"1F5BF"},{"Typeface name":"Webdings","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"128426","Unicode hex":"1F5AA"},{"Typeface name":"Webdings","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"128476","Unicode hex":"1F5DC"},{"Typeface name":"Webdings","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"128274","Unicode hex":"1F512"},{"Typeface name":"Webdings","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"128275","Unicode hex":"1F513"},{"Typeface name":"Webdings","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"128477","Unicode hex":"1F5DD"},{"Typeface name":"Webdings","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"128229","Unicode hex":"1F4E5"},{"Typeface name":"Webdings","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"128228","Unicode hex":"1F4E4"},{"Typeface name":"Webdings","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"128371","Unicode hex":"1F573"},{"Typeface name":"Webdings","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"127779","Unicode hex":"1F323"},{"Typeface name":"Webdings","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"127780","Unicode hex":"1F324"},{"Typeface name":"Webdings","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"127781","Unicode hex":"1F325"},{"Typeface name":"Webdings","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"127782","Unicode hex":"1F326"},{"Typeface name":"Webdings","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"9729","Unicode hex":"2601"},{"Typeface name":"Webdings","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"127784","Unicode hex":"1F328"},{"Typeface name":"Webdings","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"127783","Unicode hex":"1F327"},{"Typeface name":"Webdings","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"127785","Unicode hex":"1F329"},{"Typeface name":"Webdings","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"127786","Unicode hex":"1F32A"},{"Typeface name":"Webdings","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"127788","Unicode hex":"1F32C"},{"Typeface name":"Webdings","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"127787","Unicode hex":"1F32B"},{"Typeface name":"Webdings","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"127772","Unicode hex":"1F31C"},{"Typeface name":"Webdings","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"127777","Unicode hex":"1F321"},{"Typeface name":"Webdings","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"128715","Unicode hex":"1F6CB"},{"Typeface name":"Webdings","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"128719","Unicode hex":"1F6CF"},{"Typeface name":"Webdings","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"127869","Unicode hex":"1F37D"},{"Typeface name":"Webdings","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"127864","Unicode hex":"1F378"},{"Typeface name":"Webdings","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"128718","Unicode hex":"1F6CE"},{"Typeface name":"Webdings","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"128717","Unicode hex":"1F6CD"},{"Typeface name":"Webdings","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"9413","Unicode hex":"24C5"},{"Typeface name":"Webdings","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"9855","Unicode hex":"267F"},{"Typeface name":"Webdings","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"128710","Unicode hex":"1F6C6"},{"Typeface name":"Webdings","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"128392","Unicode hex":"1F588"},{"Typeface name":"Webdings","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"127891","Unicode hex":"1F393"},{"Typeface name":"Webdings","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"128484","Unicode hex":"1F5E4"},{"Typeface name":"Webdings","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"128485","Unicode hex":"1F5E5"},{"Typeface name":"Webdings","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"128486","Unicode hex":"1F5E6"},{"Typeface name":"Webdings","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"128487","Unicode hex":"1F5E7"},{"Typeface name":"Webdings","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"128746","Unicode hex":"1F6EA"},{"Typeface name":"Webdings","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"128063","Unicode hex":"1F43F"},{"Typeface name":"Webdings","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"128038","Unicode hex":"1F426"},{"Typeface name":"Webdings","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"128031","Unicode hex":"1F41F"},{"Typeface name":"Webdings","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"128021","Unicode hex":"1F415"},{"Typeface name":"Webdings","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"128008","Unicode hex":"1F408"},{"Typeface name":"Webdings","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"128620","Unicode hex":"1F66C"},{"Typeface name":"Webdings","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"128622","Unicode hex":"1F66E"},{"Typeface name":"Webdings","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"128621","Unicode hex":"1F66D"},{"Typeface name":"Webdings","Dingbat dec":"250","Dingbat hex":"FA","Unicode dec":"128623","Unicode hex":"1F66F"},{"Typeface name":"Webdings","Dingbat dec":"251","Dingbat hex":"FB","Unicode dec":"128506","Unicode hex":"1F5FA"},{"Typeface name":"Webdings","Dingbat dec":"252","Dingbat hex":"FC","Unicode dec":"127757","Unicode hex":"1F30D"},{"Typeface name":"Webdings","Dingbat dec":"253","Dingbat hex":"FD","Unicode dec":"127759","Unicode hex":"1F30F"},{"Typeface name":"Webdings","Dingbat dec":"254","Dingbat hex":"FE","Unicode dec":"127758","Unicode hex":"1F30E"},{"Typeface name":"Webdings","Dingbat dec":"255","Dingbat hex":"FF","Unicode dec":"128330","Unicode hex":"1F54A"},{"Typeface name":"Wingdings","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Wingdings","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"128393","Unicode hex":"1F589"},{"Typeface name":"Wingdings","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"9986","Unicode hex":"2702"},{"Typeface name":"Wingdings","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"9985","Unicode hex":"2701"},{"Typeface name":"Wingdings","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"128083","Unicode hex":"1F453"},{"Typeface name":"Wingdings","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"128365","Unicode hex":"1F56D"},{"Typeface name":"Wingdings","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"128366","Unicode hex":"1F56E"},{"Typeface name":"Wingdings","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"128367","Unicode hex":"1F56F"},{"Typeface name":"Wingdings","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"128383","Unicode hex":"1F57F"},{"Typeface name":"Wingdings","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"9990","Unicode hex":"2706"},{"Typeface name":"Wingdings","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"128386","Unicode hex":"1F582"},{"Typeface name":"Wingdings","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"128387","Unicode hex":"1F583"},{"Typeface name":"Wingdings","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"128234","Unicode hex":"1F4EA"},{"Typeface name":"Wingdings","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"128235","Unicode hex":"1F4EB"},{"Typeface name":"Wingdings","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"128236","Unicode hex":"1F4EC"},{"Typeface name":"Wingdings","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"128237","Unicode hex":"1F4ED"},{"Typeface name":"Wingdings","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"128448","Unicode hex":"1F5C0"},{"Typeface name":"Wingdings","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"128449","Unicode hex":"1F5C1"},{"Typeface name":"Wingdings","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"128462","Unicode hex":"1F5CE"},{"Typeface name":"Wingdings","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"128463","Unicode hex":"1F5CF"},{"Typeface name":"Wingdings","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"128464","Unicode hex":"1F5D0"},{"Typeface name":"Wingdings","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"128452","Unicode hex":"1F5C4"},{"Typeface name":"Wingdings","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"8987","Unicode hex":"231B"},{"Typeface name":"Wingdings","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"128430","Unicode hex":"1F5AE"},{"Typeface name":"Wingdings","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"128432","Unicode hex":"1F5B0"},{"Typeface name":"Wingdings","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"128434","Unicode hex":"1F5B2"},{"Typeface name":"Wingdings","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"128435","Unicode hex":"1F5B3"},{"Typeface name":"Wingdings","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"128436","Unicode hex":"1F5B4"},{"Typeface name":"Wingdings","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"128427","Unicode hex":"1F5AB"},{"Typeface name":"Wingdings","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"128428","Unicode hex":"1F5AC"},{"Typeface name":"Wingdings","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"9991","Unicode hex":"2707"},{"Typeface name":"Wingdings","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"9997","Unicode hex":"270D"},{"Typeface name":"Wingdings","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"128398","Unicode hex":"1F58E"},{"Typeface name":"Wingdings","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"9996","Unicode hex":"270C"},{"Typeface name":"Wingdings","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"128399","Unicode hex":"1F58F"},{"Typeface name":"Wingdings","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"128077","Unicode hex":"1F44D"},{"Typeface name":"Wingdings","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"128078","Unicode hex":"1F44E"},{"Typeface name":"Wingdings","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"9756","Unicode hex":"261C"},{"Typeface name":"Wingdings","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"9758","Unicode hex":"261E"},{"Typeface name":"Wingdings","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"9757","Unicode hex":"261D"},{"Typeface name":"Wingdings","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"9759","Unicode hex":"261F"},{"Typeface name":"Wingdings","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"128400","Unicode hex":"1F590"},{"Typeface name":"Wingdings","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"9786","Unicode hex":"263A"},{"Typeface name":"Wingdings","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"128528","Unicode hex":"1F610"},{"Typeface name":"Wingdings","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"9785","Unicode hex":"2639"},{"Typeface name":"Wingdings","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"128163","Unicode hex":"1F4A3"},{"Typeface name":"Wingdings","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"128369","Unicode hex":"1F571"},{"Typeface name":"Wingdings","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"127987","Unicode hex":"1F3F3"},{"Typeface name":"Wingdings","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"127985","Unicode hex":"1F3F1"},{"Typeface name":"Wingdings","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"9992","Unicode hex":"2708"},{"Typeface name":"Wingdings","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"9788","Unicode hex":"263C"},{"Typeface name":"Wingdings","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"127778","Unicode hex":"1F322"},{"Typeface name":"Wingdings","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"10052","Unicode hex":"2744"},{"Typeface name":"Wingdings","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"128326","Unicode hex":"1F546"},{"Typeface name":"Wingdings","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"10014","Unicode hex":"271E"},{"Typeface name":"Wingdings","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"128328","Unicode hex":"1F548"},{"Typeface name":"Wingdings","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"10016","Unicode hex":"2720"},{"Typeface name":"Wingdings","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"10017","Unicode hex":"2721"},{"Typeface name":"Wingdings","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"9770","Unicode hex":"262A"},{"Typeface name":"Wingdings","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"9775","Unicode hex":"262F"},{"Typeface name":"Wingdings","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"128329","Unicode hex":"1F549"},{"Typeface name":"Wingdings","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"9784","Unicode hex":"2638"},{"Typeface name":"Wingdings","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"9800","Unicode hex":"2648"},{"Typeface name":"Wingdings","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"9801","Unicode hex":"2649"},{"Typeface name":"Wingdings","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"9802","Unicode hex":"264A"},{"Typeface name":"Wingdings","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"9803","Unicode hex":"264B"},{"Typeface name":"Wingdings","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"9804","Unicode hex":"264C"},{"Typeface name":"Wingdings","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"9805","Unicode hex":"264D"},{"Typeface name":"Wingdings","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"9806","Unicode hex":"264E"},{"Typeface name":"Wingdings","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"9807","Unicode hex":"264F"},{"Typeface name":"Wingdings","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"9808","Unicode hex":"2650"},{"Typeface name":"Wingdings","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"9809","Unicode hex":"2651"},{"Typeface name":"Wingdings","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"9810","Unicode hex":"2652"},{"Typeface name":"Wingdings","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"9811","Unicode hex":"2653"},{"Typeface name":"Wingdings","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"128624","Unicode hex":"1F670"},{"Typeface name":"Wingdings","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"128629","Unicode hex":"1F675"},{"Typeface name":"Wingdings","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"9899","Unicode hex":"26AB"},{"Typeface name":"Wingdings","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"128318","Unicode hex":"1F53E"},{"Typeface name":"Wingdings","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"9724","Unicode hex":"25FC"},{"Typeface name":"Wingdings","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"128911","Unicode hex":"1F78F"},{"Typeface name":"Wingdings","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"128912","Unicode hex":"1F790"},{"Typeface name":"Wingdings","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"10065","Unicode hex":"2751"},{"Typeface name":"Wingdings","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"10066","Unicode hex":"2752"},{"Typeface name":"Wingdings","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"128927","Unicode hex":"1F79F"},{"Typeface name":"Wingdings","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"10731","Unicode hex":"29EB"},{"Typeface name":"Wingdings","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"9670","Unicode hex":"25C6"},{"Typeface name":"Wingdings","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"10070","Unicode hex":"2756"},{"Typeface name":"Wingdings","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"11049","Unicode hex":"2B29"},{"Typeface name":"Wingdings","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"8999","Unicode hex":"2327"},{"Typeface name":"Wingdings","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"11193","Unicode hex":"2BB9"},{"Typeface name":"Wingdings","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"8984","Unicode hex":"2318"},{"Typeface name":"Wingdings","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"127989","Unicode hex":"1F3F5"},{"Typeface name":"Wingdings","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"127990","Unicode hex":"1F3F6"},{"Typeface name":"Wingdings","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"128630","Unicode hex":"1F676"},{"Typeface name":"Wingdings","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"128631","Unicode hex":"1F677"},{"Typeface name":"Wingdings","Dingbat dec":"127","Dingbat hex":"7F","Unicode dec":"9647","Unicode hex":"25AF"},{"Typeface name":"Wingdings","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"127243","Unicode hex":"1F10B"},{"Typeface name":"Wingdings","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"10112","Unicode hex":"2780"},{"Typeface name":"Wingdings","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"10113","Unicode hex":"2781"},{"Typeface name":"Wingdings","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"10114","Unicode hex":"2782"},{"Typeface name":"Wingdings","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"10115","Unicode hex":"2783"},{"Typeface name":"Wingdings","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"10116","Unicode hex":"2784"},{"Typeface name":"Wingdings","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"10117","Unicode hex":"2785"},{"Typeface name":"Wingdings","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"10118","Unicode hex":"2786"},{"Typeface name":"Wingdings","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"10119","Unicode hex":"2787"},{"Typeface name":"Wingdings","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"10120","Unicode hex":"2788"},{"Typeface name":"Wingdings","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"10121","Unicode hex":"2789"},{"Typeface name":"Wingdings","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"127244","Unicode hex":"1F10C"},{"Typeface name":"Wingdings","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"10122","Unicode hex":"278A"},{"Typeface name":"Wingdings","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"10123","Unicode hex":"278B"},{"Typeface name":"Wingdings","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"10124","Unicode hex":"278C"},{"Typeface name":"Wingdings","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"10125","Unicode hex":"278D"},{"Typeface name":"Wingdings","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"10126","Unicode hex":"278E"},{"Typeface name":"Wingdings","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"10127","Unicode hex":"278F"},{"Typeface name":"Wingdings","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"10128","Unicode hex":"2790"},{"Typeface name":"Wingdings","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"10129","Unicode hex":"2791"},{"Typeface name":"Wingdings","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"10130","Unicode hex":"2792"},{"Typeface name":"Wingdings","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"10131","Unicode hex":"2793"},{"Typeface name":"Wingdings","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"128610","Unicode hex":"1F662"},{"Typeface name":"Wingdings","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"128608","Unicode hex":"1F660"},{"Typeface name":"Wingdings","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"128609","Unicode hex":"1F661"},{"Typeface name":"Wingdings","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"128611","Unicode hex":"1F663"},{"Typeface name":"Wingdings","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"128606","Unicode hex":"1F65E"},{"Typeface name":"Wingdings","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"128604","Unicode hex":"1F65C"},{"Typeface name":"Wingdings","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"128605","Unicode hex":"1F65D"},{"Typeface name":"Wingdings","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"128607","Unicode hex":"1F65F"},{"Typeface name":"Wingdings","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"8729","Unicode hex":"2219"},{"Typeface name":"Wingdings","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"8226","Unicode hex":"2022"},{"Typeface name":"Wingdings","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"11037","Unicode hex":"2B1D"},{"Typeface name":"Wingdings","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"11096","Unicode hex":"2B58"},{"Typeface name":"Wingdings","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"128902","Unicode hex":"1F786"},{"Typeface name":"Wingdings","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"128904","Unicode hex":"1F788"},{"Typeface name":"Wingdings","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"128906","Unicode hex":"1F78A"},{"Typeface name":"Wingdings","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"128907","Unicode hex":"1F78B"},{"Typeface name":"Wingdings","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"128319","Unicode hex":"1F53F"},{"Typeface name":"Wingdings","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"9642","Unicode hex":"25AA"},{"Typeface name":"Wingdings","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"128910","Unicode hex":"1F78E"},{"Typeface name":"Wingdings","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"128961","Unicode hex":"1F7C1"},{"Typeface name":"Wingdings","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"128965","Unicode hex":"1F7C5"},{"Typeface name":"Wingdings","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"9733","Unicode hex":"2605"},{"Typeface name":"Wingdings","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"128971","Unicode hex":"1F7CB"},{"Typeface name":"Wingdings","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"128975","Unicode hex":"1F7CF"},{"Typeface name":"Wingdings","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"128979","Unicode hex":"1F7D3"},{"Typeface name":"Wingdings","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"128977","Unicode hex":"1F7D1"},{"Typeface name":"Wingdings","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"11216","Unicode hex":"2BD0"},{"Typeface name":"Wingdings","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"8982","Unicode hex":"2316"},{"Typeface name":"Wingdings","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"11214","Unicode hex":"2BCE"},{"Typeface name":"Wingdings","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"11215","Unicode hex":"2BCF"},{"Typeface name":"Wingdings","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"11217","Unicode hex":"2BD1"},{"Typeface name":"Wingdings","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"10026","Unicode hex":"272A"},{"Typeface name":"Wingdings","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"10032","Unicode hex":"2730"},{"Typeface name":"Wingdings","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"128336","Unicode hex":"1F550"},{"Typeface name":"Wingdings","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"128337","Unicode hex":"1F551"},{"Typeface name":"Wingdings","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"128338","Unicode hex":"1F552"},{"Typeface name":"Wingdings","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"128339","Unicode hex":"1F553"},{"Typeface name":"Wingdings","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"128340","Unicode hex":"1F554"},{"Typeface name":"Wingdings","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"128341","Unicode hex":"1F555"},{"Typeface name":"Wingdings","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"128342","Unicode hex":"1F556"},{"Typeface name":"Wingdings","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"128343","Unicode hex":"1F557"},{"Typeface name":"Wingdings","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"128344","Unicode hex":"1F558"},{"Typeface name":"Wingdings","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"128345","Unicode hex":"1F559"},{"Typeface name":"Wingdings","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"128346","Unicode hex":"1F55A"},{"Typeface name":"Wingdings","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"128347","Unicode hex":"1F55B"},{"Typeface name":"Wingdings","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"11184","Unicode hex":"2BB0"},{"Typeface name":"Wingdings","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"11185","Unicode hex":"2BB1"},{"Typeface name":"Wingdings","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"11186","Unicode hex":"2BB2"},{"Typeface name":"Wingdings","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"11187","Unicode hex":"2BB3"},{"Typeface name":"Wingdings","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"11188","Unicode hex":"2BB4"},{"Typeface name":"Wingdings","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"11189","Unicode hex":"2BB5"},{"Typeface name":"Wingdings","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"11190","Unicode hex":"2BB6"},{"Typeface name":"Wingdings","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"11191","Unicode hex":"2BB7"},{"Typeface name":"Wingdings","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"128618","Unicode hex":"1F66A"},{"Typeface name":"Wingdings","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"128619","Unicode hex":"1F66B"},{"Typeface name":"Wingdings","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"128597","Unicode hex":"1F655"},{"Typeface name":"Wingdings","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"128596","Unicode hex":"1F654"},{"Typeface name":"Wingdings","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"128599","Unicode hex":"1F657"},{"Typeface name":"Wingdings","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"128598","Unicode hex":"1F656"},{"Typeface name":"Wingdings","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"128592","Unicode hex":"1F650"},{"Typeface name":"Wingdings","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"128593","Unicode hex":"1F651"},{"Typeface name":"Wingdings","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"128594","Unicode hex":"1F652"},{"Typeface name":"Wingdings","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"128595","Unicode hex":"1F653"},{"Typeface name":"Wingdings","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"9003","Unicode hex":"232B"},{"Typeface name":"Wingdings","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"8998","Unicode hex":"2326"},{"Typeface name":"Wingdings","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"11160","Unicode hex":"2B98"},{"Typeface name":"Wingdings","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"11162","Unicode hex":"2B9A"},{"Typeface name":"Wingdings","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"11161","Unicode hex":"2B99"},{"Typeface name":"Wingdings","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"11163","Unicode hex":"2B9B"},{"Typeface name":"Wingdings","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"11144","Unicode hex":"2B88"},{"Typeface name":"Wingdings","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"11146","Unicode hex":"2B8A"},{"Typeface name":"Wingdings","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"11145","Unicode hex":"2B89"},{"Typeface name":"Wingdings","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"11147","Unicode hex":"2B8B"},{"Typeface name":"Wingdings","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"129128","Unicode hex":"1F868"},{"Typeface name":"Wingdings","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"129130","Unicode hex":"1F86A"},{"Typeface name":"Wingdings","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"129129","Unicode hex":"1F869"},{"Typeface name":"Wingdings","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"129131","Unicode hex":"1F86B"},{"Typeface name":"Wingdings","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"129132","Unicode hex":"1F86C"},{"Typeface name":"Wingdings","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"129133","Unicode hex":"1F86D"},{"Typeface name":"Wingdings","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"129135","Unicode hex":"1F86F"},{"Typeface name":"Wingdings","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"129134","Unicode hex":"1F86E"},{"Typeface name":"Wingdings","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"129144","Unicode hex":"1F878"},{"Typeface name":"Wingdings","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"129146","Unicode hex":"1F87A"},{"Typeface name":"Wingdings","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"129145","Unicode hex":"1F879"},{"Typeface name":"Wingdings","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"129147","Unicode hex":"1F87B"},{"Typeface name":"Wingdings","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"129148","Unicode hex":"1F87C"},{"Typeface name":"Wingdings","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"129149","Unicode hex":"1F87D"},{"Typeface name":"Wingdings","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"129151","Unicode hex":"1F87F"},{"Typeface name":"Wingdings","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"129150","Unicode hex":"1F87E"},{"Typeface name":"Wingdings","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"8678","Unicode hex":"21E6"},{"Typeface name":"Wingdings","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"8680","Unicode hex":"21E8"},{"Typeface name":"Wingdings","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"8679","Unicode hex":"21E7"},{"Typeface name":"Wingdings","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"8681","Unicode hex":"21E9"},{"Typeface name":"Wingdings","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"11012","Unicode hex":"2B04"},{"Typeface name":"Wingdings","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"8691","Unicode hex":"21F3"},{"Typeface name":"Wingdings","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"11009","Unicode hex":"2B01"},{"Typeface name":"Wingdings","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"11008","Unicode hex":"2B00"},{"Typeface name":"Wingdings","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"11011","Unicode hex":"2B03"},{"Typeface name":"Wingdings","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"11010","Unicode hex":"2B02"},{"Typeface name":"Wingdings","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"129196","Unicode hex":"1F8AC"},{"Typeface name":"Wingdings","Dingbat dec":"250","Dingbat hex":"FA","Unicode dec":"129197","Unicode hex":"1F8AD"},{"Typeface name":"Wingdings","Dingbat dec":"251","Dingbat hex":"FB","Unicode dec":"128502","Unicode hex":"1F5F6"},{"Typeface name":"Wingdings","Dingbat dec":"252","Dingbat hex":"FC","Unicode dec":"10003","Unicode hex":"2713"},{"Typeface name":"Wingdings","Dingbat dec":"253","Dingbat hex":"FD","Unicode dec":"128503","Unicode hex":"1F5F7"},{"Typeface name":"Wingdings","Dingbat dec":"254","Dingbat hex":"FE","Unicode dec":"128505","Unicode hex":"1F5F9"},{"Typeface name":"Wingdings 2","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Wingdings 2","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"128394","Unicode hex":"1F58A"},{"Typeface name":"Wingdings 2","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"128395","Unicode hex":"1F58B"},{"Typeface name":"Wingdings 2","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"128396","Unicode hex":"1F58C"},{"Typeface name":"Wingdings 2","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"128397","Unicode hex":"1F58D"},{"Typeface name":"Wingdings 2","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"9988","Unicode hex":"2704"},{"Typeface name":"Wingdings 2","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"9984","Unicode hex":"2700"},{"Typeface name":"Wingdings 2","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"128382","Unicode hex":"1F57E"},{"Typeface name":"Wingdings 2","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"128381","Unicode hex":"1F57D"},{"Typeface name":"Wingdings 2","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"128453","Unicode hex":"1F5C5"},{"Typeface name":"Wingdings 2","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"128454","Unicode hex":"1F5C6"},{"Typeface name":"Wingdings 2","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"128455","Unicode hex":"1F5C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"128456","Unicode hex":"1F5C8"},{"Typeface name":"Wingdings 2","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"128457","Unicode hex":"1F5C9"},{"Typeface name":"Wingdings 2","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"128458","Unicode hex":"1F5CA"},{"Typeface name":"Wingdings 2","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"128459","Unicode hex":"1F5CB"},{"Typeface name":"Wingdings 2","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"128460","Unicode hex":"1F5CC"},{"Typeface name":"Wingdings 2","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"128461","Unicode hex":"1F5CD"},{"Typeface name":"Wingdings 2","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"128203","Unicode hex":"1F4CB"},{"Typeface name":"Wingdings 2","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"128465","Unicode hex":"1F5D1"},{"Typeface name":"Wingdings 2","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"128468","Unicode hex":"1F5D4"},{"Typeface name":"Wingdings 2","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"128437","Unicode hex":"1F5B5"},{"Typeface name":"Wingdings 2","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"128438","Unicode hex":"1F5B6"},{"Typeface name":"Wingdings 2","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"128439","Unicode hex":"1F5B7"},{"Typeface name":"Wingdings 2","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"128440","Unicode hex":"1F5B8"},{"Typeface name":"Wingdings 2","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"128429","Unicode hex":"1F5AD"},{"Typeface name":"Wingdings 2","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"128431","Unicode hex":"1F5AF"},{"Typeface name":"Wingdings 2","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"128433","Unicode hex":"1F5B1"},{"Typeface name":"Wingdings 2","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"128402","Unicode hex":"1F592"},{"Typeface name":"Wingdings 2","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"128403","Unicode hex":"1F593"},{"Typeface name":"Wingdings 2","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"128408","Unicode hex":"1F598"},{"Typeface name":"Wingdings 2","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"128409","Unicode hex":"1F599"},{"Typeface name":"Wingdings 2","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"128410","Unicode hex":"1F59A"},{"Typeface name":"Wingdings 2","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"128411","Unicode hex":"1F59B"},{"Typeface name":"Wingdings 2","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"128072","Unicode hex":"1F448"},{"Typeface name":"Wingdings 2","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"128073","Unicode hex":"1F449"},{"Typeface name":"Wingdings 2","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"128412","Unicode hex":"1F59C"},{"Typeface name":"Wingdings 2","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"128413","Unicode hex":"1F59D"},{"Typeface name":"Wingdings 2","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"128414","Unicode hex":"1F59E"},{"Typeface name":"Wingdings 2","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"128415","Unicode hex":"1F59F"},{"Typeface name":"Wingdings 2","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"128416","Unicode hex":"1F5A0"},{"Typeface name":"Wingdings 2","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"128417","Unicode hex":"1F5A1"},{"Typeface name":"Wingdings 2","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"128070","Unicode hex":"1F446"},{"Typeface name":"Wingdings 2","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"128071","Unicode hex":"1F447"},{"Typeface name":"Wingdings 2","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"128418","Unicode hex":"1F5A2"},{"Typeface name":"Wingdings 2","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"128419","Unicode hex":"1F5A3"},{"Typeface name":"Wingdings 2","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"128401","Unicode hex":"1F591"},{"Typeface name":"Wingdings 2","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"128500","Unicode hex":"1F5F4"},{"Typeface name":"Wingdings 2","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"128504","Unicode hex":"1F5F8"},{"Typeface name":"Wingdings 2","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"128501","Unicode hex":"1F5F5"},{"Typeface name":"Wingdings 2","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"9745","Unicode hex":"2611"},{"Typeface name":"Wingdings 2","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"11197","Unicode hex":"2BBD"},{"Typeface name":"Wingdings 2","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"9746","Unicode hex":"2612"},{"Typeface name":"Wingdings 2","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"11198","Unicode hex":"2BBE"},{"Typeface name":"Wingdings 2","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"11199","Unicode hex":"2BBF"},{"Typeface name":"Wingdings 2","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"128711","Unicode hex":"1F6C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"10680","Unicode hex":"29B8"},{"Typeface name":"Wingdings 2","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"128625","Unicode hex":"1F671"},{"Typeface name":"Wingdings 2","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"128628","Unicode hex":"1F674"},{"Typeface name":"Wingdings 2","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"128626","Unicode hex":"1F672"},{"Typeface name":"Wingdings 2","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"128627","Unicode hex":"1F673"},{"Typeface name":"Wingdings 2","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"8253","Unicode hex":"203D"},{"Typeface name":"Wingdings 2","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"128633","Unicode hex":"1F679"},{"Typeface name":"Wingdings 2","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"128634","Unicode hex":"1F67A"},{"Typeface name":"Wingdings 2","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"128635","Unicode hex":"1F67B"},{"Typeface name":"Wingdings 2","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"128614","Unicode hex":"1F666"},{"Typeface name":"Wingdings 2","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"128612","Unicode hex":"1F664"},{"Typeface name":"Wingdings 2","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"128613","Unicode hex":"1F665"},{"Typeface name":"Wingdings 2","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"128615","Unicode hex":"1F667"},{"Typeface name":"Wingdings 2","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"128602","Unicode hex":"1F65A"},{"Typeface name":"Wingdings 2","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"128600","Unicode hex":"1F658"},{"Typeface name":"Wingdings 2","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"128601","Unicode hex":"1F659"},{"Typeface name":"Wingdings 2","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"128603","Unicode hex":"1F65B"},{"Typeface name":"Wingdings 2","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"9450","Unicode hex":"24EA"},{"Typeface name":"Wingdings 2","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"9312","Unicode hex":"2460"},{"Typeface name":"Wingdings 2","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"9313","Unicode hex":"2461"},{"Typeface name":"Wingdings 2","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"9314","Unicode hex":"2462"},{"Typeface name":"Wingdings 2","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"9315","Unicode hex":"2463"},{"Typeface name":"Wingdings 2","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"9316","Unicode hex":"2464"},{"Typeface name":"Wingdings 2","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"9317","Unicode hex":"2465"},{"Typeface name":"Wingdings 2","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"9318","Unicode hex":"2466"},{"Typeface name":"Wingdings 2","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"9319","Unicode hex":"2467"},{"Typeface name":"Wingdings 2","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"9320","Unicode hex":"2468"},{"Typeface name":"Wingdings 2","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"9321","Unicode hex":"2469"},{"Typeface name":"Wingdings 2","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"9471","Unicode hex":"24FF"},{"Typeface name":"Wingdings 2","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"10102","Unicode hex":"2776"},{"Typeface name":"Wingdings 2","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"10103","Unicode hex":"2777"},{"Typeface name":"Wingdings 2","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"10104","Unicode hex":"2778"},{"Typeface name":"Wingdings 2","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"10105","Unicode hex":"2779"},{"Typeface name":"Wingdings 2","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"10106","Unicode hex":"277A"},{"Typeface name":"Wingdings 2","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"10107","Unicode hex":"277B"},{"Typeface name":"Wingdings 2","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"10108","Unicode hex":"277C"},{"Typeface name":"Wingdings 2","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"10109","Unicode hex":"277D"},{"Typeface name":"Wingdings 2","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"10110","Unicode hex":"277E"},{"Typeface name":"Wingdings 2","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"10111","Unicode hex":"277F"},{"Typeface name":"Wingdings 2","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"9737","Unicode hex":"2609"},{"Typeface name":"Wingdings 2","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"127765","Unicode hex":"1F315"},{"Typeface name":"Wingdings 2","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"9789","Unicode hex":"263D"},{"Typeface name":"Wingdings 2","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"9790","Unicode hex":"263E"},{"Typeface name":"Wingdings 2","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"11839","Unicode hex":"2E3F"},{"Typeface name":"Wingdings 2","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"10013","Unicode hex":"271D"},{"Typeface name":"Wingdings 2","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"128327","Unicode hex":"1F547"},{"Typeface name":"Wingdings 2","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"128348","Unicode hex":"1F55C"},{"Typeface name":"Wingdings 2","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"128349","Unicode hex":"1F55D"},{"Typeface name":"Wingdings 2","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"128350","Unicode hex":"1F55E"},{"Typeface name":"Wingdings 2","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"128351","Unicode hex":"1F55F"},{"Typeface name":"Wingdings 2","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"128352","Unicode hex":"1F560"},{"Typeface name":"Wingdings 2","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"128353","Unicode hex":"1F561"},{"Typeface name":"Wingdings 2","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"128354","Unicode hex":"1F562"},{"Typeface name":"Wingdings 2","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"128355","Unicode hex":"1F563"},{"Typeface name":"Wingdings 2","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"128356","Unicode hex":"1F564"},{"Typeface name":"Wingdings 2","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"128357","Unicode hex":"1F565"},{"Typeface name":"Wingdings 2","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"128358","Unicode hex":"1F566"},{"Typeface name":"Wingdings 2","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"128359","Unicode hex":"1F567"},{"Typeface name":"Wingdings 2","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"128616","Unicode hex":"1F668"},{"Typeface name":"Wingdings 2","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"128617","Unicode hex":"1F669"},{"Typeface name":"Wingdings 2","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"8901","Unicode hex":"22C5"},{"Typeface name":"Wingdings 2","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"128900","Unicode hex":"1F784"},{"Typeface name":"Wingdings 2","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"10625","Unicode hex":"2981"},{"Typeface name":"Wingdings 2","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"9679","Unicode hex":"25CF"},{"Typeface name":"Wingdings 2","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"9675","Unicode hex":"25CB"},{"Typeface name":"Wingdings 2","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"128901","Unicode hex":"1F785"},{"Typeface name":"Wingdings 2","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"128903","Unicode hex":"1F787"},{"Typeface name":"Wingdings 2","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"128905","Unicode hex":"1F789"},{"Typeface name":"Wingdings 2","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"8857","Unicode hex":"2299"},{"Typeface name":"Wingdings 2","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"10687","Unicode hex":"29BF"},{"Typeface name":"Wingdings 2","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"128908","Unicode hex":"1F78C"},{"Typeface name":"Wingdings 2","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"128909","Unicode hex":"1F78D"},{"Typeface name":"Wingdings 2","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"9726","Unicode hex":"25FE"},{"Typeface name":"Wingdings 2","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"9632","Unicode hex":"25A0"},{"Typeface name":"Wingdings 2","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"9633","Unicode hex":"25A1"},{"Typeface name":"Wingdings 2","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"128913","Unicode hex":"1F791"},{"Typeface name":"Wingdings 2","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"128914","Unicode hex":"1F792"},{"Typeface name":"Wingdings 2","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"128915","Unicode hex":"1F793"},{"Typeface name":"Wingdings 2","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"128916","Unicode hex":"1F794"},{"Typeface name":"Wingdings 2","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"9635","Unicode hex":"25A3"},{"Typeface name":"Wingdings 2","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"128917","Unicode hex":"1F795"},{"Typeface name":"Wingdings 2","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"128918","Unicode hex":"1F796"},{"Typeface name":"Wingdings 2","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"128919","Unicode hex":"1F797"},{"Typeface name":"Wingdings 2","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"128920","Unicode hex":"1F798"},{"Typeface name":"Wingdings 2","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"11049","Unicode hex":"2B29"},{"Typeface name":"Wingdings 2","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"11045","Unicode hex":"2B25"},{"Typeface name":"Wingdings 2","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"9671","Unicode hex":"25C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"128922","Unicode hex":"1F79A"},{"Typeface name":"Wingdings 2","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"9672","Unicode hex":"25C8"},{"Typeface name":"Wingdings 2","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"128923","Unicode hex":"1F79B"},{"Typeface name":"Wingdings 2","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"128924","Unicode hex":"1F79C"},{"Typeface name":"Wingdings 2","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"128925","Unicode hex":"1F79D"},{"Typeface name":"Wingdings 2","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"128926","Unicode hex":"1F79E"},{"Typeface name":"Wingdings 2","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"11050","Unicode hex":"2B2A"},{"Typeface name":"Wingdings 2","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"11047","Unicode hex":"2B27"},{"Typeface name":"Wingdings 2","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"9674","Unicode hex":"25CA"},{"Typeface name":"Wingdings 2","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"128928","Unicode hex":"1F7A0"},{"Typeface name":"Wingdings 2","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"9686","Unicode hex":"25D6"},{"Typeface name":"Wingdings 2","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"9687","Unicode hex":"25D7"},{"Typeface name":"Wingdings 2","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"11210","Unicode hex":"2BCA"},{"Typeface name":"Wingdings 2","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"11211","Unicode hex":"2BCB"},{"Typeface name":"Wingdings 2","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"11200","Unicode hex":"2BC0"},{"Typeface name":"Wingdings 2","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"11201","Unicode hex":"2BC1"},{"Typeface name":"Wingdings 2","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"11039","Unicode hex":"2B1F"},{"Typeface name":"Wingdings 2","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"11202","Unicode hex":"2BC2"},{"Typeface name":"Wingdings 2","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"11043","Unicode hex":"2B23"},{"Typeface name":"Wingdings 2","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"11042","Unicode hex":"2B22"},{"Typeface name":"Wingdings 2","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"11203","Unicode hex":"2BC3"},{"Typeface name":"Wingdings 2","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"11204","Unicode hex":"2BC4"},{"Typeface name":"Wingdings 2","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"128929","Unicode hex":"1F7A1"},{"Typeface name":"Wingdings 2","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"128930","Unicode hex":"1F7A2"},{"Typeface name":"Wingdings 2","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"128931","Unicode hex":"1F7A3"},{"Typeface name":"Wingdings 2","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"128932","Unicode hex":"1F7A4"},{"Typeface name":"Wingdings 2","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"128933","Unicode hex":"1F7A5"},{"Typeface name":"Wingdings 2","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"128934","Unicode hex":"1F7A6"},{"Typeface name":"Wingdings 2","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"128935","Unicode hex":"1F7A7"},{"Typeface name":"Wingdings 2","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"128936","Unicode hex":"1F7A8"},{"Typeface name":"Wingdings 2","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"128937","Unicode hex":"1F7A9"},{"Typeface name":"Wingdings 2","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"128938","Unicode hex":"1F7AA"},{"Typeface name":"Wingdings 2","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"128939","Unicode hex":"1F7AB"},{"Typeface name":"Wingdings 2","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"128940","Unicode hex":"1F7AC"},{"Typeface name":"Wingdings 2","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"128941","Unicode hex":"1F7AD"},{"Typeface name":"Wingdings 2","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"128942","Unicode hex":"1F7AE"},{"Typeface name":"Wingdings 2","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"128943","Unicode hex":"1F7AF"},{"Typeface name":"Wingdings 2","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"128944","Unicode hex":"1F7B0"},{"Typeface name":"Wingdings 2","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"128945","Unicode hex":"1F7B1"},{"Typeface name":"Wingdings 2","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"128946","Unicode hex":"1F7B2"},{"Typeface name":"Wingdings 2","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"128947","Unicode hex":"1F7B3"},{"Typeface name":"Wingdings 2","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"128948","Unicode hex":"1F7B4"},{"Typeface name":"Wingdings 2","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"128949","Unicode hex":"1F7B5"},{"Typeface name":"Wingdings 2","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"128950","Unicode hex":"1F7B6"},{"Typeface name":"Wingdings 2","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"128951","Unicode hex":"1F7B7"},{"Typeface name":"Wingdings 2","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"128952","Unicode hex":"1F7B8"},{"Typeface name":"Wingdings 2","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"128953","Unicode hex":"1F7B9"},{"Typeface name":"Wingdings 2","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"128954","Unicode hex":"1F7BA"},{"Typeface name":"Wingdings 2","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"128955","Unicode hex":"1F7BB"},{"Typeface name":"Wingdings 2","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"128956","Unicode hex":"1F7BC"},{"Typeface name":"Wingdings 2","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"128957","Unicode hex":"1F7BD"},{"Typeface name":"Wingdings 2","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"128958","Unicode hex":"1F7BE"},{"Typeface name":"Wingdings 2","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"128959","Unicode hex":"1F7BF"},{"Typeface name":"Wingdings 2","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"128960","Unicode hex":"1F7C0"},{"Typeface name":"Wingdings 2","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"128962","Unicode hex":"1F7C2"},{"Typeface name":"Wingdings 2","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"128964","Unicode hex":"1F7C4"},{"Typeface name":"Wingdings 2","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"128966","Unicode hex":"1F7C6"},{"Typeface name":"Wingdings 2","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"128969","Unicode hex":"1F7C9"},{"Typeface name":"Wingdings 2","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"128970","Unicode hex":"1F7CA"},{"Typeface name":"Wingdings 2","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"10038","Unicode hex":"2736"},{"Typeface name":"Wingdings 2","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"128972","Unicode hex":"1F7CC"},{"Typeface name":"Wingdings 2","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"128974","Unicode hex":"1F7CE"},{"Typeface name":"Wingdings 2","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"128976","Unicode hex":"1F7D0"},{"Typeface name":"Wingdings 2","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"128978","Unicode hex":"1F7D2"},{"Typeface name":"Wingdings 2","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"10041","Unicode hex":"2739"},{"Typeface name":"Wingdings 2","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"128963","Unicode hex":"1F7C3"},{"Typeface name":"Wingdings 2","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"128967","Unicode hex":"1F7C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"10031","Unicode hex":"272F"},{"Typeface name":"Wingdings 2","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"128973","Unicode hex":"1F7CD"},{"Typeface name":"Wingdings 2","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"128980","Unicode hex":"1F7D4"},{"Typeface name":"Wingdings 2","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"11212","Unicode hex":"2BCC"},{"Typeface name":"Wingdings 2","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"11213","Unicode hex":"2BCD"},{"Typeface name":"Wingdings 2","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"8251","Unicode hex":"203B"},{"Typeface name":"Wingdings 2","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"8258","Unicode hex":"2042"},{"Typeface name":"Wingdings 3","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Wingdings 3","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"11104","Unicode hex":"2B60"},{"Typeface name":"Wingdings 3","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"11106","Unicode hex":"2B62"},{"Typeface name":"Wingdings 3","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"11105","Unicode hex":"2B61"},{"Typeface name":"Wingdings 3","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"11107","Unicode hex":"2B63"},{"Typeface name":"Wingdings 3","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"11110","Unicode hex":"2B66"},{"Typeface name":"Wingdings 3","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"11111","Unicode hex":"2B67"},{"Typeface name":"Wingdings 3","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"11113","Unicode hex":"2B69"},{"Typeface name":"Wingdings 3","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"11112","Unicode hex":"2B68"},{"Typeface name":"Wingdings 3","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"11120","Unicode hex":"2B70"},{"Typeface name":"Wingdings 3","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"11122","Unicode hex":"2B72"},{"Typeface name":"Wingdings 3","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"11121","Unicode hex":"2B71"},{"Typeface name":"Wingdings 3","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"11123","Unicode hex":"2B73"},{"Typeface name":"Wingdings 3","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"11126","Unicode hex":"2B76"},{"Typeface name":"Wingdings 3","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"11128","Unicode hex":"2B78"},{"Typeface name":"Wingdings 3","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"11131","Unicode hex":"2B7B"},{"Typeface name":"Wingdings 3","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"11133","Unicode hex":"2B7D"},{"Typeface name":"Wingdings 3","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"11108","Unicode hex":"2B64"},{"Typeface name":"Wingdings 3","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"11109","Unicode hex":"2B65"},{"Typeface name":"Wingdings 3","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"11114","Unicode hex":"2B6A"},{"Typeface name":"Wingdings 3","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"11116","Unicode hex":"2B6C"},{"Typeface name":"Wingdings 3","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"11115","Unicode hex":"2B6B"},{"Typeface name":"Wingdings 3","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"11117","Unicode hex":"2B6D"},{"Typeface name":"Wingdings 3","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"11085","Unicode hex":"2B4D"},{"Typeface name":"Wingdings 3","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"11168","Unicode hex":"2BA0"},{"Typeface name":"Wingdings 3","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"11169","Unicode hex":"2BA1"},{"Typeface name":"Wingdings 3","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"11170","Unicode hex":"2BA2"},{"Typeface name":"Wingdings 3","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"11171","Unicode hex":"2BA3"},{"Typeface name":"Wingdings 3","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"11172","Unicode hex":"2BA4"},{"Typeface name":"Wingdings 3","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"11173","Unicode hex":"2BA5"},{"Typeface name":"Wingdings 3","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"11174","Unicode hex":"2BA6"},{"Typeface name":"Wingdings 3","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"11175","Unicode hex":"2BA7"},{"Typeface name":"Wingdings 3","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"11152","Unicode hex":"2B90"},{"Typeface name":"Wingdings 3","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"11153","Unicode hex":"2B91"},{"Typeface name":"Wingdings 3","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"11154","Unicode hex":"2B92"},{"Typeface name":"Wingdings 3","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"11155","Unicode hex":"2B93"},{"Typeface name":"Wingdings 3","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"11136","Unicode hex":"2B80"},{"Typeface name":"Wingdings 3","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"11139","Unicode hex":"2B83"},{"Typeface name":"Wingdings 3","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"11134","Unicode hex":"2B7E"},{"Typeface name":"Wingdings 3","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"11135","Unicode hex":"2B7F"},{"Typeface name":"Wingdings 3","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"11140","Unicode hex":"2B84"},{"Typeface name":"Wingdings 3","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"11142","Unicode hex":"2B86"},{"Typeface name":"Wingdings 3","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"11141","Unicode hex":"2B85"},{"Typeface name":"Wingdings 3","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"11143","Unicode hex":"2B87"},{"Typeface name":"Wingdings 3","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"11151","Unicode hex":"2B8F"},{"Typeface name":"Wingdings 3","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"11149","Unicode hex":"2B8D"},{"Typeface name":"Wingdings 3","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"11150","Unicode hex":"2B8E"},{"Typeface name":"Wingdings 3","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"11148","Unicode hex":"2B8C"},{"Typeface name":"Wingdings 3","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"11118","Unicode hex":"2B6E"},{"Typeface name":"Wingdings 3","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"11119","Unicode hex":"2B6F"},{"Typeface name":"Wingdings 3","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"9099","Unicode hex":"238B"},{"Typeface name":"Wingdings 3","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"8996","Unicode hex":"2324"},{"Typeface name":"Wingdings 3","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"8963","Unicode hex":"2303"},{"Typeface name":"Wingdings 3","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"8997","Unicode hex":"2325"},{"Typeface name":"Wingdings 3","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"9251","Unicode hex":"2423"},{"Typeface name":"Wingdings 3","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"9085","Unicode hex":"237D"},{"Typeface name":"Wingdings 3","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"8682","Unicode hex":"21EA"},{"Typeface name":"Wingdings 3","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"11192","Unicode hex":"2BB8"},{"Typeface name":"Wingdings 3","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"129184","Unicode hex":"1F8A0"},{"Typeface name":"Wingdings 3","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"129185","Unicode hex":"1F8A1"},{"Typeface name":"Wingdings 3","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"129186","Unicode hex":"1F8A2"},{"Typeface name":"Wingdings 3","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"129187","Unicode hex":"1F8A3"},{"Typeface name":"Wingdings 3","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"129188","Unicode hex":"1F8A4"},{"Typeface name":"Wingdings 3","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"129189","Unicode hex":"1F8A5"},{"Typeface name":"Wingdings 3","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"129190","Unicode hex":"1F8A6"},{"Typeface name":"Wingdings 3","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"129191","Unicode hex":"1F8A7"},{"Typeface name":"Wingdings 3","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"129192","Unicode hex":"1F8A8"},{"Typeface name":"Wingdings 3","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"129193","Unicode hex":"1F8A9"},{"Typeface name":"Wingdings 3","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"129194","Unicode hex":"1F8AA"},{"Typeface name":"Wingdings 3","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"129195","Unicode hex":"1F8AB"},{"Typeface name":"Wingdings 3","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"129104","Unicode hex":"1F850"},{"Typeface name":"Wingdings 3","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"129106","Unicode hex":"1F852"},{"Typeface name":"Wingdings 3","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"129105","Unicode hex":"1F851"},{"Typeface name":"Wingdings 3","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"129107","Unicode hex":"1F853"},{"Typeface name":"Wingdings 3","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"129108","Unicode hex":"1F854"},{"Typeface name":"Wingdings 3","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"129109","Unicode hex":"1F855"},{"Typeface name":"Wingdings 3","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"129111","Unicode hex":"1F857"},{"Typeface name":"Wingdings 3","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"129110","Unicode hex":"1F856"},{"Typeface name":"Wingdings 3","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"129112","Unicode hex":"1F858"},{"Typeface name":"Wingdings 3","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"129113","Unicode hex":"1F859"},{"Typeface name":"Wingdings 3","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"9650","Unicode hex":"25B2"},{"Typeface name":"Wingdings 3","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"9660","Unicode hex":"25BC"},{"Typeface name":"Wingdings 3","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"9651","Unicode hex":"25B3"},{"Typeface name":"Wingdings 3","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"9661","Unicode hex":"25BD"},{"Typeface name":"Wingdings 3","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"9664","Unicode hex":"25C0"},{"Typeface name":"Wingdings 3","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"9654","Unicode hex":"25B6"},{"Typeface name":"Wingdings 3","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"9665","Unicode hex":"25C1"},{"Typeface name":"Wingdings 3","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"9655","Unicode hex":"25B7"},{"Typeface name":"Wingdings 3","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"9699","Unicode hex":"25E3"},{"Typeface name":"Wingdings 3","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"9698","Unicode hex":"25E2"},{"Typeface name":"Wingdings 3","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"9700","Unicode hex":"25E4"},{"Typeface name":"Wingdings 3","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"9701","Unicode hex":"25E5"},{"Typeface name":"Wingdings 3","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"128896","Unicode hex":"1F780"},{"Typeface name":"Wingdings 3","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"128898","Unicode hex":"1F782"},{"Typeface name":"Wingdings 3","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"128897","Unicode hex":"1F781"},{"Typeface name":"Wingdings 3","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"128899","Unicode hex":"1F783"},{"Typeface name":"Wingdings 3","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"11205","Unicode hex":"2BC5"},{"Typeface name":"Wingdings 3","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"11206","Unicode hex":"2BC6"},{"Typeface name":"Wingdings 3","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"11207","Unicode hex":"2BC7"},{"Typeface name":"Wingdings 3","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"11208","Unicode hex":"2BC8"},{"Typeface name":"Wingdings 3","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"11164","Unicode hex":"2B9C"},{"Typeface name":"Wingdings 3","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"11166","Unicode hex":"2B9E"},{"Typeface name":"Wingdings 3","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"11165","Unicode hex":"2B9D"},{"Typeface name":"Wingdings 3","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"11167","Unicode hex":"2B9F"},{"Typeface name":"Wingdings 3","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"129040","Unicode hex":"1F810"},{"Typeface name":"Wingdings 3","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"129042","Unicode hex":"1F812"},{"Typeface name":"Wingdings 3","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"129041","Unicode hex":"1F811"},{"Typeface name":"Wingdings 3","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"129043","Unicode hex":"1F813"},{"Typeface name":"Wingdings 3","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"129044","Unicode hex":"1F814"},{"Typeface name":"Wingdings 3","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"129046","Unicode hex":"1F816"},{"Typeface name":"Wingdings 3","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"129045","Unicode hex":"1F815"},{"Typeface name":"Wingdings 3","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"129047","Unicode hex":"1F817"},{"Typeface name":"Wingdings 3","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"129048","Unicode hex":"1F818"},{"Typeface name":"Wingdings 3","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"129050","Unicode hex":"1F81A"},{"Typeface name":"Wingdings 3","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"129049","Unicode hex":"1F819"},{"Typeface name":"Wingdings 3","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"129051","Unicode hex":"1F81B"},{"Typeface name":"Wingdings 3","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"129052","Unicode hex":"1F81C"},{"Typeface name":"Wingdings 3","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"129054","Unicode hex":"1F81E"},{"Typeface name":"Wingdings 3","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"129053","Unicode hex":"1F81D"},{"Typeface name":"Wingdings 3","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"129055","Unicode hex":"1F81F"},{"Typeface name":"Wingdings 3","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"129024","Unicode hex":"1F800"},{"Typeface name":"Wingdings 3","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"129026","Unicode hex":"1F802"},{"Typeface name":"Wingdings 3","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"129025","Unicode hex":"1F801"},{"Typeface name":"Wingdings 3","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"129027","Unicode hex":"1F803"},{"Typeface name":"Wingdings 3","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"129028","Unicode hex":"1F804"},{"Typeface name":"Wingdings 3","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"129030","Unicode hex":"1F806"},{"Typeface name":"Wingdings 3","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"129029","Unicode hex":"1F805"},{"Typeface name":"Wingdings 3","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"129031","Unicode hex":"1F807"},{"Typeface name":"Wingdings 3","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"129032","Unicode hex":"1F808"},{"Typeface name":"Wingdings 3","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"129034","Unicode hex":"1F80A"},{"Typeface name":"Wingdings 3","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"129033","Unicode hex":"1F809"},{"Typeface name":"Wingdings 3","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"129035","Unicode hex":"1F80B"},{"Typeface name":"Wingdings 3","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"129056","Unicode hex":"1F820"},{"Typeface name":"Wingdings 3","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"129058","Unicode hex":"1F822"},{"Typeface name":"Wingdings 3","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"129060","Unicode hex":"1F824"},{"Typeface name":"Wingdings 3","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"129062","Unicode hex":"1F826"},{"Typeface name":"Wingdings 3","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"129064","Unicode hex":"1F828"},{"Typeface name":"Wingdings 3","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"129066","Unicode hex":"1F82A"},{"Typeface name":"Wingdings 3","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"129068","Unicode hex":"1F82C"},{"Typeface name":"Wingdings 3","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"129180","Unicode hex":"1F89C"},{"Typeface name":"Wingdings 3","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"129181","Unicode hex":"1F89D"},{"Typeface name":"Wingdings 3","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"129182","Unicode hex":"1F89E"},{"Typeface name":"Wingdings 3","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"129183","Unicode hex":"1F89F"},{"Typeface name":"Wingdings 3","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"129070","Unicode hex":"1F82E"},{"Typeface name":"Wingdings 3","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"129072","Unicode hex":"1F830"},{"Typeface name":"Wingdings 3","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"129074","Unicode hex":"1F832"},{"Typeface name":"Wingdings 3","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"129076","Unicode hex":"1F834"},{"Typeface name":"Wingdings 3","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"129078","Unicode hex":"1F836"},{"Typeface name":"Wingdings 3","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"129080","Unicode hex":"1F838"},{"Typeface name":"Wingdings 3","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"129082","Unicode hex":"1F83A"},{"Typeface name":"Wingdings 3","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"129081","Unicode hex":"1F839"},{"Typeface name":"Wingdings 3","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"129083","Unicode hex":"1F83B"},{"Typeface name":"Wingdings 3","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"129176","Unicode hex":"1F898"},{"Typeface name":"Wingdings 3","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"129178","Unicode hex":"1F89A"},{"Typeface name":"Wingdings 3","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"129177","Unicode hex":"1F899"},{"Typeface name":"Wingdings 3","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"129179","Unicode hex":"1F89B"},{"Typeface name":"Wingdings 3","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"129084","Unicode hex":"1F83C"},{"Typeface name":"Wingdings 3","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"129086","Unicode hex":"1F83E"},{"Typeface name":"Wingdings 3","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"129085","Unicode hex":"1F83D"},{"Typeface name":"Wingdings 3","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"129087","Unicode hex":"1F83F"},{"Typeface name":"Wingdings 3","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"129088","Unicode hex":"1F840"},{"Typeface name":"Wingdings 3","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"129090","Unicode hex":"1F842"},{"Typeface name":"Wingdings 3","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"129089","Unicode hex":"1F841"},{"Typeface name":"Wingdings 3","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"129091","Unicode hex":"1F843"},{"Typeface name":"Wingdings 3","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"129092","Unicode hex":"1F844"},{"Typeface name":"Wingdings 3","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"129094","Unicode hex":"1F846"},{"Typeface name":"Wingdings 3","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"129093","Unicode hex":"1F845"},{"Typeface name":"Wingdings 3","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"129095","Unicode hex":"1F847"},{"Typeface name":"Wingdings 3","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"11176","Unicode hex":"2BA8"},{"Typeface name":"Wingdings 3","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"11177","Unicode hex":"2BA9"},{"Typeface name":"Wingdings 3","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"11178","Unicode hex":"2BAA"},{"Typeface name":"Wingdings 3","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"11179","Unicode hex":"2BAB"},{"Typeface name":"Wingdings 3","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"11180","Unicode hex":"2BAC"},{"Typeface name":"Wingdings 3","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"11181","Unicode hex":"2BAD"},{"Typeface name":"Wingdings 3","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"11182","Unicode hex":"2BAE"},{"Typeface name":"Wingdings 3","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"11183","Unicode hex":"2BAF"},{"Typeface name":"Wingdings 3","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"129120","Unicode hex":"1F860"},{"Typeface name":"Wingdings 3","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"129122","Unicode hex":"1F862"},{"Typeface name":"Wingdings 3","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"129121","Unicode hex":"1F861"},{"Typeface name":"Wingdings 3","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"129123","Unicode hex":"1F863"},{"Typeface name":"Wingdings 3","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"129124","Unicode hex":"1F864"},{"Typeface name":"Wingdings 3","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"129125","Unicode hex":"1F865"},{"Typeface name":"Wingdings 3","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"129127","Unicode hex":"1F867"},{"Typeface name":"Wingdings 3","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"129126","Unicode hex":"1F866"},{"Typeface name":"Wingdings 3","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"129136","Unicode hex":"1F870"},{"Typeface name":"Wingdings 3","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"129138","Unicode hex":"1F872"},{"Typeface name":"Wingdings 3","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"129137","Unicode hex":"1F871"},{"Typeface name":"Wingdings 3","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"129139","Unicode hex":"1F873"},{"Typeface name":"Wingdings 3","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"129140","Unicode hex":"1F874"},{"Typeface name":"Wingdings 3","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"129141","Unicode hex":"1F875"},{"Typeface name":"Wingdings 3","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"129143","Unicode hex":"1F877"},{"Typeface name":"Wingdings 3","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"129142","Unicode hex":"1F876"},{"Typeface name":"Wingdings 3","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"129152","Unicode hex":"1F880"},{"Typeface name":"Wingdings 3","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"129154","Unicode hex":"1F882"},{"Typeface name":"Wingdings 3","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"129153","Unicode hex":"1F881"},{"Typeface name":"Wingdings 3","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"129155","Unicode hex":"1F883"},{"Typeface name":"Wingdings 3","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"129156","Unicode hex":"1F884"},{"Typeface name":"Wingdings 3","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"129157","Unicode hex":"1F885"},{"Typeface name":"Wingdings 3","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"129159","Unicode hex":"1F887"},{"Typeface name":"Wingdings 3","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"129158","Unicode hex":"1F886"},{"Typeface name":"Wingdings 3","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"129168","Unicode hex":"1F890"},{"Typeface name":"Wingdings 3","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"129170","Unicode hex":"1F892"},{"Typeface name":"Wingdings 3","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"129169","Unicode hex":"1F891"},{"Typeface name":"Wingdings 3","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"129171","Unicode hex":"1F893"},{"Typeface name":"Wingdings 3","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"129172","Unicode hex":"1F894"},{"Typeface name":"Wingdings 3","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"129174","Unicode hex":"1F896"},{"Typeface name":"Wingdings 3","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"129173","Unicode hex":"1F895"},{"Typeface name":"Wingdings 3","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"129175","Unicode hex":"1F897"}];return nd.default=n,nd}var Mb;function GS(){if(Mb)return qn;Mb=1;var n=qn&&qn.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(qn,"__esModule",{value:!0}),qn.hex=qn.dec=qn.codePoint=void 0;for(var e=n(HS()),t={},i=String.fromCodePoint?String.fromCodePoint:p,r=0,s=e.default;r<s.length;r++){var o=s[r],a=parseInt(o["Unicode dec"],10),l={codePoint:a,string:i(a)};t[o["Typeface name"].toUpperCase()+"_"+o["Dingbat dec"]]=l}function c(g,b){return t[g.toUpperCase()+"_"+b]}qn.codePoint=c;function u(g,b){return c(g,parseInt(b,10))}qn.dec=u;function f(g,b){return c(g,parseInt(b,16))}qn.hex=f;function p(g){if(g<=65535)return String.fromCharCode(g);var b=Math.floor((g-65536)/1024)+55296,y=(g-65536)%1024+56320;return String.fromCharCode(b,y)}return qn}var id={},Pb;function $S(){if(Pb)return id;Pb=1,id.uriToZipEntryName=n,id.replaceFragment=e;function n(t,i){return i.charAt(0)==="/"?i.substr(1):t+"/"+i}function e(t,i){var r=t.indexOf("#");return r!==-1&&(t=t.substring(0,r)),t+"#"+i}return id}var Lb;function zS(){if(Lb)return td;Lb=1,td.createBodyReader=o,td._readNumberingProperties=l;var n=GS(),e=gt,t=wo(),i=fr().Result,r=fr().warning,s=$S();function o(T){return{readXmlElement:function(C){return new a(T).readXmlElement(C)},readXmlElements:function(C){return new a(T).readXmlElements(C)}}}function a(T){var C=[],_=[],A=[],R=T.relationships,k=T.contentTypes,I=T.docxFile,L=T.files,J=T.numbering,U=T.styles;function O(se){var me=se.map(S);return v(me)}function S(se){if(se.type==="element"){var me=Oe[se.name];if(me)return me(se);if(!Object.prototype.hasOwnProperty.call(u,se.name)){var ve=r("An unrecognised element was ignored: "+se.name);return f([ve])}}return p()}function K(se){return Y(se).map(function(me){return{type:"paragraphProperties",styleId:me.styleId,styleName:me.name,alignment:se.firstOrEmpty("w:jc").attributes["w:val"],numbering:l(me.styleId,se.firstOrEmpty("w:numPr"),J),indent:q(se.firstOrEmpty("w:ind"))}})}function q(se){return{start:se.attributes["w:start"]||se.attributes["w:left"],end:se.attributes["w:end"]||se.attributes["w:right"],firstLine:se.attributes["w:firstLine"],hanging:se.attributes["w:hanging"]}}function B(se){return F(se).map(function(me){var ve=se.firstOrEmpty("w:sz").attributes["w:val"],De=/^[0-9]+$/.test(ve)?parseInt(ve,10)/2:null;return{type:"runProperties",styleId:me.styleId,styleName:me.name,verticalAlignment:se.firstOrEmpty("w:vertAlign").attributes["w:val"],font:se.firstOrEmpty("w:rFonts").attributes["w:ascii"],fontSize:De,isBold:V(se.first("w:b")),isUnderline:j(se.first("w:u")),isItalic:V(se.first("w:i")),isStrikethrough:V(se.first("w:strike")),isAllCaps:V(se.first("w:caps")),isSmallCaps:V(se.first("w:smallCaps"))}})}function j(se){if(se){var me=se.attributes["w:val"];return me!==void 0&&me!=="false"&&me!=="0"&&me!=="none"}else return!1}function V(se){if(se){var me=se.attributes["w:val"];return me!=="false"&&me!=="0"}else return!1}function Y(se){return z(se,"w:pStyle","Paragraph",U.findParagraphStyleById)}function F(se){return z(se,"w:rStyle","Run",U.findCharacterStyleById)}function X(se){return z(se,"w:tblStyle","Table",U.findTableStyleById)}function z(se,me,ve,De){var Re=[],Ie=se.first(me),Ke=null,fn=null;if(Ie&&(Ke=Ie.attributes["w:val"],Ke)){var wt=De(Ke);wt?fn=wt.name:Re.push(xe(ve,Ke))}return b({styleId:Ke,name:fn},Re)}var ne={type:"unknown"};function oe(se){var me=se.attributes["w:fldCharType"];if(me==="begin")C.push(ne),_=[];else if(me==="end")C.pop();else if(me==="separate"){var ve=ce(_.join("")),De=ve===null?ne:{type:"hyperlink",options:ve};C.pop(),C.push(De)}return p()}function pe(){var se=e.last(C.filter(function(me){return me.type==="hyperlink"}));return se?se.options:null}function ce(se){var me=/\s*HYPERLINK "(.*)"/.exec(se);if(me)return{href:me[1]};var ve=/\s*HYPERLINK\s+\\l\s+"(.*)"/.exec(se);return ve?{anchor:ve[1]}:null}function ge(se){return _.push(se.text()),p()}function ye(se){var me=se.attributes["w:font"],ve=se.attributes["w:char"],De=n.hex(me,ve);return De==null&&/^F0..$/.test(ve)&&(De=n.hex(me,ve.substring(2))),De==null?f([r("A w:sym element with an unsupported character was ignored: char "+ve+" in font "+me)]):g(new t.Text(De.string))}function Te(se){return function(me){var ve=me.attributes["w:id"];return g(new t.NoteReference({noteType:se,noteId:ve}))}}function Ee(se){return g(t.commentReference({commentId:se.attributes["w:id"]}))}function Se(se){return O(se.children)}var Oe={"w:p":function(se){var me=se.firstOrEmpty("w:pPr"),ve=!!me.firstOrEmpty("w:rPr").first("w:del");if(ve)return se.children.forEach(function(Re){A.push(Re)}),p();var De=se.children;return A.length>0&&(De=A.concat(De),A=[]),y.map(K(me),O(De),function(Re,Ie){return new t.Paragraph(Ie,Re)}).insertExtra()},"w:r":function(se){return y.map(B(se.firstOrEmpty("w:rPr")),O(se.children),function(me,ve){var De=pe();return De!==null&&(ve=[new t.Hyperlink(ve,De)]),new t.Run(ve,me)})},"w:fldChar":oe,"w:instrText":ge,"w:t":function(se){return g(new t.Text(se.text()))},"w:tab":function(se){return g(new t.Tab)},"w:noBreakHyphen":function(){return g(new t.Text("‑"))},"w:softHyphen":function(se){return g(new t.Text("­"))},"w:sym":ye,"w:hyperlink":function(se){var me=se.attributes["r:id"],ve=se.attributes["w:anchor"];return O(se.children).map(function(De){function Re(Ke){var fn=se.attributes["w:tgtFrame"]||null;return new t.Hyperlink(De,e.extend({targetFrame:fn},Ke))}if(me){var Ie=R.findTargetByRelationshipId(me);return ve&&(Ie=s.replaceFragment(Ie,ve)),Re({href:Ie})}else return ve?Re({anchor:ve}):De})},"w:tbl":w,"w:tr":Q,"w:tc":H,"w:footnoteReference":Te("footnote"),"w:endnoteReference":Te("endnote"),"w:commentReference":Ee,"w:br":function(se){var me=se.attributes["w:type"];return me==null||me==="textWrapping"?g(t.lineBreak):me==="page"?g(t.pageBreak):me==="column"?g(t.columnBreak):f([r("Unsupported break type: "+me)])},"w:bookmarkStart":function(se){var me=se.attributes["w:name"];return me==="_GoBack"?p():g(new t.BookmarkStart({name:me}))},"mc:AlternateContent":function(se){return Se(se.first("mc:Fallback"))},"w:sdt":function(se){return O(se.firstOrEmpty("w:sdtContent").children)},"w:ins":Se,"w:object":Se,"w:smartTag":Se,"w:drawing":Se,"w:pict":function(se){return Se(se).toExtra()},"v:roundrect":Se,"v:shape":Se,"v:textbox":Se,"w:txbxContent":Se,"wp:inline":ue,"wp:anchor":ue,"v:imagedata":ie,"v:group":Se,"v:rect":Se};return{readXmlElement:S,readXmlElements:O};function w(se){var me=ae(se.firstOrEmpty("w:tblPr"));return O(se.children).flatMap(ee).flatMap(function(ve){return me.map(function(De){return t.Table(ve,De)})})}function ae(se){return X(se).map(function(me){return{styleId:me.styleId,styleName:me.name}})}function Q(se){var me=se.firstOrEmpty("w:trPr"),ve=!!me.first("w:tblHeader");return O(se.children).map(function(De){return t.TableRow(De,{isHeader:ve})})}function H(se){return O(se.children).map(function(me){var ve=se.firstOrEmpty("w:tcPr"),De=ve.firstOrEmpty("w:gridSpan").attributes["w:val"],Re=De?parseInt(De,10):1,Ie=t.TableCell(me,{colSpan:Re});return Ie._vMerge=$(ve),Ie})}function $(se){var me=se.first("w:vMerge");if(me){var ve=me.attributes["w:val"];return ve==="continue"||!ve}else return null}function ee(se){var me=e.any(se,function(Re){return Re.type!==t.types.tableRow});if(me)return b(se,[r("unexpected non-row element in table, cell merging may be incorrect")]);var ve=e.any(se,function(Re){return e.any(Re.children,function(Ie){return Ie.type!==t.types.tableCell})});if(ve)return b(se,[r("unexpected non-cell element in table row, cell merging may be incorrect")]);var De={};return se.forEach(function(Re){var Ie=0;Re.children.forEach(function(Ke){Ke._vMerge&&De[Ie]?De[Ie].rowSpan++:(De[Ie]=Ke,Ke._vMerge=!1),Ie+=Ke.colSpan})}),se.forEach(function(Re){Re.children=Re.children.filter(function(Ie){return!Ie._vMerge}),Re.children.forEach(function(Ie){delete Ie._vMerge})}),g(se)}function ue(se){var me=se.getElementsByTagName("a:graphic").getElementsByTagName("a:graphicData").getElementsByTagName("pic:pic").getElementsByTagName("pic:blipFill").getElementsByTagName("a:blip");return v(me.map(he.bind(null,se)))}function he(se,me){var ve=se.first("wp:docPr").attributes,De=re(ve.descr)?ve.title:ve.descr,Re=Z(me);return Re===null?f([r("Could not find image file for a:blip element")]):fe(Re,De)}function re(se){return se==null||/^\s*$/.test(se)}function Z(se){var me=se.attributes["r:embed"],ve=se.attributes["r:link"];if(me)return le(me);if(ve){var De=R.findTargetByRelationshipId(ve);return{path:De,read:L.read.bind(L,De)}}else return null}function ie(se){var me=se.attributes["r:id"];return me?fe(le(me),se.attributes["o:title"]):f([r("A v:imagedata element without a relationship ID was ignored")])}function le(se){var me=s.uriToZipEntryName("word",R.findTargetByRelationshipId(se));return{path:me,read:I.read.bind(I,me)}}function fe(se,me){var ve=k.findContentType(se.path),De=t.Image({readImage:se.read,altText:me,contentType:ve}),Re=c[ve]?[]:r("Image of type "+ve+" is unlikely to display in web browsers");return b(De,Re)}function xe(se,me){return r(se+" style with ID "+me+" was referenced but not defined in the document")}}function l(T,C,_){var A=C.firstOrEmpty("w:ilvl").attributes["w:val"],R=C.firstOrEmpty("w:numId").attributes["w:val"];if(A!==void 0&&R!==void 0)return _.findLevel(R,A);if(T!=null){var k=_.findLevelByParagraphStyleId(T);if(k!=null)return k}return null}var c={"image/png":!0,"image/gif":!0,"image/jpeg":!0,"image/svg+xml":!0,"image/tiff":!0},u={"office-word:wrap":!0,"v:shadow":!0,"v:shapetype":!0,"w:annotationRef":!0,"w:bookmarkEnd":!0,"w:sectPr":!0,"w:proofErr":!0,"w:lastRenderedPageBreak":!0,"w:commentRangeStart":!0,"w:commentRangeEnd":!0,"w:del":!0,"w:footnoteRef":!0,"w:endnoteRef":!0,"w:pPr":!0,"w:rPr":!0,"w:tblPr":!0,"w:tblGrid":!0,"w:trPr":!0,"w:tcPr":!0};function f(T){return new y(null,null,T)}function p(){return new y(null)}function g(T){return new y(T)}function b(T,C){return new y(T,null,C)}function y(T,C,_){this.value=T||[],this.extra=C||[],this._result=new i({element:this.value,extra:C},_),this.messages=this._result.messages}y.prototype.toExtra=function(){return new y(null,x(this.extra,this.value),this.messages)},y.prototype.insertExtra=function(){var T=this.extra;return T&&T.length?new y(x(this.value,T),null,this.messages):this},y.prototype.map=function(T){var C=this._result.map(function(_){return T(_.element)});return new y(C.value,this.extra,C.messages)},y.prototype.flatMap=function(T){var C=this._result.flatMap(function(_){return T(_.element)._result});return new y(C.value.element,x(this.extra,C.value.extra),C.messages)},y.map=function(T,C,_){return new y(_(T.value,C.value),x(T.extra,C.extra),T.messages.concat(C.messages))};function v(T){var C=i.combine(e.pluck(T,"_result"));return new y(e.flatten(e.pluck(C.value,"element")),e.filter(e.flatten(e.pluck(C.value,"extra")),D),C.messages)}function x(T,C){return e.flatten([T,C])}function D(T){return T}return td}var jp={},Bb;function XS(){if(Bb)return jp;Bb=1,jp.DocumentXmlReader=t;var n=wo(),e=fr().Result;function t(i){var r=i.bodyReader;function s(o){var a=o.first("w:body");if(a==null)throw new Error("Could not find the body element: are you sure this is a docx file?");var l=r.readXmlElements(a.children).map(function(c){return new n.Document(c,{notes:i.notes,comments:i.comments})});return new e(l.value,l.messages)}return{convertXmlToDocument:s}}return jp}var ml={},Ob;function JS(){if(Ob)return ml;Ob=1,ml.readRelationships=n,ml.defaultValue=new e([]),ml.Relationships=e;function n(t){var i=[];return t.children.forEach(function(r){if(r.name==="relationships:Relationship"){var s={relationshipId:r.attributes.Id,target:r.attributes.Target,type:r.attributes.Type};i.push(s)}}),new e(i)}function e(t){var i={};t.forEach(function(s){i[s.relationshipId]=s.target});var r={};return t.forEach(function(s){r[s.type]||(r[s.type]=[]),r[s.type].push(s.target)}),{findTargetByRelationshipId:function(s){return i[s]},findTargetsByType:function(s){return r[s]||[]}}}return ml}var rd={},Wb;function YS(){if(Wb)return rd;Wb=1,rd.readContentTypesFromXml=e;var n={png:"png",gif:"gif",jpeg:"jpeg",jpg:"jpeg",tif:"tiff",tiff:"tiff",bmp:"bmp"};rd.defaultContentTypes=t({},{});function e(i){var r={},s={};return i.children.forEach(function(o){if(o.name==="content-types:Default"&&(r[o.attributes.Extension]=o.attributes.ContentType),o.name==="content-types:Override"){var a=o.attributes.PartName;a.charAt(0)==="/"&&(a=a.substring(1)),s[a]=o.attributes.ContentType}}),t(s,r)}function t(i,r){return{findContentType:function(s){var o=i[s];if(o)return o;var a=s.split("."),l=a[a.length-1];if(r.hasOwnProperty(l))return r[l];var c=n[l.toLowerCase()];return c?"image/"+c:null}}}return rd}var yl={},qb;function KS(){if(qb)return yl;qb=1;var n=gt;yl.readNumberingXml=t,yl.Numbering=e,yl.defaultNumbering=new e({},{});function e(o,a,l){var c=n.flatten(n.values(a).map(function(g){return n.values(g.levels)})),u=n.indexBy(c.filter(function(g){return g.paragraphStyleId!=null}),"paragraphStyleId");function f(g,b){var y=o[g];if(y){var v=a[y.abstractNumId];if(v){if(v.numStyleLink==null)return a[y.abstractNumId].levels[b];var x=l.findNumberingStyleById(v.numStyleLink);return f(x.numId,b)}else return null}else return null}function p(g){return u[g]||null}return{findLevel:f,findLevelByParagraphStyleId:p}}function t(o,a){if(!a||!a.styles)throw new Error("styles is missing");var l=i(o),c=s(o);return new e(c,l,a.styles)}function i(o){var a={};return o.getElementsByTagName("w:abstractNum").forEach(function(l){var c=l.attributes["w:abstractNumId"];a[c]=r(l)}),a}function r(o){var a={};o.getElementsByTagName("w:lvl").forEach(function(c){var u=c.attributes["w:ilvl"],f=c.firstOrEmpty("w:numFmt").attributes["w:val"],p=c.firstOrEmpty("w:pStyle").attributes["w:val"];a[u]={isOrdered:f!=="bullet",level:u,paragraphStyleId:p}});var l=o.firstOrEmpty("w:numStyleLink").attributes["w:val"];return{levels:a,numStyleLink:l}}function s(o){var a={};return o.getElementsByTagName("w:num").forEach(function(l){var c=l.attributes["w:numId"],u=l.first("w:abstractNumId").attributes["w:val"];a[c]={abstractNumId:u}}),a}return yl}var vl={},Vb;function jS(){if(Vb)return vl;Vb=1,vl.readStylesXml=e,vl.Styles=n,vl.defaultStyles=new n({},{});function n(s,o,a,l){return{findParagraphStyleById:function(c){return s[c]},findCharacterStyleById:function(c){return o[c]},findTableStyleById:function(c){return a[c]},findNumberingStyleById:function(c){return l[c]}}}n.EMPTY=new n({},{},{},{});function e(s){var o={},a={},l={},c={},u={paragraph:o,character:a,table:l};return s.getElementsByTagName("w:style").forEach(function(f){var p=t(f);if(p.type==="numbering")c[p.styleId]=r(f);else{var g=u[p.type];g&&(g[p.styleId]=p)}}),new n(o,a,l,c)}function t(s){var o=s.attributes["w:type"],a=s.attributes["w:styleId"],l=i(s);return{type:o,styleId:a,name:l}}function i(s){var o=s.first("w:name");return o?o.attributes["w:val"]:null}function r(s){var o=s.firstOrEmpty("w:pPr").firstOrEmpty("w:numPr").firstOrEmpty("w:numId").attributes["w:val"];return{numId:o}}return vl}var ko={},Hb;function ZS(){if(Hb)return ko;Hb=1;var n=wo(),e=fr().Result;ko.createFootnotesReader=t.bind(ko,"footnote"),ko.createEndnotesReader=t.bind(ko,"endnote");function t(i,r){function s(l){return e.combine(l.getElementsByTagName("w:"+i).filter(o).map(a))}function o(l){var c=l.attributes["w:type"];return c!=="continuationSeparator"&&c!=="separator"}function a(l){var c=l.attributes["w:id"];return r.readXmlElements(l.children).map(function(u){return n.Note({noteType:i,noteId:c,body:u})})}return s}return ko}var Zp={},Gb;function QS(){if(Gb)return Zp;Gb=1;var n=wo(),e=fr().Result;function t(i){function r(o){return e.combine(o.getElementsByTagName("w:comment").map(s))}function s(o){var a=o.attributes["w:id"];function l(c){return(o.attributes[c]||"").trim()||null}return i.readXmlElements(o.children).map(function(c){return n.comment({commentId:a,body:c,authorName:l("w:author"),authorInitials:l("w:initials")})})}return r}return Zp.createCommentsReader=t,Zp}var Qp={},$b;function eU(){if($b)return Qp;$b=1;var n=ts();Qp.Files=e;function e(){function t(i){return n.reject(new Error("could not open external image: '"+i+`'
cannot open linked files from a web browser`))}return{read:t}}return Qp}var zb;function tU(){if(zb)return Yu;zb=1,Yu.read=y,Yu._findPartPaths=v;var n=Rw,e=ts(),t=wo(),i=fr().Result,r=w_(),s=VS().readXmlFromZipFile,o=zS().createBodyReader,a=XS().DocumentXmlReader,l=JS(),c=YS(),u=KS(),f=jS(),p=ZS(),g=QS(),b=eU().Files;function y(L,J){return J=J||{},e.props({contentTypes:A(L),partPaths:v(L),docxFile:L,files:new b(J.path?n.dirname(J.path):null)}).also(function(U){return{styles:k(L,U.partPaths.styles)}}).also(function(U){return{numbering:R(L,U.partPaths.numbering,U.styles)}}).also(function(U){return{footnotes:C(U.partPaths.footnotes,U,function(O,S){return S?p.createFootnotesReader(O)(S):new i([])}),endnotes:C(U.partPaths.endnotes,U,function(O,S){return S?p.createEndnotesReader(O)(S):new i([])}),comments:C(U.partPaths.comments,U,function(O,S){return S?g.createCommentsReader(O)(S):new i([])})}}).also(function(U){return{notes:U.footnotes.flatMap(function(O){return U.endnotes.map(function(S){return new t.Notes(O.concat(S))})})}}).then(function(U){return C(U.partPaths.mainDocument,U,function(O,S){return U.notes.flatMap(function(K){return U.comments.flatMap(function(q){var B=new a({bodyReader:O,notes:K,comments:q});return B.convertXmlToDocument(S)})})})})}function v(L){return I(L).then(function(J){var U=x({docxFile:L,relationships:J,relationshipType:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",basePath:"",fallbackPath:"word/document.xml"});if(!L.exists(U))throw new Error("Could not find main document part. Are you sure this is a valid .docx file?");return T({filename:_(U),readElement:l.readRelationships,defaultValue:l.defaultValue})(L).then(function(O){function S(K){return x({docxFile:L,relationships:O,relationshipType:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/"+K,basePath:r.splitPath(U).dirname,fallbackPath:"word/"+K+".xml"})}return{mainDocument:U,comments:S("comments"),endnotes:S("endnotes"),footnotes:S("footnotes"),numbering:S("numbering"),styles:S("styles")}})})}function x(L){var J=L.docxFile,U=L.relationships,O=L.relationshipType,S=L.basePath,K=L.fallbackPath,q=U.findTargetsByType(O),B=q.map(function(V){return D(r.joinPath(S,V),"/")}),j=B.filter(function(V){return J.exists(V)});return j.length===0?K:j[0]}function D(L,J){return L.substring(0,J.length)===J?L.substring(J.length):L}function T(L){return function(J){return s(J,L.filename).then(function(U){return U?L.readElement(U):L.defaultValue})}}function C(L,J,U){var O=T({filename:_(L),readElement:l.readRelationships,defaultValue:l.defaultValue});return O(J.docxFile).then(function(S){var K=new o({relationships:S,contentTypes:J.contentTypes,docxFile:J.docxFile,numbering:J.numbering,styles:J.styles,files:J.files});return s(J.docxFile,L).then(function(q){return U(K,q)})})}function _(L){var J=r.splitPath(L);return r.joinPath(J.dirname,"_rels",J.basename+".rels")}var A=T({filename:"[Content_Types].xml",readElement:c.readContentTypesFromXml,defaultValue:c.defaultContentTypes});function R(L,J,U){return T({filename:J,readElement:function(O){return u.readNumberingXml(O,{styles:U})},defaultValue:u.defaultNumbering})(L)}function k(L,J){return T({filename:J,readElement:f.readStylesXml,defaultValue:f.defaultStyles})(L)}var I=T({filename:"_rels/.rels",readElement:l.readRelationships,defaultValue:l.defaultValue});return Yu}var sd={},Xb;function nU(){if(Xb)return sd;Xb=1;var n=gt,e=ts(),t=F_();sd.writeStyleMap=o,sd.readStyleMap=u;var i="http://schemas.zwobble.org/mammoth/style-map",r="mammoth/style-map",s="/"+r;function o(f,p){return f.write(r,p),a(f).then(function(){return l(f)})}function a(f){var p="word/_rels/document.xml.rels",g="http://schemas.openxmlformats.org/package/2006/relationships",b="{"+g+"}Relationship";return f.read(p,"utf8").then(t.readString).then(function(y){var v=y.children;c(v,b,"Id",{Id:"rMammothStyleMap",Type:i,Target:s});var x={"":g};return f.write(p,t.writeString(y,x))})}function l(f){var p="[Content_Types].xml",g="http://schemas.openxmlformats.org/package/2006/content-types",b="{"+g+"}Override";return f.read(p,"utf8").then(t.readString).then(function(y){var v=y.children;c(v,b,"PartName",{PartName:s,ContentType:"text/prs.mammoth.style-map"});var x={"":g};return f.write(p,t.writeString(y,x))})}function c(f,p,g,b){var y=n.find(f,function(v){return v.name===p&&v.attributes[g]===b[g]});y?y.attributes=b:f.push(t.element(p,b))}function u(f){return f.exists(r)?f.read(r,"utf8"):e.resolve(null)}return sd}var od={},us={},Ii={},br={},Jb;function k_(){if(Jb)return br;Jb=1;var n=kf();function e(l,c,u){return i(n.element(l,c,{fresh:!1}),u)}function t(l,c,u){var f=n.element(l,c,{fresh:!0});return i(f,u)}function i(l,c){return{type:"element",tag:l,children:c||[]}}function r(l){return{type:"text",value:l}}var s={type:"forceWrite"};br.freshElement=t,br.nonFreshElement=e,br.elementWithTag=i,br.text=r,br.forceWrite=s;var o={br:!0,hr:!0,img:!0};function a(l){return l.children.length===0&&o[l.tag.tagName]}return br.isVoidElement=a,br}var eg,Yb;function iU(){if(Yb)return eg;Yb=1;var n=gt,e=k_();function t(y){return i(c(y))}function i(y){var v=[];return y.map(r).forEach(function(x){l(v,x)}),v}function r(y){return s[y.type](y)}var s={element:o,text:a,forceWrite:a};function o(y){return e.elementWithTag(y.tag,i(y.children))}function a(y){return y}function l(y,v){var x=y[y.length-1];v.type==="element"&&!v.tag.fresh&&x&&x.type==="element"&&v.tag.matchesElement(x.tag)?(v.tag.separator&&l(x.children,e.text(v.tag.separator)),v.children.forEach(function(D){l(x.children,D)})):y.push(v)}function c(y){return u(y,function(v){return f[v.type](v)})}function u(y,v){return n.flatten(n.map(y,v),!0)}var f={element:g,text:b,forceWrite:p};function p(y){return[y]}function g(y){var v=c(y.children);return v.length===0&&!e.isVoidElement(y)?[]:[e.elementWithTag(y.tag,v)]}function b(y){return y.value.length===0?[]:[y]}return eg=t,eg}var Kb;function Ff(){if(Kb)return Ii;Kb=1;var n=k_();Ii.freshElement=n.freshElement,Ii.nonFreshElement=n.nonFreshElement,Ii.elementWithTag=n.elementWithTag,Ii.text=n.text,Ii.forceWrite=n.forceWrite,Ii.simplify=iU();function e(o,a){a.forEach(function(l){t(o,l)})}function t(o,a){i[a.type](o,a)}var i={element:r,text:s,forceWrite:function(){}};function r(o,a){n.isVoidElement(a)?o.selfClosing(a.tag.tagName,a.tag.attributes):(o.open(a.tag.tagName,a.tag.attributes),e(o,a.children),o.close(a.tag.tagName))}function s(o,a){o.text(a.value)}return Ii.write=e,Ii}var jb;function kf(){if(jb)return us;jb=1;var n=gt,e=Ff();us.topLevelElement=t,us.elements=i,us.element=s;function t(a,l){return i([s(a,l,{fresh:!0})])}function i(a){return new r(a.map(function(l){return n.isString(l)?s(l):l}))}function r(a){this._elements=a}r.prototype.wrap=function(l){for(var c=l(),u=this._elements.length-1;u>=0;u--)c=this._elements[u].wrapNodes(c);return c};function s(a,l,c){return c=c||{},new o(a,l,c)}function o(a,l,c){var u={};n.isArray(a)?(a.forEach(function(f){u[f]=!0}),a=a[0]):u[a]=!0,this.tagName=a,this.tagNames=u,this.attributes=l||{},this.fresh=c.fresh,this.separator=c.separator}return o.prototype.matchesElement=function(a){return this.tagNames[a.tagName]&&n.isEqual(this.attributes||{},a.attributes||{})},o.prototype.wrap=function(l){return this.wrapNodes(l())},o.prototype.wrapNodes=function(l){return[e.elementWithTag(this,l)]},us.empty=i([]),us.ignore={wrap:function(){return[]}},us}var tg={},Zb;function N_(){return Zb||(Zb=1,(function(n){var e=gt,t=ts(),i=Ff();n.imgElement=r;function r(s){return function(o,a){return t.when(s(o)).then(function(l){var c={};return o.altText&&(c.alt=o.altText),e.extend(c,l),[i.freshElement("img",c)]})}}n.inline=n.imgElement,n.dataUri=r(function(s){return s.readAsBase64String().then(function(o){return{src:"data:"+s.contentType+";base64,"+o}})})})(tg)),tg}var ng={},ig={},Qb;function rU(){if(Qb)return ig;Qb=1;var n=gt;ig.writer=e;function e(a){return a=a||{},a.prettyPrint?i():r()}var t={div:!0,p:!0,ul:!0,li:!0};function i(){var a=0,l="  ",c=[],u=!0,f=!1,p=r();function g(_,A){t[_]&&T(),c.push(_),p.open(_,A),t[_]&&a++,u=!1}function b(_){t[_]&&(a--,T()),c.pop(),p.close(_)}function y(_){D();var A=C()?_:_.replace(`
`,`
`+l);p.text(A)}function v(_,A){T(),p.selfClosing(_,A)}function x(){return c.length===0||t[c[c.length-1]]}function D(){f||(T(),f=!0)}function T(){if(f=!1,!u&&x()&&!C()){p._append(`
`);for(var _=0;_<a;_++)p._append(l)}}function C(){return n.some(c,function(_){return _==="pre"})}return{asString:p.asString,open:g,close:b,text:y,selfClosing:v}}function r(){var a=[];function l(y,v){var x=f(v);a.push("<"+y+x+">")}function c(y){a.push("</"+y+">")}function u(y,v){var x=f(v);a.push("<"+y+x+" />")}function f(y){return n.map(y,function(v,x){return" "+x+'="'+o(v)+'"'}).join("")}function p(y){a.push(s(y))}function g(y){a.push(y)}function b(){return a.join("")}return{asString:b,open:l,close:c,text:p,selfClosing:u,_append:g}}function s(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function o(a){return a.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}return ig}var rg={},ex;function sU(){if(ex)return rg;ex=1;var n=gt;function e(f){return t(f,f)}function t(f,p){return function(){return{start:f,end:p}}}function i(f){var p=f.href||"";return p?{start:"[",end:"]("+p+")",anchorPosition:"before"}:{}}function r(f){var p=f.src||"",g=f.alt||"";return p||g?{start:"!["+g+"]("+p+")"}:{}}function s(f){return function(p,g){return{start:g?`
`:"",end:g?"":`
`,list:{isOrdered:f.isOrdered,indent:g?g.indent+1:0,count:0}}}}function o(f,p,g){p=p||{indent:0,isOrdered:!1,count:0},p.count++,g.hasClosed=!1;var b=p.isOrdered?p.count+".":"-",y=l("	",p.indent)+b+" ";return{start:y,end:function(){if(!g.hasClosed)return g.hasClosed=!0,`
`}}}var a={p:t("",`

`),br:t("",`  
`),ul:s({isOrdered:!1}),ol:s({isOrdered:!0}),li:o,strong:e("__"),em:e("*"),a:i,img:r};(function(){for(var f=1;f<=6;f++)a["h"+f]=t(l("#",f)+" ",`

`)})();function l(f,p){return new Array(p+1).join(f)}function c(){var f=[],p=[],g=null,b={};function y(_,A){A=A||{};var R=a[_]||function(){return{}},k=R(A,g,b);p.push({end:k.end,list:g}),k.list&&(g=k.list);var I=k.anchorPosition==="before";I&&v(A),f.push(k.start||""),I||v(A)}function v(_){_.id&&f.push('<a id="'+_.id+'"></a>')}function x(_){var A=p.pop();g=A.list;var R=n.isFunction(A.end)?A.end():A.end;f.push(R||"")}function D(_,A){y(_,A),x()}function T(_){f.push(u(_))}function C(){return f.join("")}return{asString:C,open:y,close:x,text:T,selfClosing:D}}rg.writer=c;function u(f){return f.replace(/\\/g,"\\\\").replace(/([\`\*_\{\}\[\]\(\)\#\+\-\.\!])/g,"\\$1")}return rg}var tx;function oU(){if(tx)return ng;tx=1;var n=rU(),e=sU();ng.writer=t;function t(i){return i=i||{},i.outputFormat==="markdown"?e.writer():n.writer(i)}return ng}var nx;function aU(){if(nx)return od;nx=1;var n=gt,e=ts(),t=wo(),i=kf(),r=fr(),s=N_(),o=Ff(),a=oU();od.DocumentConverter=l;function l(v){return{convertToHtml:function(x){var D=n.indexBy(x.type===t.types.document?x.comments:[],"commentId"),T=new c(v,D);return T.convertToHtml(x)}}}function c(v,x){var D=1,T=[],C=[];v=n.extend({ignoreEmptyParagraphs:!0},v);var _=v.idPrefix===void 0?"":v.idPrefix,A=v.ignoreEmptyParagraphs,R=i.topLevelElement("p"),k=v.styleMap||[];function I(w){var ae=[],Q=J(w,ae,{}),H=[];b(Q,function(ee){ee.type==="deferred"&&H.push(ee)});var $={};return e.mapSeries(H,function(ee){return ee.value().then(function(ue){$[ee.id]=ue})}).then(function(){function ee(he){return g(he,function(re){return re.type==="deferred"?$[re.id]:re.children?[n.extend({},re,{children:ee(re.children)})]:[re]})}var ue=a.writer({prettyPrint:v.prettyPrint,outputFormat:v.outputFormat});return o.write(ue,o.simplify(ee(Q))),new r.Result(ue.asString(),ae)})}function L(w,ae,Q){return g(w,function(H){return J(H,ae,Q)})}function J(w,ae,Q){if(!Q)throw new Error("options not set");var H=Oe[w.type];return H?H(w,ae,Q):[]}function U(w,ae,Q){return O(w,ae).wrap(function(){var H=L(w.children,ae,Q);return A?H:[o.forceWrite].concat(H)})}function O(w,ae){var Q=B(w);return Q?Q.to:(w.styleId&&ae.push(p("paragraph",w)),R)}function S(w,ae,Q){var H=function(){return L(w.children,ae,Q)},$=[];w.isSmallCaps&&$.push(K("smallCaps")),w.isAllCaps&&$.push(K("allCaps")),w.isStrikethrough&&$.push(K("strikethrough","s")),w.isUnderline&&$.push(K("underline")),w.verticalAlignment===t.verticalAlignment.subscript&&$.push(i.element("sub",{},{fresh:!1})),w.verticalAlignment===t.verticalAlignment.superscript&&$.push(i.element("sup",{},{fresh:!1})),w.isItalic&&$.push(K("italic","em")),w.isBold&&$.push(K("bold","strong"));var ee=i.empty,ue=B(w);return ue?ee=ue.to:w.styleId&&ae.push(p("run",w)),$.push(ee),$.forEach(function(he){H=he.wrap.bind(he,H)}),H()}function K(w,ae){var Q=q({type:w});return Q||(ae?i.element(ae,{},{fresh:!1}):i.empty)}function q(w,ae){var Q=B(w);return Q?Q.to:ae}function B(w){for(var ae=0;ae<k.length;ae++)if(k[ae].from.matches(w))return k[ae]}function j(w){return function(ae,Q){return e.attempt(function(){return w(ae,Q)}).caught(function(H){return Q.push(r.error(H)),[]})}}function V(w){return F(w.noteType,w.noteId)}function Y(w){return X(w.noteType,w.noteId)}function F(w,ae){return z(w+"-"+ae)}function X(w,ae){return z(w+"-ref-"+ae)}function z(w){return _+w}var ne=i.elements([i.element("table",{},{fresh:!0})]);function oe(w,ae,Q){return q(w,ne).wrap(function(){return pe(w,ae,Q)})}function pe(w,ae,Q){var H=n.findIndex(w.children,function(he){return!he.type===t.types.tableRow||!he.isHeader});H===-1&&(H=w.children.length);var $;if(H===0)$=L(w.children,ae,n.extend({},Q,{isTableHeader:!1}));else{var ee=L(w.children.slice(0,H),ae,n.extend({},Q,{isTableHeader:!0})),ue=L(w.children.slice(H),ae,n.extend({},Q,{isTableHeader:!1}));$=[o.freshElement("thead",{},ee),o.freshElement("tbody",{},ue)]}return[o.forceWrite].concat($)}function ce(w,ae,Q){var H=L(w.children,ae,Q);return[o.freshElement("tr",{},[o.forceWrite].concat(H))]}function ge(w,ae,Q){var H=Q.isTableHeader?"th":"td",$=L(w.children,ae,Q),ee={};return w.colSpan!==1&&(ee.colspan=w.colSpan.toString()),w.rowSpan!==1&&(ee.rowspan=w.rowSpan.toString()),[o.freshElement(H,ee,[o.forceWrite].concat($))]}function ye(w,ae,Q){return q(w,i.ignore).wrap(function(){var H=x[w.commentId],$=C.length+1,ee="["+y(H)+$+"]";return C.push({label:ee,comment:H}),[o.freshElement("a",{href:"#"+F("comment",w.commentId),id:X("comment",w.commentId)},[o.text(ee)])]})}function Te(w,ae,Q){var H=w.label,$=w.comment,ee=L($.body,ae,Q).concat([o.nonFreshElement("p",{},[o.text(" "),o.freshElement("a",{href:"#"+X("comment",$.commentId)},[o.text("↑")])])]);return[o.freshElement("dt",{id:F("comment",$.commentId)},[o.text("Comment "+H)]),o.freshElement("dd",{},ee)]}function Ee(w,ae,Q){return Se(w).wrap(function(){return[]})}function Se(w){var ae=B(w);return ae?ae.to:w.breakType==="line"?i.topLevelElement("br"):i.empty}var Oe={document:function(w,ae,Q){var H=L(w.children,ae,Q),$=T.map(function(ue){return w.notes.resolve(ue)}),ee=L($,ae,Q);return H.concat([o.freshElement("ol",{},ee),o.freshElement("dl",{},g(C,function(ue){return Te(ue,ae,Q)}))])},paragraph:U,run:S,text:function(w,ae,Q){return[o.text(w.value)]},tab:function(w,ae,Q){return[o.text("	")]},hyperlink:function(w,ae,Q){var H=w.anchor?"#"+z(w.anchor):w.href,$={href:H};w.targetFrame!=null&&($.target=w.targetFrame);var ee=L(w.children,ae,Q);return[o.nonFreshElement("a",$,ee)]},bookmarkStart:function(w,ae,Q){var H=o.freshElement("a",{id:z(w.name)},[o.forceWrite]);return[H]},noteReference:function(w,ae,Q){T.push(w);var H=o.freshElement("a",{href:"#"+V(w),id:Y(w)},[o.text("["+D+++"]")]);return[o.freshElement("sup",{},[H])]},note:function(w,ae,Q){var H=L(w.body,ae,Q),$=o.elementWithTag(i.element("p",{},{fresh:!1}),[o.text(" "),o.freshElement("a",{href:"#"+Y(w)},[o.text("↑")])]),ee=H.concat([$]);return o.freshElement("li",{id:V(w)},ee)},commentReference:ye,comment:Te,image:f(j(v.convertImage||s.dataUri)),table:oe,tableRow:ce,tableCell:ge,break:Ee};return{convertToHtml:I}}var u=1;function f(v){return function(x,D,T){return[{type:"deferred",id:u++,value:function(){return v(x,D,T)}}]}}function p(v,x){return r.warning("Unrecognised "+v+" style: '"+x.styleName+"' (Style ID: "+x.styleId+")")}function g(v,x){return n.flatten(v.map(x),!0)}function b(v,x){v.forEach(function(D){x(D),D.children&&b(D.children,x)})}var y=od.commentAuthorLabel=function(x){return x.authorInitials||""};return od}var sg={},ix;function lU(){if(ix)return sg;ix=1;var n=wo();function e(t){if(t.type==="text")return t.value;if(t.type===n.types.tab)return"	";var i=t.type==="paragraph"?`

`:"";return(t.children||[]).map(e).join("")+i}return sg.convertElementToRawText=e,sg}var bl={},Vn={},og={},ag={exports:{}},rx;function cU(){if(rx)return ag.exports;rx=1;var n=ag.exports=function(e,t){this._tokens=e,this._startIndex=t||0};return n.prototype.head=function(){return this._tokens[this._startIndex]},n.prototype.tail=function(e){return new n(this._tokens,this._startIndex+1)},n.prototype.toArray=function(){return this._tokens.slice(this._startIndex)},n.prototype.end=function(){return this._tokens[this._tokens.length-1]},n.prototype.to=function(e){var t=this.head().source,i=e.head()||e.end();return t.to(i.source)},ag.exports}var sx;function uU(){if(sx)return og;sx=1;var n=cU();return og.Parser=function(e){var t=function(i,r){return i(new n(r))};return{parseTokens:t}},og}var lg={},cg={},ox;function dU(){return ox||(ox=1,(function(n){n.none=Object.create({value:function(){throw new Error("Called value on none")},isNone:function(){return!0},isSome:function(){return!1},map:function(){return n.none},flatMap:function(){return n.none},filter:function(){return n.none},toArray:function(){return[]},orElse:e,valueOrElse:e});function e(i){return typeof i=="function"?i():i}n.some=function(i){return new t(i)};var t=function(i){this._value=i};t.prototype.value=function(){return this._value},t.prototype.isNone=function(){return!1},t.prototype.isSome=function(){return!0},t.prototype.map=function(i){return new t(i(this._value))},t.prototype.flatMap=function(i){return i(this._value)},t.prototype.filter=function(i){return i(this._value)?this:n.none},t.prototype.toArray=function(){return[this._value]},t.prototype.orElse=function(i){return this},t.prototype.valueOrElse=function(i){return this._value},n.isOption=function(i){return i===n.none||i instanceof t},n.fromNullable=function(i){return i==null?n.none:new t(i)}})(cg)),cg}var ug,ax;function iv(){if(ax)return ug;ax=1,ug={failure:function(e,t){if(e.length<1)throw new Error("Failure must have errors");return new n({status:"failure",remaining:t,errors:e})},error:function(e,t){if(e.length<1)throw new Error("Failure must have errors");return new n({status:"error",remaining:t,errors:e})},success:function(e,t,i){return new n({status:"success",value:e,source:i,remaining:t,errors:[]})},cut:function(e){return new n({status:"cut",remaining:e,errors:[]})}};var n=function(e){this._value=e.value,this._status=e.status,this._hasValue=e.value!==void 0,this._remaining=e.remaining,this._source=e.source,this._errors=e.errors};return n.prototype.map=function(e){return this._hasValue?new n({value:e(this._value,this._source),status:this._status,remaining:this._remaining,source:this._source,errors:this._errors}):this},n.prototype.changeRemaining=function(e){return new n({value:this._value,status:this._status,remaining:e,source:this._source,errors:this._errors})},n.prototype.isSuccess=function(){return this._status==="success"||this._status==="cut"},n.prototype.isFailure=function(){return this._status==="failure"},n.prototype.isError=function(){return this._status==="error"},n.prototype.isCut=function(){return this._status==="cut"},n.prototype.value=function(){return this._value},n.prototype.remaining=function(){return this._remaining},n.prototype.source=function(){return this._source},n.prototype.errors=function(){return this._errors},ug}var dg={},lx;function M_(){if(lx)return dg;lx=1,dg.error=function(e){return new n(e)};var n=function(e){this.expected=e.expected,this.actual=e.actual,this._location=e.location};return n.prototype.describe=function(){var e=this._location?this._location.describe()+`:
`:"";return e+"Expected "+this.expected+`
but got `+this.actual},n.prototype.lineNumber=function(){return this._location.lineNumber()},n.prototype.characterNumber=function(){return this._location.characterNumber()},dg}var hg={},cx;function hU(){if(cx)return hg;cx=1,hg.fromArray=function(e){var t=0,i=function(){return t<e.length};return new n({hasNext:i,next:function(){if(i())return e[t++];throw new Error("No more elements")}})};var n=function(e){this._iterator=e};return n.prototype.map=function(e){var t=this._iterator;return new n({hasNext:function(){return t.hasNext()},next:function(){return e(t.next())}})},n.prototype.filter=function(e){var t=this._iterator,i=!1,r=!1,s,o=function(){if(!i)for(i=!0,r=!1;t.hasNext()&&!r;)s=t.next(),r=e(s)};return new n({hasNext:function(){return o(),r},next:function(){o();var a=s;return i=!1,a}})},n.prototype.first=function(){var e=this._iterator;return this._iterator.hasNext()?e.next():null},n.prototype.toArray=function(){for(var e=[];this._iterator.hasNext();)e.push(this._iterator.next());return e},hg}var ux;function P_(){return ux||(ux=1,(function(n){var e=gt,t=dU(),i=iv(),r=M_(),s=hU();n.token=function(p,g){var b=g!==void 0;return function(y){var v=y.head();if(v&&v.name===p&&(!b||v.value===g))return i.success(v.value,y.tail(),v.source);var x=u({name:p,value:g});return f(y,x)}},n.tokenOfType=function(p){return n.token(p)},n.firstOf=function(p,g){return e.isArray(g)||(g=Array.prototype.slice.call(arguments,1)),function(b){return s.fromArray(g).map(function(y){return y(b)}).filter(function(y){return y.isSuccess()||y.isError()}).first()||f(b,p)}},n.then=function(p,g){return function(b){var y=p(b);return y.map||console.log(y),y.map(g)}},n.sequence=function(){var p=Array.prototype.slice.call(arguments,0),g=function(y){var v=e.foldl(p,function(D,T){var C=D.result,_=D.hasCut;if(!C.isSuccess())return{result:C,hasCut:_};var A=T(C.remaining());if(A.isCut())return{result:C,hasCut:!0};if(A.isSuccess()){var R;T.isCaptured?R=C.value().withValue(T,A.value()):R=C.value();var k=A.remaining(),I=y.to(k);return{result:i.success(R,k,I),hasCut:_}}else return _?{result:i.error(A.errors(),A.remaining()),hasCut:_}:{result:A,hasCut:_}},{result:i.success(new o,y),hasCut:!1}).result,x=y.to(v.remaining());return v.map(function(D){return D.withValue(n.sequence.source,x)})};g.head=function(){var y=e.find(p,b);return n.then(g,n.sequence.extract(y))},g.map=function(y){return n.then(g,function(v){return y.apply(this,v.toArray())})};function b(y){return y.isCaptured}return g};var o=function(p,g){this._values=p||{},this._valuesArray=g||[]};o.prototype.withValue=function(p,g){if(p.captureName&&p.captureName in this._values)throw new Error('Cannot add second value for capture "'+p.captureName+'"');var b=e.clone(this._values);b[p.captureName]=g;var y=this._valuesArray.concat([g]);return new o(b,y)},o.prototype.get=function(p){if(p.captureName in this._values)return this._values[p.captureName];throw new Error('No value for capture "'+p.captureName+'"')},o.prototype.toArray=function(){return this._valuesArray},n.sequence.capture=function(p,g){var b=function(){return p.apply(this,arguments)};return b.captureName=g,b.isCaptured=!0,b},n.sequence.extract=function(p){return function(g){return g.get(p)}},n.sequence.applyValues=function(p){var g=Array.prototype.slice.call(arguments,1);return function(b){var y=g.map(function(v){return b.get(v)});return p.apply(this,y)}},n.sequence.source={captureName:"☃source☃"},n.sequence.cut=function(){return function(p){return i.cut(p)}},n.optional=function(p){return function(g){var b=p(g);return b.isSuccess()?b.map(t.some):b.isFailure()?i.success(t.none,g):b}},n.zeroOrMoreWithSeparator=function(p,g){return c(p,g,!1)},n.oneOrMoreWithSeparator=function(p,g){return c(p,g,!0)};var a=n.zeroOrMore=function(p){return function(g){for(var b=[],y;(y=p(g))&&y.isSuccess();)g=y.remaining(),b.push(y.value());return y.isError()?y:i.success(b,g)}};n.oneOrMore=function(p){return n.oneOrMoreWithSeparator(p,l)};function l(p){return i.success(null,p)}var c=function(p,g,b){return function(y){var v=p(y);if(v.isSuccess()){var x=n.sequence.capture(p,"main"),D=a(n.then(n.sequence(g,x),n.sequence.extract(x))),T=D(v.remaining());return i.success([v.value()].concat(T.value()),T.remaining())}else return b||v.isError()?v:i.success([],y)}};n.leftAssociative=function(p,g,b){var y;b?y=[{func:b,rule:g}]:y=g,y=y.map(function(x){return n.then(x.rule,function(D){return function(T,C){return x.func(T,D,C)}})});var v=n.firstOf.apply(null,["rules"].concat(y));return function(x){var D=x,T=p(x);if(!T.isSuccess())return T;for(var C=v(T.remaining());C.isSuccess();){var _=C.remaining(),A=D.to(C.remaining()),R=C.value();T=i.success(R(T.value(),A),_,A),C=v(T.remaining())}return C.isError()?C:T}},n.leftAssociative.firstOf=function(){return Array.prototype.slice.call(arguments,0)},n.nonConsuming=function(p){return function(g){return p(g).changeRemaining(g)}};var u=function(p){return p.value?p.name+' "'+p.value+'"':p.name};function f(p,g){var b,y=p.head();return y?b=r.error({expected:g,actual:u(y),location:y.source}):b=r.error({expected:g,actual:"end of tokens"}),i.failure([b],p)}})(lg)),lg}var fg={exports:{}},dx;function L_(){if(dx)return fg.exports;dx=1,fg.exports=function(e,t){var i={asString:function(){return e},range:function(r,s){return new n(e,t,r,s)}};return i};var n=function(e,t,i,r){this._string=e,this._description=t,this._startIndex=i,this._endIndex=r};return n.prototype.to=function(e){return new n(this._string,this._description,this._startIndex,e._endIndex)},n.prototype.describe=function(){var e=this._position(),t=this._description?this._description+`
`:"";return t+"Line number: "+e.lineNumber+`
Character number: `+e.characterNumber},n.prototype.lineNumber=function(){return this._position().lineNumber},n.prototype.characterNumber=function(){return this._position().characterNumber},n.prototype._position=function(){for(var e=this,t=0,i=function(){return e._string.indexOf(`
`,t)},r=1;i()!==-1&&i()<this._startIndex;)t=i()+1,r+=1;var s=this._startIndex-t+1;return{lineNumber:r,characterNumber:s}},fg.exports}var pg,hx;function B_(){return hx||(hx=1,pg=function(n,e,t){this.name=n,this.value=e,t&&(this.source=t)}),pg}var gg={},fx;function fU(){return fx||(fx=1,(function(n){var e=P_(),t=iv();n.parser=function(s,o,a){var l={rule:p,leftAssociative:g,rightAssociative:b},c=new i(a.map(f)),u=e.firstOf(s,o);function f(x){return{name:x.name,rule:r(x.ruleBuilder.bind(null,l))}}function p(){return y(c)}function g(x){return y(c.untilExclusive(x))}function b(x){return y(c.untilInclusive(x))}function y(x){return v.bind(null,x)}function v(x,D){var T=u(D);return T.isSuccess()?x.apply(T):T}return l};function i(s){function o(f){return new i(s.slice(0,l().indexOf(f)))}function a(f){return new i(s.slice(0,l().indexOf(f)+1))}function l(){return s.map(function(f){return f.name})}function c(f){for(var p,g;;)if(p=u(f.remaining()),p.isSuccess())g=f.source().to(p.source()),f=t.success(p.value()(f.value(),g),p.remaining(),g);else return p.isFailure()?f:p}function u(f){return e.firstOf("infix",s.map(function(p){return p.rule}))(f)}return{apply:c,untilExclusive:o,untilInclusive:a}}n.infix=function(s,o){function a(l){return n.infix(s,function(c){var u=o(c);return function(f){var p=u(f);return p.map(function(g){return function(b,y){return l(b,g,y)}})}})}return{name:s,ruleBuilder:o,map:a}};var r=function(s){var o;return function(a){return o||(o=s()),o(a)}}})(gg)),gg}var mg={},px;function pU(){if(px)return mg;px=1;var n=B_(),e=L_();mg.RegexTokeniser=t;function t(i){i=i.map(function(a){return{name:a.name,regex:new RegExp(a.regex.source,"g")}});function r(a,l){for(var c=new e(a,l),u=0,f=[];u<a.length;){var p=s(a,u,c);u=p.endIndex,f.push(p.token)}return f.push(o(a,c)),f}function s(a,l,c){for(var u=0;u<i.length;u++){var f=i[u].regex;f.lastIndex=l;var p=f.exec(a);if(p){var b=l+p[0].length;if(p.index===l&&b>l){var g=p[1],y=new n(i[u].name,g,c.range(l,b));return{token:y,endIndex:b}}}}var b=l+1,y=new n("unrecognisedCharacter",a.substring(l,b),c.range(l,b));return{token:y,endIndex:b}}function o(a,l){return new n("end",null,l.range(a.length,a.length))}return{tokenise:r}}return mg}var gx;function O_(){return gx||(gx=1,Vn.Parser=uU().Parser,Vn.rules=P_(),Vn.errors=M_(),Vn.results=iv(),Vn.StringSource=L_(),Vn.Token=B_(),Vn.bottomUp=fU(),Vn.RegexTokeniser=pU().RegexTokeniser,Vn.rule=function(n){var e;return function(t){return e||(e=n()),e(t)}}),Vn}var Ut={},mx;function gU(){if(mx)return Ut;mx=1,Ut.paragraph=n,Ut.run=e,Ut.table=t,Ut.bold=new i("bold"),Ut.italic=new i("italic"),Ut.underline=new i("underline"),Ut.strikethrough=new i("strikethrough"),Ut.allCaps=new i("allCaps"),Ut.smallCaps=new i("smallCaps"),Ut.commentReference=new i("commentReference"),Ut.lineBreak=new i("break",{breakType:"line"}),Ut.pageBreak=new i("break",{breakType:"page"}),Ut.columnBreak=new i("break",{breakType:"column"}),Ut.equalTo=s,Ut.startsWith=o;function n(c){return new i("paragraph",c)}function e(c){return new i("run",c)}function t(c){return new i("table",c)}function i(c,u){u=u||{},this._elementType=c,this._styleId=u.styleId,this._styleName=u.styleName,u.list&&(this._listIndex=u.list.levelIndex,this._listIsOrdered=u.list.isOrdered)}i.prototype.matches=function(c){return c.type===this._elementType&&(this._styleId===void 0||c.styleId===this._styleId)&&(this._styleName===void 0||c.styleName&&this._styleName.operator(this._styleName.operand,c.styleName))&&(this._listIndex===void 0||r(c,this._listIndex,this._listIsOrdered))&&(this._breakType===void 0||this._breakType===c.breakType)};function r(c,u,f){return c.numbering&&c.numbering.level==u&&c.numbering.isOrdered==f}function s(c){return{operator:a,operand:c}}function o(c){return{operator:l,operand:c}}function a(c,u){return c.toUpperCase()===u.toUpperCase()}function l(c,u){return u.toUpperCase().indexOf(c.toUpperCase())===0}return Ut}var yg={},yx;function mU(){if(yx)return yg;yx=1;var n=O_(),e=n.RegexTokeniser;yg.tokenise=i;var t="'((?:\\\\.|[^'])*)";function i(r){var s="(?:[a-zA-Z\\-_]|\\\\.)",o=new e([{name:"identifier",regex:new RegExp("("+s+"(?:"+s+"|[0-9])*)")},{name:"dot",regex:/\./},{name:"colon",regex:/:/},{name:"gt",regex:/>/},{name:"whitespace",regex:/\s+/},{name:"arrow",regex:/=>/},{name:"equals",regex:/=/},{name:"startsWith",regex:/\^=/},{name:"open-paren",regex:/\(/},{name:"close-paren",regex:/\)/},{name:"open-square-bracket",regex:/\[/},{name:"close-square-bracket",regex:/\]/},{name:"string",regex:new RegExp(t+"'")},{name:"unterminated-string",regex:new RegExp(t)},{name:"integer",regex:/([0-9]+)/},{name:"choice",regex:/\|/},{name:"bang",regex:/(!)/}]);return o.tokenise(r)}return yg}var vx;function yU(){if(vx)return bl;vx=1;var n=gt,e=O_(),t=gU(),i=kf(),r=mU().tokenise,s=fr();bl.readHtmlPath=u,bl.readDocumentMatcher=l,bl.readStyle=o;function o(k){return C(R,k)}function a(){return e.rules.sequence(e.rules.sequence.capture(c()),e.rules.tokenOfType("whitespace"),e.rules.tokenOfType("arrow"),e.rules.sequence.capture(e.rules.optional(e.rules.sequence(e.rules.tokenOfType("whitespace"),e.rules.sequence.capture(f())).head())),e.rules.tokenOfType("end")).map(function(k,I){return{from:k,to:I.valueOrElse(i.empty)}})}function l(k){return C(c(),k)}function c(){var k=e.rules.sequence,I=function(ye,Te){return e.rules.then(e.rules.token("identifier",ye),function(){return Te})},L=I("p",t.paragraph),J=I("r",t.run),U=e.rules.firstOf("p or r or table",L,J),O=e.rules.sequence(e.rules.tokenOfType("dot"),e.rules.sequence.cut(),e.rules.sequence.capture(p)).map(function(ye){return{styleId:ye}}),S=e.rules.firstOf("style name matcher",e.rules.then(e.rules.sequence(e.rules.tokenOfType("equals"),e.rules.sequence.cut(),e.rules.sequence.capture(b)).head(),function(ye){return{styleName:t.equalTo(ye)}}),e.rules.then(e.rules.sequence(e.rules.tokenOfType("startsWith"),e.rules.sequence.cut(),e.rules.sequence.capture(b)).head(),function(ye){return{styleName:t.startsWith(ye)}})),K=e.rules.sequence(e.rules.tokenOfType("open-square-bracket"),e.rules.sequence.cut(),e.rules.token("identifier","style-name"),e.rules.sequence.capture(S),e.rules.tokenOfType("close-square-bracket")).head(),q=e.rules.firstOf("list type",I("ordered-list",{isOrdered:!0}),I("unordered-list",{isOrdered:!1})),B=k(e.rules.tokenOfType("colon"),k.capture(q),k.cut(),e.rules.tokenOfType("open-paren"),k.capture(g),e.rules.tokenOfType("close-paren")).map(function(ye,Te){return{list:{isOrdered:ye.isOrdered,levelIndex:Te-1}}});function j(ye){var Te=e.rules.firstOf.apply(e.rules.firstOf,["matcher suffix"].concat(ye)),Ee=e.rules.zeroOrMore(Te);return e.rules.then(Ee,function(Se){var Oe={};return Se.forEach(function(w){n.extend(Oe,w)}),Oe})}var V=k(k.capture(U),k.capture(j([O,K,B]))).map(function(ye,Te){return ye(Te)}),Y=k(e.rules.token("identifier","table"),k.capture(j([O,K]))).map(function(ye){return t.table(ye)}),F=I("b",t.bold),X=I("i",t.italic),z=I("u",t.underline),ne=I("strike",t.strikethrough),oe=I("all-caps",t.allCaps),pe=I("small-caps",t.smallCaps),ce=I("comment-reference",t.commentReference),ge=k(e.rules.token("identifier","br"),k.cut(),e.rules.tokenOfType("open-square-bracket"),e.rules.token("identifier","type"),e.rules.tokenOfType("equals"),k.capture(b),e.rules.tokenOfType("close-square-bracket")).map(function(ye){switch(ye){case"line":return t.lineBreak;case"page":return t.pageBreak;case"column":return t.columnBreak}});return e.rules.firstOf("element type",V,Y,F,X,z,ne,oe,pe,ce,ge)}function u(k){return C(f(),k)}function f(){var k=e.rules.sequence.capture,I=e.rules.tokenOfType("whitespace"),L=e.rules.then(e.rules.optional(e.rules.sequence(e.rules.tokenOfType("colon"),e.rules.token("identifier","fresh"))),function(S){return S.map(function(){return!0}).valueOrElse(!1)}),J=e.rules.then(e.rules.optional(e.rules.sequence(e.rules.tokenOfType("colon"),e.rules.token("identifier","separator"),e.rules.tokenOfType("open-paren"),k(b),e.rules.tokenOfType("close-paren")).head()),function(S){return S.valueOrElse("")}),U=e.rules.oneOrMoreWithSeparator(p,e.rules.tokenOfType("choice")),O=e.rules.sequence(k(U),k(e.rules.zeroOrMore(T)),k(L),k(J)).map(function(S,K,q,B){var j={},V={};return K.forEach(function(Y){Y.append&&j[Y.name]?j[Y.name]+=" "+Y.value:j[Y.name]=Y.value}),q&&(V.fresh=!0),B&&(V.separator=B),i.element(S,j,V)});return e.rules.firstOf("html path",e.rules.then(e.rules.tokenOfType("bang"),function(){return i.ignore}),e.rules.then(e.rules.zeroOrMoreWithSeparator(O,e.rules.sequence(I,e.rules.tokenOfType("gt"),I)),i.elements))}var p=e.rules.then(e.rules.tokenOfType("identifier"),v),g=e.rules.tokenOfType("integer"),b=e.rules.then(e.rules.tokenOfType("string"),v),y={n:`
`,r:"\r",t:"	"};function v(k){return k.replace(/\\(.)/g,function(I,L){return y[L]||L})}var x=e.rules.sequence(e.rules.tokenOfType("open-square-bracket"),e.rules.sequence.cut(),e.rules.sequence.capture(p),e.rules.tokenOfType("equals"),e.rules.sequence.capture(b),e.rules.tokenOfType("close-square-bracket")).map(function(k,I){return{name:k,value:I,append:!1}}),D=e.rules.sequence(e.rules.tokenOfType("dot"),e.rules.sequence.cut(),e.rules.sequence.capture(p)).map(function(k){return{name:"class",value:k,append:!0}}),T=e.rules.firstOf("attribute or class",x,D);function C(k,I){var L=r(I),J=e.Parser(),U=J.parseTokens(k,L);return U.isSuccess()?s.success(U.value()):new s.Result(null,[s.warning(_(I,U))])}function _(k,I){return"Did not understand this style mapping, so ignored it: "+k+`
`+I.errors().map(A).join(`
`)}function A(k){return"Error was at character number "+k.characterNumber()+": Expected "+k.expected+" but got "+k.actual}var R=a();return bl}var xl={},bx;function vU(){if(bx)return xl;bx=1,xl.readOptions=i;var n=gt,e=xl._defaultStyleMap=["p.Heading1 => h1:fresh","p.Heading2 => h2:fresh","p.Heading3 => h3:fresh","p.Heading4 => h4:fresh","p.Heading5 => h5:fresh","p.Heading6 => h6:fresh","p[style-name='Heading 1'] => h1:fresh","p[style-name='Heading 2'] => h2:fresh","p[style-name='Heading 3'] => h3:fresh","p[style-name='Heading 4'] => h4:fresh","p[style-name='Heading 5'] => h5:fresh","p[style-name='Heading 6'] => h6:fresh","p[style-name='heading 1'] => h1:fresh","p[style-name='heading 2'] => h2:fresh","p[style-name='heading 3'] => h3:fresh","p[style-name='heading 4'] => h4:fresh","p[style-name='heading 5'] => h5:fresh","p[style-name='heading 6'] => h6:fresh","r[style-name='Strong'] => strong","p[style-name='footnote text'] => p:fresh","r[style-name='footnote reference'] =>","p[style-name='endnote text'] => p:fresh","r[style-name='endnote reference'] =>","p[style-name='annotation text'] => p:fresh","r[style-name='annotation reference'] =>","p[style-name='Footnote'] => p:fresh","r[style-name='Footnote anchor'] =>","p[style-name='Endnote'] => p:fresh","r[style-name='Endnote anchor'] =>","p:unordered-list(1) => ul > li:fresh","p:unordered-list(2) => ul|ol > li > ul > li:fresh","p:unordered-list(3) => ul|ol > li > ul|ol > li > ul > li:fresh","p:unordered-list(4) => ul|ol > li > ul|ol > li > ul|ol > li > ul > li:fresh","p:unordered-list(5) => ul|ol > li > ul|ol > li > ul|ol > li > ul|ol > li > ul > li:fresh","p:ordered-list(1) => ol > li:fresh","p:ordered-list(2) => ul|ol > li > ol > li:fresh","p:ordered-list(3) => ul|ol > li > ul|ol > li > ol > li:fresh","p:ordered-list(4) => ul|ol > li > ul|ol > li > ul|ol > li > ol > li:fresh","p:ordered-list(5) => ul|ol > li > ul|ol > li > ul|ol > li > ul|ol > li > ol > li:fresh","r[style-name='Hyperlink'] =>","p[style-name='Normal'] => p:fresh"],t=xl._standardOptions={transformDocument:s,includeDefaultStyleMap:!0,includeEmbeddedStyleMap:!0};function i(o){return o=o||{},n.extend({},t,o,{customStyleMap:r(o.styleMap),readStyleMap:function(){var a=this.customStyleMap;return this.includeEmbeddedStyleMap&&(a=a.concat(r(this.embeddedStyleMap))),this.includeDefaultStyleMap&&(a=a.concat(e)),a}})}function r(o){return o?n.isString(o)?o.split(`
`).map(function(a){return a.trim()}).filter(function(a){return a!==""&&a.charAt(0)!=="#"}):o:[]}function s(o){return o}return xl}var vg={},xx;function bU(){if(xx)return vg;xx=1;var n=ts(),e=w_();vg.openZip=t;function t(i){return i.arrayBuffer?n.resolve(e.openArrayBuffer(i.arrayBuffer)):n.reject(new Error("Could not find file in options"))}return vg}var ds={},Dx;function xU(){if(Dx)return ds;Dx=1;var n=gt;ds.paragraph=e,ds.run=t,ds._elements=r,ds.getDescendantsOfType=s,ds.getDescendants=o;function e(l){return i("paragraph",l)}function t(l){return i("run",l)}function i(l,c){return r(function(u){return u.type===l?c(u):u})}function r(l){return function c(u){if(u.children){var f=n.map(u.children,c);u=n.extend(u,{children:f})}return l(u)}}function s(l,c){return o(l).filter(function(u){return u.type===c})}function o(l){var c=[];return a(l,function(u){c.push(u)}),c}function a(l,c){l.children&&l.children.forEach(function(u){a(u,c),c(u)})}return ds}var bg={},Tx;function DU(){if(Tx)return bg;Tx=1;var n=kf(),e=Ff();bg.element=t;function t(i){return function(r){return e.elementWithTag(n.element(i),[r])}}return bg}var _x;function TU(){if(_x)return An;_x=1;var n=gt,e=tU(),t=nU(),i=aU().DocumentConverter,r=lU().convertElementToRawText,s=yU().readStyle,o=vU().readOptions,a=bU(),l=fr().Result;An.convertToHtml=c,An.convertToMarkdown=u,An.convert=f,An.extractRawText=y,An.images=N_(),An.transforms=xU(),An.underline=DU(),An.embedStyleMap=v,An.readEmbeddedStyleMap=p;function c(x,D){return f(x,D)}function u(x,D){var T=Object.create(D||{});return T.outputFormat="markdown",f(x,T)}function f(x,D){return D=o(D),a.openZip(x).tap(function(T){return t.readStyleMap(T).then(function(C){D.embeddedStyleMap=C})}).then(function(T){return e.read(T,x).then(function(C){return C.map(D.transformDocument)}).then(function(C){return g(C,D)})})}function p(x){return a.openZip(x).then(t.readStyleMap)}function g(x,D){var T=b(D.readStyleMap()),C=n.extend({},D,{styleMap:T.value}),_=new i(C);return x.flatMapThen(function(A){return T.flatMapThen(function(R){return _.convertToHtml(A)})})}function b(x){return l.combine((x||[]).map(s)).map(function(D){return D.filter(function(T){return!!T})})}function y(x){return a.openZip(x).then(e.read).then(function(D){return D.map(r)})}function v(x,D){return a.openZip(x).tap(function(T){return t.writeStyleMap(T,D)}).then(function(T){return T.toArrayBuffer()}).then(function(T){return{toArrayBuffer:function(){return T},toBuffer:function(){return Buffer.from(T)}}})}return An.styleMapping=function(){throw new Error(`Use a raw string instead of mammoth.styleMapping e.g. "p[style-name='Title'] => h1" instead of mammoth.styleMapping("p[style-name='Title'] => h1")`)},An}var _U=TU();const CU=Yh(_U);class AU{constructor(e=1440*60*1e3){this.cache=new Map,this.ttlMs=e}getKey(e,t="v1"){return`${e.name}-${e.size}-${e.lastModified}-${t}`}set(e,t,i="v1"){const r=this.getKey(e,i);this.cache.set(r,{data:t,timestamp:Date.now(),version:i})}get(e,t="v1"){const i=this.getKey(e,t),r=this.cache.get(i);return r?Date.now()-r.timestamp>this.ttlMs?(this.cache.delete(i),null):r.data:null}clear(){this.cache.clear()}size(){return this.cache.size}}const Cx=new AU(1440*60*1e3);FE.workerSrc="https://cdn.jsdelivr.net/npm/pdfjs-dist@4.3.136/build/pdf.worker.min.mjs";const Ax=15,EU=200,wU=2,SU=1.5,UU=n=>n.replace(/\r\n/g,`
`).replace(/\r/g,`
`).replace(/[ \t]{2,}/g," ").replace(/\n{3,}/g,`

`).trim(),RU=(n,e=EU)=>n.replace(/[^\w\s]/g,"").trim().length>=e,Ex=async n=>{try{return(await tw.recognize(n,"eng+vie")).data.text}catch(e){return console.warn("OCR failed, returning empty string:",e),""}},W_=async(n,e)=>{if(n.size>Ax*1024*1024)throw new Error(`File is too large. Maximum size is ${Ax}MB.`);const t=n.type,i=n.name.toLowerCase(),r=Cx.get(n,"text-extraction");if(r)return e("Đang tải từ cache..."),r;let s="";try{if(t==="application/pdf"||i.endsWith(".pdf")){e("Đang đọc file PDF...");const a=await n.arrayBuffer(),l=await kE({data:a}).promise;let c="";const u=Math.min(3,l.numPages);for(let f=1;f<=u;f++){const g=await(await l.getPage(f)).getTextContent();c+=g.items.map(b=>b.str).join(" ")+`
`}if(RU(c)){for(let f=1;f<=l.numPages;f++)if(f>u){const g=await(await l.getPage(f)).getTextContent();c+=g.items.map(b=>b.str).join(" ")+`
`}s=c,e("Đã trích xuất text từ PDF thành công")}else{e("PDF là ảnh scan, đang dùng OCR tối ưu...");let f="";const p=Math.min(wU,l.numPages);for(let g=1;g<=p;g++){e(`Đang OCR trang ${g}/${p}...`);const b=await l.getPage(g),y=b.getViewport({scale:SU}),v=document.createElement("canvas"),x=v.getContext("2d",{willReadFrequently:!0});if(x){v.height=y.height,v.width=y.width,await b.render({canvasContext:x,viewport:y}).promise;const D=await Ex(v);f+=D+`

`}}s=f,e("Đã hoàn thành OCR")}}else if(t==="application/vnd.openxmlformats-officedocument.wordprocessingml.document"||i.endsWith(".docx")){e("Đang đọc file DOCX...");const a=await n.arrayBuffer();s=(await CU.extractRawText({arrayBuffer:a})).value,e("Đã đọc file DOCX thành công")}else if(t.startsWith("image/")){e("Đang OCR ảnh...");const a=document.createElement("canvas"),l=a.getContext("2d"),c=new Image;await new Promise((u,f)=>{c.onload=()=>{let{width:b,height:y}=c;b>1200&&(y=y*1200/b,b=1200),y>1600&&(b=b*1600/y,y=1600),a.width=b,a.height=y,l==null||l.drawImage(c,0,0,b,y),u(void 0)},c.onerror=f,c.src=URL.createObjectURL(n)}),s=await Ex(a),e("Đã OCR ảnh thành công")}else if(t==="text/plain"||i.endsWith(".txt"))s=await n.text(),e("Đã đọc file text");else throw new Error(`Định dạng file không được hỗ trợ: ${n.name}`);const o=UU(s);return Cx.set(n,o,"text-extraction"),o}catch(o){throw console.error("Error extracting text from file:",o),new Error(`Lỗi xử lý file ${n.name}: ${o instanceof Error?o.message:"Unknown error"}`)}},IU=W_,FU=W_;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let kU,NU;function MU(){return{geminiUrl:kU,vertexUrl:NU}}function PU(n,e,t,i){var r,s;if(!(n!=null&&n.baseUrl)){const o=MU();return e?(r=o.vertexUrl)!==null&&r!==void 0?r:t:(s=o.geminiUrl)!==null&&s!==void 0?s:i}return n.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class So{}function Ae(n,e){const t=/\{([^}]+)\}/g;return n.replace(t,(i,r)=>{if(Object.prototype.hasOwnProperty.call(e,r)){const s=e[r];return s!=null?String(s):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function h(n,e,t){for(let s=0;s<e.length-1;s++){const o=e[s];if(o.endsWith("[]")){const a=o.slice(0,-2);if(!(a in n))if(Array.isArray(t))n[a]=Array.from({length:t.length},()=>({}));else throw new Error(`Value must be a list given an array path ${o}`);if(Array.isArray(n[a])){const l=n[a];if(Array.isArray(t))for(let c=0;c<l.length;c++){const u=l[c];h(u,e.slice(s+1),t[c])}else for(const c of l)h(c,e.slice(s+1),t)}return}else if(o.endsWith("[0]")){const a=o.slice(0,-3);a in n||(n[a]=[{}]);const l=n[a];h(l[0],e.slice(s+1),t);return}(!n[o]||typeof n[o]!="object")&&(n[o]={}),n=n[o]}const i=e[e.length-1],r=n[i];if(r!==void 0){if(!t||typeof t=="object"&&Object.keys(t).length===0||t===r)return;if(typeof r=="object"&&typeof t=="object"&&r!==null&&t!==null)Object.assign(r,t);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else i==="_self"&&typeof t=="object"&&t!==null&&!Array.isArray(t)?Object.assign(n,t):n[i]=t}function d(n,e){try{if(e.length===1&&e[0]==="_self")return n;for(let t=0;t<e.length;t++){if(typeof n!="object"||n===null)return;const i=e[t];if(i.endsWith("[]")){const r=i.slice(0,-2);if(r in n){const s=n[r];return Array.isArray(s)?s.map(o=>d(o,e.slice(t+1))):void 0}else return}else n=n[i]}return n}catch(t){if(t instanceof TypeError)return;throw t}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rv(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function LU(n){const e={},t=d(n,["operationName"]);t!=null&&h(e,["operationName"],t);const i=d(n,["resourceName"]);return i!=null&&h(e,["_url","resourceName"],i),e}function BU(n){const e={},t=d(n,["name"]);t!=null&&h(e,["name"],t);const i=d(n,["metadata"]);i!=null&&h(e,["metadata"],i);const r=d(n,["done"]);r!=null&&h(e,["done"],r);const s=d(n,["error"]);s!=null&&h(e,["error"],s);const o=d(n,["response","generateVideoResponse"]);return o!=null&&h(e,["response"],WU(o)),e}function OU(n){const e={},t=d(n,["name"]);t!=null&&h(e,["name"],t);const i=d(n,["metadata"]);i!=null&&h(e,["metadata"],i);const r=d(n,["done"]);r!=null&&h(e,["done"],r);const s=d(n,["error"]);s!=null&&h(e,["error"],s);const o=d(n,["response"]);return o!=null&&h(e,["response"],qU(o)),e}function WU(n){const e={},t=d(n,["generatedSamples"]);if(t!=null){let s=t;Array.isArray(s)&&(s=s.map(o=>VU(o))),h(e,["generatedVideos"],s)}const i=d(n,["raiMediaFilteredCount"]);i!=null&&h(e,["raiMediaFilteredCount"],i);const r=d(n,["raiMediaFilteredReasons"]);return r!=null&&h(e,["raiMediaFilteredReasons"],r),e}function qU(n){const e={},t=d(n,["videos"]);if(t!=null){let s=t;Array.isArray(s)&&(s=s.map(o=>HU(o))),h(e,["generatedVideos"],s)}const i=d(n,["raiMediaFilteredCount"]);i!=null&&h(e,["raiMediaFilteredCount"],i);const r=d(n,["raiMediaFilteredReasons"]);return r!=null&&h(e,["raiMediaFilteredReasons"],r),e}function VU(n){const e={},t=d(n,["_self"]);return t!=null&&h(e,["video"],zU(t)),e}function HU(n){const e={},t=d(n,["_self"]);return t!=null&&h(e,["video"],XU(t)),e}function GU(n){const e={},t=d(n,["operationName"]);return t!=null&&h(e,["_url","operationName"],t),e}function $U(n){const e={},t=d(n,["operationName"]);return t!=null&&h(e,["_url","operationName"],t),e}function zU(n){const e={},t=d(n,["video","uri"]);t!=null&&h(e,["uri"],t);const i=d(n,["video","encodedVideo"]);i!=null&&h(e,["videoBytes"],rv(i));const r=d(n,["encoding"]);return r!=null&&h(e,["mimeType"],r),e}function XU(n){const e={},t=d(n,["gcsUri"]);t!=null&&h(e,["uri"],t);const i=d(n,["bytesBase64Encoded"]);i!=null&&h(e,["videoBytes"],rv(i));const r=d(n,["mimeType"]);return r!=null&&h(e,["mimeType"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var wx;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(wx||(wx={}));var Sx;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(Sx||(Sx={}));var ke;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(ke||(ke={}));var Ux;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(Ux||(Ux={}));var Rx;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(Rx||(Rx={}));var Ix;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(Ix||(Ix={}));var Fx;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(Fx||(Fx={}));var kx;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(kx||(kx={}));var Nx;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Nx||(Nx={}));var Mx;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",n.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",n.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Mx||(Mx={}));var Px;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(Px||(Px={}));var Lx;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(Lx||(Lx={}));var Bx;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Bx||(Bx={}));var Ox;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY"})(Ox||(Ox={}));var Wx;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Wx||(Wx={}));var bh;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(bh||(bh={}));var qx;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(qx||(qx={}));var zm;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(zm||(zm={}));var Vx;(function(n){n.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",n.TUNING_MODE_FULL="TUNING_MODE_FULL",n.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Vx||(Vx={}));var Hx;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Hx||(Hx={}));var Gx;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(Gx||(Gx={}));var $x;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})($x||($x={}));var zx;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(zx||(zx={}));var Xx;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Xx||(Xx={}));var Jx;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE",n.VALIDATED="VALIDATED"})(Jx||(Jx={}));var Yx;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(Yx||(Yx={}));var Kx;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(Kx||(Kx={}));var jx;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})(jx||(jx={}));var Zx;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Zx||(Zx={}));var Qx;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Qx||(Qx={}));var e1;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(e1||(e1={}));var t1;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(t1||(t1={}));var n1;(function(n){n.FOREGROUND="FOREGROUND",n.BACKGROUND="BACKGROUND",n.PROMPT="PROMPT",n.SEMANTIC="SEMANTIC",n.INTERACTIVE="INTERACTIVE"})(n1||(n1={}));var i1;(function(n){n.ASSET="ASSET",n.STYLE="STYLE"})(i1||(i1={}));var r1;(function(n){n.INSERT="INSERT",n.REMOVE="REMOVE",n.REMOVE_STATIC="REMOVE_STATIC",n.OUTPAINT="OUTPAINT"})(r1||(r1={}));var s1;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(s1||(s1={}));var o1;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(o1||(o1={}));var a1;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(a1||(a1={}));var l1;(function(n){n.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.RESPONSE_REJECTED="RESPONSE_REJECTED",n.NEED_MORE_INPUT="NEED_MORE_INPUT"})(l1||(l1={}));var c1;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(c1||(c1={}));var u1;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(u1||(u1={}));var d1;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(d1||(d1={}));var h1;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(h1||(h1={}));var f1;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(f1||(f1={}));var p1;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(p1||(p1={}));var g1;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(g1||(g1={}));var m1;(function(n){n.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",n.QUALITY="QUALITY",n.DIVERSITY="DIVERSITY",n.VOCALIZATION="VOCALIZATION"})(m1||(m1={}));var qo;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(qo||(qo={}));class Xm{constructor(e){const t={};for(const i of e.headers.entries())t[i[0]]=i[1];this.headers=t,this.responseInternal=e}json(){return this.responseInternal.json()}}class Dl{get text(){var e,t,i,r,s,o,a,l;if(((r=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let c="",u=!1;const f=[];for(const p of(l=(a=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)!==null&&l!==void 0?l:[]){for(const[g,b]of Object.entries(p))g!=="text"&&g!=="thought"&&(b!==null||b!==void 0)&&f.push(g);if(typeof p.text=="string"){if(typeof p.thought=="boolean"&&p.thought)continue;u=!0,c+=p.text}}return f.length>0&&console.warn(`there are non-text parts ${f} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),u?c:void 0}get data(){var e,t,i,r,s,o,a,l;if(((r=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let c="";const u=[];for(const f of(l=(a=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)!==null&&l!==void 0?l:[]){for(const[p,g]of Object.entries(f))p!=="inlineData"&&(g!==null||g!==void 0)&&u.push(p);f.inlineData&&typeof f.inlineData.data=="string"&&(c+=atob(f.inlineData.data))}return u.length>0&&console.warn(`there are non-data parts ${u} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),c.length>0?btoa(c):void 0}get functionCalls(){var e,t,i,r,s,o,a,l;if(((r=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const c=(l=(a=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(u=>u.functionCall).map(u=>u.functionCall).filter(u=>u!==void 0);if((c==null?void 0:c.length)!==0)return c}get executableCode(){var e,t,i,r,s,o,a,l,c;if(((r=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const u=(l=(a=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(f=>f.executableCode).map(f=>f.executableCode).filter(f=>f!==void 0);if((u==null?void 0:u.length)!==0)return(c=u==null?void 0:u[0])===null||c===void 0?void 0:c.code}get codeExecutionResult(){var e,t,i,r,s,o,a,l,c;if(((r=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const u=(l=(a=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(f=>f.codeExecutionResult).map(f=>f.codeExecutionResult).filter(f=>f!==void 0);if((u==null?void 0:u.length)!==0)return(c=u==null?void 0:u[0])===null||c===void 0?void 0:c.output}}class y1{}class v1{}class JU{}class YU{}class KU{}class jU{}class b1{}class x1{}class D1{}class ZU{}class xh{_fromAPIResponse({apiResponse:e,isVertexAI:t}){const i=new xh;let r;const s=e;return t?r=OU(s):r=BU(s),Object.assign(i,r),i}}class T1{}class _1{}class C1{}class QU{}class eR{}class tR{}class A1{}class nR{get text(){var e,t,i;let r="",s=!1;const o=[];for(const a of(i=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&i!==void 0?i:[]){for(const[l,c]of Object.entries(a))l!=="text"&&l!=="thought"&&c!==null&&o.push(l);if(typeof a.text=="string"){if(typeof a.thought=="boolean"&&a.thought)continue;s=!0,r+=a.text}}return o.length>0&&console.warn(`there are non-text parts ${o} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),s?r:void 0}get data(){var e,t,i;let r="";const s=[];for(const o of(i=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&i!==void 0?i:[]){for(const[a,l]of Object.entries(o))a!=="inlineData"&&l!==null&&s.push(a);o.inlineData&&typeof o.inlineData.data=="string"&&(r+=atob(o.inlineData.data))}return s.length>0&&console.warn(`there are non-data parts ${s} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class iR{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Je(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const t=e.split("/",2);return`publishers/${t[0]}/models/${t[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function q_(n,e){const t=Je(n,e);return t?t.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}`:t.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${t}`:t:""}function V_(n){return Array.isArray(n)?n.map(e=>Dh(e)):[Dh(n)]}function Dh(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function H_(n){const e=Dh(n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function G_(n){const e=Dh(n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function E1(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function $_(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>E1(e)):[E1(n)]}function Jm(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function w1(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function S1(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function Ht(n){if(n==null)throw new Error("ContentUnion is required");return Jm(n)?n:{role:"user",parts:$_(n)}}function sv(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(t=>{const i=Ht(t);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(n.isVertexAI()){const t=Ht(e);return t.parts&&t.parts.length>0&&t.parts[0].text!==void 0?[t.parts[0].text]:[]}return Array.isArray(e)?e.map(t=>Ht(t)):[Ht(e)]}function On(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(w1(n)||S1(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Ht(n)]}const e=[],t=[],i=Jm(n[0]);for(const r of n){const s=Jm(r);if(s!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(s)e.push(r);else{if(w1(r)||S1(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");t.push(r)}}return i||e.push({role:"user",parts:$_(t)}),e}function rR(n,e){n.includes("null")&&(e.nullable=!0);const t=n.filter(i=>i!=="null");if(t.length===1)e.type=Object.values(ke).includes(t[0].toUpperCase())?t[0].toUpperCase():ke.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const i of t)e.anyOf.push({type:Object.values(ke).includes(i.toUpperCase())?i.toUpperCase():ke.TYPE_UNSPECIFIED})}}function Xo(n){const e={},t=["items"],i=["anyOf"],r=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const s=n.anyOf;s!=null&&s.length==2&&(s[0].type==="null"?(e.nullable=!0,n=s[1]):s[1].type==="null"&&(e.nullable=!0,n=s[0])),n.type instanceof Array&&rR(n.type,e);for(const[o,a]of Object.entries(n))if(a!=null)if(o=="type"){if(a==="null")throw new Error("type: null can not be the only possible type for the field.");if(a instanceof Array)continue;e.type=Object.values(ke).includes(a.toUpperCase())?a.toUpperCase():ke.TYPE_UNSPECIFIED}else if(t.includes(o))e[o]=Xo(a);else if(i.includes(o)){const l=[];for(const c of a){if(c.type=="null"){e.nullable=!0;continue}l.push(Xo(c))}e[o]=l}else if(r.includes(o)){const l={};for(const[c,u]of Object.entries(a))l[c]=Xo(u);e[o]=l}else{if(o==="additionalProperties")continue;e[o]=a}return e}function ov(n){return Xo(n)}function av(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function lv(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function Qa(n){if(n.functionDeclarations)for(const e of n.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Xo(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Xo(e.response));return n}function el(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const e=[];for(const t of n)e.push(t);return e}function sR(n,e,t,i=1){const r=!e.startsWith(`${t}/`)&&e.split("/").length===i;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${t}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:r?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}/${e}`:e:r?`${t}/${e}`:e}function mr(n,e){if(typeof e!="string")throw new Error("name must be a string");return sR(n,e,"cachedContents")}function z_(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function Uo(n){return rv(n)}function oR(n){return n!=null&&typeof n=="object"&&"name"in n}function aR(n){return n!=null&&typeof n=="object"&&"video"in n}function lR(n){return n!=null&&typeof n=="object"&&"uri"in n}function X_(n){var e;let t;if(oR(n)&&(t=n.name),!(lR(n)&&(t=n.uri,t===void 0))&&!(aR(n)&&(t=(e=n.video)===null||e===void 0?void 0:e.uri,t===void 0))){if(typeof n=="string"&&(t=n),t===void 0)throw new Error("Could not extract file name from the provided input.");if(t.startsWith("https://")){const r=t.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${t}`);t=r[0]}else t.startsWith("files/")&&(t=t.split("files/")[1]);return t}}function J_(n,e){let t;return n.isVertexAI()?t=e?"publishers/google/models":"models":t=e?"models":"tunedModels",t}function Y_(n){for(const e of["models","tunedModels","publisherModels"])if(cR(n,e))return n[e];return[]}function cR(n,e){return n!==null&&typeof n=="object"&&e in n}function uR(n,e={}){const t=n,i={name:t.name,description:t.description,parametersJsonSchema:t.inputSchema};return t.outputSchema&&(i.responseJsonSchema=t.outputSchema),e.behavior&&(i.behavior=e.behavior),{functionDeclarations:[i]}}function dR(n,e={}){const t=[],i=new Set;for(const r of n){const s=r.name;if(i.has(s))throw new Error(`Duplicate function name ${s} found in MCP tools. Please ensure function names are unique.`);i.add(s);const o=uR(r,e);o.functionDeclarations&&t.push(...o.functionDeclarations)}return{functionDeclarations:t}}function K_(n,e){let t;if(typeof e=="string")if(n.isVertexAI())if(e.startsWith("gs://"))t={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))t={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))t={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(n.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");t={inlinedRequests:e}}else t=e;const i=[t.gcsUri,t.bigqueryUri].filter(Boolean).length,r=[t.inlinedRequests,t.fileName].filter(Boolean).length;if(n.isVertexAI()){if(r>0||i!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(i>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return t}function hR(n){if(typeof n!="string")return n;const e=n;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function j_(n){if(typeof n!="object"||n===null)return{};const e=n,t=e.inlinedResponses;if(typeof t!="object"||t===null)return n;const r=t.inlinedResponses;if(!Array.isArray(r)||r.length===0)return n;let s=!1;for(const o of r){if(typeof o!="object"||o===null)continue;const l=o.response;if(typeof l!="object"||l===null)continue;if(l.embedding!==void 0){s=!0;break}}return s&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),n}function tl(n,e){const t=e;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(t))return t.split("/").pop();throw new Error(`Invalid batch job name: ${t}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(t))return t.split("/").pop();if(/^\d+$/.test(t))return t;throw new Error(`Invalid batch job name: ${t}.`)}function Z_(n){const e=n;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fR(n){const e={},t=d(n,["responsesFile"]);t!=null&&h(e,["fileName"],t);const i=d(n,["inlinedResponses","inlinedResponses"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>QR(o))),h(e,["inlinedResponses"],s)}const r=d(n,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>jR(o))),h(e,["inlinedEmbedContentResponses"],s)}return e}function pR(n){const e={},t=d(n,["predictionsFormat"]);t!=null&&h(e,["format"],t);const i=d(n,["gcsDestination","outputUriPrefix"]);i!=null&&h(e,["gcsUri"],i);const r=d(n,["bigqueryDestination","outputUri"]);return r!=null&&h(e,["bigqueryUri"],r),e}function gR(n){const e={},t=d(n,["format"]);t!=null&&h(e,["predictionsFormat"],t);const i=d(n,["gcsUri"]);i!=null&&h(e,["gcsDestination","outputUriPrefix"],i);const r=d(n,["bigqueryUri"]);if(r!=null&&h(e,["bigqueryDestination","outputUri"],r),d(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(d(n,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Wo(n){const e={},t=d(n,["name"]);t!=null&&h(e,["name"],t);const i=d(n,["metadata","displayName"]);i!=null&&h(e,["displayName"],i);const r=d(n,["metadata","state"]);r!=null&&h(e,["state"],Z_(r));const s=d(n,["metadata","createTime"]);s!=null&&h(e,["createTime"],s);const o=d(n,["metadata","endTime"]);o!=null&&h(e,["endTime"],o);const a=d(n,["metadata","updateTime"]);a!=null&&h(e,["updateTime"],a);const l=d(n,["metadata","model"]);l!=null&&h(e,["model"],l);const c=d(n,["metadata","output"]);return c!=null&&h(e,["dest"],fR(j_(c))),e}function Ym(n){const e={},t=d(n,["name"]);t!=null&&h(e,["name"],t);const i=d(n,["displayName"]);i!=null&&h(e,["displayName"],i);const r=d(n,["state"]);r!=null&&h(e,["state"],Z_(r));const s=d(n,["error"]);s!=null&&h(e,["error"],eC(s));const o=d(n,["createTime"]);o!=null&&h(e,["createTime"],o);const a=d(n,["startTime"]);a!=null&&h(e,["startTime"],a);const l=d(n,["endTime"]);l!=null&&h(e,["endTime"],l);const c=d(n,["updateTime"]);c!=null&&h(e,["updateTime"],c);const u=d(n,["model"]);u!=null&&h(e,["model"],u);const f=d(n,["inputConfig"]);f!=null&&h(e,["src"],mR(f));const p=d(n,["outputConfig"]);return p!=null&&h(e,["dest"],pR(j_(p))),e}function mR(n){const e={},t=d(n,["instancesFormat"]);t!=null&&h(e,["format"],t);const i=d(n,["gcsSource","uris"]);i!=null&&h(e,["gcsUri"],i);const r=d(n,["bigquerySource","inputUri"]);return r!=null&&h(e,["bigqueryUri"],r),e}function yR(n,e){const t={};if(d(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(d(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const i=d(e,["fileName"]);i!=null&&h(t,["fileName"],i);const r=d(e,["inlinedRequests"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>ZR(n,o))),h(t,["requests","requests"],s)}return t}function vR(n){const e={},t=d(n,["format"]);t!=null&&h(e,["instancesFormat"],t);const i=d(n,["gcsUri"]);i!=null&&h(e,["gcsSource","uris"],i);const r=d(n,["bigqueryUri"]);if(r!=null&&h(e,["bigquerySource","inputUri"],r),d(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function bR(n){const e={},t=d(n,["data"]);t!=null&&h(e,["data"],t);const i=d(n,["mimeType"]);return i!=null&&h(e,["mimeType"],i),e}function xR(n){const e={};if(d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=d(n,["data"]);t!=null&&h(e,["data"],t);const i=d(n,["mimeType"]);return i!=null&&h(e,["mimeType"],i),e}function DR(n,e){const t={},i=d(e,["name"]);return i!=null&&h(t,["_url","name"],tl(n,i)),t}function TR(n,e){const t={},i=d(e,["name"]);return i!=null&&h(t,["_url","name"],tl(n,i)),t}function _R(n){const e={},t=d(n,["content"]);t!=null&&h(e,["content"],ER(t));const i=d(n,["citationMetadata"]);i!=null&&h(e,["citationMetadata"],CR(i));const r=d(n,["tokenCount"]);r!=null&&h(e,["tokenCount"],r);const s=d(n,["finishReason"]);s!=null&&h(e,["finishReason"],s);const o=d(n,["urlContextMetadata"]);o!=null&&h(e,["urlContextMetadata"],TI(o));const a=d(n,["avgLogprobs"]);a!=null&&h(e,["avgLogprobs"],a);const l=d(n,["groundingMetadata"]);l!=null&&h(e,["groundingMetadata"],l);const c=d(n,["index"]);c!=null&&h(e,["index"],c);const u=d(n,["logprobsResult"]);u!=null&&h(e,["logprobsResult"],u);const f=d(n,["safetyRatings"]);return f!=null&&h(e,["safetyRatings"],f),e}function CR(n){const e={},t=d(n,["citationSources"]);return t!=null&&h(e,["citations"],t),e}function AR(n){const e={},t=d(n,["values"]);return t!=null&&h(e,["values"],t),e}function ER(n){const e={},t=d(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(s=>cI(s))),h(e,["parts"],r)}const i=d(n,["role"]);return i!=null&&h(e,["role"],i),e}function Q_(n){const e={},t=d(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(s=>uI(s))),h(e,["parts"],r)}const i=d(n,["role"]);return i!=null&&h(e,["role"],i),e}function wR(n,e){const t={},i=d(n,["displayName"]);if(e!==void 0&&i!=null&&h(e,["batch","displayName"],i),d(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return t}function SR(n,e){const t={},i=d(n,["displayName"]);e!==void 0&&i!=null&&h(e,["displayName"],i);const r=d(n,["dest"]);return e!==void 0&&r!=null&&h(e,["outputConfig"],gR(hR(r))),t}function xg(n,e){const t={},i=d(e,["model"]);i!=null&&h(t,["_url","model"],Je(n,i));const r=d(e,["src"]);r!=null&&h(t,["batch","inputConfig"],yR(n,K_(n,r)));const s=d(e,["config"]);return s!=null&&wR(s,t),t}function UR(n,e){const t={},i=d(e,["model"]);i!=null&&h(t,["model"],Je(n,i));const r=d(e,["src"]);r!=null&&h(t,["inputConfig"],vR(K_(n,r)));const s=d(e,["config"]);return s!=null&&SR(s,t),t}function RR(n,e){const t={},i=d(n,["displayName"]);return e!==void 0&&i!=null&&h(e,["batch","displayName"],i),t}function Dg(n,e){const t={},i=d(e,["model"]);i!=null&&h(t,["_url","model"],Je(n,i));const r=d(e,["src"]);r!=null&&h(t,["batch","inputConfig"],BR(n,r));const s=d(e,["config"]);return s!=null&&RR(s,t),t}function IR(n,e){const t={},i=d(e,["name"]);return i!=null&&h(t,["_url","name"],tl(n,i)),t}function FR(n,e){const t={},i=d(e,["name"]);return i!=null&&h(t,["_url","name"],tl(n,i)),t}function kR(n){const e={},t=d(n,["sdkHttpResponse"]);t!=null&&h(e,["sdkHttpResponse"],t);const i=d(n,["name"]);i!=null&&h(e,["name"],i);const r=d(n,["done"]);r!=null&&h(e,["done"],r);const s=d(n,["error"]);return s!=null&&h(e,["error"],cv(s)),e}function NR(n){const e={},t=d(n,["sdkHttpResponse"]);t!=null&&h(e,["sdkHttpResponse"],t);const i=d(n,["name"]);i!=null&&h(e,["name"],i);const r=d(n,["done"]);r!=null&&h(e,["done"],r);const s=d(n,["error"]);return s!=null&&h(e,["error"],eC(s)),e}function MR(n){const e={},t=d(n,["mode"]);t!=null&&h(e,["mode"],t);const i=d(n,["dynamicThreshold"]);return i!=null&&h(e,["dynamicThreshold"],i),e}function PR(n,e){const t={},i=d(e,["contents"]);i!=null&&h(t,["requests[]","request","content"],sv(n,i));const r=d(e,["config"]);return r!=null&&h(t,["config"],LR(r,t)),t}function LR(n,e){const t={},i=d(n,["taskType"]);e!==void 0&&i!=null&&h(e,["requests[]","taskType"],i);const r=d(n,["title"]);e!==void 0&&r!=null&&h(e,["requests[]","title"],r);const s=d(n,["outputDimensionality"]);if(e!==void 0&&s!=null&&h(e,["requests[]","outputDimensionality"],s),d(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return t}function BR(n,e){const t={},i=d(e,["fileName"]);i!=null&&h(t,["file_name"],i);const r=d(e,["inlinedRequests"]);return r!=null&&h(t,["requests"],PR(n,r)),t}function OR(n){const e={},t=d(n,["fileUri"]);t!=null&&h(e,["fileUri"],t);const i=d(n,["mimeType"]);return i!=null&&h(e,["mimeType"],i),e}function WR(n){const e={};if(d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=d(n,["fileUri"]);t!=null&&h(e,["fileUri"],t);const i=d(n,["mimeType"]);return i!=null&&h(e,["mimeType"],i),e}function qR(n){const e={},t=d(n,["id"]);t!=null&&h(e,["id"],t);const i=d(n,["args"]);i!=null&&h(e,["args"],i);const r=d(n,["name"]);return r!=null&&h(e,["name"],r),e}function VR(n){const e={},t=d(n,["id"]);t!=null&&h(e,["id"],t);const i=d(n,["args"]);i!=null&&h(e,["args"],i);const r=d(n,["name"]);return r!=null&&h(e,["name"],r),e}function HR(n){const e={},t=d(n,["mode"]);t!=null&&h(e,["mode"],t);const i=d(n,["allowedFunctionNames"]);return i!=null&&h(e,["allowedFunctionNames"],i),e}function GR(n){const e={},t=d(n,["behavior"]);t!=null&&h(e,["behavior"],t);const i=d(n,["description"]);i!=null&&h(e,["description"],i);const r=d(n,["name"]);r!=null&&h(e,["name"],r);const s=d(n,["parameters"]);s!=null&&h(e,["parameters"],s);const o=d(n,["parametersJsonSchema"]);o!=null&&h(e,["parametersJsonSchema"],o);const a=d(n,["response"]);a!=null&&h(e,["response"],a);const l=d(n,["responseJsonSchema"]);return l!=null&&h(e,["responseJsonSchema"],l),e}function $R(n,e,t){const i={},r=d(e,["systemInstruction"]);t!==void 0&&r!=null&&h(t,["systemInstruction"],Q_(Ht(r)));const s=d(e,["temperature"]);s!=null&&h(i,["temperature"],s);const o=d(e,["topP"]);o!=null&&h(i,["topP"],o);const a=d(e,["topK"]);a!=null&&h(i,["topK"],a);const l=d(e,["candidateCount"]);l!=null&&h(i,["candidateCount"],l);const c=d(e,["maxOutputTokens"]);c!=null&&h(i,["maxOutputTokens"],c);const u=d(e,["stopSequences"]);u!=null&&h(i,["stopSequences"],u);const f=d(e,["responseLogprobs"]);f!=null&&h(i,["responseLogprobs"],f);const p=d(e,["logprobs"]);p!=null&&h(i,["logprobs"],p);const g=d(e,["presencePenalty"]);g!=null&&h(i,["presencePenalty"],g);const b=d(e,["frequencyPenalty"]);b!=null&&h(i,["frequencyPenalty"],b);const y=d(e,["seed"]);y!=null&&h(i,["seed"],y);const v=d(e,["responseMimeType"]);v!=null&&h(i,["responseMimeType"],v);const x=d(e,["responseSchema"]);x!=null&&h(i,["responseSchema"],pI(ov(x)));const D=d(e,["responseJsonSchema"]);if(D!=null&&h(i,["responseJsonSchema"],D),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const T=d(e,["safetySettings"]);if(t!==void 0&&T!=null){let J=T;Array.isArray(J)&&(J=J.map(U=>fI(U))),h(t,["safetySettings"],J)}const C=d(e,["tools"]);if(t!==void 0&&C!=null){let J=el(C);Array.isArray(J)&&(J=J.map(U=>DI(Qa(U)))),h(t,["tools"],J)}const _=d(e,["toolConfig"]);if(t!==void 0&&_!=null&&h(t,["toolConfig"],xI(_)),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const A=d(e,["cachedContent"]);t!==void 0&&A!=null&&h(t,["cachedContent"],mr(n,A));const R=d(e,["responseModalities"]);R!=null&&h(i,["responseModalities"],R);const k=d(e,["mediaResolution"]);k!=null&&h(i,["mediaResolution"],k);const I=d(e,["speechConfig"]);if(I!=null&&h(i,["speechConfig"],yI(av(I))),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const L=d(e,["thinkingConfig"]);return L!=null&&h(i,["thinkingConfig"],vI(L)),i}function zR(n){const e={},t=d(n,["sdkHttpResponse"]);t!=null&&h(e,["sdkHttpResponse"],t);const i=d(n,["candidates"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>_R(c))),h(e,["candidates"],l)}const r=d(n,["modelVersion"]);r!=null&&h(e,["modelVersion"],r);const s=d(n,["promptFeedback"]);s!=null&&h(e,["promptFeedback"],s);const o=d(n,["responseId"]);o!=null&&h(e,["responseId"],o);const a=d(n,["usageMetadata"]);return a!=null&&h(e,["usageMetadata"],a),e}function XR(n,e){const t={},i=d(e,["name"]);return i!=null&&h(t,["_url","name"],tl(n,i)),t}function JR(n,e){const t={},i=d(e,["name"]);return i!=null&&h(t,["_url","name"],tl(n,i)),t}function YR(n){const e={},t=d(n,["dynamicRetrievalConfig"]);return t!=null&&h(e,["dynamicRetrievalConfig"],MR(t)),e}function KR(n){const e={},t=d(n,["timeRangeFilter"]);if(t!=null&&h(e,["timeRangeFilter"],eI(t)),d(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function jR(n){const e={},t=d(n,["response"]);t!=null&&h(e,["response"],gI(t));const i=d(n,["error"]);return i!=null&&h(e,["error"],cv(i)),e}function ZR(n,e){const t={},i=d(e,["model"]);i!=null&&h(t,["request","model"],Je(n,i));const r=d(e,["contents"]);if(r!=null){let o=On(r);Array.isArray(o)&&(o=o.map(a=>Q_(a))),h(t,["request","contents"],o)}const s=d(e,["config"]);return s!=null&&h(t,["request","generationConfig"],$R(n,s,t)),t}function QR(n){const e={},t=d(n,["response"]);t!=null&&h(e,["response"],zR(t));const i=d(n,["error"]);return i!=null&&h(e,["error"],cv(i)),e}function eI(n){const e={},t=d(n,["startTime"]);t!=null&&h(e,["startTime"],t);const i=d(n,["endTime"]);return i!=null&&h(e,["endTime"],i),e}function cv(n){const e={},t=d(n,["details"]);t!=null&&h(e,["details"],t);const i=d(n,["code"]);i!=null&&h(e,["code"],i);const r=d(n,["message"]);return r!=null&&h(e,["message"],r),e}function eC(n){const e={},t=d(n,["details"]);t!=null&&h(e,["details"],t);const i=d(n,["code"]);i!=null&&h(e,["code"],i);const r=d(n,["message"]);return r!=null&&h(e,["message"],r),e}function tI(n){const e={},t=d(n,["latitude"]);t!=null&&h(e,["latitude"],t);const i=d(n,["longitude"]);return i!=null&&h(e,["longitude"],i),e}function nI(n,e){const t={},i=d(n,["pageSize"]);e!==void 0&&i!=null&&h(e,["_query","pageSize"],i);const r=d(n,["pageToken"]);if(e!==void 0&&r!=null&&h(e,["_query","pageToken"],r),d(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return t}function iI(n,e){const t={},i=d(n,["pageSize"]);e!==void 0&&i!=null&&h(e,["_query","pageSize"],i);const r=d(n,["pageToken"]);e!==void 0&&r!=null&&h(e,["_query","pageToken"],r);const s=d(n,["filter"]);return e!==void 0&&s!=null&&h(e,["_query","filter"],s),t}function rI(n){const e={},t=d(n,["config"]);return t!=null&&nI(t,e),e}function sI(n){const e={},t=d(n,["config"]);return t!=null&&iI(t,e),e}function oI(n){const e={},t=d(n,["sdkHttpResponse"]);t!=null&&h(e,["sdkHttpResponse"],t);const i=d(n,["nextPageToken"]);i!=null&&h(e,["nextPageToken"],i);const r=d(n,["operations"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>Wo(o))),h(e,["batchJobs"],s)}return e}function aI(n){const e={},t=d(n,["sdkHttpResponse"]);t!=null&&h(e,["sdkHttpResponse"],t);const i=d(n,["nextPageToken"]);i!=null&&h(e,["nextPageToken"],i);const r=d(n,["batchPredictionJobs"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>Ym(o))),h(e,["batchJobs"],s)}return e}function lI(n){const e={},t=d(n,["speakerVoiceConfigs"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(r=>mI(r))),h(e,["speakerVoiceConfigs"],i)}return e}function cI(n){const e={},t=d(n,["videoMetadata"]);t!=null&&h(e,["videoMetadata"],AI(t));const i=d(n,["thought"]);i!=null&&h(e,["thought"],i);const r=d(n,["inlineData"]);r!=null&&h(e,["inlineData"],bR(r));const s=d(n,["fileData"]);s!=null&&h(e,["fileData"],OR(s));const o=d(n,["thoughtSignature"]);o!=null&&h(e,["thoughtSignature"],o);const a=d(n,["functionCall"]);a!=null&&h(e,["functionCall"],qR(a));const l=d(n,["codeExecutionResult"]);l!=null&&h(e,["codeExecutionResult"],l);const c=d(n,["executableCode"]);c!=null&&h(e,["executableCode"],c);const u=d(n,["functionResponse"]);u!=null&&h(e,["functionResponse"],u);const f=d(n,["text"]);return f!=null&&h(e,["text"],f),e}function uI(n){const e={},t=d(n,["videoMetadata"]);t!=null&&h(e,["videoMetadata"],EI(t));const i=d(n,["thought"]);i!=null&&h(e,["thought"],i);const r=d(n,["inlineData"]);r!=null&&h(e,["inlineData"],xR(r));const s=d(n,["fileData"]);s!=null&&h(e,["fileData"],WR(s));const o=d(n,["thoughtSignature"]);o!=null&&h(e,["thoughtSignature"],o);const a=d(n,["functionCall"]);a!=null&&h(e,["functionCall"],VR(a));const l=d(n,["codeExecutionResult"]);l!=null&&h(e,["codeExecutionResult"],l);const c=d(n,["executableCode"]);c!=null&&h(e,["executableCode"],c);const u=d(n,["functionResponse"]);u!=null&&h(e,["functionResponse"],u);const f=d(n,["text"]);return f!=null&&h(e,["text"],f),e}function dI(n){const e={},t=d(n,["voiceName"]);return t!=null&&h(e,["voiceName"],t),e}function hI(n){const e={},t=d(n,["latLng"]);t!=null&&h(e,["latLng"],tI(t));const i=d(n,["languageCode"]);return i!=null&&h(e,["languageCode"],i),e}function fI(n){const e={};if(d(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const t=d(n,["category"]);t!=null&&h(e,["category"],t);const i=d(n,["threshold"]);return i!=null&&h(e,["threshold"],i),e}function pI(n){const e={},t=d(n,["anyOf"]);t!=null&&h(e,["anyOf"],t);const i=d(n,["default"]);i!=null&&h(e,["default"],i);const r=d(n,["description"]);r!=null&&h(e,["description"],r);const s=d(n,["enum"]);s!=null&&h(e,["enum"],s);const o=d(n,["example"]);o!=null&&h(e,["example"],o);const a=d(n,["format"]);a!=null&&h(e,["format"],a);const l=d(n,["items"]);l!=null&&h(e,["items"],l);const c=d(n,["maxItems"]);c!=null&&h(e,["maxItems"],c);const u=d(n,["maxLength"]);u!=null&&h(e,["maxLength"],u);const f=d(n,["maxProperties"]);f!=null&&h(e,["maxProperties"],f);const p=d(n,["maximum"]);p!=null&&h(e,["maximum"],p);const g=d(n,["minItems"]);g!=null&&h(e,["minItems"],g);const b=d(n,["minLength"]);b!=null&&h(e,["minLength"],b);const y=d(n,["minProperties"]);y!=null&&h(e,["minProperties"],y);const v=d(n,["minimum"]);v!=null&&h(e,["minimum"],v);const x=d(n,["nullable"]);x!=null&&h(e,["nullable"],x);const D=d(n,["pattern"]);D!=null&&h(e,["pattern"],D);const T=d(n,["properties"]);T!=null&&h(e,["properties"],T);const C=d(n,["propertyOrdering"]);C!=null&&h(e,["propertyOrdering"],C);const _=d(n,["required"]);_!=null&&h(e,["required"],_);const A=d(n,["title"]);A!=null&&h(e,["title"],A);const R=d(n,["type"]);return R!=null&&h(e,["type"],R),e}function gI(n){const e={},t=d(n,["embedding"]);t!=null&&h(e,["embedding"],AR(t));const i=d(n,["tokenCount"]);return i!=null&&h(e,["tokenCount"],i),e}function mI(n){const e={},t=d(n,["speaker"]);t!=null&&h(e,["speaker"],t);const i=d(n,["voiceConfig"]);return i!=null&&h(e,["voiceConfig"],tC(i)),e}function yI(n){const e={},t=d(n,["voiceConfig"]);t!=null&&h(e,["voiceConfig"],tC(t));const i=d(n,["multiSpeakerVoiceConfig"]);i!=null&&h(e,["multiSpeakerVoiceConfig"],lI(i));const r=d(n,["languageCode"]);return r!=null&&h(e,["languageCode"],r),e}function vI(n){const e={},t=d(n,["includeThoughts"]);t!=null&&h(e,["includeThoughts"],t);const i=d(n,["thinkingBudget"]);return i!=null&&h(e,["thinkingBudget"],i),e}function bI(n){const e={},t=d(n,["environment"]);t!=null&&h(e,["environment"],t);const i=d(n,["excludedPredefinedFunctions"]);return i!=null&&h(e,["excludedPredefinedFunctions"],i),e}function xI(n){const e={},t=d(n,["functionCallingConfig"]);t!=null&&h(e,["functionCallingConfig"],HR(t));const i=d(n,["retrievalConfig"]);return i!=null&&h(e,["retrievalConfig"],hI(i)),e}function DI(n){const e={},t=d(n,["functionDeclarations"]);if(t!=null){let l=t;Array.isArray(l)&&(l=l.map(c=>GR(c))),h(e,["functionDeclarations"],l)}if(d(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=d(n,["googleSearch"]);i!=null&&h(e,["googleSearch"],KR(i));const r=d(n,["googleSearchRetrieval"]);if(r!=null&&h(e,["googleSearchRetrieval"],YR(r)),d(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(d(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");d(n,["urlContext"])!=null&&h(e,["urlContext"],_I());const o=d(n,["computerUse"]);o!=null&&h(e,["computerUse"],bI(o));const a=d(n,["codeExecution"]);return a!=null&&h(e,["codeExecution"],a),e}function TI(n){const e={},t=d(n,["urlMetadata"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(r=>CI(r))),h(e,["urlMetadata"],i)}return e}function _I(){return{}}function CI(n){const e={},t=d(n,["retrievedUrl"]);t!=null&&h(e,["retrievedUrl"],t);const i=d(n,["urlRetrievalStatus"]);return i!=null&&h(e,["urlRetrievalStatus"],i),e}function AI(n){const e={},t=d(n,["fps"]);t!=null&&h(e,["fps"],t);const i=d(n,["endOffset"]);i!=null&&h(e,["endOffset"],i);const r=d(n,["startOffset"]);return r!=null&&h(e,["startOffset"],r),e}function EI(n){const e={},t=d(n,["fps"]);t!=null&&h(e,["fps"],t);const i=d(n,["endOffset"]);i!=null&&h(e,["endOffset"],i);const r=d(n,["startOffset"]);return r!=null&&h(e,["startOffset"],r),e}function tC(n){const e={},t=d(n,["prebuiltVoiceConfig"]);return t!=null&&h(e,["prebuiltVoiceConfig"],dI(t)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var vo;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(vo||(vo={}));class qu{constructor(e,t,i,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(e,i,r)}init(e,t,i){var r,s;this.nameInternal=e,this.pageInternal=t[this.nameInternal]||[],this.sdkHttpResponseInternal=t==null?void 0:t.sdkHttpResponse,this.idxInternal=0;let o={config:{}};!i||Object.keys(i).length===0?o={config:{}}:typeof i=="object"?o=Object.assign({},i):o=i,o.config&&(o.config.pageToken=t.nextPageToken),this.paramsInternal=o,this.pageInternalSize=(s=(r=o.config)===null||r===void 0?void 0:r.pageSize)!==null&&s!==void 0?s:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wI extends So{constructor(e){super(),this.apiClient=e,this.create=async t=>{var i,r;if(this.apiClient.isVertexAI())return t.config=this.formatDestination(t.src,t.config),this.createInternal(t);const s=t.src;if(!(Array.isArray(t.src)||s.inlinedRequests!==void 0))return this.createInternal(t);const a=this.createInlinedGenerateContentRequest(t),l=a.path,c=a.body,u=xg(this.apiClient,t)._query||{};return this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()).then(p=>Wo(p))},this.createEmbeddings=async t=>{var i,r;if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");if(!(t.src.inlinedRequests!==void 0))return this.createEmbeddingsInternal(t);const a=this.createInlinedEmbedContentRequest(t),l=a.path,c=a.body,u=Dg(this.apiClient,t)._query||{};return this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()).then(p=>Wo(p))},this.list=async(t={})=>new qu(vo.PAGED_ITEM_BATCH_JOBS,i=>this.listInternal(i),await this.listInternal(t),t)}createInlinedGenerateContentRequest(e){const t=xg(this.apiClient,e),i=t._url,r=Ae("{model}:batchGenerateContent",i),a=t.batch.inputConfig.requests,l=a.requests,c=[];for(const u of l){const f=Object.assign({},u);if(f.systemInstruction){const p=f.systemInstruction;delete f.systemInstruction;const g=f.request;g.systemInstruction=p,f.request=g}c.push(f)}return a.requests=c,delete t.config,delete t._url,delete t._query,{path:r,body:t}}createInlinedEmbedContentRequest(e){const t=Dg(this.apiClient,e),i=t._url,r=Ae("{model}:asyncBatchEmbedContent",i),a=t.batch.inputConfig.requests,l=a.requests,c=[];delete a.config;for(const u of l){const f=Object.assign({},u),p=f.request;for(const g in f)g!=="request"&&(p[g]=f[g],delete f[g]);c.push(f)}return a.requests=c,delete t.config,delete t._url,delete t._query,{path:r,body:t}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,t){const i=t?Object.assign({},t):{},r=Date.now().toString();if(i.displayName||(i.displayName=`genaiBatchJob_${r}`),i.dest===void 0){const s=this.getGcsUri(e),o=this.getBigqueryUri(e);if(s)s.endsWith(".jsonl")?i.dest=`${s.slice(0,-6)}/dest`:i.dest=`${s}_dest_${r}`;else if(o)i.dest=`${o}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return i}async createInternal(e){var t,i,r,s;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=UR(this.apiClient,e);return a=Ae("batchPredictionJobs",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json()),o.then(u=>Ym(u))}else{const c=xg(this.apiClient,e);return a=Ae("{model}:batchGenerateContent",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),o.then(u=>Wo(u))}}async createEmbeddingsInternal(e){var t,i;let r,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Dg(this.apiClient,e);return s=Ae("{model}:asyncBatchEmbedContent",a._url),o=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>Wo(l))}}async get(e){var t,i,r,s;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=JR(this.apiClient,e);return a=Ae("batchPredictionJobs/{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json()),o.then(u=>Ym(u))}else{const c=XR(this.apiClient,e);return a=Ae("batches/{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),o.then(u=>Wo(u))}}async cancel(e){var t,i,r,s;let o="",a={};if(this.apiClient.isVertexAI()){const l=TR(this.apiClient,e);o=Ae("batchPredictionJobs/{name}:cancel",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}else{const l=DR(this.apiClient,e);o=Ae("batches/{name}:cancel",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var t,i,r,s;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=sI(e);return a=Ae("batchPredictionJobs",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:u.headers},p})),o.then(u=>{const f=aI(u),p=new A1;return Object.assign(p,f),p})}else{const c=rI(e);return a=Ae("batches",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:u.headers},p})),o.then(u=>{const f=oI(u),p=new A1;return Object.assign(p,f),p})}}async delete(e){var t,i,r,s;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=FR(this.apiClient,e);return a=Ae("batchPredictionJobs/{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:u.headers},p})),o.then(u=>NR(u))}else{const c=IR(this.apiClient,e);return a=Ae("batches/{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:u.headers},p})),o.then(u=>kR(u))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function SI(n){const e={},t=d(n,["apiKeyString"]);return t!=null&&h(e,["apiKeyString"],t),e}function UI(n){const e={},t=d(n,["apiKeyConfig"]);t!=null&&h(e,["apiKeyConfig"],SI(t));const i=d(n,["authType"]);i!=null&&h(e,["authType"],i);const r=d(n,["googleServiceAccountConfig"]);r!=null&&h(e,["googleServiceAccountConfig"],r);const s=d(n,["httpBasicAuthConfig"]);s!=null&&h(e,["httpBasicAuthConfig"],s);const o=d(n,["oauthConfig"]);o!=null&&h(e,["oauthConfig"],o);const a=d(n,["oidcConfig"]);return a!=null&&h(e,["oidcConfig"],a),e}function RI(n){const e={};if(d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=d(n,["data"]);t!=null&&h(e,["data"],t);const i=d(n,["mimeType"]);return i!=null&&h(e,["mimeType"],i),e}function II(n){const e={},t=d(n,["displayName"]);t!=null&&h(e,["displayName"],t);const i=d(n,["data"]);i!=null&&h(e,["data"],i);const r=d(n,["mimeType"]);return r!=null&&h(e,["mimeType"],r),e}function th(n){const e={},t=d(n,["name"]);t!=null&&h(e,["name"],t);const i=d(n,["displayName"]);i!=null&&h(e,["displayName"],i);const r=d(n,["model"]);r!=null&&h(e,["model"],r);const s=d(n,["createTime"]);s!=null&&h(e,["createTime"],s);const o=d(n,["updateTime"]);o!=null&&h(e,["updateTime"],o);const a=d(n,["expireTime"]);a!=null&&h(e,["expireTime"],a);const l=d(n,["usageMetadata"]);return l!=null&&h(e,["usageMetadata"],l),e}function nh(n){const e={},t=d(n,["name"]);t!=null&&h(e,["name"],t);const i=d(n,["displayName"]);i!=null&&h(e,["displayName"],i);const r=d(n,["model"]);r!=null&&h(e,["model"],r);const s=d(n,["createTime"]);s!=null&&h(e,["createTime"],s);const o=d(n,["updateTime"]);o!=null&&h(e,["updateTime"],o);const a=d(n,["expireTime"]);a!=null&&h(e,["expireTime"],a);const l=d(n,["usageMetadata"]);return l!=null&&h(e,["usageMetadata"],l),e}function U1(n){const e={},t=d(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(s=>pF(s))),h(e,["parts"],r)}const i=d(n,["role"]);return i!=null&&h(e,["role"],i),e}function R1(n){const e={},t=d(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(s=>gF(s))),h(e,["parts"],r)}const i=d(n,["role"]);return i!=null&&h(e,["role"],i),e}function FI(n,e){const t={},i=d(n,["ttl"]);e!==void 0&&i!=null&&h(e,["ttl"],i);const r=d(n,["expireTime"]);e!==void 0&&r!=null&&h(e,["expireTime"],r);const s=d(n,["displayName"]);e!==void 0&&s!=null&&h(e,["displayName"],s);const o=d(n,["contents"]);if(e!==void 0&&o!=null){let u=On(o);Array.isArray(u)&&(u=u.map(f=>U1(f))),h(e,["contents"],u)}const a=d(n,["systemInstruction"]);e!==void 0&&a!=null&&h(e,["systemInstruction"],U1(Ht(a)));const l=d(n,["tools"]);if(e!==void 0&&l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>TF(f))),h(e,["tools"],u)}const c=d(n,["toolConfig"]);if(e!==void 0&&c!=null&&h(e,["toolConfig"],xF(c)),d(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return t}function kI(n,e){const t={},i=d(n,["ttl"]);e!==void 0&&i!=null&&h(e,["ttl"],i);const r=d(n,["expireTime"]);e!==void 0&&r!=null&&h(e,["expireTime"],r);const s=d(n,["displayName"]);e!==void 0&&s!=null&&h(e,["displayName"],s);const o=d(n,["contents"]);if(e!==void 0&&o!=null){let f=On(o);Array.isArray(f)&&(f=f.map(p=>R1(p))),h(e,["contents"],f)}const a=d(n,["systemInstruction"]);e!==void 0&&a!=null&&h(e,["systemInstruction"],R1(Ht(a)));const l=d(n,["tools"]);if(e!==void 0&&l!=null){let f=l;Array.isArray(f)&&(f=f.map(p=>_F(p))),h(e,["tools"],f)}const c=d(n,["toolConfig"]);e!==void 0&&c!=null&&h(e,["toolConfig"],DF(c));const u=d(n,["kmsKeyName"]);return e!==void 0&&u!=null&&h(e,["encryption_spec","kmsKeyName"],u),t}function NI(n,e){const t={},i=d(e,["model"]);i!=null&&h(t,["model"],q_(n,i));const r=d(e,["config"]);return r!=null&&FI(r,t),t}function MI(n,e){const t={},i=d(e,["model"]);i!=null&&h(t,["model"],q_(n,i));const r=d(e,["config"]);return r!=null&&kI(r,t),t}function PI(n,e){const t={},i=d(e,["name"]);return i!=null&&h(t,["_url","name"],mr(n,i)),t}function LI(n,e){const t={},i=d(e,["name"]);return i!=null&&h(t,["_url","name"],mr(n,i)),t}function BI(n){const e={},t=d(n,["sdkHttpResponse"]);return t!=null&&h(e,["sdkHttpResponse"],t),e}function OI(n){const e={},t=d(n,["sdkHttpResponse"]);return t!=null&&h(e,["sdkHttpResponse"],t),e}function WI(n){const e={},t=d(n,["mode"]);t!=null&&h(e,["mode"],t);const i=d(n,["dynamicThreshold"]);return i!=null&&h(e,["dynamicThreshold"],i),e}function qI(n){const e={},t=d(n,["mode"]);t!=null&&h(e,["mode"],t);const i=d(n,["dynamicThreshold"]);return i!=null&&h(e,["dynamicThreshold"],i),e}function VI(n){const e={},t=d(n,["excludeDomains"]);return t!=null&&h(e,["excludeDomains"],t),e}function HI(n){const e={};if(d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=d(n,["fileUri"]);t!=null&&h(e,["fileUri"],t);const i=d(n,["mimeType"]);return i!=null&&h(e,["mimeType"],i),e}function GI(n){const e={},t=d(n,["displayName"]);t!=null&&h(e,["displayName"],t);const i=d(n,["fileUri"]);i!=null&&h(e,["fileUri"],i);const r=d(n,["mimeType"]);return r!=null&&h(e,["mimeType"],r),e}function $I(n){const e={},t=d(n,["id"]);t!=null&&h(e,["id"],t);const i=d(n,["args"]);i!=null&&h(e,["args"],i);const r=d(n,["name"]);return r!=null&&h(e,["name"],r),e}function zI(n){const e={},t=d(n,["id"]);t!=null&&h(e,["id"],t);const i=d(n,["args"]);i!=null&&h(e,["args"],i);const r=d(n,["name"]);return r!=null&&h(e,["name"],r),e}function XI(n){const e={},t=d(n,["mode"]);t!=null&&h(e,["mode"],t);const i=d(n,["allowedFunctionNames"]);return i!=null&&h(e,["allowedFunctionNames"],i),e}function JI(n){const e={},t=d(n,["mode"]);t!=null&&h(e,["mode"],t);const i=d(n,["allowedFunctionNames"]);return i!=null&&h(e,["allowedFunctionNames"],i),e}function YI(n){const e={},t=d(n,["behavior"]);t!=null&&h(e,["behavior"],t);const i=d(n,["description"]);i!=null&&h(e,["description"],i);const r=d(n,["name"]);r!=null&&h(e,["name"],r);const s=d(n,["parameters"]);s!=null&&h(e,["parameters"],s);const o=d(n,["parametersJsonSchema"]);o!=null&&h(e,["parametersJsonSchema"],o);const a=d(n,["response"]);a!=null&&h(e,["response"],a);const l=d(n,["responseJsonSchema"]);return l!=null&&h(e,["responseJsonSchema"],l),e}function KI(n){const e={};if(d(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const t=d(n,["description"]);t!=null&&h(e,["description"],t);const i=d(n,["name"]);i!=null&&h(e,["name"],i);const r=d(n,["parameters"]);r!=null&&h(e,["parameters"],r);const s=d(n,["parametersJsonSchema"]);s!=null&&h(e,["parametersJsonSchema"],s);const o=d(n,["response"]);o!=null&&h(e,["response"],o);const a=d(n,["responseJsonSchema"]);return a!=null&&h(e,["responseJsonSchema"],a),e}function jI(n,e){const t={},i=d(e,["name"]);return i!=null&&h(t,["_url","name"],mr(n,i)),t}function ZI(n,e){const t={},i=d(e,["name"]);return i!=null&&h(t,["_url","name"],mr(n,i)),t}function QI(n){const e={},t=d(n,["authConfig"]);return t!=null&&h(e,["authConfig"],UI(t)),e}function eF(n){const e={},t=d(n,["dynamicRetrievalConfig"]);return t!=null&&h(e,["dynamicRetrievalConfig"],WI(t)),e}function tF(n){const e={},t=d(n,["dynamicRetrievalConfig"]);return t!=null&&h(e,["dynamicRetrievalConfig"],qI(t)),e}function nF(n){const e={},t=d(n,["timeRangeFilter"]);if(t!=null&&h(e,["timeRangeFilter"],rF(t)),d(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function iF(n){const e={},t=d(n,["timeRangeFilter"]);t!=null&&h(e,["timeRangeFilter"],sF(t));const i=d(n,["excludeDomains"]);return i!=null&&h(e,["excludeDomains"],i),e}function rF(n){const e={},t=d(n,["startTime"]);t!=null&&h(e,["startTime"],t);const i=d(n,["endTime"]);return i!=null&&h(e,["endTime"],i),e}function sF(n){const e={},t=d(n,["startTime"]);t!=null&&h(e,["startTime"],t);const i=d(n,["endTime"]);return i!=null&&h(e,["endTime"],i),e}function oF(n){const e={},t=d(n,["latitude"]);t!=null&&h(e,["latitude"],t);const i=d(n,["longitude"]);return i!=null&&h(e,["longitude"],i),e}function aF(n){const e={},t=d(n,["latitude"]);t!=null&&h(e,["latitude"],t);const i=d(n,["longitude"]);return i!=null&&h(e,["longitude"],i),e}function lF(n,e){const t={},i=d(n,["pageSize"]);e!==void 0&&i!=null&&h(e,["_query","pageSize"],i);const r=d(n,["pageToken"]);return e!==void 0&&r!=null&&h(e,["_query","pageToken"],r),t}function cF(n,e){const t={},i=d(n,["pageSize"]);e!==void 0&&i!=null&&h(e,["_query","pageSize"],i);const r=d(n,["pageToken"]);return e!==void 0&&r!=null&&h(e,["_query","pageToken"],r),t}function uF(n){const e={},t=d(n,["config"]);return t!=null&&lF(t,e),e}function dF(n){const e={},t=d(n,["config"]);return t!=null&&cF(t,e),e}function hF(n){const e={},t=d(n,["sdkHttpResponse"]);t!=null&&h(e,["sdkHttpResponse"],t);const i=d(n,["nextPageToken"]);i!=null&&h(e,["nextPageToken"],i);const r=d(n,["cachedContents"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>th(o))),h(e,["cachedContents"],s)}return e}function fF(n){const e={},t=d(n,["sdkHttpResponse"]);t!=null&&h(e,["sdkHttpResponse"],t);const i=d(n,["nextPageToken"]);i!=null&&h(e,["nextPageToken"],i);const r=d(n,["cachedContents"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>nh(o))),h(e,["cachedContents"],s)}return e}function pF(n){const e={},t=d(n,["videoMetadata"]);t!=null&&h(e,["videoMetadata"],RF(t));const i=d(n,["thought"]);i!=null&&h(e,["thought"],i);const r=d(n,["inlineData"]);r!=null&&h(e,["inlineData"],RI(r));const s=d(n,["fileData"]);s!=null&&h(e,["fileData"],HI(s));const o=d(n,["thoughtSignature"]);o!=null&&h(e,["thoughtSignature"],o);const a=d(n,["functionCall"]);a!=null&&h(e,["functionCall"],$I(a));const l=d(n,["codeExecutionResult"]);l!=null&&h(e,["codeExecutionResult"],l);const c=d(n,["executableCode"]);c!=null&&h(e,["executableCode"],c);const u=d(n,["functionResponse"]);u!=null&&h(e,["functionResponse"],u);const f=d(n,["text"]);return f!=null&&h(e,["text"],f),e}function gF(n){const e={},t=d(n,["videoMetadata"]);t!=null&&h(e,["videoMetadata"],IF(t));const i=d(n,["thought"]);i!=null&&h(e,["thought"],i);const r=d(n,["inlineData"]);r!=null&&h(e,["inlineData"],II(r));const s=d(n,["fileData"]);s!=null&&h(e,["fileData"],GI(s));const o=d(n,["thoughtSignature"]);o!=null&&h(e,["thoughtSignature"],o);const a=d(n,["functionCall"]);a!=null&&h(e,["functionCall"],zI(a));const l=d(n,["codeExecutionResult"]);l!=null&&h(e,["codeExecutionResult"],l);const c=d(n,["executableCode"]);c!=null&&h(e,["executableCode"],c);const u=d(n,["functionResponse"]);u!=null&&h(e,["functionResponse"],u);const f=d(n,["text"]);return f!=null&&h(e,["text"],f),e}function mF(n){const e={},t=d(n,["latLng"]);t!=null&&h(e,["latLng"],oF(t));const i=d(n,["languageCode"]);return i!=null&&h(e,["languageCode"],i),e}function yF(n){const e={},t=d(n,["latLng"]);t!=null&&h(e,["latLng"],aF(t));const i=d(n,["languageCode"]);return i!=null&&h(e,["languageCode"],i),e}function vF(n){const e={},t=d(n,["environment"]);t!=null&&h(e,["environment"],t);const i=d(n,["excludedPredefinedFunctions"]);return i!=null&&h(e,["excludedPredefinedFunctions"],i),e}function bF(n){const e={},t=d(n,["environment"]);t!=null&&h(e,["environment"],t);const i=d(n,["excludedPredefinedFunctions"]);return i!=null&&h(e,["excludedPredefinedFunctions"],i),e}function xF(n){const e={},t=d(n,["functionCallingConfig"]);t!=null&&h(e,["functionCallingConfig"],XI(t));const i=d(n,["retrievalConfig"]);return i!=null&&h(e,["retrievalConfig"],mF(i)),e}function DF(n){const e={},t=d(n,["functionCallingConfig"]);t!=null&&h(e,["functionCallingConfig"],JI(t));const i=d(n,["retrievalConfig"]);return i!=null&&h(e,["retrievalConfig"],yF(i)),e}function TF(n){const e={},t=d(n,["functionDeclarations"]);if(t!=null){let l=t;Array.isArray(l)&&(l=l.map(c=>YI(c))),h(e,["functionDeclarations"],l)}if(d(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=d(n,["googleSearch"]);i!=null&&h(e,["googleSearch"],nF(i));const r=d(n,["googleSearchRetrieval"]);if(r!=null&&h(e,["googleSearchRetrieval"],eF(r)),d(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(d(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");d(n,["urlContext"])!=null&&h(e,["urlContext"],SF());const o=d(n,["computerUse"]);o!=null&&h(e,["computerUse"],vF(o));const a=d(n,["codeExecution"]);return a!=null&&h(e,["codeExecution"],a),e}function _F(n){const e={},t=d(n,["functionDeclarations"]);if(t!=null){let f=t;Array.isArray(f)&&(f=f.map(p=>KI(p))),h(e,["functionDeclarations"],f)}const i=d(n,["retrieval"]);i!=null&&h(e,["retrieval"],i);const r=d(n,["googleSearch"]);r!=null&&h(e,["googleSearch"],iF(r));const s=d(n,["googleSearchRetrieval"]);s!=null&&h(e,["googleSearchRetrieval"],tF(s));const o=d(n,["enterpriseWebSearch"]);o!=null&&h(e,["enterpriseWebSearch"],VI(o));const a=d(n,["googleMaps"]);a!=null&&h(e,["googleMaps"],QI(a)),d(n,["urlContext"])!=null&&h(e,["urlContext"],UF());const c=d(n,["computerUse"]);c!=null&&h(e,["computerUse"],bF(c));const u=d(n,["codeExecution"]);return u!=null&&h(e,["codeExecution"],u),e}function CF(n,e){const t={},i=d(n,["ttl"]);e!==void 0&&i!=null&&h(e,["ttl"],i);const r=d(n,["expireTime"]);return e!==void 0&&r!=null&&h(e,["expireTime"],r),t}function AF(n,e){const t={},i=d(n,["ttl"]);e!==void 0&&i!=null&&h(e,["ttl"],i);const r=d(n,["expireTime"]);return e!==void 0&&r!=null&&h(e,["expireTime"],r),t}function EF(n,e){const t={},i=d(e,["name"]);i!=null&&h(t,["_url","name"],mr(n,i));const r=d(e,["config"]);return r!=null&&CF(r,t),t}function wF(n,e){const t={},i=d(e,["name"]);i!=null&&h(t,["_url","name"],mr(n,i));const r=d(e,["config"]);return r!=null&&AF(r,t),t}function SF(){return{}}function UF(){return{}}function RF(n){const e={},t=d(n,["fps"]);t!=null&&h(e,["fps"],t);const i=d(n,["endOffset"]);i!=null&&h(e,["endOffset"],i);const r=d(n,["startOffset"]);return r!=null&&h(e,["startOffset"],r),e}function IF(n){const e={},t=d(n,["fps"]);t!=null&&h(e,["fps"],t);const i=d(n,["endOffset"]);i!=null&&h(e,["endOffset"],i);const r=d(n,["startOffset"]);return r!=null&&h(e,["startOffset"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class FF extends So{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new qu(vo.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(t),t)}async create(e){var t,i,r,s;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=MI(this.apiClient,e);return a=Ae("cachedContents",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json()),o.then(u=>nh(u))}else{const c=NI(this.apiClient,e);return a=Ae("cachedContents",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),o.then(u=>th(u))}}async get(e){var t,i,r,s;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=ZI(this.apiClient,e);return a=Ae("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json()),o.then(u=>nh(u))}else{const c=jI(this.apiClient,e);return a=Ae("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),o.then(u=>th(u))}}async delete(e){var t,i,r,s;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=LI(this.apiClient,e);return a=Ae("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:u.headers},p})),o.then(u=>{const f=OI(u),p=new _1;return Object.assign(p,f),p})}else{const c=PI(this.apiClient,e);return a=Ae("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:u.headers},p})),o.then(u=>{const f=BI(u),p=new _1;return Object.assign(p,f),p})}}async update(e){var t,i,r,s;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=wF(this.apiClient,e);return a=Ae("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json()),o.then(u=>nh(u))}else{const c=EF(this.apiClient,e);return a=Ae("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),o.then(u=>th(u))}}async listInternal(e){var t,i,r,s;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=dF(e);return a=Ae("cachedContents",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:u.headers},p})),o.then(u=>{const f=fF(u),p=new C1;return Object.assign(p,f),p})}else{const c=uF(e);return a=Ae("cachedContents",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:u.headers},p})),o.then(u=>{const f=hF(u),p=new C1;return Object.assign(p,f),p})}}}function I1(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ct(n){return this instanceof ct?(this.v=n,this):new ct(n)}function Jo(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(n,e||[]),r,s=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),r[Symbol.asyncIterator]=function(){return this},r;function o(g){return function(b){return Promise.resolve(b).then(g,f)}}function a(g,b){i[g]&&(r[g]=function(y){return new Promise(function(v,x){s.push([g,y,v,x])>1||l(g,y)})},b&&(r[g]=b(r[g])))}function l(g,b){try{c(i[g](b))}catch(y){p(s[0][3],y)}}function c(g){g.value instanceof ct?Promise.resolve(g.value.v).then(u,f):p(s[0][2],g)}function u(g){l("next",g)}function f(g){l("throw",g)}function p(g,b){g(b),s.shift(),s.length&&l(s[0][0],s[0][1])}}function ql(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof I1=="function"?I1(n):n[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(s){t[s]=n[s]&&function(o){return new Promise(function(a,l){o=n[s](o),r(a,l,o.done,o.value)})}}function r(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kF(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const t=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return t===void 0?!1:nC(t)}function nC(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function NF(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function F1(n){if(n===void 0||n.length===0)return[];const e=[],t=n.length;let i=0;for(;i<t;)if(n[i].role==="user")e.push(n[i]),i++;else{const r=[];let s=!0;for(;i<t&&n[i].role==="model";)r.push(n[i]),s&&!nC(n[i])&&(s=!1),i++;s?e.push(...r):e.pop()}return e}class MF{constructor(e,t){this.modelsModule=e,this.apiClient=t}create(e){return new PF(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class PF{constructor(e,t,i,r={},s=[]){this.apiClient=e,this.modelsModule=t,this.model=i,this.config=r,this.history=s,this.sendPromise=Promise.resolve(),NF(s)}async sendMessage(e){var t;await this.sendPromise;const i=Ht(e.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(t=e.config)!==null&&t!==void 0?t:this.config});return this.sendPromise=(async()=>{var s,o,a;const l=await r,c=(o=(s=l.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content,u=l.automaticFunctionCallingHistory,f=this.getHistory(!0).length;let p=[];u!=null&&(p=(a=u.slice(f))!==null&&a!==void 0?a:[]);const g=c?[c]:[];this.recordHistory(i,g,p)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(e){var t;await this.sendPromise;const i=Ht(e.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(t=e.config)!==null&&t!==void 0?t:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const s=await r;return this.processStreamResponse(s,i)}getHistory(e=!1){const t=e?F1(this.history):this.history;return structuredClone(t)}processStreamResponse(e,t){var i,r;return Jo(this,arguments,function*(){var o,a,l,c;const u=[];try{for(var f=!0,p=ql(e),g;g=yield ct(p.next()),o=g.done,!o;f=!0){c=g.value,f=!1;const b=c;if(kF(b)){const y=(r=(i=b.candidates)===null||i===void 0?void 0:i[0])===null||r===void 0?void 0:r.content;y!==void 0&&u.push(y)}yield yield ct(b)}}catch(b){a={error:b}}finally{try{!f&&!o&&(l=p.return)&&(yield ct(l.call(p)))}finally{if(a)throw a.error}}this.recordHistory(t,u)})}recordHistory(e,t,i){let r=[];t.length>0&&t.every(s=>s.role!==void 0)?r=t:r.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...F1(i)):this.history.push(e),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Nf extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Nf.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function LF(n){const e={},t=d(n,["file"]);return t!=null&&h(e,["file"],HF(t)),e}function BF(n){const e={},t=d(n,["sdkHttpResponse"]);return t!=null&&h(e,["sdkHttpResponse"],t),e}function OF(n){const e={},t=d(n,["name"]);return t!=null&&h(e,["_url","file"],X_(t)),e}function WF(n){const e={},t=d(n,["sdkHttpResponse"]);return t!=null&&h(e,["sdkHttpResponse"],t),e}function Km(n){const e={},t=d(n,["name"]);t!=null&&h(e,["name"],t);const i=d(n,["displayName"]);i!=null&&h(e,["displayName"],i);const r=d(n,["mimeType"]);r!=null&&h(e,["mimeType"],r);const s=d(n,["sizeBytes"]);s!=null&&h(e,["sizeBytes"],s);const o=d(n,["createTime"]);o!=null&&h(e,["createTime"],o);const a=d(n,["expirationTime"]);a!=null&&h(e,["expirationTime"],a);const l=d(n,["updateTime"]);l!=null&&h(e,["updateTime"],l);const c=d(n,["sha256Hash"]);c!=null&&h(e,["sha256Hash"],c);const u=d(n,["uri"]);u!=null&&h(e,["uri"],u);const f=d(n,["downloadUri"]);f!=null&&h(e,["downloadUri"],f);const p=d(n,["state"]);p!=null&&h(e,["state"],p);const g=d(n,["source"]);g!=null&&h(e,["source"],g);const b=d(n,["videoMetadata"]);b!=null&&h(e,["videoMetadata"],b);const y=d(n,["error"]);return y!=null&&h(e,["error"],qF(y)),e}function qF(n){const e={},t=d(n,["details"]);t!=null&&h(e,["details"],t);const i=d(n,["message"]);i!=null&&h(e,["message"],i);const r=d(n,["code"]);return r!=null&&h(e,["code"],r),e}function VF(n){const e={},t=d(n,["details"]);t!=null&&h(e,["details"],t);const i=d(n,["message"]);i!=null&&h(e,["message"],i);const r=d(n,["code"]);return r!=null&&h(e,["code"],r),e}function HF(n){const e={},t=d(n,["name"]);t!=null&&h(e,["name"],t);const i=d(n,["displayName"]);i!=null&&h(e,["displayName"],i);const r=d(n,["mimeType"]);r!=null&&h(e,["mimeType"],r);const s=d(n,["sizeBytes"]);s!=null&&h(e,["sizeBytes"],s);const o=d(n,["createTime"]);o!=null&&h(e,["createTime"],o);const a=d(n,["expirationTime"]);a!=null&&h(e,["expirationTime"],a);const l=d(n,["updateTime"]);l!=null&&h(e,["updateTime"],l);const c=d(n,["sha256Hash"]);c!=null&&h(e,["sha256Hash"],c);const u=d(n,["uri"]);u!=null&&h(e,["uri"],u);const f=d(n,["downloadUri"]);f!=null&&h(e,["downloadUri"],f);const p=d(n,["state"]);p!=null&&h(e,["state"],p);const g=d(n,["source"]);g!=null&&h(e,["source"],g);const b=d(n,["videoMetadata"]);b!=null&&h(e,["videoMetadata"],b);const y=d(n,["error"]);return y!=null&&h(e,["error"],VF(y)),e}function GF(n){const e={},t=d(n,["name"]);return t!=null&&h(e,["_url","file"],X_(t)),e}function $F(n,e){const t={},i=d(n,["pageSize"]);e!==void 0&&i!=null&&h(e,["_query","pageSize"],i);const r=d(n,["pageToken"]);return e!==void 0&&r!=null&&h(e,["_query","pageToken"],r),t}function zF(n){const e={},t=d(n,["config"]);return t!=null&&$F(t,e),e}function XF(n){const e={},t=d(n,["sdkHttpResponse"]);t!=null&&h(e,["sdkHttpResponse"],t);const i=d(n,["nextPageToken"]);i!=null&&h(e,["nextPageToken"],i);const r=d(n,["files"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>Km(o))),h(e,["files"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class JF extends So{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new qu(vo.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(t),t)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(t=>Km(t))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var t,i;let r,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=zF(e);return s=Ae("files",a._url),o=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:l.headers},u})),r.then(l=>{const c=XF(l),u=new QU;return Object.assign(u,c),u})}}async createInternal(e){var t,i;let r,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=LF(e);return s=Ae("upload/v1beta/files",a._url),o=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>{const c=BF(l),u=new eR;return Object.assign(u,c),u})}}async get(e){var t,i;let r,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=GF(e);return s=Ae("files/{file}",a._url),o=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>Km(l))}}async delete(e){var t,i;let r,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=OF(e);return s=Ae("files/{file}",a._url),o=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:l.headers},u})),r.then(l=>{const c=WF(l),u=new tR;return Object.assign(u,c),u})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function YF(){return{}}function KF(){return{}}function jF(){return{}}function ZF(){return{}}function QF(n){const e={},t=d(n,["apiKeyString"]);return t!=null&&h(e,["apiKeyString"],t),e}function ek(n){const e={},t=d(n,["data"]);t!=null&&h(e,["data"],t);const i=d(n,["mimeType"]);i!=null&&h(e,["mimeType"],i);const r=d(n,["sourceMetadata"]);return r!=null&&h(e,["sourceMetadata"],Gk(r)),e}function k1(){return{}}function N1(){return{}}function tk(n){const e={},t=d(n,["apiKeyConfig"]);t!=null&&h(e,["apiKeyConfig"],QF(t));const i=d(n,["authType"]);i!=null&&h(e,["authType"],i);const r=d(n,["googleServiceAccountConfig"]);r!=null&&h(e,["googleServiceAccountConfig"],r);const s=d(n,["httpBasicAuthConfig"]);s!=null&&h(e,["httpBasicAuthConfig"],s);const o=d(n,["oauthConfig"]);o!=null&&h(e,["oauthConfig"],o);const a=d(n,["oidcConfig"]);return a!=null&&h(e,["oidcConfig"],a),e}function nk(n){const e={},t=d(n,["disabled"]);t!=null&&h(e,["disabled"],t);const i=d(n,["startOfSpeechSensitivity"]);i!=null&&h(e,["startOfSpeechSensitivity"],i);const r=d(n,["endOfSpeechSensitivity"]);r!=null&&h(e,["endOfSpeechSensitivity"],r);const s=d(n,["prefixPaddingMs"]);s!=null&&h(e,["prefixPaddingMs"],s);const o=d(n,["silenceDurationMs"]);return o!=null&&h(e,["silenceDurationMs"],o),e}function ik(n){const e={},t=d(n,["disabled"]);t!=null&&h(e,["disabled"],t);const i=d(n,["startOfSpeechSensitivity"]);i!=null&&h(e,["startOfSpeechSensitivity"],i);const r=d(n,["endOfSpeechSensitivity"]);r!=null&&h(e,["endOfSpeechSensitivity"],r);const s=d(n,["prefixPaddingMs"]);s!=null&&h(e,["prefixPaddingMs"],s);const o=d(n,["silenceDurationMs"]);return o!=null&&h(e,["silenceDurationMs"],o),e}function rk(n){const e={},t=d(n,["data"]);t!=null&&h(e,["data"],t);const i=d(n,["mimeType"]);return i!=null&&h(e,["mimeType"],i),e}function sk(n){const e={},t=d(n,["displayName"]);t!=null&&h(e,["displayName"],t);const i=d(n,["data"]);i!=null&&h(e,["data"],i);const r=d(n,["mimeType"]);return r!=null&&h(e,["mimeType"],r),e}function ok(n){const e={};if(d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=d(n,["data"]);t!=null&&h(e,["data"],t);const i=d(n,["mimeType"]);return i!=null&&h(e,["mimeType"],i),e}function ak(n){const e={},t=d(n,["displayName"]);t!=null&&h(e,["displayName"],t);const i=d(n,["data"]);i!=null&&h(e,["data"],i);const r=d(n,["mimeType"]);return r!=null&&h(e,["mimeType"],r),e}function lk(n){const e={},t=d(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(s=>lN(s))),h(e,["parts"],r)}const i=d(n,["role"]);return i!=null&&h(e,["role"],i),e}function ck(n){const e={},t=d(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(s=>cN(s))),h(e,["parts"],r)}const i=d(n,["role"]);return i!=null&&h(e,["role"],i),e}function uk(n){const e={},t=d(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(s=>uN(s))),h(e,["parts"],r)}const i=d(n,["role"]);return i!=null&&h(e,["role"],i),e}function dk(n){const e={},t=d(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(s=>dN(s))),h(e,["parts"],r)}const i=d(n,["role"]);return i!=null&&h(e,["role"],i),e}function hk(n){const e={},t=d(n,["triggerTokens"]);t!=null&&h(e,["triggerTokens"],t);const i=d(n,["slidingWindow"]);return i!=null&&h(e,["slidingWindow"],xN(i)),e}function fk(n){const e={},t=d(n,["triggerTokens"]);t!=null&&h(e,["triggerTokens"],t);const i=d(n,["slidingWindow"]);return i!=null&&h(e,["slidingWindow"],DN(i)),e}function pk(n){const e={},t=d(n,["mode"]);t!=null&&h(e,["mode"],t);const i=d(n,["dynamicThreshold"]);return i!=null&&h(e,["dynamicThreshold"],i),e}function gk(n){const e={},t=d(n,["mode"]);t!=null&&h(e,["mode"],t);const i=d(n,["dynamicThreshold"]);return i!=null&&h(e,["dynamicThreshold"],i),e}function mk(n){const e={},t=d(n,["excludeDomains"]);return t!=null&&h(e,["excludeDomains"],t),e}function yk(n){const e={},t=d(n,["fileUri"]);t!=null&&h(e,["fileUri"],t);const i=d(n,["mimeType"]);return i!=null&&h(e,["mimeType"],i),e}function vk(n){const e={},t=d(n,["displayName"]);t!=null&&h(e,["displayName"],t);const i=d(n,["fileUri"]);i!=null&&h(e,["fileUri"],i);const r=d(n,["mimeType"]);return r!=null&&h(e,["mimeType"],r),e}function bk(n){const e={};if(d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=d(n,["fileUri"]);t!=null&&h(e,["fileUri"],t);const i=d(n,["mimeType"]);return i!=null&&h(e,["mimeType"],i),e}function xk(n){const e={},t=d(n,["displayName"]);t!=null&&h(e,["displayName"],t);const i=d(n,["fileUri"]);i!=null&&h(e,["fileUri"],i);const r=d(n,["mimeType"]);return r!=null&&h(e,["mimeType"],r),e}function iC(n){const e={},t=d(n,["id"]);t!=null&&h(e,["id"],t);const i=d(n,["args"]);i!=null&&h(e,["args"],i);const r=d(n,["name"]);return r!=null&&h(e,["name"],r),e}function rC(n){const e={},t=d(n,["id"]);t!=null&&h(e,["id"],t);const i=d(n,["args"]);i!=null&&h(e,["args"],i);const r=d(n,["name"]);return r!=null&&h(e,["name"],r),e}function Dk(n){const e={},t=d(n,["id"]);t!=null&&h(e,["id"],t);const i=d(n,["args"]);i!=null&&h(e,["args"],i);const r=d(n,["name"]);return r!=null&&h(e,["name"],r),e}function Tk(n){const e={},t=d(n,["id"]);t!=null&&h(e,["id"],t);const i=d(n,["args"]);i!=null&&h(e,["args"],i);const r=d(n,["name"]);return r!=null&&h(e,["name"],r),e}function _k(n){const e={},t=d(n,["behavior"]);t!=null&&h(e,["behavior"],t);const i=d(n,["description"]);i!=null&&h(e,["description"],i);const r=d(n,["name"]);r!=null&&h(e,["name"],r);const s=d(n,["parameters"]);s!=null&&h(e,["parameters"],s);const o=d(n,["parametersJsonSchema"]);o!=null&&h(e,["parametersJsonSchema"],o);const a=d(n,["response"]);a!=null&&h(e,["response"],a);const l=d(n,["responseJsonSchema"]);return l!=null&&h(e,["responseJsonSchema"],l),e}function Ck(n){const e={};if(d(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const t=d(n,["description"]);t!=null&&h(e,["description"],t);const i=d(n,["name"]);i!=null&&h(e,["name"],i);const r=d(n,["parameters"]);r!=null&&h(e,["parameters"],r);const s=d(n,["parametersJsonSchema"]);s!=null&&h(e,["parametersJsonSchema"],s);const o=d(n,["response"]);o!=null&&h(e,["response"],o);const a=d(n,["responseJsonSchema"]);return a!=null&&h(e,["responseJsonSchema"],a),e}function Ak(n){const e={},t=d(n,["authConfig"]);return t!=null&&h(e,["authConfig"],tk(t)),e}function Ek(n){const e={},t=d(n,["dynamicRetrievalConfig"]);return t!=null&&h(e,["dynamicRetrievalConfig"],pk(t)),e}function wk(n){const e={},t=d(n,["dynamicRetrievalConfig"]);return t!=null&&h(e,["dynamicRetrievalConfig"],gk(t)),e}function Sk(n){const e={},t=d(n,["timeRangeFilter"]);if(t!=null&&h(e,["timeRangeFilter"],Rk(t)),d(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function Uk(n){const e={},t=d(n,["timeRangeFilter"]);t!=null&&h(e,["timeRangeFilter"],Ik(t));const i=d(n,["excludeDomains"]);return i!=null&&h(e,["excludeDomains"],i),e}function Rk(n){const e={},t=d(n,["startTime"]);t!=null&&h(e,["startTime"],t);const i=d(n,["endTime"]);return i!=null&&h(e,["endTime"],i),e}function Ik(n){const e={},t=d(n,["startTime"]);t!=null&&h(e,["startTime"],t);const i=d(n,["endTime"]);return i!=null&&h(e,["endTime"],i),e}function Fk(n,e){const t={},i=d(n,["generationConfig"]);e!==void 0&&i!=null&&h(e,["setup","generationConfig"],i);const r=d(n,["responseModalities"]);e!==void 0&&r!=null&&h(e,["setup","generationConfig","responseModalities"],r);const s=d(n,["temperature"]);e!==void 0&&s!=null&&h(e,["setup","generationConfig","temperature"],s);const o=d(n,["topP"]);e!==void 0&&o!=null&&h(e,["setup","generationConfig","topP"],o);const a=d(n,["topK"]);e!==void 0&&a!=null&&h(e,["setup","generationConfig","topK"],a);const l=d(n,["maxOutputTokens"]);e!==void 0&&l!=null&&h(e,["setup","generationConfig","maxOutputTokens"],l);const c=d(n,["mediaResolution"]);e!==void 0&&c!=null&&h(e,["setup","generationConfig","mediaResolution"],c);const u=d(n,["seed"]);e!==void 0&&u!=null&&h(e,["setup","generationConfig","seed"],u);const f=d(n,["speechConfig"]);e!==void 0&&f!=null&&h(e,["setup","generationConfig","speechConfig"],_N(lv(f)));const p=d(n,["enableAffectiveDialog"]);e!==void 0&&p!=null&&h(e,["setup","generationConfig","enableAffectiveDialog"],p);const g=d(n,["systemInstruction"]);e!==void 0&&g!=null&&h(e,["setup","systemInstruction"],uk(Ht(g)));const b=d(n,["tools"]);if(e!==void 0&&b!=null){let _=el(b);Array.isArray(_)&&(_=_.map(A=>wN(Qa(A)))),h(e,["setup","tools"],_)}const y=d(n,["sessionResumption"]);e!==void 0&&y!=null&&h(e,["setup","sessionResumption"],vN(y));const v=d(n,["inputAudioTranscription"]);e!==void 0&&v!=null&&h(e,["setup","inputAudioTranscription"],k1());const x=d(n,["outputAudioTranscription"]);e!==void 0&&x!=null&&h(e,["setup","outputAudioTranscription"],k1());const D=d(n,["realtimeInputConfig"]);e!==void 0&&D!=null&&h(e,["setup","realtimeInputConfig"],mN(D));const T=d(n,["contextWindowCompression"]);e!==void 0&&T!=null&&h(e,["setup","contextWindowCompression"],hk(T));const C=d(n,["proactivity"]);return e!==void 0&&C!=null&&h(e,["setup","proactivity"],pN(C)),t}function kk(n,e){const t={},i=d(n,["generationConfig"]);e!==void 0&&i!=null&&h(e,["setup","generationConfig"],i);const r=d(n,["responseModalities"]);e!==void 0&&r!=null&&h(e,["setup","generationConfig","responseModalities"],r);const s=d(n,["temperature"]);e!==void 0&&s!=null&&h(e,["setup","generationConfig","temperature"],s);const o=d(n,["topP"]);e!==void 0&&o!=null&&h(e,["setup","generationConfig","topP"],o);const a=d(n,["topK"]);e!==void 0&&a!=null&&h(e,["setup","generationConfig","topK"],a);const l=d(n,["maxOutputTokens"]);e!==void 0&&l!=null&&h(e,["setup","generationConfig","maxOutputTokens"],l);const c=d(n,["mediaResolution"]);e!==void 0&&c!=null&&h(e,["setup","generationConfig","mediaResolution"],c);const u=d(n,["seed"]);e!==void 0&&u!=null&&h(e,["setup","generationConfig","seed"],u);const f=d(n,["speechConfig"]);e!==void 0&&f!=null&&h(e,["setup","generationConfig","speechConfig"],CN(lv(f)));const p=d(n,["enableAffectiveDialog"]);e!==void 0&&p!=null&&h(e,["setup","generationConfig","enableAffectiveDialog"],p);const g=d(n,["systemInstruction"]);e!==void 0&&g!=null&&h(e,["setup","systemInstruction"],dk(Ht(g)));const b=d(n,["tools"]);if(e!==void 0&&b!=null){let _=el(b);Array.isArray(_)&&(_=_.map(A=>SN(Qa(A)))),h(e,["setup","tools"],_)}const y=d(n,["sessionResumption"]);e!==void 0&&y!=null&&h(e,["setup","sessionResumption"],bN(y));const v=d(n,["inputAudioTranscription"]);e!==void 0&&v!=null&&h(e,["setup","inputAudioTranscription"],N1());const x=d(n,["outputAudioTranscription"]);e!==void 0&&x!=null&&h(e,["setup","outputAudioTranscription"],N1());const D=d(n,["realtimeInputConfig"]);e!==void 0&&D!=null&&h(e,["setup","realtimeInputConfig"],yN(D));const T=d(n,["contextWindowCompression"]);e!==void 0&&T!=null&&h(e,["setup","contextWindowCompression"],fk(T));const C=d(n,["proactivity"]);return e!==void 0&&C!=null&&h(e,["setup","proactivity"],gN(C)),t}function Nk(n,e){const t={},i=d(e,["model"]);i!=null&&h(t,["setup","model"],Je(n,i));const r=d(e,["config"]);return r!=null&&h(t,["config"],Fk(r,t)),t}function Mk(n,e){const t={},i=d(e,["model"]);i!=null&&h(t,["setup","model"],Je(n,i));const r=d(e,["config"]);return r!=null&&h(t,["config"],kk(r,t)),t}function Pk(n){const e={},t=d(n,["weightedPrompts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(r=>WN(r))),h(e,["weightedPrompts"],i)}return e}function sC(n){const e={},t=d(n,["weightedPrompts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(r=>cC(r))),h(e,["weightedPrompts"],i)}return e}function jm(n){const e={},t=d(n,["setup"]);t!=null&&h(e,["setup"],oC(t));const i=d(n,["clientContent"]);i!=null&&h(e,["clientContent"],sC(i));const r=d(n,["musicGenerationConfig"]);r!=null&&h(e,["musicGenerationConfig"],aC(r));const s=d(n,["playbackControl"]);return s!=null&&h(e,["playbackControl"],s),e}function oC(n){const e={},t=d(n,["model"]);return t!=null&&h(e,["model"],t),e}function Lk(n){const e={},t=d(n,["text"]);t!=null&&h(e,["text"],t);const i=d(n,["filteredReason"]);return i!=null&&h(e,["filteredReason"],i),e}function Bk(n){const e={},t=d(n,["temperature"]);t!=null&&h(e,["temperature"],t);const i=d(n,["topK"]);i!=null&&h(e,["topK"],i);const r=d(n,["seed"]);r!=null&&h(e,["seed"],r);const s=d(n,["guidance"]);s!=null&&h(e,["guidance"],s);const o=d(n,["bpm"]);o!=null&&h(e,["bpm"],o);const a=d(n,["density"]);a!=null&&h(e,["density"],a);const l=d(n,["brightness"]);l!=null&&h(e,["brightness"],l);const c=d(n,["scale"]);c!=null&&h(e,["scale"],c);const u=d(n,["muteBass"]);u!=null&&h(e,["muteBass"],u);const f=d(n,["muteDrums"]);f!=null&&h(e,["muteDrums"],f);const p=d(n,["onlyBassAndDrums"]);p!=null&&h(e,["onlyBassAndDrums"],p);const g=d(n,["musicGenerationMode"]);return g!=null&&h(e,["musicGenerationMode"],g),e}function aC(n){const e={},t=d(n,["temperature"]);t!=null&&h(e,["temperature"],t);const i=d(n,["topK"]);i!=null&&h(e,["topK"],i);const r=d(n,["seed"]);r!=null&&h(e,["seed"],r);const s=d(n,["guidance"]);s!=null&&h(e,["guidance"],s);const o=d(n,["bpm"]);o!=null&&h(e,["bpm"],o);const a=d(n,["density"]);a!=null&&h(e,["density"],a);const l=d(n,["brightness"]);l!=null&&h(e,["brightness"],l);const c=d(n,["scale"]);c!=null&&h(e,["scale"],c);const u=d(n,["muteBass"]);u!=null&&h(e,["muteBass"],u);const f=d(n,["muteDrums"]);f!=null&&h(e,["muteDrums"],f);const p=d(n,["onlyBassAndDrums"]);p!=null&&h(e,["onlyBassAndDrums"],p);const g=d(n,["musicGenerationMode"]);return g!=null&&h(e,["musicGenerationMode"],g),e}function Ok(n){const e={},t=d(n,["audioChunks"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(r=>ek(r))),h(e,["audioChunks"],i)}return e}function Wk(n){const e={};d(n,["setupComplete"])!=null&&h(e,["setupComplete"],qk());const i=d(n,["serverContent"]);i!=null&&h(e,["serverContent"],Ok(i));const r=d(n,["filteredPrompt"]);return r!=null&&h(e,["filteredPrompt"],Lk(r)),e}function qk(){return{}}function Vk(n){const e={},t=d(n,["musicGenerationConfig"]);return t!=null&&h(e,["musicGenerationConfig"],aC(t)),e}function Hk(n){const e={},t=d(n,["weightedPrompts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(r=>cC(r))),h(e,["weightedPrompts"],i)}return e}function Gk(n){const e={},t=d(n,["clientContent"]);t!=null&&h(e,["clientContent"],Pk(t));const i=d(n,["musicGenerationConfig"]);return i!=null&&h(e,["musicGenerationConfig"],Bk(i)),e}function $k(n){const e={},t=d(n,["media"]);if(t!=null){let c=V_(t);Array.isArray(c)&&(c=c.map(u=>u)),h(e,["mediaChunks"],c)}const i=d(n,["audio"]);i!=null&&h(e,["audio"],G_(i));const r=d(n,["audioStreamEnd"]);r!=null&&h(e,["audioStreamEnd"],r);const s=d(n,["video"]);s!=null&&h(e,["video"],H_(s));const o=d(n,["text"]);return o!=null&&h(e,["text"],o),d(n,["activityStart"])!=null&&h(e,["activityStart"],jF()),d(n,["activityEnd"])!=null&&h(e,["activityEnd"],YF()),e}function zk(n){const e={},t=d(n,["media"]);if(t!=null){let c=V_(t);Array.isArray(c)&&(c=c.map(u=>u)),h(e,["mediaChunks"],c)}const i=d(n,["audio"]);i!=null&&h(e,["audio"],G_(i));const r=d(n,["audioStreamEnd"]);r!=null&&h(e,["audioStreamEnd"],r);const s=d(n,["video"]);s!=null&&h(e,["video"],H_(s));const o=d(n,["text"]);return o!=null&&h(e,["text"],o),d(n,["activityStart"])!=null&&h(e,["activityStart"],ZF()),d(n,["activityEnd"])!=null&&h(e,["activityEnd"],KF()),e}function Xk(n){const e={},t=d(n,["modelTurn"]);t!=null&&h(e,["modelTurn"],lk(t));const i=d(n,["turnComplete"]);i!=null&&h(e,["turnComplete"],i);const r=d(n,["interrupted"]);r!=null&&h(e,["interrupted"],r);const s=d(n,["groundingMetadata"]);s!=null&&h(e,["groundingMetadata"],s);const o=d(n,["generationComplete"]);o!=null&&h(e,["generationComplete"],o);const a=d(n,["inputTranscription"]);a!=null&&h(e,["inputTranscription"],M1(a));const l=d(n,["outputTranscription"]);l!=null&&h(e,["outputTranscription"],M1(l));const c=d(n,["urlContextMetadata"]);c!=null&&h(e,["urlContextMetadata"],UN(c));const u=d(n,["turnCompleteReason"]);u!=null&&h(e,["turnCompleteReason"],u);const f=d(n,["waitingForInput"]);return f!=null&&h(e,["waitingForInput"],f),e}function Jk(n){const e={},t=d(n,["modelTurn"]);t!=null&&h(e,["modelTurn"],ck(t));const i=d(n,["turnComplete"]);i!=null&&h(e,["turnComplete"],i);const r=d(n,["interrupted"]);r!=null&&h(e,["interrupted"],r);const s=d(n,["groundingMetadata"]);s!=null&&h(e,["groundingMetadata"],s);const o=d(n,["generationComplete"]);o!=null&&h(e,["generationComplete"],o);const a=d(n,["inputTranscription"]);a!=null&&h(e,["inputTranscription"],P1(a));const l=d(n,["outputTranscription"]);l!=null&&h(e,["outputTranscription"],P1(l));const c=d(n,["turnCompleteReason"]);c!=null&&h(e,["turnCompleteReason"],c);const u=d(n,["waitingForInput"]);return u!=null&&h(e,["waitingForInput"],u),e}function Yk(n){const e={},t=d(n,["timeLeft"]);return t!=null&&h(e,["timeLeft"],t),e}function Kk(n){const e={},t=d(n,["timeLeft"]);return t!=null&&h(e,["timeLeft"],t),e}function jk(n){const e={};d(n,["setupComplete"])!=null&&h(e,["setupComplete"],tN());const i=d(n,["serverContent"]);i!=null&&h(e,["serverContent"],Xk(i));const r=d(n,["toolCall"]);r!=null&&h(e,["toolCall"],sN(r));const s=d(n,["toolCallCancellation"]);s!=null&&h(e,["toolCallCancellation"],iN(s));const o=d(n,["usageMetadata"]);o!=null&&h(e,["usageMetadata"],kN(o));const a=d(n,["goAway"]);a!=null&&h(e,["goAway"],Yk(a));const l=d(n,["sessionResumptionUpdate"]);return l!=null&&h(e,["sessionResumptionUpdate"],Qk(l)),e}function Zk(n){const e={},t=d(n,["setupComplete"]);t!=null&&h(e,["setupComplete"],nN(t));const i=d(n,["serverContent"]);i!=null&&h(e,["serverContent"],Jk(i));const r=d(n,["toolCall"]);r!=null&&h(e,["toolCall"],oN(r));const s=d(n,["toolCallCancellation"]);s!=null&&h(e,["toolCallCancellation"],rN(s));const o=d(n,["usageMetadata"]);o!=null&&h(e,["usageMetadata"],NN(o));const a=d(n,["goAway"]);a!=null&&h(e,["goAway"],Kk(a));const l=d(n,["sessionResumptionUpdate"]);return l!=null&&h(e,["sessionResumptionUpdate"],eN(l)),e}function Qk(n){const e={},t=d(n,["newHandle"]);t!=null&&h(e,["newHandle"],t);const i=d(n,["resumable"]);i!=null&&h(e,["resumable"],i);const r=d(n,["lastConsumedClientMessageIndex"]);return r!=null&&h(e,["lastConsumedClientMessageIndex"],r),e}function eN(n){const e={},t=d(n,["newHandle"]);t!=null&&h(e,["newHandle"],t);const i=d(n,["resumable"]);i!=null&&h(e,["resumable"],i);const r=d(n,["lastConsumedClientMessageIndex"]);return r!=null&&h(e,["lastConsumedClientMessageIndex"],r),e}function tN(){return{}}function nN(n){const e={},t=d(n,["sessionId"]);return t!=null&&h(e,["sessionId"],t),e}function iN(n){const e={},t=d(n,["ids"]);return t!=null&&h(e,["ids"],t),e}function rN(n){const e={},t=d(n,["ids"]);return t!=null&&h(e,["ids"],t),e}function sN(n){const e={},t=d(n,["functionCalls"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(r=>iC(r))),h(e,["functionCalls"],i)}return e}function oN(n){const e={},t=d(n,["functionCalls"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(r=>rC(r))),h(e,["functionCalls"],i)}return e}function ad(n){const e={},t=d(n,["modality"]);t!=null&&h(e,["modality"],t);const i=d(n,["tokenCount"]);return i!=null&&h(e,["tokenCount"],i),e}function ld(n){const e={},t=d(n,["modality"]);t!=null&&h(e,["modality"],t);const i=d(n,["tokenCount"]);return i!=null&&h(e,["tokenCount"],i),e}function aN(n){const e={},t=d(n,["speakerVoiceConfigs"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(r=>TN(r))),h(e,["speakerVoiceConfigs"],i)}return e}function lN(n){const e={},t=d(n,["videoMetadata"]);t!=null&&h(e,["videoMetadata"],MN(t));const i=d(n,["thought"]);i!=null&&h(e,["thought"],i);const r=d(n,["inlineData"]);r!=null&&h(e,["inlineData"],rk(r));const s=d(n,["fileData"]);s!=null&&h(e,["fileData"],yk(s));const o=d(n,["thoughtSignature"]);o!=null&&h(e,["thoughtSignature"],o);const a=d(n,["functionCall"]);a!=null&&h(e,["functionCall"],iC(a));const l=d(n,["codeExecutionResult"]);l!=null&&h(e,["codeExecutionResult"],l);const c=d(n,["executableCode"]);c!=null&&h(e,["executableCode"],c);const u=d(n,["functionResponse"]);u!=null&&h(e,["functionResponse"],u);const f=d(n,["text"]);return f!=null&&h(e,["text"],f),e}function cN(n){const e={},t=d(n,["videoMetadata"]);t!=null&&h(e,["videoMetadata"],PN(t));const i=d(n,["thought"]);i!=null&&h(e,["thought"],i);const r=d(n,["inlineData"]);r!=null&&h(e,["inlineData"],sk(r));const s=d(n,["fileData"]);s!=null&&h(e,["fileData"],vk(s));const o=d(n,["thoughtSignature"]);o!=null&&h(e,["thoughtSignature"],o);const a=d(n,["functionCall"]);a!=null&&h(e,["functionCall"],rC(a));const l=d(n,["codeExecutionResult"]);l!=null&&h(e,["codeExecutionResult"],l);const c=d(n,["executableCode"]);c!=null&&h(e,["executableCode"],c);const u=d(n,["functionResponse"]);u!=null&&h(e,["functionResponse"],u);const f=d(n,["text"]);return f!=null&&h(e,["text"],f),e}function uN(n){const e={},t=d(n,["videoMetadata"]);t!=null&&h(e,["videoMetadata"],LN(t));const i=d(n,["thought"]);i!=null&&h(e,["thought"],i);const r=d(n,["inlineData"]);r!=null&&h(e,["inlineData"],ok(r));const s=d(n,["fileData"]);s!=null&&h(e,["fileData"],bk(s));const o=d(n,["thoughtSignature"]);o!=null&&h(e,["thoughtSignature"],o);const a=d(n,["functionCall"]);a!=null&&h(e,["functionCall"],Dk(a));const l=d(n,["codeExecutionResult"]);l!=null&&h(e,["codeExecutionResult"],l);const c=d(n,["executableCode"]);c!=null&&h(e,["executableCode"],c);const u=d(n,["functionResponse"]);u!=null&&h(e,["functionResponse"],u);const f=d(n,["text"]);return f!=null&&h(e,["text"],f),e}function dN(n){const e={},t=d(n,["videoMetadata"]);t!=null&&h(e,["videoMetadata"],BN(t));const i=d(n,["thought"]);i!=null&&h(e,["thought"],i);const r=d(n,["inlineData"]);r!=null&&h(e,["inlineData"],ak(r));const s=d(n,["fileData"]);s!=null&&h(e,["fileData"],xk(s));const o=d(n,["thoughtSignature"]);o!=null&&h(e,["thoughtSignature"],o);const a=d(n,["functionCall"]);a!=null&&h(e,["functionCall"],Tk(a));const l=d(n,["codeExecutionResult"]);l!=null&&h(e,["codeExecutionResult"],l);const c=d(n,["executableCode"]);c!=null&&h(e,["executableCode"],c);const u=d(n,["functionResponse"]);u!=null&&h(e,["functionResponse"],u);const f=d(n,["text"]);return f!=null&&h(e,["text"],f),e}function hN(n){const e={},t=d(n,["voiceName"]);return t!=null&&h(e,["voiceName"],t),e}function fN(n){const e={},t=d(n,["voiceName"]);return t!=null&&h(e,["voiceName"],t),e}function pN(n){const e={},t=d(n,["proactiveAudio"]);return t!=null&&h(e,["proactiveAudio"],t),e}function gN(n){const e={},t=d(n,["proactiveAudio"]);return t!=null&&h(e,["proactiveAudio"],t),e}function mN(n){const e={},t=d(n,["automaticActivityDetection"]);t!=null&&h(e,["automaticActivityDetection"],nk(t));const i=d(n,["activityHandling"]);i!=null&&h(e,["activityHandling"],i);const r=d(n,["turnCoverage"]);return r!=null&&h(e,["turnCoverage"],r),e}function yN(n){const e={},t=d(n,["automaticActivityDetection"]);t!=null&&h(e,["automaticActivityDetection"],ik(t));const i=d(n,["activityHandling"]);i!=null&&h(e,["activityHandling"],i);const r=d(n,["turnCoverage"]);return r!=null&&h(e,["turnCoverage"],r),e}function vN(n){const e={},t=d(n,["handle"]);if(t!=null&&h(e,["handle"],t),d(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function bN(n){const e={},t=d(n,["handle"]);t!=null&&h(e,["handle"],t);const i=d(n,["transparent"]);return i!=null&&h(e,["transparent"],i),e}function xN(n){const e={},t=d(n,["targetTokens"]);return t!=null&&h(e,["targetTokens"],t),e}function DN(n){const e={},t=d(n,["targetTokens"]);return t!=null&&h(e,["targetTokens"],t),e}function TN(n){const e={},t=d(n,["speaker"]);t!=null&&h(e,["speaker"],t);const i=d(n,["voiceConfig"]);return i!=null&&h(e,["voiceConfig"],lC(i)),e}function _N(n){const e={},t=d(n,["voiceConfig"]);t!=null&&h(e,["voiceConfig"],lC(t));const i=d(n,["multiSpeakerVoiceConfig"]);i!=null&&h(e,["multiSpeakerVoiceConfig"],aN(i));const r=d(n,["languageCode"]);return r!=null&&h(e,["languageCode"],r),e}function CN(n){const e={},t=d(n,["voiceConfig"]);if(t!=null&&h(e,["voiceConfig"],ON(t)),d(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=d(n,["languageCode"]);return i!=null&&h(e,["languageCode"],i),e}function AN(n){const e={},t=d(n,["environment"]);t!=null&&h(e,["environment"],t);const i=d(n,["excludedPredefinedFunctions"]);return i!=null&&h(e,["excludedPredefinedFunctions"],i),e}function EN(n){const e={},t=d(n,["environment"]);t!=null&&h(e,["environment"],t);const i=d(n,["excludedPredefinedFunctions"]);return i!=null&&h(e,["excludedPredefinedFunctions"],i),e}function wN(n){const e={},t=d(n,["functionDeclarations"]);if(t!=null){let l=t;Array.isArray(l)&&(l=l.map(c=>_k(c))),h(e,["functionDeclarations"],l)}if(d(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=d(n,["googleSearch"]);i!=null&&h(e,["googleSearch"],Sk(i));const r=d(n,["googleSearchRetrieval"]);if(r!=null&&h(e,["googleSearchRetrieval"],Ek(r)),d(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(d(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");d(n,["urlContext"])!=null&&h(e,["urlContext"],RN());const o=d(n,["computerUse"]);o!=null&&h(e,["computerUse"],AN(o));const a=d(n,["codeExecution"]);return a!=null&&h(e,["codeExecution"],a),e}function SN(n){const e={},t=d(n,["functionDeclarations"]);if(t!=null){let f=t;Array.isArray(f)&&(f=f.map(p=>Ck(p))),h(e,["functionDeclarations"],f)}const i=d(n,["retrieval"]);i!=null&&h(e,["retrieval"],i);const r=d(n,["googleSearch"]);r!=null&&h(e,["googleSearch"],Uk(r));const s=d(n,["googleSearchRetrieval"]);s!=null&&h(e,["googleSearchRetrieval"],wk(s));const o=d(n,["enterpriseWebSearch"]);o!=null&&h(e,["enterpriseWebSearch"],mk(o));const a=d(n,["googleMaps"]);a!=null&&h(e,["googleMaps"],Ak(a)),d(n,["urlContext"])!=null&&h(e,["urlContext"],IN());const c=d(n,["computerUse"]);c!=null&&h(e,["computerUse"],EN(c));const u=d(n,["codeExecution"]);return u!=null&&h(e,["codeExecution"],u),e}function M1(n){const e={},t=d(n,["text"]);t!=null&&h(e,["text"],t);const i=d(n,["finished"]);return i!=null&&h(e,["finished"],i),e}function P1(n){const e={},t=d(n,["text"]);t!=null&&h(e,["text"],t);const i=d(n,["finished"]);return i!=null&&h(e,["finished"],i),e}function UN(n){const e={},t=d(n,["urlMetadata"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(r=>FN(r))),h(e,["urlMetadata"],i)}return e}function RN(){return{}}function IN(){return{}}function FN(n){const e={},t=d(n,["retrievedUrl"]);t!=null&&h(e,["retrievedUrl"],t);const i=d(n,["urlRetrievalStatus"]);return i!=null&&h(e,["urlRetrievalStatus"],i),e}function kN(n){const e={},t=d(n,["promptTokenCount"]);t!=null&&h(e,["promptTokenCount"],t);const i=d(n,["cachedContentTokenCount"]);i!=null&&h(e,["cachedContentTokenCount"],i);const r=d(n,["responseTokenCount"]);r!=null&&h(e,["responseTokenCount"],r);const s=d(n,["toolUsePromptTokenCount"]);s!=null&&h(e,["toolUsePromptTokenCount"],s);const o=d(n,["thoughtsTokenCount"]);o!=null&&h(e,["thoughtsTokenCount"],o);const a=d(n,["totalTokenCount"]);a!=null&&h(e,["totalTokenCount"],a);const l=d(n,["promptTokensDetails"]);if(l!=null){let p=l;Array.isArray(p)&&(p=p.map(g=>ad(g))),h(e,["promptTokensDetails"],p)}const c=d(n,["cacheTokensDetails"]);if(c!=null){let p=c;Array.isArray(p)&&(p=p.map(g=>ad(g))),h(e,["cacheTokensDetails"],p)}const u=d(n,["responseTokensDetails"]);if(u!=null){let p=u;Array.isArray(p)&&(p=p.map(g=>ad(g))),h(e,["responseTokensDetails"],p)}const f=d(n,["toolUsePromptTokensDetails"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(g=>ad(g))),h(e,["toolUsePromptTokensDetails"],p)}return e}function NN(n){const e={},t=d(n,["promptTokenCount"]);t!=null&&h(e,["promptTokenCount"],t);const i=d(n,["cachedContentTokenCount"]);i!=null&&h(e,["cachedContentTokenCount"],i);const r=d(n,["candidatesTokenCount"]);r!=null&&h(e,["responseTokenCount"],r);const s=d(n,["toolUsePromptTokenCount"]);s!=null&&h(e,["toolUsePromptTokenCount"],s);const o=d(n,["thoughtsTokenCount"]);o!=null&&h(e,["thoughtsTokenCount"],o);const a=d(n,["totalTokenCount"]);a!=null&&h(e,["totalTokenCount"],a);const l=d(n,["promptTokensDetails"]);if(l!=null){let g=l;Array.isArray(g)&&(g=g.map(b=>ld(b))),h(e,["promptTokensDetails"],g)}const c=d(n,["cacheTokensDetails"]);if(c!=null){let g=c;Array.isArray(g)&&(g=g.map(b=>ld(b))),h(e,["cacheTokensDetails"],g)}const u=d(n,["candidatesTokensDetails"]);if(u!=null){let g=u;Array.isArray(g)&&(g=g.map(b=>ld(b))),h(e,["responseTokensDetails"],g)}const f=d(n,["toolUsePromptTokensDetails"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(b=>ld(b))),h(e,["toolUsePromptTokensDetails"],g)}const p=d(n,["trafficType"]);return p!=null&&h(e,["trafficType"],p),e}function MN(n){const e={},t=d(n,["fps"]);t!=null&&h(e,["fps"],t);const i=d(n,["endOffset"]);i!=null&&h(e,["endOffset"],i);const r=d(n,["startOffset"]);return r!=null&&h(e,["startOffset"],r),e}function PN(n){const e={},t=d(n,["fps"]);t!=null&&h(e,["fps"],t);const i=d(n,["endOffset"]);i!=null&&h(e,["endOffset"],i);const r=d(n,["startOffset"]);return r!=null&&h(e,["startOffset"],r),e}function LN(n){const e={},t=d(n,["fps"]);t!=null&&h(e,["fps"],t);const i=d(n,["endOffset"]);i!=null&&h(e,["endOffset"],i);const r=d(n,["startOffset"]);return r!=null&&h(e,["startOffset"],r),e}function BN(n){const e={},t=d(n,["fps"]);t!=null&&h(e,["fps"],t);const i=d(n,["endOffset"]);i!=null&&h(e,["endOffset"],i);const r=d(n,["startOffset"]);return r!=null&&h(e,["startOffset"],r),e}function lC(n){const e={},t=d(n,["prebuiltVoiceConfig"]);return t!=null&&h(e,["prebuiltVoiceConfig"],hN(t)),e}function ON(n){const e={},t=d(n,["prebuiltVoiceConfig"]);return t!=null&&h(e,["prebuiltVoiceConfig"],fN(t)),e}function WN(n){const e={},t=d(n,["text"]);t!=null&&h(e,["text"],t);const i=d(n,["weight"]);return i!=null&&h(e,["weight"],i),e}function cC(n){const e={},t=d(n,["text"]);t!=null&&h(e,["text"],t);const i=d(n,["weight"]);return i!=null&&h(e,["weight"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qN(n){const e={},t=d(n,["apiKeyString"]);return t!=null&&h(e,["apiKeyString"],t),e}function VN(n){const e={},t=d(n,["apiKeyConfig"]);t!=null&&h(e,["apiKeyConfig"],qN(t));const i=d(n,["authType"]);i!=null&&h(e,["authType"],i);const r=d(n,["googleServiceAccountConfig"]);r!=null&&h(e,["googleServiceAccountConfig"],r);const s=d(n,["httpBasicAuthConfig"]);s!=null&&h(e,["httpBasicAuthConfig"],s);const o=d(n,["oauthConfig"]);o!=null&&h(e,["oauthConfig"],o);const a=d(n,["oidcConfig"]);return a!=null&&h(e,["oidcConfig"],a),e}function HN(n){const e={},t=d(n,["data"]);t!=null&&h(e,["data"],t);const i=d(n,["mimeType"]);return i!=null&&h(e,["mimeType"],i),e}function GN(n){const e={},t=d(n,["displayName"]);t!=null&&h(e,["displayName"],t);const i=d(n,["data"]);i!=null&&h(e,["data"],i);const r=d(n,["mimeType"]);return r!=null&&h(e,["mimeType"],r),e}function $N(n){const e={};if(d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=d(n,["data"]);t!=null&&h(e,["data"],t);const i=d(n,["mimeType"]);return i!=null&&h(e,["mimeType"],i),e}function zN(n){const e={},t=d(n,["displayName"]);t!=null&&h(e,["displayName"],t);const i=d(n,["data"]);i!=null&&h(e,["data"],i);const r=d(n,["mimeType"]);return r!=null&&h(e,["mimeType"],r),e}function XN(n){const e={},t=d(n,["content"]);t!=null&&h(e,["content"],iM(t));const i=d(n,["citationMetadata"]);i!=null&&h(e,["citationMetadata"],KN(i));const r=d(n,["tokenCount"]);r!=null&&h(e,["tokenCount"],r);const s=d(n,["finishReason"]);s!=null&&h(e,["finishReason"],s);const o=d(n,["urlContextMetadata"]);o!=null&&h(e,["urlContextMetadata"],_P(o));const a=d(n,["avgLogprobs"]);a!=null&&h(e,["avgLogprobs"],a);const l=d(n,["groundingMetadata"]);l!=null&&h(e,["groundingMetadata"],l);const c=d(n,["index"]);c!=null&&h(e,["index"],c);const u=d(n,["logprobsResult"]);u!=null&&h(e,["logprobsResult"],u);const f=d(n,["safetyRatings"]);return f!=null&&h(e,["safetyRatings"],f),e}function JN(n){const e={},t=d(n,["content"]);t!=null&&h(e,["content"],rM(t));const i=d(n,["citationMetadata"]);i!=null&&h(e,["citationMetadata"],jN(i));const r=d(n,["finishMessage"]);r!=null&&h(e,["finishMessage"],r);const s=d(n,["finishReason"]);s!=null&&h(e,["finishReason"],s);const o=d(n,["urlContextMetadata"]);o!=null&&h(e,["urlContextMetadata"],CP(o));const a=d(n,["avgLogprobs"]);a!=null&&h(e,["avgLogprobs"],a);const l=d(n,["groundingMetadata"]);l!=null&&h(e,["groundingMetadata"],l);const c=d(n,["index"]);c!=null&&h(e,["index"],c);const u=d(n,["logprobsResult"]);u!=null&&h(e,["logprobsResult"],u);const f=d(n,["safetyRatings"]);return f!=null&&h(e,["safetyRatings"],f),e}function YN(n){const e={},t=d(n,["checkpointId"]);t!=null&&h(e,["checkpointId"],t);const i=d(n,["epoch"]);i!=null&&h(e,["epoch"],i);const r=d(n,["step"]);return r!=null&&h(e,["step"],r),e}function KN(n){const e={},t=d(n,["citationSources"]);return t!=null&&h(e,["citations"],t),e}function jN(n){const e={},t=d(n,["citations"]);return t!=null&&h(e,["citations"],t),e}function ZN(n,e){const t={},i=d(e,["model"]);i!=null&&h(t,["_url","model"],Je(n,i));const r=d(e,["contents"]);if(r!=null){let s=On(r);Array.isArray(s)&&(s=s.map(o=>nl(o))),h(t,["contents"],s)}return t}function QN(n){const e={},t=d(n,["sdkHttpResponse"]);t!=null&&h(e,["sdkHttpResponse"],t);const i=d(n,["tokensInfo"]);return i!=null&&h(e,["tokensInfo"],i),e}function eM(n){const e={},t=d(n,["values"]);return t!=null&&h(e,["values"],t),e}function tM(n){const e={},t=d(n,["values"]);t!=null&&h(e,["values"],t);const i=d(n,["statistics"]);return i!=null&&h(e,["statistics"],nM(i)),e}function nM(n){const e={},t=d(n,["truncated"]);t!=null&&h(e,["truncated"],t);const i=d(n,["token_count"]);return i!=null&&h(e,["tokenCount"],i),e}function iM(n){const e={},t=d(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(s=>k3(s))),h(e,["parts"],r)}const i=d(n,["role"]);return i!=null&&h(e,["role"],i),e}function rM(n){const e={},t=d(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(s=>N3(s))),h(e,["parts"],r)}const i=d(n,["role"]);return i!=null&&h(e,["role"],i),e}function Mf(n){const e={},t=d(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(s=>M3(s))),h(e,["parts"],r)}const i=d(n,["role"]);return i!=null&&h(e,["role"],i),e}function nl(n){const e={},t=d(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(s=>P3(s))),h(e,["parts"],r)}const i=d(n,["role"]);return i!=null&&h(e,["role"],i),e}function sM(n){const e={},t=d(n,["controlType"]);t!=null&&h(e,["controlType"],t);const i=d(n,["enableControlImageComputation"]);return i!=null&&h(e,["computeControl"],i),e}function oM(n){const e={};if(d(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(d(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(d(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function aM(n,e){const t={},i=d(n,["systemInstruction"]);e!==void 0&&i!=null&&h(e,["systemInstruction"],nl(Ht(i)));const r=d(n,["tools"]);if(e!==void 0&&r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>pC(a))),h(e,["tools"],o)}const s=d(n,["generationConfig"]);return e!==void 0&&s!=null&&h(e,["generationConfig"],s),t}function lM(n,e){const t={},i=d(e,["model"]);i!=null&&h(t,["_url","model"],Je(n,i));const r=d(e,["contents"]);if(r!=null){let o=On(r);Array.isArray(o)&&(o=o.map(a=>Mf(a))),h(t,["contents"],o)}const s=d(e,["config"]);return s!=null&&oM(s),t}function cM(n,e){const t={},i=d(e,["model"]);i!=null&&h(t,["_url","model"],Je(n,i));const r=d(e,["contents"]);if(r!=null){let o=On(r);Array.isArray(o)&&(o=o.map(a=>nl(a))),h(t,["contents"],o)}const s=d(e,["config"]);return s!=null&&aM(s,t),t}function uM(n){const e={},t=d(n,["sdkHttpResponse"]);t!=null&&h(e,["sdkHttpResponse"],t);const i=d(n,["totalTokens"]);i!=null&&h(e,["totalTokens"],i);const r=d(n,["cachedContentTokenCount"]);return r!=null&&h(e,["cachedContentTokenCount"],r),e}function dM(n){const e={},t=d(n,["sdkHttpResponse"]);t!=null&&h(e,["sdkHttpResponse"],t);const i=d(n,["totalTokens"]);return i!=null&&h(e,["totalTokens"],i),e}function hM(n,e){const t={},i=d(e,["model"]);return i!=null&&h(t,["_url","name"],Je(n,i)),t}function fM(n,e){const t={},i=d(e,["model"]);return i!=null&&h(t,["_url","name"],Je(n,i)),t}function pM(n){const e={},t=d(n,["sdkHttpResponse"]);return t!=null&&h(e,["sdkHttpResponse"],t),e}function gM(n){const e={},t=d(n,["sdkHttpResponse"]);return t!=null&&h(e,["sdkHttpResponse"],t),e}function mM(n){const e={},t=d(n,["mode"]);t!=null&&h(e,["mode"],t);const i=d(n,["dynamicThreshold"]);return i!=null&&h(e,["dynamicThreshold"],i),e}function yM(n){const e={},t=d(n,["mode"]);t!=null&&h(e,["mode"],t);const i=d(n,["dynamicThreshold"]);return i!=null&&h(e,["dynamicThreshold"],i),e}function vM(n,e){const t={},i=d(n,["outputGcsUri"]);e!==void 0&&i!=null&&h(e,["parameters","storageUri"],i);const r=d(n,["negativePrompt"]);e!==void 0&&r!=null&&h(e,["parameters","negativePrompt"],r);const s=d(n,["numberOfImages"]);e!==void 0&&s!=null&&h(e,["parameters","sampleCount"],s);const o=d(n,["aspectRatio"]);e!==void 0&&o!=null&&h(e,["parameters","aspectRatio"],o);const a=d(n,["guidanceScale"]);e!==void 0&&a!=null&&h(e,["parameters","guidanceScale"],a);const l=d(n,["seed"]);e!==void 0&&l!=null&&h(e,["parameters","seed"],l);const c=d(n,["safetyFilterLevel"]);e!==void 0&&c!=null&&h(e,["parameters","safetySetting"],c);const u=d(n,["personGeneration"]);e!==void 0&&u!=null&&h(e,["parameters","personGeneration"],u);const f=d(n,["includeSafetyAttributes"]);e!==void 0&&f!=null&&h(e,["parameters","includeSafetyAttributes"],f);const p=d(n,["includeRaiReason"]);e!==void 0&&p!=null&&h(e,["parameters","includeRaiReason"],p);const g=d(n,["language"]);e!==void 0&&g!=null&&h(e,["parameters","language"],g);const b=d(n,["outputMimeType"]);e!==void 0&&b!=null&&h(e,["parameters","outputOptions","mimeType"],b);const y=d(n,["outputCompressionQuality"]);e!==void 0&&y!=null&&h(e,["parameters","outputOptions","compressionQuality"],y);const v=d(n,["addWatermark"]);e!==void 0&&v!=null&&h(e,["parameters","addWatermark"],v);const x=d(n,["editMode"]);e!==void 0&&x!=null&&h(e,["parameters","editMode"],x);const D=d(n,["baseSteps"]);return e!==void 0&&D!=null&&h(e,["parameters","editConfig","baseSteps"],D),t}function bM(n,e){const t={},i=d(e,["model"]);i!=null&&h(t,["_url","model"],Je(n,i));const r=d(e,["prompt"]);r!=null&&h(t,["instances[0]","prompt"],r);const s=d(e,["referenceImages"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(l=>G3(l))),h(t,["instances[0]","referenceImages"],a)}const o=d(e,["config"]);return o!=null&&vM(o,t),t}function xM(n){const e={},t=d(n,["sdkHttpResponse"]);t!=null&&h(e,["sdkHttpResponse"],t);const i=d(n,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>Pf(s))),h(e,["generatedImages"],r)}return e}function DM(n,e){const t={},i=d(n,["taskType"]);e!==void 0&&i!=null&&h(e,["requests[]","taskType"],i);const r=d(n,["title"]);e!==void 0&&r!=null&&h(e,["requests[]","title"],r);const s=d(n,["outputDimensionality"]);if(e!==void 0&&s!=null&&h(e,["requests[]","outputDimensionality"],s),d(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return t}function TM(n,e){const t={},i=d(n,["taskType"]);e!==void 0&&i!=null&&h(e,["instances[]","task_type"],i);const r=d(n,["title"]);e!==void 0&&r!=null&&h(e,["instances[]","title"],r);const s=d(n,["outputDimensionality"]);e!==void 0&&s!=null&&h(e,["parameters","outputDimensionality"],s);const o=d(n,["mimeType"]);e!==void 0&&o!=null&&h(e,["instances[]","mimeType"],o);const a=d(n,["autoTruncate"]);return e!==void 0&&a!=null&&h(e,["parameters","autoTruncate"],a),t}function _M(){return{}}function CM(n){const e={},t=d(n,["billableCharacterCount"]);return t!=null&&h(e,["billableCharacterCount"],t),e}function AM(n,e){const t={},i=d(e,["model"]);i!=null&&h(t,["_url","model"],Je(n,i));const r=d(e,["contents"]);r!=null&&h(t,["requests[]","content"],sv(n,r));const s=d(e,["config"]);s!=null&&DM(s,t);const o=d(e,["model"]);return o!==void 0&&h(t,["requests[]","model"],Je(n,o)),t}function EM(n,e){const t={},i=d(e,["model"]);i!=null&&h(t,["_url","model"],Je(n,i));const r=d(e,["contents"]);r!=null&&h(t,["instances[]","content"],sv(n,r));const s=d(e,["config"]);return s!=null&&TM(s,t),t}function wM(n){const e={},t=d(n,["sdkHttpResponse"]);t!=null&&h(e,["sdkHttpResponse"],t);const i=d(n,["embeddings"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>eM(o))),h(e,["embeddings"],s)}return d(n,["metadata"])!=null&&h(e,["metadata"],_M()),e}function SM(n){const e={},t=d(n,["sdkHttpResponse"]);t!=null&&h(e,["sdkHttpResponse"],t);const i=d(n,["predictions[]","embeddings"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>tM(o))),h(e,["embeddings"],s)}const r=d(n,["metadata"]);return r!=null&&h(e,["metadata"],CM(r)),e}function UM(n){const e={},t=d(n,["endpoint"]);t!=null&&h(e,["name"],t);const i=d(n,["deployedModelId"]);return i!=null&&h(e,["deployedModelId"],i),e}function RM(n){const e={},t=d(n,["excludeDomains"]);return t!=null&&h(e,["excludeDomains"],t),e}function IM(n){const e={},t=d(n,["label"]);t!=null&&h(e,["label"],t);const i=d(n,["score"]);return i!=null&&h(e,["score"],i),e}function FM(n){const e={},t=d(n,["fileUri"]);t!=null&&h(e,["fileUri"],t);const i=d(n,["mimeType"]);return i!=null&&h(e,["mimeType"],i),e}function kM(n){const e={},t=d(n,["displayName"]);t!=null&&h(e,["displayName"],t);const i=d(n,["fileUri"]);i!=null&&h(e,["fileUri"],i);const r=d(n,["mimeType"]);return r!=null&&h(e,["mimeType"],r),e}function NM(n){const e={};if(d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=d(n,["fileUri"]);t!=null&&h(e,["fileUri"],t);const i=d(n,["mimeType"]);return i!=null&&h(e,["mimeType"],i),e}function MM(n){const e={},t=d(n,["displayName"]);t!=null&&h(e,["displayName"],t);const i=d(n,["fileUri"]);i!=null&&h(e,["fileUri"],i);const r=d(n,["mimeType"]);return r!=null&&h(e,["mimeType"],r),e}function PM(n){const e={},t=d(n,["id"]);t!=null&&h(e,["id"],t);const i=d(n,["args"]);i!=null&&h(e,["args"],i);const r=d(n,["name"]);return r!=null&&h(e,["name"],r),e}function LM(n){const e={},t=d(n,["id"]);t!=null&&h(e,["id"],t);const i=d(n,["args"]);i!=null&&h(e,["args"],i);const r=d(n,["name"]);return r!=null&&h(e,["name"],r),e}function BM(n){const e={},t=d(n,["id"]);t!=null&&h(e,["id"],t);const i=d(n,["args"]);i!=null&&h(e,["args"],i);const r=d(n,["name"]);return r!=null&&h(e,["name"],r),e}function OM(n){const e={},t=d(n,["id"]);t!=null&&h(e,["id"],t);const i=d(n,["args"]);i!=null&&h(e,["args"],i);const r=d(n,["name"]);return r!=null&&h(e,["name"],r),e}function WM(n){const e={},t=d(n,["mode"]);t!=null&&h(e,["mode"],t);const i=d(n,["allowedFunctionNames"]);return i!=null&&h(e,["allowedFunctionNames"],i),e}function qM(n){const e={},t=d(n,["mode"]);t!=null&&h(e,["mode"],t);const i=d(n,["allowedFunctionNames"]);return i!=null&&h(e,["allowedFunctionNames"],i),e}function VM(n){const e={},t=d(n,["behavior"]);t!=null&&h(e,["behavior"],t);const i=d(n,["description"]);i!=null&&h(e,["description"],i);const r=d(n,["name"]);r!=null&&h(e,["name"],r);const s=d(n,["parameters"]);s!=null&&h(e,["parameters"],s);const o=d(n,["parametersJsonSchema"]);o!=null&&h(e,["parametersJsonSchema"],o);const a=d(n,["response"]);a!=null&&h(e,["response"],a);const l=d(n,["responseJsonSchema"]);return l!=null&&h(e,["responseJsonSchema"],l),e}function HM(n){const e={};if(d(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const t=d(n,["description"]);t!=null&&h(e,["description"],t);const i=d(n,["name"]);i!=null&&h(e,["name"],i);const r=d(n,["parameters"]);r!=null&&h(e,["parameters"],r);const s=d(n,["parametersJsonSchema"]);s!=null&&h(e,["parametersJsonSchema"],s);const o=d(n,["response"]);o!=null&&h(e,["response"],o);const a=d(n,["responseJsonSchema"]);return a!=null&&h(e,["responseJsonSchema"],a),e}function GM(n,e,t){const i={},r=d(e,["systemInstruction"]);t!==void 0&&r!=null&&h(t,["systemInstruction"],Mf(Ht(r)));const s=d(e,["temperature"]);s!=null&&h(i,["temperature"],s);const o=d(e,["topP"]);o!=null&&h(i,["topP"],o);const a=d(e,["topK"]);a!=null&&h(i,["topK"],a);const l=d(e,["candidateCount"]);l!=null&&h(i,["candidateCount"],l);const c=d(e,["maxOutputTokens"]);c!=null&&h(i,["maxOutputTokens"],c);const u=d(e,["stopSequences"]);u!=null&&h(i,["stopSequences"],u);const f=d(e,["responseLogprobs"]);f!=null&&h(i,["responseLogprobs"],f);const p=d(e,["logprobs"]);p!=null&&h(i,["logprobs"],p);const g=d(e,["presencePenalty"]);g!=null&&h(i,["presencePenalty"],g);const b=d(e,["frequencyPenalty"]);b!=null&&h(i,["frequencyPenalty"],b);const y=d(e,["seed"]);y!=null&&h(i,["seed"],y);const v=d(e,["responseMimeType"]);v!=null&&h(i,["responseMimeType"],v);const x=d(e,["responseSchema"]);x!=null&&h(i,["responseSchema"],Y3(ov(x)));const D=d(e,["responseJsonSchema"]);if(D!=null&&h(i,["responseJsonSchema"],D),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const T=d(e,["safetySettings"]);if(t!==void 0&&T!=null){let J=T;Array.isArray(J)&&(J=J.map(U=>X3(U))),h(t,["safetySettings"],J)}const C=d(e,["tools"]);if(t!==void 0&&C!=null){let J=el(C);Array.isArray(J)&&(J=J.map(U=>fP(Qa(U)))),h(t,["tools"],J)}const _=d(e,["toolConfig"]);if(t!==void 0&&_!=null&&h(t,["toolConfig"],dP(_)),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const A=d(e,["cachedContent"]);t!==void 0&&A!=null&&h(t,["cachedContent"],mr(n,A));const R=d(e,["responseModalities"]);R!=null&&h(i,["responseModalities"],R);const k=d(e,["mediaResolution"]);k!=null&&h(i,["mediaResolution"],k);const I=d(e,["speechConfig"]);if(I!=null&&h(i,["speechConfig"],iP(av(I))),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const L=d(e,["thinkingConfig"]);return L!=null&&h(i,["thinkingConfig"],aP(L)),i}function $M(n,e,t){const i={},r=d(e,["systemInstruction"]);t!==void 0&&r!=null&&h(t,["systemInstruction"],nl(Ht(r)));const s=d(e,["temperature"]);s!=null&&h(i,["temperature"],s);const o=d(e,["topP"]);o!=null&&h(i,["topP"],o);const a=d(e,["topK"]);a!=null&&h(i,["topK"],a);const l=d(e,["candidateCount"]);l!=null&&h(i,["candidateCount"],l);const c=d(e,["maxOutputTokens"]);c!=null&&h(i,["maxOutputTokens"],c);const u=d(e,["stopSequences"]);u!=null&&h(i,["stopSequences"],u);const f=d(e,["responseLogprobs"]);f!=null&&h(i,["responseLogprobs"],f);const p=d(e,["logprobs"]);p!=null&&h(i,["logprobs"],p);const g=d(e,["presencePenalty"]);g!=null&&h(i,["presencePenalty"],g);const b=d(e,["frequencyPenalty"]);b!=null&&h(i,["frequencyPenalty"],b);const y=d(e,["seed"]);y!=null&&h(i,["seed"],y);const v=d(e,["responseMimeType"]);v!=null&&h(i,["responseMimeType"],v);const x=d(e,["responseSchema"]);x!=null&&h(i,["responseSchema"],K3(ov(x)));const D=d(e,["responseJsonSchema"]);D!=null&&h(i,["responseJsonSchema"],D);const T=d(e,["routingConfig"]);T!=null&&h(i,["routingConfig"],T);const C=d(e,["modelSelectionConfig"]);C!=null&&h(i,["modelConfig"],I3(C));const _=d(e,["safetySettings"]);if(t!==void 0&&_!=null){let K=_;Array.isArray(K)&&(K=K.map(q=>J3(q))),h(t,["safetySettings"],K)}const A=d(e,["tools"]);if(t!==void 0&&A!=null){let K=el(A);Array.isArray(K)&&(K=K.map(q=>pC(Qa(q)))),h(t,["tools"],K)}const R=d(e,["toolConfig"]);t!==void 0&&R!=null&&h(t,["toolConfig"],hP(R));const k=d(e,["labels"]);t!==void 0&&k!=null&&h(t,["labels"],k);const I=d(e,["cachedContent"]);t!==void 0&&I!=null&&h(t,["cachedContent"],mr(n,I));const L=d(e,["responseModalities"]);L!=null&&h(i,["responseModalities"],L);const J=d(e,["mediaResolution"]);J!=null&&h(i,["mediaResolution"],J);const U=d(e,["speechConfig"]);U!=null&&h(i,["speechConfig"],rP(av(U)));const O=d(e,["audioTimestamp"]);O!=null&&h(i,["audioTimestamp"],O);const S=d(e,["thinkingConfig"]);return S!=null&&h(i,["thinkingConfig"],lP(S)),i}function L1(n,e){const t={},i=d(e,["model"]);i!=null&&h(t,["_url","model"],Je(n,i));const r=d(e,["contents"]);if(r!=null){let o=On(r);Array.isArray(o)&&(o=o.map(a=>Mf(a))),h(t,["contents"],o)}const s=d(e,["config"]);return s!=null&&h(t,["generationConfig"],GM(n,s,t)),t}function B1(n,e){const t={},i=d(e,["model"]);i!=null&&h(t,["_url","model"],Je(n,i));const r=d(e,["contents"]);if(r!=null){let o=On(r);Array.isArray(o)&&(o=o.map(a=>nl(a))),h(t,["contents"],o)}const s=d(e,["config"]);return s!=null&&h(t,["generationConfig"],$M(n,s,t)),t}function O1(n){const e={},t=d(n,["sdkHttpResponse"]);t!=null&&h(e,["sdkHttpResponse"],t);const i=d(n,["candidates"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>XN(c))),h(e,["candidates"],l)}const r=d(n,["modelVersion"]);r!=null&&h(e,["modelVersion"],r);const s=d(n,["promptFeedback"]);s!=null&&h(e,["promptFeedback"],s);const o=d(n,["responseId"]);o!=null&&h(e,["responseId"],o);const a=d(n,["usageMetadata"]);return a!=null&&h(e,["usageMetadata"],a),e}function W1(n){const e={},t=d(n,["sdkHttpResponse"]);t!=null&&h(e,["sdkHttpResponse"],t);const i=d(n,["candidates"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(u=>JN(u))),h(e,["candidates"],c)}const r=d(n,["createTime"]);r!=null&&h(e,["createTime"],r);const s=d(n,["modelVersion"]);s!=null&&h(e,["modelVersion"],s);const o=d(n,["promptFeedback"]);o!=null&&h(e,["promptFeedback"],o);const a=d(n,["responseId"]);a!=null&&h(e,["responseId"],a);const l=d(n,["usageMetadata"]);return l!=null&&h(e,["usageMetadata"],l),e}function zM(n,e){const t={};if(d(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=d(n,["numberOfImages"]);e!==void 0&&i!=null&&h(e,["parameters","sampleCount"],i);const r=d(n,["aspectRatio"]);e!==void 0&&r!=null&&h(e,["parameters","aspectRatio"],r);const s=d(n,["guidanceScale"]);if(e!==void 0&&s!=null&&h(e,["parameters","guidanceScale"],s),d(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=d(n,["safetyFilterLevel"]);e!==void 0&&o!=null&&h(e,["parameters","safetySetting"],o);const a=d(n,["personGeneration"]);e!==void 0&&a!=null&&h(e,["parameters","personGeneration"],a);const l=d(n,["includeSafetyAttributes"]);e!==void 0&&l!=null&&h(e,["parameters","includeSafetyAttributes"],l);const c=d(n,["includeRaiReason"]);e!==void 0&&c!=null&&h(e,["parameters","includeRaiReason"],c);const u=d(n,["language"]);e!==void 0&&u!=null&&h(e,["parameters","language"],u);const f=d(n,["outputMimeType"]);e!==void 0&&f!=null&&h(e,["parameters","outputOptions","mimeType"],f);const p=d(n,["outputCompressionQuality"]);if(e!==void 0&&p!=null&&h(e,["parameters","outputOptions","compressionQuality"],p),d(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");const g=d(n,["imageSize"]);if(e!==void 0&&g!=null&&h(e,["parameters","sampleImageSize"],g),d(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return t}function XM(n,e){const t={},i=d(n,["outputGcsUri"]);e!==void 0&&i!=null&&h(e,["parameters","storageUri"],i);const r=d(n,["negativePrompt"]);e!==void 0&&r!=null&&h(e,["parameters","negativePrompt"],r);const s=d(n,["numberOfImages"]);e!==void 0&&s!=null&&h(e,["parameters","sampleCount"],s);const o=d(n,["aspectRatio"]);e!==void 0&&o!=null&&h(e,["parameters","aspectRatio"],o);const a=d(n,["guidanceScale"]);e!==void 0&&a!=null&&h(e,["parameters","guidanceScale"],a);const l=d(n,["seed"]);e!==void 0&&l!=null&&h(e,["parameters","seed"],l);const c=d(n,["safetyFilterLevel"]);e!==void 0&&c!=null&&h(e,["parameters","safetySetting"],c);const u=d(n,["personGeneration"]);e!==void 0&&u!=null&&h(e,["parameters","personGeneration"],u);const f=d(n,["includeSafetyAttributes"]);e!==void 0&&f!=null&&h(e,["parameters","includeSafetyAttributes"],f);const p=d(n,["includeRaiReason"]);e!==void 0&&p!=null&&h(e,["parameters","includeRaiReason"],p);const g=d(n,["language"]);e!==void 0&&g!=null&&h(e,["parameters","language"],g);const b=d(n,["outputMimeType"]);e!==void 0&&b!=null&&h(e,["parameters","outputOptions","mimeType"],b);const y=d(n,["outputCompressionQuality"]);e!==void 0&&y!=null&&h(e,["parameters","outputOptions","compressionQuality"],y);const v=d(n,["addWatermark"]);e!==void 0&&v!=null&&h(e,["parameters","addWatermark"],v);const x=d(n,["imageSize"]);e!==void 0&&x!=null&&h(e,["parameters","sampleImageSize"],x);const D=d(n,["enhancePrompt"]);return e!==void 0&&D!=null&&h(e,["parameters","enhancePrompt"],D),t}function JM(n,e){const t={},i=d(e,["model"]);i!=null&&h(t,["_url","model"],Je(n,i));const r=d(e,["prompt"]);r!=null&&h(t,["instances[0]","prompt"],r);const s=d(e,["config"]);return s!=null&&zM(s,t),t}function YM(n,e){const t={},i=d(e,["model"]);i!=null&&h(t,["_url","model"],Je(n,i));const r=d(e,["prompt"]);r!=null&&h(t,["instances[0]","prompt"],r);const s=d(e,["config"]);return s!=null&&XM(s,t),t}function KM(n){const e={},t=d(n,["sdkHttpResponse"]);t!=null&&h(e,["sdkHttpResponse"],t);const i=d(n,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>l3(o))),h(e,["generatedImages"],s)}const r=d(n,["positivePromptSafetyAttributes"]);return r!=null&&h(e,["positivePromptSafetyAttributes"],hC(r)),e}function jM(n){const e={},t=d(n,["sdkHttpResponse"]);t!=null&&h(e,["sdkHttpResponse"],t);const i=d(n,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>Pf(o))),h(e,["generatedImages"],s)}const r=d(n,["positivePromptSafetyAttributes"]);return r!=null&&h(e,["positivePromptSafetyAttributes"],fC(r)),e}function ZM(n,e){const t={},i=d(n,["numberOfVideos"]);if(e!==void 0&&i!=null&&h(e,["parameters","sampleCount"],i),d(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=d(n,["durationSeconds"]);if(e!==void 0&&r!=null&&h(e,["parameters","durationSeconds"],r),d(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=d(n,["aspectRatio"]);e!==void 0&&s!=null&&h(e,["parameters","aspectRatio"],s);const o=d(n,["resolution"]);e!==void 0&&o!=null&&h(e,["parameters","resolution"],o);const a=d(n,["personGeneration"]);if(e!==void 0&&a!=null&&h(e,["parameters","personGeneration"],a),d(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const l=d(n,["negativePrompt"]);e!==void 0&&l!=null&&h(e,["parameters","negativePrompt"],l);const c=d(n,["enhancePrompt"]);if(e!==void 0&&c!=null&&h(e,["parameters","enhancePrompt"],c),d(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(d(n,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(d(n,["referenceImages"])!==void 0)throw new Error("referenceImages parameter is not supported in Gemini API.");if(d(n,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(d(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return t}function QM(n,e){const t={},i=d(n,["numberOfVideos"]);e!==void 0&&i!=null&&h(e,["parameters","sampleCount"],i);const r=d(n,["outputGcsUri"]);e!==void 0&&r!=null&&h(e,["parameters","storageUri"],r);const s=d(n,["fps"]);e!==void 0&&s!=null&&h(e,["parameters","fps"],s);const o=d(n,["durationSeconds"]);e!==void 0&&o!=null&&h(e,["parameters","durationSeconds"],o);const a=d(n,["seed"]);e!==void 0&&a!=null&&h(e,["parameters","seed"],a);const l=d(n,["aspectRatio"]);e!==void 0&&l!=null&&h(e,["parameters","aspectRatio"],l);const c=d(n,["resolution"]);e!==void 0&&c!=null&&h(e,["parameters","resolution"],c);const u=d(n,["personGeneration"]);e!==void 0&&u!=null&&h(e,["parameters","personGeneration"],u);const f=d(n,["pubsubTopic"]);e!==void 0&&f!=null&&h(e,["parameters","pubsubTopic"],f);const p=d(n,["negativePrompt"]);e!==void 0&&p!=null&&h(e,["parameters","negativePrompt"],p);const g=d(n,["enhancePrompt"]);e!==void 0&&g!=null&&h(e,["parameters","enhancePrompt"],g);const b=d(n,["generateAudio"]);e!==void 0&&b!=null&&h(e,["parameters","generateAudio"],b);const y=d(n,["lastFrame"]);e!==void 0&&y!=null&&h(e,["instances[0]","lastFrame"],ri(y));const v=d(n,["referenceImages"]);if(e!==void 0&&v!=null){let T=v;Array.isArray(T)&&(T=T.map(C=>FP(C))),h(e,["instances[0]","referenceImages"],T)}const x=d(n,["mask"]);e!==void 0&&x!=null&&h(e,["instances[0]","mask"],IP(x));const D=d(n,["compressionQuality"]);return e!==void 0&&D!=null&&h(e,["parameters","compressionQuality"],D),t}function e3(n){const e={},t=d(n,["name"]);t!=null&&h(e,["name"],t);const i=d(n,["metadata"]);i!=null&&h(e,["metadata"],i);const r=d(n,["done"]);r!=null&&h(e,["done"],r);const s=d(n,["error"]);s!=null&&h(e,["error"],s);const o=d(n,["response","generateVideoResponse"]);return o!=null&&h(e,["response"],r3(o)),e}function t3(n){const e={},t=d(n,["name"]);t!=null&&h(e,["name"],t);const i=d(n,["metadata"]);i!=null&&h(e,["metadata"],i);const r=d(n,["done"]);r!=null&&h(e,["done"],r);const s=d(n,["error"]);s!=null&&h(e,["error"],s);const o=d(n,["response"]);return o!=null&&h(e,["response"],s3(o)),e}function n3(n,e){const t={},i=d(e,["model"]);i!=null&&h(t,["_url","model"],Je(n,i));const r=d(e,["prompt"]);r!=null&&h(t,["instances[0]","prompt"],r);const s=d(e,["image"]);if(s!=null&&h(t,["instances[0]","image"],dC(s)),d(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const o=d(e,["source"]);o!=null&&o3(o,t);const a=d(e,["config"]);return a!=null&&ZM(a,t),t}function i3(n,e){const t={},i=d(e,["model"]);i!=null&&h(t,["_url","model"],Je(n,i));const r=d(e,["prompt"]);r!=null&&h(t,["instances[0]","prompt"],r);const s=d(e,["image"]);s!=null&&h(t,["instances[0]","image"],ri(s));const o=d(e,["video"]);o!=null&&h(t,["instances[0]","video"],gC(o));const a=d(e,["source"]);a!=null&&a3(a,t);const l=d(e,["config"]);return l!=null&&QM(l,t),t}function r3(n){const e={},t=d(n,["generatedSamples"]);if(t!=null){let s=t;Array.isArray(s)&&(s=s.map(o=>u3(o))),h(e,["generatedVideos"],s)}const i=d(n,["raiMediaFilteredCount"]);i!=null&&h(e,["raiMediaFilteredCount"],i);const r=d(n,["raiMediaFilteredReasons"]);return r!=null&&h(e,["raiMediaFilteredReasons"],r),e}function s3(n){const e={},t=d(n,["videos"]);if(t!=null){let s=t;Array.isArray(s)&&(s=s.map(o=>d3(o))),h(e,["generatedVideos"],s)}const i=d(n,["raiMediaFilteredCount"]);i!=null&&h(e,["raiMediaFilteredCount"],i);const r=d(n,["raiMediaFilteredReasons"]);return r!=null&&h(e,["raiMediaFilteredReasons"],r),e}function o3(n,e){const t={},i=d(n,["prompt"]);e!==void 0&&i!=null&&h(e,["instances[0]","prompt"],i);const r=d(n,["image"]);if(e!==void 0&&r!=null&&h(e,["instances[0]","image"],dC(r)),d(n,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");return t}function a3(n,e){const t={},i=d(n,["prompt"]);e!==void 0&&i!=null&&h(e,["instances[0]","prompt"],i);const r=d(n,["image"]);e!==void 0&&r!=null&&h(e,["instances[0]","image"],ri(r));const s=d(n,["video"]);return e!==void 0&&s!=null&&h(e,["instances[0]","video"],gC(s)),t}function l3(n){const e={},t=d(n,["_self"]);t!=null&&h(e,["image"],b3(t));const i=d(n,["raiFilteredReason"]);i!=null&&h(e,["raiFilteredReason"],i);const r=d(n,["_self"]);return r!=null&&h(e,["safetyAttributes"],hC(r)),e}function Pf(n){const e={},t=d(n,["_self"]);t!=null&&h(e,["image"],uC(t));const i=d(n,["raiFilteredReason"]);i!=null&&h(e,["raiFilteredReason"],i);const r=d(n,["_self"]);r!=null&&h(e,["safetyAttributes"],fC(r));const s=d(n,["prompt"]);return s!=null&&h(e,["enhancedPrompt"],s),e}function c3(n){const e={},t=d(n,["_self"]);t!=null&&h(e,["mask"],uC(t));const i=d(n,["labels"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>IM(s))),h(e,["labels"],r)}return e}function u3(n){const e={},t=d(n,["_self"]);return t!=null&&h(e,["video"],UP(t)),e}function d3(n){const e={},t=d(n,["_self"]);return t!=null&&h(e,["video"],RP(t)),e}function h3(n,e){const t={},i=d(e,["model"]);return i!=null&&h(t,["_url","name"],Je(n,i)),t}function f3(n,e){const t={},i=d(e,["model"]);return i!=null&&h(t,["_url","name"],Je(n,i)),t}function p3(n){const e={},t=d(n,["authConfig"]);return t!=null&&h(e,["authConfig"],VN(t)),e}function g3(n){const e={},t=d(n,["dynamicRetrievalConfig"]);return t!=null&&h(e,["dynamicRetrievalConfig"],mM(t)),e}function m3(n){const e={},t=d(n,["dynamicRetrievalConfig"]);return t!=null&&h(e,["dynamicRetrievalConfig"],yM(t)),e}function y3(n){const e={},t=d(n,["timeRangeFilter"]);if(t!=null&&h(e,["timeRangeFilter"],x3(t)),d(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function v3(n){const e={},t=d(n,["timeRangeFilter"]);t!=null&&h(e,["timeRangeFilter"],D3(t));const i=d(n,["excludeDomains"]);return i!=null&&h(e,["excludeDomains"],i),e}function b3(n){const e={},t=d(n,["bytesBase64Encoded"]);t!=null&&h(e,["imageBytes"],Uo(t));const i=d(n,["mimeType"]);return i!=null&&h(e,["mimeType"],i),e}function uC(n){const e={},t=d(n,["gcsUri"]);t!=null&&h(e,["gcsUri"],t);const i=d(n,["bytesBase64Encoded"]);i!=null&&h(e,["imageBytes"],Uo(i));const r=d(n,["mimeType"]);return r!=null&&h(e,["mimeType"],r),e}function dC(n){const e={};if(d(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const t=d(n,["imageBytes"]);t!=null&&h(e,["bytesBase64Encoded"],Uo(t));const i=d(n,["mimeType"]);return i!=null&&h(e,["mimeType"],i),e}function ri(n){const e={},t=d(n,["gcsUri"]);t!=null&&h(e,["gcsUri"],t);const i=d(n,["imageBytes"]);i!=null&&h(e,["bytesBase64Encoded"],Uo(i));const r=d(n,["mimeType"]);return r!=null&&h(e,["mimeType"],r),e}function x3(n){const e={},t=d(n,["startTime"]);t!=null&&h(e,["startTime"],t);const i=d(n,["endTime"]);return i!=null&&h(e,["endTime"],i),e}function D3(n){const e={},t=d(n,["startTime"]);t!=null&&h(e,["startTime"],t);const i=d(n,["endTime"]);return i!=null&&h(e,["endTime"],i),e}function T3(n){const e={},t=d(n,["latitude"]);t!=null&&h(e,["latitude"],t);const i=d(n,["longitude"]);return i!=null&&h(e,["longitude"],i),e}function _3(n){const e={},t=d(n,["latitude"]);t!=null&&h(e,["latitude"],t);const i=d(n,["longitude"]);return i!=null&&h(e,["longitude"],i),e}function C3(n,e,t){const i={},r=d(e,["pageSize"]);t!==void 0&&r!=null&&h(t,["_query","pageSize"],r);const s=d(e,["pageToken"]);t!==void 0&&s!=null&&h(t,["_query","pageToken"],s);const o=d(e,["filter"]);t!==void 0&&o!=null&&h(t,["_query","filter"],o);const a=d(e,["queryBase"]);return t!==void 0&&a!=null&&h(t,["_url","models_url"],J_(n,a)),i}function A3(n,e,t){const i={},r=d(e,["pageSize"]);t!==void 0&&r!=null&&h(t,["_query","pageSize"],r);const s=d(e,["pageToken"]);t!==void 0&&s!=null&&h(t,["_query","pageToken"],s);const o=d(e,["filter"]);t!==void 0&&o!=null&&h(t,["_query","filter"],o);const a=d(e,["queryBase"]);return t!==void 0&&a!=null&&h(t,["_url","models_url"],J_(n,a)),i}function E3(n,e){const t={},i=d(e,["config"]);return i!=null&&C3(n,i,t),t}function w3(n,e){const t={},i=d(e,["config"]);return i!=null&&A3(n,i,t),t}function S3(n){const e={},t=d(n,["sdkHttpResponse"]);t!=null&&h(e,["sdkHttpResponse"],t);const i=d(n,["nextPageToken"]);i!=null&&h(e,["nextPageToken"],i);const r=d(n,["_self"]);if(r!=null){let s=Y_(r);Array.isArray(s)&&(s=s.map(o=>Zm(o))),h(e,["models"],s)}return e}function U3(n){const e={},t=d(n,["sdkHttpResponse"]);t!=null&&h(e,["sdkHttpResponse"],t);const i=d(n,["nextPageToken"]);i!=null&&h(e,["nextPageToken"],i);const r=d(n,["_self"]);if(r!=null){let s=Y_(r);Array.isArray(s)&&(s=s.map(o=>Qm(o))),h(e,["models"],s)}return e}function R3(n){const e={},t=d(n,["maskMode"]);t!=null&&h(e,["maskMode"],t);const i=d(n,["segmentationClasses"]);i!=null&&h(e,["maskClasses"],i);const r=d(n,["maskDilation"]);return r!=null&&h(e,["dilation"],r),e}function Zm(n){const e={},t=d(n,["name"]);t!=null&&h(e,["name"],t);const i=d(n,["displayName"]);i!=null&&h(e,["displayName"],i);const r=d(n,["description"]);r!=null&&h(e,["description"],r);const s=d(n,["version"]);s!=null&&h(e,["version"],s);const o=d(n,["_self"]);o!=null&&h(e,["tunedModelInfo"],pP(o));const a=d(n,["inputTokenLimit"]);a!=null&&h(e,["inputTokenLimit"],a);const l=d(n,["outputTokenLimit"]);l!=null&&h(e,["outputTokenLimit"],l);const c=d(n,["supportedGenerationMethods"]);return c!=null&&h(e,["supportedActions"],c),e}function Qm(n){const e={},t=d(n,["name"]);t!=null&&h(e,["name"],t);const i=d(n,["displayName"]);i!=null&&h(e,["displayName"],i);const r=d(n,["description"]);r!=null&&h(e,["description"],r);const s=d(n,["versionId"]);s!=null&&h(e,["version"],s);const o=d(n,["deployedModels"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(p=>UM(p))),h(e,["endpoints"],f)}const a=d(n,["labels"]);a!=null&&h(e,["labels"],a);const l=d(n,["_self"]);l!=null&&h(e,["tunedModelInfo"],gP(l));const c=d(n,["defaultCheckpointId"]);c!=null&&h(e,["defaultCheckpointId"],c);const u=d(n,["checkpoints"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(p=>YN(p))),h(e,["checkpoints"],f)}return e}function I3(n){const e={},t=d(n,["featureSelectionPreference"]);return t!=null&&h(e,["featureSelectionPreference"],t),e}function F3(n){const e={},t=d(n,["speakerVoiceConfigs"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(r=>nP(r))),h(e,["speakerVoiceConfigs"],i)}return e}function k3(n){const e={},t=d(n,["videoMetadata"]);t!=null&&h(e,["videoMetadata"],kP(t));const i=d(n,["thought"]);i!=null&&h(e,["thought"],i);const r=d(n,["inlineData"]);r!=null&&h(e,["inlineData"],HN(r));const s=d(n,["fileData"]);s!=null&&h(e,["fileData"],FM(s));const o=d(n,["thoughtSignature"]);o!=null&&h(e,["thoughtSignature"],o);const a=d(n,["functionCall"]);a!=null&&h(e,["functionCall"],PM(a));const l=d(n,["codeExecutionResult"]);l!=null&&h(e,["codeExecutionResult"],l);const c=d(n,["executableCode"]);c!=null&&h(e,["executableCode"],c);const u=d(n,["functionResponse"]);u!=null&&h(e,["functionResponse"],u);const f=d(n,["text"]);return f!=null&&h(e,["text"],f),e}function N3(n){const e={},t=d(n,["videoMetadata"]);t!=null&&h(e,["videoMetadata"],NP(t));const i=d(n,["thought"]);i!=null&&h(e,["thought"],i);const r=d(n,["inlineData"]);r!=null&&h(e,["inlineData"],GN(r));const s=d(n,["fileData"]);s!=null&&h(e,["fileData"],kM(s));const o=d(n,["thoughtSignature"]);o!=null&&h(e,["thoughtSignature"],o);const a=d(n,["functionCall"]);a!=null&&h(e,["functionCall"],LM(a));const l=d(n,["codeExecutionResult"]);l!=null&&h(e,["codeExecutionResult"],l);const c=d(n,["executableCode"]);c!=null&&h(e,["executableCode"],c);const u=d(n,["functionResponse"]);u!=null&&h(e,["functionResponse"],u);const f=d(n,["text"]);return f!=null&&h(e,["text"],f),e}function M3(n){const e={},t=d(n,["videoMetadata"]);t!=null&&h(e,["videoMetadata"],MP(t));const i=d(n,["thought"]);i!=null&&h(e,["thought"],i);const r=d(n,["inlineData"]);r!=null&&h(e,["inlineData"],$N(r));const s=d(n,["fileData"]);s!=null&&h(e,["fileData"],NM(s));const o=d(n,["thoughtSignature"]);o!=null&&h(e,["thoughtSignature"],o);const a=d(n,["functionCall"]);a!=null&&h(e,["functionCall"],BM(a));const l=d(n,["codeExecutionResult"]);l!=null&&h(e,["codeExecutionResult"],l);const c=d(n,["executableCode"]);c!=null&&h(e,["executableCode"],c);const u=d(n,["functionResponse"]);u!=null&&h(e,["functionResponse"],u);const f=d(n,["text"]);return f!=null&&h(e,["text"],f),e}function P3(n){const e={},t=d(n,["videoMetadata"]);t!=null&&h(e,["videoMetadata"],PP(t));const i=d(n,["thought"]);i!=null&&h(e,["thought"],i);const r=d(n,["inlineData"]);r!=null&&h(e,["inlineData"],zN(r));const s=d(n,["fileData"]);s!=null&&h(e,["fileData"],MM(s));const o=d(n,["thoughtSignature"]);o!=null&&h(e,["thoughtSignature"],o);const a=d(n,["functionCall"]);a!=null&&h(e,["functionCall"],OM(a));const l=d(n,["codeExecutionResult"]);l!=null&&h(e,["codeExecutionResult"],l);const c=d(n,["executableCode"]);c!=null&&h(e,["executableCode"],c);const u=d(n,["functionResponse"]);u!=null&&h(e,["functionResponse"],u);const f=d(n,["text"]);return f!=null&&h(e,["text"],f),e}function L3(n){const e={},t=d(n,["voiceName"]);return t!=null&&h(e,["voiceName"],t),e}function B3(n){const e={},t=d(n,["voiceName"]);return t!=null&&h(e,["voiceName"],t),e}function O3(n){const e={},t=d(n,["productImage"]);return t!=null&&h(e,["image"],ri(t)),e}function W3(n,e){const t={},i=d(n,["numberOfImages"]);e!==void 0&&i!=null&&h(e,["parameters","sampleCount"],i);const r=d(n,["baseSteps"]);e!==void 0&&r!=null&&h(e,["parameters","editConfig","baseSteps"],r);const s=d(n,["outputGcsUri"]);e!==void 0&&s!=null&&h(e,["parameters","storageUri"],s);const o=d(n,["seed"]);e!==void 0&&o!=null&&h(e,["parameters","seed"],o);const a=d(n,["safetyFilterLevel"]);e!==void 0&&a!=null&&h(e,["parameters","safetySetting"],a);const l=d(n,["personGeneration"]);e!==void 0&&l!=null&&h(e,["parameters","personGeneration"],l);const c=d(n,["addWatermark"]);e!==void 0&&c!=null&&h(e,["parameters","addWatermark"],c);const u=d(n,["outputMimeType"]);e!==void 0&&u!=null&&h(e,["parameters","outputOptions","mimeType"],u);const f=d(n,["outputCompressionQuality"]);e!==void 0&&f!=null&&h(e,["parameters","outputOptions","compressionQuality"],f);const p=d(n,["enhancePrompt"]);return e!==void 0&&p!=null&&h(e,["parameters","enhancePrompt"],p),t}function q3(n,e){const t={},i=d(e,["model"]);i!=null&&h(t,["_url","model"],Je(n,i));const r=d(e,["source"]);r!=null&&H3(r,t);const s=d(e,["config"]);return s!=null&&W3(s,t),t}function V3(n){const e={},t=d(n,["predictions"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(r=>Pf(r))),h(e,["generatedImages"],i)}return e}function H3(n,e){const t={},i=d(n,["prompt"]);e!==void 0&&i!=null&&h(e,["instances[0]","prompt"],i);const r=d(n,["personImage"]);e!==void 0&&r!=null&&h(e,["instances[0]","personImage","image"],ri(r));const s=d(n,["productImages"]);if(e!==void 0&&s!=null){let o=s;Array.isArray(o)&&(o=o.map(a=>O3(a))),h(e,["instances[0]","productImages"],o)}return t}function G3(n){const e={},t=d(n,["referenceImage"]);t!=null&&h(e,["referenceImage"],ri(t));const i=d(n,["referenceId"]);i!=null&&h(e,["referenceId"],i);const r=d(n,["referenceType"]);r!=null&&h(e,["referenceType"],r);const s=d(n,["maskImageConfig"]);s!=null&&h(e,["maskImageConfig"],R3(s));const o=d(n,["controlImageConfig"]);o!=null&&h(e,["controlImageConfig"],sM(o));const a=d(n,["styleImageConfig"]);a!=null&&h(e,["styleImageConfig"],sP(a));const l=d(n,["subjectImageConfig"]);return l!=null&&h(e,["subjectImageConfig"],oP(l)),e}function $3(n){const e={},t=d(n,["latLng"]);t!=null&&h(e,["latLng"],T3(t));const i=d(n,["languageCode"]);return i!=null&&h(e,["languageCode"],i),e}function z3(n){const e={},t=d(n,["latLng"]);t!=null&&h(e,["latLng"],_3(t));const i=d(n,["languageCode"]);return i!=null&&h(e,["languageCode"],i),e}function hC(n){const e={},t=d(n,["safetyAttributes","categories"]);t!=null&&h(e,["categories"],t);const i=d(n,["safetyAttributes","scores"]);i!=null&&h(e,["scores"],i);const r=d(n,["contentType"]);return r!=null&&h(e,["contentType"],r),e}function fC(n){const e={},t=d(n,["safetyAttributes","categories"]);t!=null&&h(e,["categories"],t);const i=d(n,["safetyAttributes","scores"]);i!=null&&h(e,["scores"],i);const r=d(n,["contentType"]);return r!=null&&h(e,["contentType"],r),e}function X3(n){const e={};if(d(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const t=d(n,["category"]);t!=null&&h(e,["category"],t);const i=d(n,["threshold"]);return i!=null&&h(e,["threshold"],i),e}function J3(n){const e={},t=d(n,["method"]);t!=null&&h(e,["method"],t);const i=d(n,["category"]);i!=null&&h(e,["category"],i);const r=d(n,["threshold"]);return r!=null&&h(e,["threshold"],r),e}function Y3(n){const e={},t=d(n,["anyOf"]);t!=null&&h(e,["anyOf"],t);const i=d(n,["default"]);i!=null&&h(e,["default"],i);const r=d(n,["description"]);r!=null&&h(e,["description"],r);const s=d(n,["enum"]);s!=null&&h(e,["enum"],s);const o=d(n,["example"]);o!=null&&h(e,["example"],o);const a=d(n,["format"]);a!=null&&h(e,["format"],a);const l=d(n,["items"]);l!=null&&h(e,["items"],l);const c=d(n,["maxItems"]);c!=null&&h(e,["maxItems"],c);const u=d(n,["maxLength"]);u!=null&&h(e,["maxLength"],u);const f=d(n,["maxProperties"]);f!=null&&h(e,["maxProperties"],f);const p=d(n,["maximum"]);p!=null&&h(e,["maximum"],p);const g=d(n,["minItems"]);g!=null&&h(e,["minItems"],g);const b=d(n,["minLength"]);b!=null&&h(e,["minLength"],b);const y=d(n,["minProperties"]);y!=null&&h(e,["minProperties"],y);const v=d(n,["minimum"]);v!=null&&h(e,["minimum"],v);const x=d(n,["nullable"]);x!=null&&h(e,["nullable"],x);const D=d(n,["pattern"]);D!=null&&h(e,["pattern"],D);const T=d(n,["properties"]);T!=null&&h(e,["properties"],T);const C=d(n,["propertyOrdering"]);C!=null&&h(e,["propertyOrdering"],C);const _=d(n,["required"]);_!=null&&h(e,["required"],_);const A=d(n,["title"]);A!=null&&h(e,["title"],A);const R=d(n,["type"]);return R!=null&&h(e,["type"],R),e}function K3(n){const e={},t=d(n,["anyOf"]);t!=null&&h(e,["anyOf"],t);const i=d(n,["default"]);i!=null&&h(e,["default"],i);const r=d(n,["description"]);r!=null&&h(e,["description"],r);const s=d(n,["enum"]);s!=null&&h(e,["enum"],s);const o=d(n,["example"]);o!=null&&h(e,["example"],o);const a=d(n,["format"]);a!=null&&h(e,["format"],a);const l=d(n,["items"]);l!=null&&h(e,["items"],l);const c=d(n,["maxItems"]);c!=null&&h(e,["maxItems"],c);const u=d(n,["maxLength"]);u!=null&&h(e,["maxLength"],u);const f=d(n,["maxProperties"]);f!=null&&h(e,["maxProperties"],f);const p=d(n,["maximum"]);p!=null&&h(e,["maximum"],p);const g=d(n,["minItems"]);g!=null&&h(e,["minItems"],g);const b=d(n,["minLength"]);b!=null&&h(e,["minLength"],b);const y=d(n,["minProperties"]);y!=null&&h(e,["minProperties"],y);const v=d(n,["minimum"]);v!=null&&h(e,["minimum"],v);const x=d(n,["nullable"]);x!=null&&h(e,["nullable"],x);const D=d(n,["pattern"]);D!=null&&h(e,["pattern"],D);const T=d(n,["properties"]);T!=null&&h(e,["properties"],T);const C=d(n,["propertyOrdering"]);C!=null&&h(e,["propertyOrdering"],C);const _=d(n,["required"]);_!=null&&h(e,["required"],_);const A=d(n,["title"]);A!=null&&h(e,["title"],A);const R=d(n,["type"]);return R!=null&&h(e,["type"],R),e}function j3(n){const e={},t=d(n,["image"]);return t!=null&&h(e,["image"],ri(t)),e}function Z3(n,e){const t={},i=d(n,["mode"]);e!==void 0&&i!=null&&h(e,["parameters","mode"],i);const r=d(n,["maxPredictions"]);e!==void 0&&r!=null&&h(e,["parameters","maxPredictions"],r);const s=d(n,["confidenceThreshold"]);e!==void 0&&s!=null&&h(e,["parameters","confidenceThreshold"],s);const o=d(n,["maskDilation"]);e!==void 0&&o!=null&&h(e,["parameters","maskDilation"],o);const a=d(n,["binaryColorThreshold"]);return e!==void 0&&a!=null&&h(e,["parameters","binaryColorThreshold"],a),t}function Q3(n,e){const t={},i=d(e,["model"]);i!=null&&h(t,["_url","model"],Je(n,i));const r=d(e,["source"]);r!=null&&tP(r,t);const s=d(e,["config"]);return s!=null&&Z3(s,t),t}function eP(n){const e={},t=d(n,["predictions"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(r=>c3(r))),h(e,["generatedMasks"],i)}return e}function tP(n,e){const t={},i=d(n,["prompt"]);e!==void 0&&i!=null&&h(e,["instances[0]","prompt"],i);const r=d(n,["image"]);e!==void 0&&r!=null&&h(e,["instances[0]","image"],ri(r));const s=d(n,["scribbleImage"]);return e!==void 0&&s!=null&&h(e,["instances[0]","scribble"],j3(s)),t}function nP(n){const e={},t=d(n,["speaker"]);t!=null&&h(e,["speaker"],t);const i=d(n,["voiceConfig"]);return i!=null&&h(e,["voiceConfig"],mC(i)),e}function iP(n){const e={},t=d(n,["voiceConfig"]);t!=null&&h(e,["voiceConfig"],mC(t));const i=d(n,["multiSpeakerVoiceConfig"]);i!=null&&h(e,["multiSpeakerVoiceConfig"],F3(i));const r=d(n,["languageCode"]);return r!=null&&h(e,["languageCode"],r),e}function rP(n){const e={},t=d(n,["voiceConfig"]);if(t!=null&&h(e,["voiceConfig"],LP(t)),d(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=d(n,["languageCode"]);return i!=null&&h(e,["languageCode"],i),e}function sP(n){const e={},t=d(n,["styleDescription"]);return t!=null&&h(e,["styleDescription"],t),e}function oP(n){const e={},t=d(n,["subjectType"]);t!=null&&h(e,["subjectType"],t);const i=d(n,["subjectDescription"]);return i!=null&&h(e,["subjectDescription"],i),e}function aP(n){const e={},t=d(n,["includeThoughts"]);t!=null&&h(e,["includeThoughts"],t);const i=d(n,["thinkingBudget"]);return i!=null&&h(e,["thinkingBudget"],i),e}function lP(n){const e={},t=d(n,["includeThoughts"]);t!=null&&h(e,["includeThoughts"],t);const i=d(n,["thinkingBudget"]);return i!=null&&h(e,["thinkingBudget"],i),e}function cP(n){const e={},t=d(n,["environment"]);t!=null&&h(e,["environment"],t);const i=d(n,["excludedPredefinedFunctions"]);return i!=null&&h(e,["excludedPredefinedFunctions"],i),e}function uP(n){const e={},t=d(n,["environment"]);t!=null&&h(e,["environment"],t);const i=d(n,["excludedPredefinedFunctions"]);return i!=null&&h(e,["excludedPredefinedFunctions"],i),e}function dP(n){const e={},t=d(n,["functionCallingConfig"]);t!=null&&h(e,["functionCallingConfig"],WM(t));const i=d(n,["retrievalConfig"]);return i!=null&&h(e,["retrievalConfig"],$3(i)),e}function hP(n){const e={},t=d(n,["functionCallingConfig"]);t!=null&&h(e,["functionCallingConfig"],qM(t));const i=d(n,["retrievalConfig"]);return i!=null&&h(e,["retrievalConfig"],z3(i)),e}function fP(n){const e={},t=d(n,["functionDeclarations"]);if(t!=null){let l=t;Array.isArray(l)&&(l=l.map(c=>VM(c))),h(e,["functionDeclarations"],l)}if(d(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=d(n,["googleSearch"]);i!=null&&h(e,["googleSearch"],y3(i));const r=d(n,["googleSearchRetrieval"]);if(r!=null&&h(e,["googleSearchRetrieval"],g3(r)),d(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(d(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");d(n,["urlContext"])!=null&&h(e,["urlContext"],AP());const o=d(n,["computerUse"]);o!=null&&h(e,["computerUse"],cP(o));const a=d(n,["codeExecution"]);return a!=null&&h(e,["codeExecution"],a),e}function pC(n){const e={},t=d(n,["functionDeclarations"]);if(t!=null){let f=t;Array.isArray(f)&&(f=f.map(p=>HM(p))),h(e,["functionDeclarations"],f)}const i=d(n,["retrieval"]);i!=null&&h(e,["retrieval"],i);const r=d(n,["googleSearch"]);r!=null&&h(e,["googleSearch"],v3(r));const s=d(n,["googleSearchRetrieval"]);s!=null&&h(e,["googleSearchRetrieval"],m3(s));const o=d(n,["enterpriseWebSearch"]);o!=null&&h(e,["enterpriseWebSearch"],RM(o));const a=d(n,["googleMaps"]);a!=null&&h(e,["googleMaps"],p3(a)),d(n,["urlContext"])!=null&&h(e,["urlContext"],EP());const c=d(n,["computerUse"]);c!=null&&h(e,["computerUse"],uP(c));const u=d(n,["codeExecution"]);return u!=null&&h(e,["codeExecution"],u),e}function pP(n){const e={},t=d(n,["baseModel"]);t!=null&&h(e,["baseModel"],t);const i=d(n,["createTime"]);i!=null&&h(e,["createTime"],i);const r=d(n,["updateTime"]);return r!=null&&h(e,["updateTime"],r),e}function gP(n){const e={},t=d(n,["labels","google-vertex-llm-tuning-base-model-id"]);t!=null&&h(e,["baseModel"],t);const i=d(n,["createTime"]);i!=null&&h(e,["createTime"],i);const r=d(n,["updateTime"]);return r!=null&&h(e,["updateTime"],r),e}function mP(n,e){const t={},i=d(n,["displayName"]);e!==void 0&&i!=null&&h(e,["displayName"],i);const r=d(n,["description"]);e!==void 0&&r!=null&&h(e,["description"],r);const s=d(n,["defaultCheckpointId"]);return e!==void 0&&s!=null&&h(e,["defaultCheckpointId"],s),t}function yP(n,e){const t={},i=d(n,["displayName"]);e!==void 0&&i!=null&&h(e,["displayName"],i);const r=d(n,["description"]);e!==void 0&&r!=null&&h(e,["description"],r);const s=d(n,["defaultCheckpointId"]);return e!==void 0&&s!=null&&h(e,["defaultCheckpointId"],s),t}function vP(n,e){const t={},i=d(e,["model"]);i!=null&&h(t,["_url","name"],Je(n,i));const r=d(e,["config"]);return r!=null&&mP(r,t),t}function bP(n,e){const t={},i=d(e,["model"]);i!=null&&h(t,["_url","model"],Je(n,i));const r=d(e,["config"]);return r!=null&&yP(r,t),t}function xP(n,e){const t={},i=d(n,["outputGcsUri"]);e!==void 0&&i!=null&&h(e,["parameters","storageUri"],i);const r=d(n,["includeRaiReason"]);e!==void 0&&r!=null&&h(e,["parameters","includeRaiReason"],r);const s=d(n,["outputMimeType"]);e!==void 0&&s!=null&&h(e,["parameters","outputOptions","mimeType"],s);const o=d(n,["outputCompressionQuality"]);e!==void 0&&o!=null&&h(e,["parameters","outputOptions","compressionQuality"],o);const a=d(n,["enhanceInputImage"]);e!==void 0&&a!=null&&h(e,["parameters","upscaleConfig","enhanceInputImage"],a);const l=d(n,["imagePreservationFactor"]);e!==void 0&&l!=null&&h(e,["parameters","upscaleConfig","imagePreservationFactor"],l);const c=d(n,["numberOfImages"]);e!==void 0&&c!=null&&h(e,["parameters","sampleCount"],c);const u=d(n,["mode"]);return e!==void 0&&u!=null&&h(e,["parameters","mode"],u),t}function DP(n,e){const t={},i=d(e,["model"]);i!=null&&h(t,["_url","model"],Je(n,i));const r=d(e,["image"]);r!=null&&h(t,["instances[0]","image"],ri(r));const s=d(e,["upscaleFactor"]);s!=null&&h(t,["parameters","upscaleConfig","upscaleFactor"],s);const o=d(e,["config"]);return o!=null&&xP(o,t),t}function TP(n){const e={},t=d(n,["sdkHttpResponse"]);t!=null&&h(e,["sdkHttpResponse"],t);const i=d(n,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>Pf(s))),h(e,["generatedImages"],r)}return e}function _P(n){const e={},t=d(n,["urlMetadata"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(r=>wP(r))),h(e,["urlMetadata"],i)}return e}function CP(n){const e={},t=d(n,["urlMetadata"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(r=>SP(r))),h(e,["urlMetadata"],i)}return e}function AP(){return{}}function EP(){return{}}function wP(n){const e={},t=d(n,["retrievedUrl"]);t!=null&&h(e,["retrievedUrl"],t);const i=d(n,["urlRetrievalStatus"]);return i!=null&&h(e,["urlRetrievalStatus"],i),e}function SP(n){const e={},t=d(n,["retrievedUrl"]);t!=null&&h(e,["retrievedUrl"],t);const i=d(n,["urlRetrievalStatus"]);return i!=null&&h(e,["urlRetrievalStatus"],i),e}function UP(n){const e={},t=d(n,["video","uri"]);t!=null&&h(e,["uri"],t);const i=d(n,["video","encodedVideo"]);i!=null&&h(e,["videoBytes"],Uo(i));const r=d(n,["encoding"]);return r!=null&&h(e,["mimeType"],r),e}function RP(n){const e={},t=d(n,["gcsUri"]);t!=null&&h(e,["uri"],t);const i=d(n,["bytesBase64Encoded"]);i!=null&&h(e,["videoBytes"],Uo(i));const r=d(n,["mimeType"]);return r!=null&&h(e,["mimeType"],r),e}function IP(n){const e={},t=d(n,["image"]);t!=null&&h(e,["_self"],ri(t));const i=d(n,["maskMode"]);return i!=null&&h(e,["maskMode"],i),e}function FP(n){const e={},t=d(n,["image"]);t!=null&&h(e,["image"],ri(t));const i=d(n,["referenceType"]);return i!=null&&h(e,["referenceType"],i),e}function kP(n){const e={},t=d(n,["fps"]);t!=null&&h(e,["fps"],t);const i=d(n,["endOffset"]);i!=null&&h(e,["endOffset"],i);const r=d(n,["startOffset"]);return r!=null&&h(e,["startOffset"],r),e}function NP(n){const e={},t=d(n,["fps"]);t!=null&&h(e,["fps"],t);const i=d(n,["endOffset"]);i!=null&&h(e,["endOffset"],i);const r=d(n,["startOffset"]);return r!=null&&h(e,["startOffset"],r),e}function MP(n){const e={},t=d(n,["fps"]);t!=null&&h(e,["fps"],t);const i=d(n,["endOffset"]);i!=null&&h(e,["endOffset"],i);const r=d(n,["startOffset"]);return r!=null&&h(e,["startOffset"],r),e}function PP(n){const e={},t=d(n,["fps"]);t!=null&&h(e,["fps"],t);const i=d(n,["endOffset"]);i!=null&&h(e,["endOffset"],i);const r=d(n,["startOffset"]);return r!=null&&h(e,["startOffset"],r),e}function gC(n){const e={},t=d(n,["uri"]);t!=null&&h(e,["gcsUri"],t);const i=d(n,["videoBytes"]);i!=null&&h(e,["bytesBase64Encoded"],Uo(i));const r=d(n,["mimeType"]);return r!=null&&h(e,["mimeType"],r),e}function mC(n){const e={},t=d(n,["prebuiltVoiceConfig"]);return t!=null&&h(e,["prebuiltVoiceConfig"],L3(t)),e}function LP(n){const e={},t=d(n,["prebuiltVoiceConfig"]);return t!=null&&h(e,["prebuiltVoiceConfig"],B3(t)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const BP="Content-Type",OP="X-Server-Timeout",WP="User-Agent",ey="x-goog-api-client",qP="1.21.0",VP=`google-genai-sdk/${qP}`,HP="v1beta1",GP="v1beta",q1=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class $P{constructor(e){var t,i;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(t=this.clientOptions.apiVersion)!==null&&t!==void 0?t:HP,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:GP,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&i.push(e.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),t=new URL(e);return t.protocol=t.protocol=="http:"?"ws":"wss",t.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,t,i){const r=[this.getRequestUrlInternal(t)];return i&&r.push(this.getBaseResourcePath()),e!==""&&r.push(e),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,t,i);if(e.queryParams)for(const[o,a]of Object.entries(e.queryParams))r.searchParams.append(o,String(a));let s={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else s.body=e.body;return s=await this.includeExtraHttpOptionsToRequestInit(s,t,e.abortSignal),this.unaryApiCall(r,s,e.httpMethod)}patchHttpOptions(e,t){const i=JSON.parse(JSON.stringify(e));for(const[r,s]of Object.entries(t))typeof s=="object"?i[r]=Object.assign(Object.assign({},i[r]),s):s!==void 0&&(i[r]=s);return i}async requestStream(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,t,i);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let s={};return s.body=e.body,s=await this.includeExtraHttpOptionsToRequestInit(s,t,e.abortSignal),this.streamApiCall(r,s,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,t,i){if(t&&t.timeout||i){const r=new AbortController,s=r.signal;if(t.timeout&&(t==null?void 0:t.timeout)>0){const o=setTimeout(()=>r.abort(),t.timeout);o&&typeof o.unref=="function"&&o.unref()}i&&i.addEventListener("abort",()=>{r.abort()}),e.signal=s}return t&&t.extraBody!==null&&zP(e,t.extraBody),e.headers=await this.getHeadersInternal(t),e}async unaryApiCall(e,t,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:i})).then(async r=>(await V1(r),new Xm(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(e,t,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:i})).then(async r=>(await V1(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(e){var t;return Jo(this,arguments,function*(){const r=(t=e==null?void 0:e.body)===null||t===void 0?void 0:t.getReader(),s=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let o="";for(;;){const{done:a,value:l}=yield ct(r.read());if(a){if(o.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const c=s.decode(l,{stream:!0});try{const f=JSON.parse(c);if("error"in f){const p=JSON.parse(JSON.stringify(f.error)),g=p.status,b=p.code,y=`got status: ${g}. ${JSON.stringify(f)}`;if(b>=400&&b<600)throw new Nf({message:y,status:b})}}catch(f){if(f.name==="ApiError")throw f}o+=c;let u=o.match(q1);for(;u;){const f=u[1];try{const p=new Response(f,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield ct(new Xm(p)),o=o.slice(u[0].length),u=o.match(q1)}catch(p){throw new Error(`exception parsing stream chunk ${f}. ${p}`)}}}}finally{r.releaseLock()}})}async apiCall(e,t){return fetch(e,t).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const e={},t=VP+" "+this.clientOptions.userAgentExtra;return e[WP]=t,e[ey]=t,e[BP]="application/json",e}async getHeadersInternal(e){const t=new Headers;if(e&&e.headers){for(const[i,r]of Object.entries(e.headers))t.append(i,r);e.timeout&&e.timeout>0&&t.append(OP,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(t),t}async uploadFile(e,t){var i;const r={};t!=null&&(r.mimeType=t.mimeType,r.name=t.name,r.displayName=t.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const s=this.clientOptions.uploader,o=await s.stat(e);r.sizeBytes=String(o.size);const a=(i=t==null?void 0:t.mimeType)!==null&&i!==void 0?i:o.type;if(a===void 0||a==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=a;const l=await this.fetchUploadUrl(r,t);return s.upload(e,l,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,t){var i;let r={};t!=null&&t.httpOptions?r=t.httpOptions:r={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const s={file:e},o=await this.request({path:Ae("upload/v1beta/files",s._url),body:JSON.stringify(s),httpMethod:"POST",httpOptions:r});if(!o||!(o!=null&&o.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const a=(i=o==null?void 0:o.headers)===null||i===void 0?void 0:i["x-goog-upload-url"];if(a===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return a}}async function V1(n){var e;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const t=n.status;let i;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?i=await n.json():i={error:{message:await n.text(),code:n.status,status:n.statusText}};const r=JSON.stringify(i);throw t>=400&&t<600?new Nf({message:r,status:t}):new Error(r)}}function zP(n,e){if(!e||Object.keys(e).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let t={};if(typeof n.body=="string"&&n.body.length>0)try{const s=JSON.parse(n.body);if(typeof s=="object"&&s!==null&&!Array.isArray(s))t=s;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function i(s,o){const a=Object.assign({},s);for(const l in o)if(Object.prototype.hasOwnProperty.call(o,l)){const c=o[l],u=a[l];c&&typeof c=="object"&&!Array.isArray(c)&&u&&typeof u=="object"&&!Array.isArray(u)?a[l]=i(u,c):(u&&c&&typeof u!=typeof c&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof u}, New type: ${typeof c}. Overwriting.`),a[l]=c)}return a}const r=i(t,e);n.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const XP="mcp_used/unknown";let JP=!1;function yC(n){for(const e of n)if(YP(e)||typeof e=="object"&&"inputSchema"in e)return!0;return JP}function vC(n){var e;const t=(e=n[ey])!==null&&e!==void 0?e:"";n[ey]=(t+` ${XP}`).trimStart()}function YP(n){return n!==null&&typeof n=="object"&&n instanceof uv}function KP(n,e=100){return Jo(this,arguments,function*(){let i,r=0;for(;r<e;){const s=yield ct(n.listTools({cursor:i}));for(const o of s.tools)yield yield ct(o),r++;if(!s.nextCursor)break;i=s.nextCursor}})}class uv{constructor(e=[],t){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=t}static create(e,t){return new uv(e,t)}async initialize(){var e,t,i,r;if(this.mcpTools.length>0)return;const s={},o=[];for(const u of this.mcpClients)try{for(var a=!0,l=(t=void 0,ql(KP(u))),c;c=await l.next(),e=c.done,!e;a=!0){r=c.value,a=!1;const f=r;o.push(f);const p=f.name;if(s[p])throw new Error(`Duplicate function name ${p} found in MCP tools. Please ensure function names are unique.`);s[p]=u}}catch(f){t={error:f}}finally{try{!a&&!e&&(i=l.return)&&await i.call(l)}finally{if(t)throw t.error}}this.mcpTools=o,this.functionNameToMcpClient=s}async tool(){return await this.initialize(),dR(this.mcpTools,this.config)}async callTool(e){await this.initialize();const t=[];for(const i of e)if(i.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[i.name];let s;this.config.timeout&&(s={timeout:this.config.timeout});const o=await r.callTool({name:i.name,arguments:i.args},void 0,s);t.push({functionResponse:{name:i.name,response:o.isError?{error:o}:o}})}return t}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function jP(n,e,t){const i=new iR;let r;t.data instanceof Blob?r=JSON.parse(await t.data.text()):r=JSON.parse(t.data);const s=Wk(r);Object.assign(i,s),e(i)}class ZP{constructor(e,t,i){this.apiClient=e,this.auth=t,this.webSocketFactory=i}async connect(e){var t,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),s=this.apiClient.getApiVersion(),o=t5(this.apiClient.getDefaultHeaders()),a=this.apiClient.getApiKey(),l=`${r}/ws/google.ai.generativelanguage.${s}.GenerativeService.BidiGenerateMusic?key=${a}`;let c=()=>{};const u=new Promise(T=>{c=T}),f=e.callbacks,p=function(){c({})},g=this.apiClient,b={onopen:p,onmessage:T=>{jP(g,f.onmessage,T)},onerror:(t=f==null?void 0:f.onerror)!==null&&t!==void 0?t:function(T){},onclose:(i=f==null?void 0:f.onclose)!==null&&i!==void 0?i:function(T){}},y=this.webSocketFactory.create(l,e5(o),b);y.connect(),await u;const v=Je(this.apiClient,e.model),x=oC({model:v}),D=jm({setup:x});return y.send(JSON.stringify(D)),new QP(y,this.apiClient)}}class QP{constructor(e,t){this.conn=e,this.apiClient=t}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const t=Hk(e),i=sC(t);this.conn.send(JSON.stringify({clientContent:i}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const t=Vk(e),i=jm(t);this.conn.send(JSON.stringify(i))}sendPlaybackControl(e){const t=jm({playbackControl:e});this.conn.send(JSON.stringify(t))}play(){this.sendPlaybackControl(qo.PLAY)}pause(){this.sendPlaybackControl(qo.PAUSE)}stop(){this.sendPlaybackControl(qo.STOP)}resetContext(){this.sendPlaybackControl(qo.RESET_CONTEXT)}close(){this.conn.close()}}function e5(n){const e={};return n.forEach((t,i)=>{e[i]=t}),e}function t5(n){const e=new Headers;for(const[t,i]of Object.entries(n))e.append(t,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const n5="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function i5(n,e,t){const i=new nR;let r;t.data instanceof Blob?r=await t.data.text():t.data instanceof ArrayBuffer?r=new TextDecoder().decode(t.data):r=t.data;const s=JSON.parse(r);if(n.isVertexAI()){const o=Zk(s);Object.assign(i,o)}else{const o=jk(s);Object.assign(i,o)}e(i)}class r5{constructor(e,t,i){this.apiClient=e,this.auth=t,this.webSocketFactory=i,this.music=new ZP(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var t,i,r,s,o,a;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const l=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion();let u;const f=this.apiClient.getHeaders();e.config&&e.config.tools&&yC(e.config.tools)&&vC(f);const p=l5(f);if(this.apiClient.isVertexAI())u=`${l}/ws/google.cloud.aiplatform.${c}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(p);else{const I=this.apiClient.getApiKey();let L="BidiGenerateContent",J="key";I!=null&&I.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),c!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),L="BidiGenerateContentConstrained",J="access_token"),u=`${l}/ws/google.ai.generativelanguage.${c}.GenerativeService.${L}?${J}=${I}`}let g=()=>{};const b=new Promise(I=>{g=I}),y=e.callbacks,v=function(){var I;(I=y==null?void 0:y.onopen)===null||I===void 0||I.call(y),g({})},x=this.apiClient,D={onopen:v,onmessage:I=>{i5(x,y.onmessage,I)},onerror:(t=y==null?void 0:y.onerror)!==null&&t!==void 0?t:function(I){},onclose:(i=y==null?void 0:y.onclose)!==null&&i!==void 0?i:function(I){}},T=this.webSocketFactory.create(u,a5(p),D);T.connect(),await b;let C=Je(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&C.startsWith("publishers/")){const I=this.apiClient.getProject(),L=this.apiClient.getLocation();C=`projects/${I}/locations/${L}/`+C}let _={};this.apiClient.isVertexAI()&&((r=e.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[bh.AUDIO]}:e.config.responseModalities=[bh.AUDIO]),!((s=e.config)===null||s===void 0)&&s.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const A=(a=(o=e.config)===null||o===void 0?void 0:o.tools)!==null&&a!==void 0?a:[],R=[];for(const I of A)if(this.isCallableTool(I)){const L=I;R.push(await L.tool())}else R.push(I);R.length>0&&(e.config.tools=R);const k={model:C,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?_=Mk(this.apiClient,k):_=Nk(this.apiClient,k),delete _.config,T.send(JSON.stringify(_)),new o5(T,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const s5={turnComplete:!0};class o5{constructor(e,t){this.conn=e,this.apiClient=t}tLiveClientContent(e,t){if(t.turns!==null&&t.turns!==void 0){let i=[];try{i=On(t.turns),e.isVertexAI()?i=i.map(r=>nl(r)):i=i.map(r=>Mf(r))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof t.turns}'`)}return{clientContent:{turns:i,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(e,t){let i=[];if(t.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(t.functionResponses)?i=t.functionResponses:i=[t.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const s of i){if(typeof s!="object"||s===null||!("name"in s)||!("response"in s))throw new Error(`Could not parse function response, type '${typeof s}'.`);if(!e.isVertexAI()&&!("id"in s))throw new Error(n5)}return{toolResponse:{functionResponses:i}}}sendClientContent(e){e=Object.assign(Object.assign({},s5),e);const t=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(t))}sendRealtimeInput(e){let t={};this.apiClient.isVertexAI()?t={realtimeInput:zk(e)}:t={realtimeInput:$k(e)},this.conn.send(JSON.stringify(t))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const t=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}}function a5(n){const e={};return n.forEach((t,i)=>{e[i]=t}),e}function l5(n){const e=new Headers;for(const[t,i]of Object.entries(n))e.append(t,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const H1=10;function G1(n){var e,t,i;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let r=!1;for(const o of(t=n==null?void 0:n.tools)!==null&&t!==void 0?t:[])if(Yo(o)){r=!0;break}if(!r)return!0;const s=(i=n==null?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return s&&(s<0||!Number.isInteger(s))||s==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",s),!0):!1}function Yo(n){return"callTool"in n&&typeof n.callTool=="function"}function c5(n){var e,t,i;return(i=(t=(e=n.config)===null||e===void 0?void 0:e.tools)===null||t===void 0?void 0:t.some(r=>Yo(r)))!==null&&i!==void 0?i:!1}function u5(n){var e,t,i;return(i=(t=(e=n.config)===null||e===void 0?void 0:e.tools)===null||t===void 0?void 0:t.some(r=>!Yo(r)))!==null&&i!==void 0?i:!1}function $1(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class d5 extends So{constructor(e){super(),this.apiClient=e,this.generateContent=async t=>{var i,r,s,o,a;const l=await this.processParamsMaybeAddMcpUsage(t);if(this.maybeMoveToResponseJsonSchem(t),!c5(t)||G1(t.config))return await this.generateContentInternal(l);if(u5(t))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let c,u;const f=On(l.contents),p=(s=(r=(i=l.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&s!==void 0?s:H1;let g=0;for(;g<p&&(c=await this.generateContentInternal(l),!(!c.functionCalls||c.functionCalls.length===0));){const b=c.candidates[0].content,y=[];for(const v of(a=(o=t.config)===null||o===void 0?void 0:o.tools)!==null&&a!==void 0?a:[])if(Yo(v)){const D=await v.callTool(c.functionCalls);y.push(...D)}g++,u={role:"user",parts:y},l.contents=On(l.contents),l.contents.push(b),l.contents.push(u),$1(l.config)&&(f.push(b),f.push(u))}return $1(l.config)&&(c.automaticFunctionCallingHistory=f),c},this.generateContentStream=async t=>{if(this.maybeMoveToResponseJsonSchem(t),G1(t.config)){const i=await this.processParamsMaybeAddMcpUsage(t);return await this.generateContentStreamInternal(i)}else return await this.processAfcStream(t)},this.generateImages=async t=>await this.generateImagesInternal(t).then(i=>{var r;let s;const o=[];if(i!=null&&i.generatedImages)for(const l of i.generatedImages)l&&(l!=null&&l.safetyAttributes)&&((r=l==null?void 0:l.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?s=l==null?void 0:l.safetyAttributes:o.push(l);let a;return s?a={generatedImages:o,positivePromptSafetyAttributes:s,sdkHttpResponse:i.sdkHttpResponse}:a={generatedImages:o,sdkHttpResponse:i.sdkHttpResponse},a}),this.list=async t=>{var i;const o={config:Object.assign(Object.assign({},{queryBase:!0}),t==null?void 0:t.config)};if(this.apiClient.isVertexAI()&&!o.config.queryBase){if(!((i=o.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");o.config.filter="labels.tune-type:*"}return new qu(vo.PAGED_ITEM_MODELS,a=>this.listInternal(a),await this.listInternal(o),o)},this.editImage=async t=>{const i={model:t.model,prompt:t.prompt,referenceImages:[],config:t.config};return t.referenceImages&&t.referenceImages&&(i.referenceImages=t.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async t=>{let i={numberOfImages:1,mode:"upscale"};t.config&&(i=Object.assign(Object.assign({},i),t.config));const r={model:t.model,image:t.image,upscaleFactor:t.upscaleFactor,config:i};return await this.upscaleImageInternal(r)},this.generateVideos=async t=>{if((t.prompt||t.image||t.video)&&t.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return await this.generateVideosInternal(t)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var t,i,r;const s=(t=e.config)===null||t===void 0?void 0:t.tools;if(!s)return e;const o=await Promise.all(s.map(async l=>Yo(l)?await l.tool():l)),a={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:o})};if(a.config.tools=o,e.config&&e.config.tools&&yC(e.config.tools)){const l=(r=(i=e.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&r!==void 0?r:{};let c=Object.assign({},l);Object.keys(c).length===0&&(c=this.apiClient.getDefaultHeaders()),vC(c),a.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:c})}return a}async initAfcToolsMap(e){var t,i,r;const s=new Map;for(const o of(i=(t=e.config)===null||t===void 0?void 0:t.tools)!==null&&i!==void 0?i:[])if(Yo(o)){const a=o,l=await a.tool();for(const c of(r=l.functionDeclarations)!==null&&r!==void 0?r:[]){if(!c.name)throw new Error("Function declaration name is required.");if(s.has(c.name))throw new Error(`Duplicate tool declaration name: ${c.name}`);s.set(c.name,a)}}return s}async processAfcStream(e){var t,i,r;const s=(r=(i=(t=e.config)===null||t===void 0?void 0:t.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&r!==void 0?r:H1;let o=!1,a=0;const l=await this.initAfcToolsMap(e);return(function(c,u,f){var p,g;return Jo(this,arguments,function*(){for(var b,y,v,x;a<s;){o&&(a++,o=!1);const _=yield ct(c.processParamsMaybeAddMcpUsage(f)),A=yield ct(c.generateContentStreamInternal(_)),R=[],k=[];try{for(var D=!0,T=(y=void 0,ql(A)),C;C=yield ct(T.next()),b=C.done,!b;D=!0){x=C.value,D=!1;const I=x;if(yield yield ct(I),I.candidates&&(!((p=I.candidates[0])===null||p===void 0)&&p.content)){k.push(I.candidates[0].content);for(const L of(g=I.candidates[0].content.parts)!==null&&g!==void 0?g:[])if(a<s&&L.functionCall){if(!L.functionCall.name)throw new Error("Function call name was not returned by the model.");if(u.has(L.functionCall.name)){const J=yield ct(u.get(L.functionCall.name).callTool([L.functionCall]));R.push(...J)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${u.keys()}, mising tool: ${L.functionCall.name}`)}}}}catch(I){y={error:I}}finally{try{!D&&!b&&(v=T.return)&&(yield ct(v.call(T)))}finally{if(y)throw y.error}}if(R.length>0){o=!0;const I=new Dl;I.candidates=[{content:{role:"user",parts:R}}],yield yield ct(I);const L=[];L.push(...k),L.push({role:"user",parts:R});const J=On(f.contents).concat(L);f.contents=J}else break}})})(this,l,e)}async generateContentInternal(e){var t,i,r,s;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=B1(this.apiClient,e);return a=Ae("{model}:generateContent",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:u.headers},p})),o.then(u=>{const f=W1(u),p=new Dl;return Object.assign(p,f),p})}else{const c=L1(this.apiClient,e);return a=Ae("{model}:generateContent",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:u.headers},p})),o.then(u=>{const f=O1(u),p=new Dl;return Object.assign(p,f),p})}}async generateContentStreamInternal(e){var t,i,r,s;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=B1(this.apiClient,e);return a=Ae("{model}:streamGenerateContent?alt=sse",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.requestStream({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),o.then(function(f){return Jo(this,arguments,function*(){var p,g,b,y;try{for(var v=!0,x=ql(f),D;D=yield ct(x.next()),p=D.done,!p;v=!0){y=D.value,v=!1;const T=y,C=W1(yield ct(T.json()));C.sdkHttpResponse={headers:T.headers};const _=new Dl;Object.assign(_,C),yield yield ct(_)}}catch(T){g={error:T}}finally{try{!v&&!p&&(b=x.return)&&(yield ct(b.call(x)))}finally{if(g)throw g.error}}})})}else{const c=L1(this.apiClient,e);return a=Ae("{model}:streamGenerateContent?alt=sse",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.requestStream({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),o.then(function(f){return Jo(this,arguments,function*(){var p,g,b,y;try{for(var v=!0,x=ql(f),D;D=yield ct(x.next()),p=D.done,!p;v=!0){y=D.value,v=!1;const T=y,C=O1(yield ct(T.json()));C.sdkHttpResponse={headers:T.headers};const _=new Dl;Object.assign(_,C),yield yield ct(_)}}catch(T){g={error:T}}finally{try{!v&&!p&&(b=x.return)&&(yield ct(b.call(x)))}finally{if(g)throw g.error}}})})}}async embedContent(e){var t,i,r,s;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=EM(this.apiClient,e);return a=Ae("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:u.headers},p})),o.then(u=>{const f=SM(u),p=new y1;return Object.assign(p,f),p})}else{const c=AM(this.apiClient,e);return a=Ae("{model}:batchEmbedContents",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:u.headers},p})),o.then(u=>{const f=wM(u),p=new y1;return Object.assign(p,f),p})}}async generateImagesInternal(e){var t,i,r,s;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=YM(this.apiClient,e);return a=Ae("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:u.headers},p})),o.then(u=>{const f=jM(u),p=new v1;return Object.assign(p,f),p})}else{const c=JM(this.apiClient,e);return a=Ae("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:u.headers},p})),o.then(u=>{const f=KM(u),p=new v1;return Object.assign(p,f),p})}}async editImageInternal(e){var t,i;let r,s="",o={};if(this.apiClient.isVertexAI()){const a=bM(this.apiClient,e);return s=Ae("{model}:predict",a._url),o=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:l.headers},u})),r.then(l=>{const c=xM(l),u=new JU;return Object.assign(u,c),u})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var t,i;let r,s="",o={};if(this.apiClient.isVertexAI()){const a=DP(this.apiClient,e);return s=Ae("{model}:predict",a._url),o=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:l.headers},u})),r.then(l=>{const c=TP(l),u=new YU;return Object.assign(u,c),u})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var t,i;let r,s="",o={};if(this.apiClient.isVertexAI()){const a=q3(this.apiClient,e);return s=Ae("{model}:predict",a._url),o=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>{const c=V3(l),u=new KU;return Object.assign(u,c),u})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var t,i;let r,s="",o={};if(this.apiClient.isVertexAI()){const a=Q3(this.apiClient,e);return s=Ae("{model}:predict",a._url),o=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>{const c=eP(l),u=new jU;return Object.assign(u,c),u})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var t,i,r,s;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=f3(this.apiClient,e);return a=Ae("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json()),o.then(u=>Qm(u))}else{const c=h3(this.apiClient,e);return a=Ae("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),o.then(u=>Zm(u))}}async listInternal(e){var t,i,r,s;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=w3(this.apiClient,e);return a=Ae("{models_url}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:u.headers},p})),o.then(u=>{const f=U3(u),p=new b1;return Object.assign(p,f),p})}else{const c=E3(this.apiClient,e);return a=Ae("{models_url}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:u.headers},p})),o.then(u=>{const f=S3(u),p=new b1;return Object.assign(p,f),p})}}async update(e){var t,i,r,s;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=bP(this.apiClient,e);return a=Ae("{model}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json()),o.then(u=>Qm(u))}else{const c=vP(this.apiClient,e);return a=Ae("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),o.then(u=>Zm(u))}}async delete(e){var t,i,r,s;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=fM(this.apiClient,e);return a=Ae("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:u.headers},p})),o.then(u=>{const f=gM(u),p=new x1;return Object.assign(p,f),p})}else{const c=hM(this.apiClient,e);return a=Ae("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:u.headers},p})),o.then(u=>{const f=pM(u),p=new x1;return Object.assign(p,f),p})}}async countTokens(e){var t,i,r,s;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=cM(this.apiClient,e);return a=Ae("{model}:countTokens",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:u.headers},p})),o.then(u=>{const f=dM(u),p=new D1;return Object.assign(p,f),p})}else{const c=lM(this.apiClient,e);return a=Ae("{model}:countTokens",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:u.headers},p})),o.then(u=>{const f=uM(u),p=new D1;return Object.assign(p,f),p})}}async computeTokens(e){var t,i;let r,s="",o={};if(this.apiClient.isVertexAI()){const a=ZN(this.apiClient,e);return s=Ae("{model}:computeTokens",a._url),o=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:l.headers},u})),r.then(l=>{const c=QN(l),u=new ZU;return Object.assign(u,c),u})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var t,i,r,s;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=i3(this.apiClient,e);return a=Ae("{model}:predictLongRunning",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json()),o.then(u=>{const f=t3(u),p=new xh;return Object.assign(p,f),p})}else{const c=n3(this.apiClient,e);return a=Ae("{model}:predictLongRunning",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),o.then(u=>{const f=e3(u),p=new xh;return Object.assign(p,f),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class h5 extends So{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const t=e.operation,i=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=t.name.split("/operations/")[0];let s;i&&"httpOptions"in i&&(s=i.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:r,config:{httpOptions:s}});return t._fromAPIResponse({apiResponse:o,isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:t.name,config:i});return t._fromAPIResponse({apiResponse:r,isVertexAI:!1})}}async get(e){const t=e.operation,i=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=t.name.split("/operations/")[0];let s;i&&"httpOptions"in i&&(s=i.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:r,config:{httpOptions:s}});return t._fromAPIResponse({apiResponse:o,isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:t.name,config:i});return t._fromAPIResponse({apiResponse:r,isVertexAI:!1})}}async getVideosOperationInternal(e){var t,i,r,s;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=$U(e);return a=Ae("{operationName}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json()),o}else{const c=GU(e);return a=Ae("{operationName}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),o}}async fetchPredictVideosOperationInternal(e){var t,i;let r,s="",o={};if(this.apiClient.isVertexAI()){const a=LU(e);return s=Ae("{resourceName}:fetchPredictOperation",a._url),o=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function z1(){return{}}function f5(n){const e={},t=d(n,["name"]);return t!=null&&h(e,["name"],t),e}function p5(n){const e={},t=d(n,["disabled"]);t!=null&&h(e,["disabled"],t);const i=d(n,["startOfSpeechSensitivity"]);i!=null&&h(e,["startOfSpeechSensitivity"],i);const r=d(n,["endOfSpeechSensitivity"]);r!=null&&h(e,["endOfSpeechSensitivity"],r);const s=d(n,["prefixPaddingMs"]);s!=null&&h(e,["prefixPaddingMs"],s);const o=d(n,["silenceDurationMs"]);return o!=null&&h(e,["silenceDurationMs"],o),e}function g5(n){const e={};if(d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=d(n,["data"]);t!=null&&h(e,["data"],t);const i=d(n,["mimeType"]);return i!=null&&h(e,["mimeType"],i),e}function m5(n){const e={},t=d(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(s=>R5(s))),h(e,["parts"],r)}const i=d(n,["role"]);return i!=null&&h(e,["role"],i),e}function y5(n){const e={},t=d(n,["triggerTokens"]);t!=null&&h(e,["triggerTokens"],t);const i=d(n,["slidingWindow"]);return i!=null&&h(e,["slidingWindow"],M5(i)),e}function v5(n,e,t){const i={},r=d(e,["expireTime"]);t!==void 0&&r!=null&&h(t,["expireTime"],r);const s=d(e,["newSessionExpireTime"]);t!==void 0&&s!=null&&h(t,["newSessionExpireTime"],s);const o=d(e,["uses"]);t!==void 0&&o!=null&&h(t,["uses"],o);const a=d(e,["liveConnectConstraints"]);t!==void 0&&a!=null&&h(t,["bidiGenerateContentSetup"],S5(n,a));const l=d(e,["lockAdditionalFields"]);return t!==void 0&&l!=null&&h(t,["fieldMask"],l),i}function b5(n,e){const t={},i=d(e,["config"]);return i!=null&&h(t,["config"],v5(n,i,t)),t}function x5(n){const e={},t=d(n,["mode"]);t!=null&&h(e,["mode"],t);const i=d(n,["dynamicThreshold"]);return i!=null&&h(e,["dynamicThreshold"],i),e}function D5(n){const e={};if(d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=d(n,["fileUri"]);t!=null&&h(e,["fileUri"],t);const i=d(n,["mimeType"]);return i!=null&&h(e,["mimeType"],i),e}function T5(n){const e={},t=d(n,["id"]);t!=null&&h(e,["id"],t);const i=d(n,["args"]);i!=null&&h(e,["args"],i);const r=d(n,["name"]);return r!=null&&h(e,["name"],r),e}function _5(n){const e={},t=d(n,["behavior"]);t!=null&&h(e,["behavior"],t);const i=d(n,["description"]);i!=null&&h(e,["description"],i);const r=d(n,["name"]);r!=null&&h(e,["name"],r);const s=d(n,["parameters"]);s!=null&&h(e,["parameters"],s);const o=d(n,["parametersJsonSchema"]);o!=null&&h(e,["parametersJsonSchema"],o);const a=d(n,["response"]);a!=null&&h(e,["response"],a);const l=d(n,["responseJsonSchema"]);return l!=null&&h(e,["responseJsonSchema"],l),e}function C5(n){const e={},t=d(n,["dynamicRetrievalConfig"]);return t!=null&&h(e,["dynamicRetrievalConfig"],x5(t)),e}function A5(n){const e={},t=d(n,["timeRangeFilter"]);if(t!=null&&h(e,["timeRangeFilter"],E5(t)),d(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function E5(n){const e={},t=d(n,["startTime"]);t!=null&&h(e,["startTime"],t);const i=d(n,["endTime"]);return i!=null&&h(e,["endTime"],i),e}function w5(n,e){const t={},i=d(n,["generationConfig"]);e!==void 0&&i!=null&&h(e,["setup","generationConfig"],i);const r=d(n,["responseModalities"]);e!==void 0&&r!=null&&h(e,["setup","generationConfig","responseModalities"],r);const s=d(n,["temperature"]);e!==void 0&&s!=null&&h(e,["setup","generationConfig","temperature"],s);const o=d(n,["topP"]);e!==void 0&&o!=null&&h(e,["setup","generationConfig","topP"],o);const a=d(n,["topK"]);e!==void 0&&a!=null&&h(e,["setup","generationConfig","topK"],a);const l=d(n,["maxOutputTokens"]);e!==void 0&&l!=null&&h(e,["setup","generationConfig","maxOutputTokens"],l);const c=d(n,["mediaResolution"]);e!==void 0&&c!=null&&h(e,["setup","generationConfig","mediaResolution"],c);const u=d(n,["seed"]);e!==void 0&&u!=null&&h(e,["setup","generationConfig","seed"],u);const f=d(n,["speechConfig"]);e!==void 0&&f!=null&&h(e,["setup","generationConfig","speechConfig"],L5(lv(f)));const p=d(n,["enableAffectiveDialog"]);e!==void 0&&p!=null&&h(e,["setup","generationConfig","enableAffectiveDialog"],p);const g=d(n,["systemInstruction"]);e!==void 0&&g!=null&&h(e,["setup","systemInstruction"],m5(Ht(g)));const b=d(n,["tools"]);if(e!==void 0&&b!=null){let _=el(b);Array.isArray(_)&&(_=_.map(A=>O5(Qa(A)))),h(e,["setup","tools"],_)}const y=d(n,["sessionResumption"]);e!==void 0&&y!=null&&h(e,["setup","sessionResumption"],N5(y));const v=d(n,["inputAudioTranscription"]);e!==void 0&&v!=null&&h(e,["setup","inputAudioTranscription"],z1());const x=d(n,["outputAudioTranscription"]);e!==void 0&&x!=null&&h(e,["setup","outputAudioTranscription"],z1());const D=d(n,["realtimeInputConfig"]);e!==void 0&&D!=null&&h(e,["setup","realtimeInputConfig"],k5(D));const T=d(n,["contextWindowCompression"]);e!==void 0&&T!=null&&h(e,["setup","contextWindowCompression"],y5(T));const C=d(n,["proactivity"]);return e!==void 0&&C!=null&&h(e,["setup","proactivity"],F5(C)),t}function S5(n,e){const t={},i=d(e,["model"]);i!=null&&h(t,["setup","model"],Je(n,i));const r=d(e,["config"]);return r!=null&&h(t,["config"],w5(r,t)),t}function U5(n){const e={},t=d(n,["speakerVoiceConfigs"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(r=>P5(r))),h(e,["speakerVoiceConfigs"],i)}return e}function R5(n){const e={},t=d(n,["videoMetadata"]);t!=null&&h(e,["videoMetadata"],q5(t));const i=d(n,["thought"]);i!=null&&h(e,["thought"],i);const r=d(n,["inlineData"]);r!=null&&h(e,["inlineData"],g5(r));const s=d(n,["fileData"]);s!=null&&h(e,["fileData"],D5(s));const o=d(n,["thoughtSignature"]);o!=null&&h(e,["thoughtSignature"],o);const a=d(n,["functionCall"]);a!=null&&h(e,["functionCall"],T5(a));const l=d(n,["codeExecutionResult"]);l!=null&&h(e,["codeExecutionResult"],l);const c=d(n,["executableCode"]);c!=null&&h(e,["executableCode"],c);const u=d(n,["functionResponse"]);u!=null&&h(e,["functionResponse"],u);const f=d(n,["text"]);return f!=null&&h(e,["text"],f),e}function I5(n){const e={},t=d(n,["voiceName"]);return t!=null&&h(e,["voiceName"],t),e}function F5(n){const e={},t=d(n,["proactiveAudio"]);return t!=null&&h(e,["proactiveAudio"],t),e}function k5(n){const e={},t=d(n,["automaticActivityDetection"]);t!=null&&h(e,["automaticActivityDetection"],p5(t));const i=d(n,["activityHandling"]);i!=null&&h(e,["activityHandling"],i);const r=d(n,["turnCoverage"]);return r!=null&&h(e,["turnCoverage"],r),e}function N5(n){const e={},t=d(n,["handle"]);if(t!=null&&h(e,["handle"],t),d(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function M5(n){const e={},t=d(n,["targetTokens"]);return t!=null&&h(e,["targetTokens"],t),e}function P5(n){const e={},t=d(n,["speaker"]);t!=null&&h(e,["speaker"],t);const i=d(n,["voiceConfig"]);return i!=null&&h(e,["voiceConfig"],bC(i)),e}function L5(n){const e={},t=d(n,["voiceConfig"]);t!=null&&h(e,["voiceConfig"],bC(t));const i=d(n,["multiSpeakerVoiceConfig"]);i!=null&&h(e,["multiSpeakerVoiceConfig"],U5(i));const r=d(n,["languageCode"]);return r!=null&&h(e,["languageCode"],r),e}function B5(n){const e={},t=d(n,["environment"]);t!=null&&h(e,["environment"],t);const i=d(n,["excludedPredefinedFunctions"]);return i!=null&&h(e,["excludedPredefinedFunctions"],i),e}function O5(n){const e={},t=d(n,["functionDeclarations"]);if(t!=null){let l=t;Array.isArray(l)&&(l=l.map(c=>_5(c))),h(e,["functionDeclarations"],l)}if(d(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=d(n,["googleSearch"]);i!=null&&h(e,["googleSearch"],A5(i));const r=d(n,["googleSearchRetrieval"]);if(r!=null&&h(e,["googleSearchRetrieval"],C5(r)),d(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(d(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");d(n,["urlContext"])!=null&&h(e,["urlContext"],W5());const o=d(n,["computerUse"]);o!=null&&h(e,["computerUse"],B5(o));const a=d(n,["codeExecution"]);return a!=null&&h(e,["codeExecution"],a),e}function W5(){return{}}function q5(n){const e={},t=d(n,["fps"]);t!=null&&h(e,["fps"],t);const i=d(n,["endOffset"]);i!=null&&h(e,["endOffset"],i);const r=d(n,["startOffset"]);return r!=null&&h(e,["startOffset"],r),e}function bC(n){const e={},t=d(n,["prebuiltVoiceConfig"]);return t!=null&&h(e,["prebuiltVoiceConfig"],I5(t)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function V5(n){const e=[];for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)){const i=n[t];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const r=Object.keys(i).map(s=>`${t}.${s}`);e.push(...r)}else e.push(t)}return e.join(",")}function H5(n,e){let t=null;const i=n.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const s=i.setup;typeof s=="object"&&s!==null?(n.bidiGenerateContentSetup=s,t=s):delete n.bidiGenerateContentSetup}else i!==void 0&&delete n.bidiGenerateContentSetup;const r=n.fieldMask;if(t){const s=V5(t);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)s?n.fieldMask=s:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const o=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let a=[];r.length>0&&(a=r.map(c=>o.includes(c)?`generationConfig.${c}`:c));const l=[];s&&l.push(s),a.length>0&&l.push(...a),l.length>0?n.fieldMask=l.join(","):delete n.fieldMask}else delete n.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?n.fieldMask=r.join(","):delete n.fieldMask;return n}class G5 extends So{constructor(e){super(),this.apiClient=e}async create(e){var t,i;let r,s="",o={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const a=b5(this.apiClient,e);s=Ae("auth_tokens",a._url),o=a._query,delete a.config,delete a._url,delete a._query;const l=H5(a,e.config);return r=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),r.then(c=>f5(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $5(n){const e={},t=d(n,["name"]);return t!=null&&h(e,["_url","name"],t),e}function z5(n){const e={},t=d(n,["name"]);return t!=null&&h(e,["_url","name"],t),e}function X5(n,e){const t={};if(d(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=d(n,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&h(e,["displayName"],i),d(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const r=d(n,["epochCount"]);e!==void 0&&r!=null&&h(e,["tuningTask","hyperparameters","epochCount"],r);const s=d(n,["learningRateMultiplier"]);if(s!=null&&h(t,["tuningTask","hyperparameters","learningRateMultiplier"],s),d(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(d(n,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(d(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const o=d(n,["batchSize"]);e!==void 0&&o!=null&&h(e,["tuningTask","hyperparameters","batchSize"],o);const a=d(n,["learningRate"]);if(e!==void 0&&a!=null&&h(e,["tuningTask","hyperparameters","learningRate"],a),d(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");return t}function J5(n,e){const t={},i=d(n,["validationDataset"]);e!==void 0&&i!=null&&h(e,["supervisedTuningSpec"],hL(i,t));const r=d(n,["tunedModelDisplayName"]);e!==void 0&&r!=null&&h(e,["tunedModelDisplayName"],r);const s=d(n,["description"]);e!==void 0&&s!=null&&h(e,["description"],s);const o=d(n,["epochCount"]);e!==void 0&&o!=null&&h(e,["supervisedTuningSpec","hyperParameters","epochCount"],o);const a=d(n,["learningRateMultiplier"]);e!==void 0&&a!=null&&h(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],a);const l=d(n,["exportLastCheckpointOnly"]);e!==void 0&&l!=null&&h(e,["supervisedTuningSpec","exportLastCheckpointOnly"],l);const c=d(n,["adapterSize"]);if(e!==void 0&&c!=null&&h(e,["supervisedTuningSpec","hyperParameters","adapterSize"],c),d(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(d(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const u=d(n,["labels"]);return e!==void 0&&u!=null&&h(e,["labels"],u),t}function Y5(n){const e={},t=d(n,["baseModel"]);t!=null&&h(e,["baseModel"],t);const i=d(n,["preTunedModel"]);i!=null&&h(e,["preTunedModel"],i);const r=d(n,["trainingDataset"]);r!=null&&h(e,["tuningTask","trainingData"],lL(r));const s=d(n,["config"]);return s!=null&&X5(s,e),e}function K5(n){const e={},t=d(n,["baseModel"]);t!=null&&h(e,["baseModel"],t);const i=d(n,["preTunedModel"]);i!=null&&h(e,["preTunedModel"],i);const r=d(n,["trainingDataset"]);r!=null&&h(e,["supervisedTuningSpec","trainingDatasetUri"],cL(r,e));const s=d(n,["config"]);return s!=null&&J5(s,e),e}function j5(n){const e={},t=d(n,["name"]);return t!=null&&h(e,["_url","name"],t),e}function Z5(n){const e={},t=d(n,["name"]);return t!=null&&h(e,["_url","name"],t),e}function Q5(n,e){const t={},i=d(n,["pageSize"]);e!==void 0&&i!=null&&h(e,["_query","pageSize"],i);const r=d(n,["pageToken"]);e!==void 0&&r!=null&&h(e,["_query","pageToken"],r);const s=d(n,["filter"]);return e!==void 0&&s!=null&&h(e,["_query","filter"],s),t}function eL(n,e){const t={},i=d(n,["pageSize"]);e!==void 0&&i!=null&&h(e,["_query","pageSize"],i);const r=d(n,["pageToken"]);e!==void 0&&r!=null&&h(e,["_query","pageToken"],r);const s=d(n,["filter"]);return e!==void 0&&s!=null&&h(e,["_query","filter"],s),t}function tL(n){const e={},t=d(n,["config"]);return t!=null&&Q5(t,e),e}function nL(n){const e={},t=d(n,["config"]);return t!=null&&eL(t,e),e}function iL(n){const e={},t=d(n,["sdkHttpResponse"]);t!=null&&h(e,["sdkHttpResponse"],t);const i=d(n,["nextPageToken"]);i!=null&&h(e,["nextPageToken"],i);const r=d(n,["tunedModels"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>xC(o))),h(e,["tuningJobs"],s)}return e}function rL(n){const e={},t=d(n,["sdkHttpResponse"]);t!=null&&h(e,["sdkHttpResponse"],t);const i=d(n,["nextPageToken"]);i!=null&&h(e,["nextPageToken"],i);const r=d(n,["tuningJobs"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>ty(o))),h(e,["tuningJobs"],s)}return e}function sL(n){const e={},t=d(n,["checkpointId"]);t!=null&&h(e,["checkpointId"],t);const i=d(n,["epoch"]);i!=null&&h(e,["epoch"],i);const r=d(n,["step"]);r!=null&&h(e,["step"],r);const s=d(n,["endpoint"]);return s!=null&&h(e,["endpoint"],s),e}function oL(n){const e={},t=d(n,["name"]);t!=null&&h(e,["model"],t);const i=d(n,["name"]);return i!=null&&h(e,["endpoint"],i),e}function aL(n){const e={},t=d(n,["model"]);t!=null&&h(e,["model"],t);const i=d(n,["endpoint"]);i!=null&&h(e,["endpoint"],i);const r=d(n,["checkpoints"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>sL(o))),h(e,["checkpoints"],s)}return e}function lL(n){const e={};if(d(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const t=d(n,["examples"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(r=>uL(r))),h(e,["examples","examples"],i)}return e}function cL(n,e){const t={},i=d(n,["gcsUri"]);e!==void 0&&i!=null&&h(e,["supervisedTuningSpec","trainingDatasetUri"],i);const r=d(n,["vertexDatasetResource"]);if(e!==void 0&&r!=null&&h(e,["supervisedTuningSpec","trainingDatasetUri"],r),d(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return t}function uL(n){const e={},t=d(n,["textInput"]);t!=null&&h(e,["textInput"],t);const i=d(n,["output"]);return i!=null&&h(e,["output"],i),e}function xC(n){const e={},t=d(n,["sdkHttpResponse"]);t!=null&&h(e,["sdkHttpResponse"],t);const i=d(n,["name"]);i!=null&&h(e,["name"],i);const r=d(n,["state"]);r!=null&&h(e,["state"],z_(r));const s=d(n,["createTime"]);s!=null&&h(e,["createTime"],s);const o=d(n,["tuningTask","startTime"]);o!=null&&h(e,["startTime"],o);const a=d(n,["tuningTask","completeTime"]);a!=null&&h(e,["endTime"],a);const l=d(n,["updateTime"]);l!=null&&h(e,["updateTime"],l);const c=d(n,["description"]);c!=null&&h(e,["description"],c);const u=d(n,["baseModel"]);u!=null&&h(e,["baseModel"],u);const f=d(n,["_self"]);f!=null&&h(e,["tunedModel"],oL(f));const p=d(n,["customBaseModel"]);p!=null&&h(e,["customBaseModel"],p);const g=d(n,["experiment"]);g!=null&&h(e,["experiment"],g);const b=d(n,["labels"]);b!=null&&h(e,["labels"],b);const y=d(n,["outputUri"]);y!=null&&h(e,["outputUri"],y);const v=d(n,["pipelineJob"]);v!=null&&h(e,["pipelineJob"],v);const x=d(n,["serviceAccount"]);x!=null&&h(e,["serviceAccount"],x);const D=d(n,["tunedModelDisplayName"]);return D!=null&&h(e,["tunedModelDisplayName"],D),e}function ty(n){const e={},t=d(n,["sdkHttpResponse"]);t!=null&&h(e,["sdkHttpResponse"],t);const i=d(n,["name"]);i!=null&&h(e,["name"],i);const r=d(n,["state"]);r!=null&&h(e,["state"],z_(r));const s=d(n,["createTime"]);s!=null&&h(e,["createTime"],s);const o=d(n,["startTime"]);o!=null&&h(e,["startTime"],o);const a=d(n,["endTime"]);a!=null&&h(e,["endTime"],a);const l=d(n,["updateTime"]);l!=null&&h(e,["updateTime"],l);const c=d(n,["error"]);c!=null&&h(e,["error"],c);const u=d(n,["description"]);u!=null&&h(e,["description"],u);const f=d(n,["baseModel"]);f!=null&&h(e,["baseModel"],f);const p=d(n,["tunedModel"]);p!=null&&h(e,["tunedModel"],aL(p));const g=d(n,["preTunedModel"]);g!=null&&h(e,["preTunedModel"],g);const b=d(n,["supervisedTuningSpec"]);b!=null&&h(e,["supervisedTuningSpec"],b);const y=d(n,["tuningDataStats"]);y!=null&&h(e,["tuningDataStats"],y);const v=d(n,["encryptionSpec"]);v!=null&&h(e,["encryptionSpec"],v);const x=d(n,["partnerModelTuningSpec"]);x!=null&&h(e,["partnerModelTuningSpec"],x);const D=d(n,["customBaseModel"]);D!=null&&h(e,["customBaseModel"],D);const T=d(n,["experiment"]);T!=null&&h(e,["experiment"],T);const C=d(n,["labels"]);C!=null&&h(e,["labels"],C);const _=d(n,["outputUri"]);_!=null&&h(e,["outputUri"],_);const A=d(n,["pipelineJob"]);A!=null&&h(e,["pipelineJob"],A);const R=d(n,["serviceAccount"]);R!=null&&h(e,["serviceAccount"],R);const k=d(n,["tunedModelDisplayName"]);return k!=null&&h(e,["tunedModelDisplayName"],k),e}function dL(n){const e={},t=d(n,["sdkHttpResponse"]);t!=null&&h(e,["sdkHttpResponse"],t);const i=d(n,["name"]);i!=null&&h(e,["name"],i);const r=d(n,["metadata"]);r!=null&&h(e,["metadata"],r);const s=d(n,["done"]);s!=null&&h(e,["done"],s);const o=d(n,["error"]);return o!=null&&h(e,["error"],o),e}function hL(n,e){const t={},i=d(n,["gcsUri"]);i!=null&&h(t,["validationDatasetUri"],i);const r=d(n,["vertexDatasetResource"]);return e!==void 0&&r!=null&&h(e,["supervisedTuningSpec","trainingDatasetUri"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fL extends So{constructor(e){super(),this.apiClient=e,this.get=async t=>await this.getInternal(t),this.list=async(t={})=>new qu(vo.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(t),t),this.tune=async t=>{var i;if(this.apiClient.isVertexAI())if(t.baseModel.startsWith("projects/")){const r={tunedModelName:t.baseModel};!((i=t.config)===null||i===void 0)&&i.preTunedModelCheckpointId&&(r.checkpointId=t.config.preTunedModelCheckpointId);const s=Object.assign(Object.assign({},t),{preTunedModel:r});return s.baseModel=void 0,await this.tuneInternal(s)}else{const r=Object.assign({},t);return await this.tuneInternal(r)}else{const r=Object.assign({},t),s=await this.tuneMldevInternal(r);let o="";return s.metadata!==void 0&&s.metadata.tunedModel!==void 0?o=s.metadata.tunedModel:s.name!==void 0&&s.name.includes("/operations/")&&(o=s.name.split("/operations/")[0]),{name:o,state:zm.JOB_STATE_QUEUED}}}}async getInternal(e){var t,i,r,s;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=Z5(e);return a=Ae("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:u.headers},p})),o.then(u=>ty(u))}else{const c=j5(e);return a=Ae("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:u.headers},p})),o.then(u=>xC(u))}}async listInternal(e){var t,i,r,s;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=nL(e);return a=Ae("tuningJobs",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:u.headers},p})),o.then(u=>{const f=rL(u),p=new T1;return Object.assign(p,f),p})}else{const c=tL(e);return a=Ae("tunedModels",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:u.headers},p})),o.then(u=>{const f=iL(u),p=new T1;return Object.assign(p,f),p})}}async cancel(e){var t,i,r,s;let o="",a={};if(this.apiClient.isVertexAI()){const l=z5(e);o=Ae("{name}:cancel",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}else{const l=$5(e);o=Ae("{name}:cancel",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async tuneInternal(e){var t,i;let r,s="",o={};if(this.apiClient.isVertexAI()){const a=K5(e);return s=Ae("tuningJobs",a._url),o=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:l.headers},u})),r.then(l=>ty(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var t,i;let r,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Y5(e);return s=Ae("tunedModels",a._url),o=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:l.headers},u})),r.then(l=>dL(l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pL{async download(e,t){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const gL=1024*1024*8,mL=3,yL=1e3,vL=2,Tg="x-goog-upload-status";async function bL(n,e,t){var i,r,s;let o=0,a=0,l=new Xm(new Response),c="upload";for(o=n.size;a<o;){const f=Math.min(gL,o-a),p=n.slice(a,a+f);a+f>=o&&(c+=", finalize");let g=0,b=yL;for(;g<mL&&(l=await t.request({path:"",body:p,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(a),"Content-Length":String(f)}}}),!(!((i=l==null?void 0:l.headers)===null||i===void 0)&&i[Tg]));)g++,await DL(b),b=b*vL;if(a+=f,((r=l==null?void 0:l.headers)===null||r===void 0?void 0:r[Tg])!=="active")break;if(o<=a)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const u=await(l==null?void 0:l.json());if(((s=l==null?void 0:l.headers)===null||s===void 0?void 0:s[Tg])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return u.file}async function xL(n){return{size:n.size,type:n.type}}function DL(n){return new Promise(e=>setTimeout(e,n))}class TL{async upload(e,t,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await bL(e,t,i)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await xL(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _L{create(e,t,i){return new CL(e,t,i)}}class CL{constructor(e,t,i){this.url=e,this.headers=t,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const X1="x-goog-api-key";class AL{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(X1)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(X1,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const EL="gl-node/";class wL{constructor(e){var t;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(t=e.vertexai)!==null&&t!==void 0?t:!1,this.apiKey=e.apiKey;const i=PU(e.httpOptions,e.vertexai,void 0,void 0);i&&(e.httpOptions?e.httpOptions.baseUrl=i:e.httpOptions={baseUrl:i}),this.apiVersion=e.apiVersion;const r=new AL(this.apiKey);this.apiClient=new $P({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:EL+"web",uploader:new TL,downloader:new pL}),this.models=new d5(this.apiClient),this.live=new r5(this.apiClient,r,new _L),this.batches=new wI(this.apiClient),this.chats=new MF(this.models,this.apiClient),this.caches=new FF(this.apiClient),this.files=new JF(this.apiClient),this.operations=new h5(this.apiClient),this.authTokens=new G5(this.apiClient),this.tunings=new fL(this.apiClient)}}var _g={exports:{}},J1;function SL(){return J1||(J1=1,(function(n){var e=Object.prototype.hasOwnProperty,t="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(t=!1));function r(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function s(l,c,u,f,p){if(typeof u!="function")throw new TypeError("The listener must be a function");var g=new r(u,f||l,p),b=t?t+c:c;return l._events[b]?l._events[b].fn?l._events[b]=[l._events[b],g]:l._events[b].push(g):(l._events[b]=g,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new i:delete l._events[c]}function a(){this._events=new i,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],u,f;if(this._eventsCount===0)return c;for(f in u=this._events)e.call(u,f)&&c.push(t?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},a.prototype.listeners=function(c){var u=t?t+c:c,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var p=0,g=f.length,b=new Array(g);p<g;p++)b[p]=f[p].fn;return b},a.prototype.listenerCount=function(c){var u=t?t+c:c,f=this._events[u];return f?f.fn?1:f.length:0},a.prototype.emit=function(c,u,f,p,g,b){var y=t?t+c:c;if(!this._events[y])return!1;var v=this._events[y],x=arguments.length,D,T;if(v.fn){switch(v.once&&this.removeListener(c,v.fn,void 0,!0),x){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,u),!0;case 3:return v.fn.call(v.context,u,f),!0;case 4:return v.fn.call(v.context,u,f,p),!0;case 5:return v.fn.call(v.context,u,f,p,g),!0;case 6:return v.fn.call(v.context,u,f,p,g,b),!0}for(T=1,D=new Array(x-1);T<x;T++)D[T-1]=arguments[T];v.fn.apply(v.context,D)}else{var C=v.length,_;for(T=0;T<C;T++)switch(v[T].once&&this.removeListener(c,v[T].fn,void 0,!0),x){case 1:v[T].fn.call(v[T].context);break;case 2:v[T].fn.call(v[T].context,u);break;case 3:v[T].fn.call(v[T].context,u,f);break;case 4:v[T].fn.call(v[T].context,u,f,p);break;default:if(!D)for(_=1,D=new Array(x-1);_<x;_++)D[_-1]=arguments[_];v[T].fn.apply(v[T].context,D)}}return!0},a.prototype.on=function(c,u,f){return s(this,c,u,f,!1)},a.prototype.once=function(c,u,f){return s(this,c,u,f,!0)},a.prototype.removeListener=function(c,u,f,p){var g=t?t+c:c;if(!this._events[g])return this;if(!u)return o(this,g),this;var b=this._events[g];if(b.fn)b.fn===u&&(!p||b.once)&&(!f||b.context===f)&&o(this,g);else{for(var y=0,v=[],x=b.length;y<x;y++)(b[y].fn!==u||p&&!b[y].once||f&&b[y].context!==f)&&v.push(b[y]);v.length?this._events[g]=v.length===1?v[0]:v:o(this,g)}return this},a.prototype.removeAllListeners=function(c){var u;return c?(u=t?t+c:c,this._events[u]&&o(this,u)):(this._events=new i,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=t,a.EventEmitter=a,n.exports=a})(_g)),_g.exports}var UL=SL();const RL=Yh(UL);class DC extends Error{constructor(e){super(e),this.name="TimeoutError"}}class IL extends Error{constructor(e){super(),this.name="AbortError",this.message=e}}const Y1=n=>globalThis.DOMException===void 0?new IL(n):new DOMException(n),K1=n=>{const e=n.reason===void 0?Y1("This operation was aborted."):n.reason;return e instanceof Error?e:Y1(e)};function FL(n,e){const{milliseconds:t,fallback:i,message:r,customTimers:s={setTimeout,clearTimeout}}=e;let o,a;const c=new Promise((u,f)=>{if(typeof t!="number"||Math.sign(t)!==1)throw new TypeError(`Expected \`milliseconds\` to be a positive number, got \`${t}\``);if(e.signal){const{signal:g}=e;g.aborted&&f(K1(g)),a=()=>{f(K1(g))},g.addEventListener("abort",a,{once:!0})}if(t===Number.POSITIVE_INFINITY){n.then(u,f);return}const p=new DC;o=s.setTimeout.call(void 0,()=>{if(i){try{u(i())}catch(g){f(g)}return}typeof n.cancel=="function"&&n.cancel(),r===!1?u():r instanceof Error?f(r):(p.message=r??`Promise timed out after ${t} milliseconds`,f(p))},t),(async()=>{try{u(await n)}catch(g){f(g)}})()}).finally(()=>{c.clear(),a&&e.signal&&e.signal.removeEventListener("abort",a)});return c.clear=()=>{s.clearTimeout.call(void 0,o),o=void 0},c}function kL(n,e,t){let i=0,r=n.length;for(;r>0;){const s=Math.trunc(r/2);let o=i+s;t(n[o],e)<=0?(i=++o,r-=s+1):r=s}return i}var In;class NL{constructor(){W(this,In,[])}enqueue(e,t){t={priority:0,...t};const i={priority:t.priority,id:t.id,run:e};if(this.size===0||m(this,In)[this.size-1].priority>=t.priority){m(this,In).push(i);return}const r=kL(m(this,In),i,(s,o)=>o.priority-s.priority);m(this,In).splice(r,0,i)}setPriority(e,t){const i=m(this,In).findIndex(s=>s.id===e);if(i===-1)throw new ReferenceError(`No promise function with the id "${e}" exists in the queue.`);const[r]=m(this,In).splice(i,1);this.enqueue(r.run,{priority:t,id:e})}dequeue(){const e=m(this,In).shift();return e==null?void 0:e.run}filter(e){return m(this,In).filter(t=>t.priority===e.priority).map(t=>t.run)}get size(){return m(this,In).length}}In=new WeakMap;var Ha,Ga,Gr,Ru,$a,Iu,Fn,za,Kt,Fu,kn,Xa,ar,ku,Jh,Xe,TC,_C,CC,AC,EC,ih,ny,iy,rh,wC,sh;class ML extends RL{constructor(t){var i,r;super();W(this,Xe);W(this,Ha);W(this,Ga);W(this,Gr,0);W(this,Ru);W(this,$a);W(this,Iu,0);W(this,Fn);W(this,za);W(this,Kt);W(this,Fu);W(this,kn,0);W(this,Xa);W(this,ar);W(this,ku);W(this,Jh,1n);Le(this,"timeout");if(t={carryoverConcurrencyCount:!1,intervalCap:Number.POSITIVE_INFINITY,interval:0,concurrency:Number.POSITIVE_INFINITY,autoStart:!0,queueClass:NL,...t},!(typeof t.intervalCap=="number"&&t.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${((i=t.intervalCap)==null?void 0:i.toString())??""}\` (${typeof t.intervalCap})`);if(t.interval===void 0||!(Number.isFinite(t.interval)&&t.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${((r=t.interval)==null?void 0:r.toString())??""}\` (${typeof t.interval})`);M(this,Ha,t.carryoverConcurrencyCount),M(this,Ga,t.intervalCap===Number.POSITIVE_INFINITY||t.interval===0),M(this,Ru,t.intervalCap),M(this,$a,t.interval),M(this,Kt,new t.queueClass),M(this,Fu,t.queueClass),this.concurrency=t.concurrency,this.timeout=t.timeout,M(this,ku,t.throwOnTimeout===!0),M(this,ar,t.autoStart===!1)}get concurrency(){return m(this,Xa)}set concurrency(t){if(!(typeof t=="number"&&t>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${t}\` (${typeof t})`);M(this,Xa,t),P(this,Xe,rh).call(this)}setPriority(t,i){m(this,Kt).setPriority(t,i)}async add(t,i={}){return i.id??(i.id=(St(this,Jh)._++).toString()),i={timeout:this.timeout,throwOnTimeout:m(this,ku),...i},new Promise((r,s)=>{m(this,Kt).enqueue(async()=>{var o;St(this,kn)._++;try{(o=i.signal)==null||o.throwIfAborted(),St(this,Gr)._++;let a=t({signal:i.signal});i.timeout&&(a=FL(Promise.resolve(a),{milliseconds:i.timeout})),i.signal&&(a=Promise.race([a,P(this,Xe,wC).call(this,i.signal)]));const l=await a;r(l),this.emit("completed",l)}catch(a){if(a instanceof DC&&!i.throwOnTimeout){r();return}s(a),this.emit("error",a)}finally{P(this,Xe,CC).call(this)}},i),this.emit("add"),P(this,Xe,ih).call(this)})}async addAll(t,i){return Promise.all(t.map(async r=>this.add(r,i)))}start(){return m(this,ar)?(M(this,ar,!1),P(this,Xe,rh).call(this),this):this}pause(){M(this,ar,!0)}clear(){M(this,Kt,new(m(this,Fu)))}async onEmpty(){m(this,Kt).size!==0&&await P(this,Xe,sh).call(this,"empty")}async onSizeLessThan(t){m(this,Kt).size<t||await P(this,Xe,sh).call(this,"next",()=>m(this,Kt).size<t)}async onIdle(){m(this,kn)===0&&m(this,Kt).size===0||await P(this,Xe,sh).call(this,"idle")}get size(){return m(this,Kt).size}sizeBy(t){return m(this,Kt).filter(t).length}get pending(){return m(this,kn)}get isPaused(){return m(this,ar)}}Ha=new WeakMap,Ga=new WeakMap,Gr=new WeakMap,Ru=new WeakMap,$a=new WeakMap,Iu=new WeakMap,Fn=new WeakMap,za=new WeakMap,Kt=new WeakMap,Fu=new WeakMap,kn=new WeakMap,Xa=new WeakMap,ar=new WeakMap,ku=new WeakMap,Jh=new WeakMap,Xe=new WeakSet,TC=function(){return m(this,Ga)||m(this,Gr)<m(this,Ru)},_C=function(){return m(this,kn)<m(this,Xa)},CC=function(){St(this,kn)._--,P(this,Xe,ih).call(this),this.emit("next")},AC=function(){P(this,Xe,iy).call(this),P(this,Xe,ny).call(this),M(this,za,void 0)},EC=function(){const t=Date.now();if(m(this,Fn)===void 0){const i=m(this,Iu)-t;if(i<0)M(this,Gr,m(this,Ha)?m(this,kn):0);else return m(this,za)===void 0&&M(this,za,setTimeout(()=>{P(this,Xe,AC).call(this)},i)),!0}return!1},ih=function(){if(m(this,Kt).size===0)return m(this,Fn)&&clearInterval(m(this,Fn)),M(this,Fn,void 0),this.emit("empty"),m(this,kn)===0&&this.emit("idle"),!1;if(!m(this,ar)){const t=!m(this,Xe,EC);if(m(this,Xe,TC)&&m(this,Xe,_C)){const i=m(this,Kt).dequeue();return i?(this.emit("active"),i(),t&&P(this,Xe,ny).call(this),!0):!1}}return!1},ny=function(){m(this,Ga)||m(this,Fn)!==void 0||(M(this,Fn,setInterval(()=>{P(this,Xe,iy).call(this)},m(this,$a))),M(this,Iu,Date.now()+m(this,$a)))},iy=function(){m(this,Gr)===0&&m(this,kn)===0&&m(this,Fn)&&(clearInterval(m(this,Fn)),M(this,Fn,void 0)),M(this,Gr,m(this,Ha)?m(this,kn):0),P(this,Xe,rh).call(this)},rh=function(){for(;P(this,Xe,ih).call(this););},wC=async function(t){return new Promise((i,r)=>{t.addEventListener("abort",()=>{r(t.reason)},{once:!0})})},sh=async function(t,i){return new Promise(r=>{const s=()=>{i&&!i()||(this.off(t,s),r())};this.on(t,s)})};let oh=null,Th=0;const _h=["AIzaSyC0sj1TQttev1scUiF0UknfncNG08lBW5Q","AIzaSyDfMBYOzyE1mK3xuHttZ5qkj5EmudSAGn0","AIzaSyAcmkdSnitAtFAzwwCSbxhEtA7EIoyPRnc","AIzaSyC0wTd2NEuAfTYb3IjjN3ddsobRHJmba4c"].filter(Boolean),PL=new ML({concurrency:2});function SC(){if(!oh){if(_h.length===0)throw new Error("No GEMINI_API_KEY environment variables set.");const n=_h[Th];if(!n)throw new Error("API_KEY environment variable not set.");oh=new wL({apiKey:n})}return oh}function LL(){Th=(Th+1)%_h.length,oh=null}async function Lf(n,e,t){const i=Date.now(),r={model:n,contents:typeof e=="string"?e.substring(0,100)+"...":"complex",config:t};try{const s=await PL.add(async()=>{for(let o=0;o<_h.length;o++)try{return await SC().models.generateContent({model:n,contents:e,config:t})}catch(a){console.warn(`API key ${Th+1} failed:`,a),LL()}throw new Error("All API keys failed. Please check your API keys and quota.")});return console.log("generateContent success:",Date.now()-i),s}catch(s){throw console.error("generateContent error:",r,null,Date.now()-i,s instanceof Error?s.message:"Unknown error"),s}}const j1=async(n,e)=>{var r,s,o,a,l,c;const t={type:ke.OBJECT,properties:{MucDichCongViec:{type:ke.STRING,description:"Nội dung mục đích công việc, hoặc chuỗi rỗng nếu không tìm thấy."},MoTaCongViec:{type:ke.STRING,description:"Nội dung mô tả công việc, hoặc chuỗi rỗng nếu không tìm thấy."},YeuCauCongViec:{type:ke.STRING,description:"Nội dung yêu cầu công việc, hoặc chuỗi rỗng nếu không tìm thấy."}},required:["MucDichCongViec","MoTaCongViec","YeuCauCongViec"]},i=`
    Bạn là một AI chuyên gia xử lý văn bản JD. Nhiệm vụ của bạn là phân tích văn bản JD thô (có thể chứa lỗi OCR) và trích xuất, làm sạch, và cấu trúc lại nội dung một cách CHÍNH XÁC.

    QUY TẮC:
    1.  **Làm sạch văn bản:** Sửa lỗi chính tả, bỏ ký tự thừa, chuẩn hóa dấu câu và viết hoa cho đúng chuẩn tiếng Việt.
    2.  **BẢO TOÀN NỘI DUNG GỐC:** Giữ nguyên văn phong và ý nghĩa của các câu trong JD gốc. Chỉ sửa lỗi chính tả và định dạng, không được diễn giải lại hay tóm tắt làm thay đổi ý.
    3.  **Trích xuất 3 phần cốt lõi:** Chỉ giữ lại nội dung cho 3 mục: "Mục đích công việc", "Mô tả công việc", và "Yêu cầu công việc".
    4.  **Linh hoạt:** Hiểu các tiêu đề đồng nghĩa. Ví dụ: "Nhiệm vụ" là "Mô tả công việc"; "Yêu cầu ứng viên" là "Yêu cầu công việc".
    5.  **Loại bỏ nội dung thừa:** Xóa bỏ tất cả các phần không liên quan như giới thiệu công ty, phúc lợi, lương thưởng, thông tin liên hệ.
    6.  **Xử lý mục bị thiếu:** Nếu không tìm thấy nội dung cho một mục, trả về một chuỗi rỗng ("") cho mục đó trong JSON.
    7.  **Kết quả:** Luôn trả về một đối tượng JSON với 3 khóa bắt buộc: \`MucDichCongViec\`, \`MoTaCongViec\`, \`YeuCauCongViec\`.
    
    Văn bản JD thô cần xử lý:
    ---
    ${n.slice(0,4e3)}
    ---
  `;try{const u=await Lf(Kh,i,{responseMimeType:"application/json",responseSchema:t,temperature:0,topP:0,topK:1}),f=JSON.parse(u.text);if(!(((r=f.MucDichCongViec)==null?void 0:r.trim())||((s=f.MoTaCongViec)==null?void 0:s.trim())||((o=f.YeuCauCongViec)==null?void 0:o.trim())))throw new Error("Không thể trích xuất bất kỳ nội dung có ý nghĩa nào từ JD. Vui lòng kiểm tra file.");let g="";return(a=f.MucDichCongViec)!=null&&a.trim()&&(g+=`### MỤC ĐÍCH CÔNG VIỆC
${f.MucDichCongViec.trim()}

`),(l=f.MoTaCongViec)!=null&&l.trim()&&(g+=`### MÔ TẢ CÔNG VIỆC
${f.MoTaCongViec.trim()}

`),(c=f.YeuCauCongViec)!=null&&c.trim()&&(g+=`### YÊU CẦU CÔNG VIỆC
${f.YeuCauCongViec.trim()}

`),g.trim()}catch(u){throw console.error("Lỗi khi lọc và cấu trúc JD:",u),u instanceof Error&&u.message.includes("Không thể trích xuất")?u:new Error("AI không thể phân tích cấu trúc JD. Vui lòng thử lại.")}},Z1=async n=>{if(!n||n.trim().length<20)return"";const e=`Dựa vào văn bản mô tả công việc sau, trích xuất và trả về CHỈ tên chức danh công việc. Không thêm bất kỳ văn bản, nhãn hoặc giải thích nào khác. Ví dụ: nếu văn bản chứa "Chúng tôi đang tìm kiếm một Senior Frontend Developer", bạn phải trả về "Senior Frontend Developer".
  
  Mô tả công việc:
  ---
  ${n.slice(0,1500)} 
  ---
  `;try{const i=(await Lf(Kh,e,{temperature:0,topP:0,topK:1,thinkingConfig:{thinkingBudget:0}})).text.trim();return i.length>0&&i.length<100?i:""}catch(t){return console.error("Lỗi khi trích xuất chức danh công việc từ AI:",t),""}},BL={type:ke.OBJECT,properties:{"Tiêu chí":{type:ke.STRING},Điểm:{type:ke.STRING,description:"Score for the criterion, format: 'score/weight_percentage' (e.g., '12.5/15' for 15% weight)"},"Công thức":{type:ke.STRING,description:"Formula used, format: 'subscore X/weight_Y% = X points'"},"Dẫn chứng":{type:ke.STRING,description:"Direct quote from the CV as evidence. Must be in Vietnamese."},"Giải thích":{type:ke.STRING,description:"Brief explanation of the score. Must be in Vietnamese."}},required:["Tiêu chí","Điểm","Công thức","Dẫn chứng","Giải thích"]},OL={type:ke.ARRAY,items:{type:ke.OBJECT,properties:{candidateName:{type:ke.STRING},phone:{type:ke.STRING,description:"Candidate's phone number, if found."},email:{type:ke.STRING,description:"Candidate's email address, if found."},fileName:{type:ke.STRING},jobTitle:{type:ke.STRING},industry:{type:ke.STRING},department:{type:ke.STRING},experienceLevel:{type:ke.STRING},hardFilterFailureReason:{type:ke.STRING,description:"Reason for failing a mandatory hard filter, in Vietnamese."},softFilterWarnings:{type:ke.ARRAY,items:{type:ke.STRING},description:"List of warnings for non-mandatory filters that were not met, in Vietnamese."},detectedLocation:{type:ke.STRING},analysis:{type:ke.OBJECT,properties:{"Tổng điểm":{type:ke.INTEGER},Hạng:{type:ke.STRING},"Chi tiết":{type:ke.ARRAY,items:BL},"Điểm mạnh CV":{type:ke.ARRAY,items:{type:ke.STRING},description:"List of 3-5 key strengths from the CV."},"Điểm yếu CV":{type:ke.ARRAY,items:{type:ke.STRING},description:"List of 3-5 key weaknesses from the CV."},educationValidation:{type:ke.OBJECT,properties:{standardizedEducation:{type:ke.STRING,description:"Standardized education info format: 'School Name - Degree - Major - Period'"},validationNote:{type:ke.STRING,description:"'Hợp lệ' or 'Không hợp lệ – cần HR kiểm tra lại'"},warnings:{type:ke.ARRAY,items:{type:ke.STRING},description:"List of validation warnings or issues found"}},required:["standardizedEducation","validationNote"]}},required:["Tổng điểm","Hạng","Chi tiết","Điểm mạnh CV","Điểm yếu CV"]}},required:["candidateName","fileName","analysis"]}},WL=n=>Object.values(n).map(e=>{var i;const t=((i=e.children)==null?void 0:i.reduce((r,s)=>r+s.weight,0))||e.weight||0;return`${e.name}: ${t}%`}).join(`
`),qL=(n,e,t)=>{const i=n.replace(/\s+/g," ").trim().slice(0,5e3),r=WL(e);return`
      ANALYZE CVs. Role: Chuyên viên sàng lọc hồ sơ (không phỏng vấn, chỉ phân tích định lượng). Language: VIETNAMESE ONLY. Output: STRICT JSON ARRAY.

      **JOB DESCRIPTION (JD):**
      ${i}

      **SCORING CRITERIA & WEIGHTS:**
      Score these 9 criteria:
      ${r}

      **FILTERS:**
      Location: ${t.location||"N/A"} (Mandatory: ${t.locationMandatory})
      Min Experience: ${t.minExp||"N/A"} years (Mandatory: ${t.minExpMandatory})
      Seniority: ${t.seniority||"N/A"} (Mandatory: ${t.seniorityMandatory})
      Contact Info: (Mandatory: ${t.contactMandatory})

      **SCORING METHODOLOGY:**

      **1. Individual Criterion Scores (Chi tiết):**
      - For each of the 9 criteria, evaluate directly on its weight scale
      - If a criterion has weight W%, score it from 0 to W (not 0-100)
      - Example: If "Phù hợp JD" has 15% weight, score it as X/15 where X is 0-15
      - If "Kinh nghiệm" has 20% weight, score it as Y/20 where Y is 0-20
      - Base evaluation on how well the candidate matches the JD requirements

      **2. Subscore = Criterion Score (already weighted):**
      - The criterion score IS the subscore (no multiplication needed)
      - Formula format: "subscore X/weight_Y% = X points"

      **3. Overall Score Calculation:**
      Base score: 100 points.

      **Hard Filters Penalties:**
      - Each mandatory filter violation: -5 points
      - Special 3 filters (Location, Min Experience, Seniority) when mandatory: -10 points each

      **Bonuses:**
      - Experience: If JD requires Y years, candidate has X>Y years → +1 point per extra year, max +5
      - Core Skills Match: +1 point per core skill matched (from JD keywords), max +5
      - Soft Weights: If sliders enabled, normalize to 0-20 points and add

      **EDUCATION INFORMATION PROCESSING:**

      **1. Education Data Extraction:**
      - Extract complete education information: school name, degree, major, study period
      - Standardize format: "Tên trường - Bậc học - Ngành học - Thời gian"

      **2. School Name Validation:**
      - Check if school name exists and is legitimate
      - Flag warnings for non-educational institutions:
        * Job platforms: TopCV, VietnamWorks, FPT Jobs, JobStreet, etc.
        * Company names: FPT Software, Viettel, VNPT, etc.
        * Websites: facebook.com, google.com, etc.
        * Invalid entries: "Không có", "N/A", random text

      **3. Conflict Detection:**
      - If degree level says "university graduate" but school name is a company/job platform
      - If study period is unrealistic (e.g., 50 years)
      - If major doesn't match degree level

      **4. Scoring Impact:**
      - Valid education: Score normally based on relevance to JD
      - Invalid/suspicious education: -50% from normal score
      - Clear conflicts: -80% from normal score

      **5. Output Format:**
      - Standardized education info: "Đại học Bách khoa Hà Nội - Cử nhân - Công nghệ thông tin - 2015-2019"
      - Note: "Hợp lệ" or "Không hợp lệ – cần HR kiểm tra lại"
      - NEVER auto-correct, only flag for HR review

      **OUTPUT RULES (CRITICAL):**
      1. For each CV, create one JSON object matching the schema.
      2. Calculate detailed scores for 9 criteria using their weight scales (e.g., 12.5/15 for 15% weight criterion).
      3. "Tổng điểm" = 100 + Sum of all criterion scores + Bonuses - Penalties, then cap to 0-100.
      4. **"Hạng" based on final "Tổng điểm":**
         - A: 75-100 points (Excellent match)
         - B: 25-74 points (Good match)
         - C: 0-24 points (Poor match)
      5. Keep "Chi tiết" for logging, but UI shows only total.
      6. **MANDATORY FAIL:** If mandatory filter not met, apply penalties and may result in C grade.
      7. If CV unparsable, create FAILED entry.
      8. **IMPORTANT:** Criterion scores should reflect realistic performance on their weight scale!
    `},VL=async n=>{try{const e=await FU(n,()=>{}),t=8e3,i=e.length>t?e.substring(0,t)+"...":e;return{text:`--- CV Content for ${n.name} ---
${i}`}}catch(e){return console.error(`Could not process file ${n.name} for Gemini`,e),null}};async function*HL(n,e,t,i){const s=[{text:qL(n,e,t)}];for(let o=0;o<i.length;o++){const a=i[o];yield{status:"progress",message:`Đang xử lý tệp ${o+1}/${i.length}: ${a.name}`};const l=await VL(a);l?s.push(l):yield{id:`${a.name}-error-${Date.now()}`,status:"FAILED",error:"Không thể đọc tệp. Vui lòng kiểm tra lại định dạng và nội dung tệp.",candidateName:"Lỗi Xử Lý Tệp",fileName:a.name,jobTitle:"",industry:"",department:"",experienceLevel:"",detectedLocation:"",phone:"",email:""}}yield{status:"progress",message:"Tất cả các tệp đã được xử lý. Đang gửi đến AI để phân tích..."};try{const o=await Lf(Kh,{parts:s},{responseMimeType:"application/json",responseSchema:OL,temperature:0,topP:0,topK:1,thinkingConfig:{thinkingBudget:0}});yield{status:"progress",message:"AI đã phản hồi. Đang hoàn tất..."};const a=o.text.trim();let l=[];try{l=JSON.parse(a)}catch(f){throw console.error("Lỗi phân tích JSON từ AI:",f),console.error("Dữ liệu thô từ AI (500 ký tự đầu):",a.substring(0,500)),new Error("AI đã trả về dữ liệu không hợp lệ. Vui lòng thử lại.")}const c=f=>{let p=2166136261;for(let g=0;g<f.length;g++)p^=f.charCodeAt(g),p=Math.imul(p,16777619);return(p>>>0).toString(36)},u=l.map(f=>{const p=`${f.fileName||""}|${f.candidateName||""}|${f.jobTitle||""}|${f.experienceLevel||""}`;return{...f,id:`cand_${c(p)}`,status:"SUCCESS"}});u.sort((f,p)=>{var y,v;const g=typeof((y=f.analysis)==null?void 0:y["Tổng điểm"])=="number"?f.analysis["Tổng điểm"]:-1,b=typeof((v=p.analysis)==null?void 0:v["Tổng điểm"])=="number"?p.analysis["Tổng điểm"]:-1;return b!==g?b-g:(f.fileName||"").localeCompare(p.fileName||"")});for(const f of u)yield f}catch(o){console.error("Lỗi phân tích từ AI:",o);const a="AI không thể hoàn tất phân tích. Vui lòng thử lại sau. (Lỗi giao tiếp với máy chủ AI)";throw new Error(a)}}const GL={type:ke.OBJECT,properties:{responseText:{type:ke.STRING,description:"The natural language response to the user's query."},candidateIds:{type:ke.ARRAY,description:"An array of candidate IDs that are relevant to the response, if any.",items:{type:ke.STRING}}},required:["responseText","candidateIds"]},Q1=async(n,e)=>{const t=n.candidates.filter(o=>o.status==="SUCCESS"),i=t.map(o=>{var a,l,c,u;return{id:o.id,name:o.candidateName,rank:(a=o.analysis)==null?void 0:a.Hạng,totalScore:(l=o.analysis)==null?void 0:l["Tổng điểm"],jdFitPercent:(u=(c=o.analysis)==null?void 0:c["Chi tiết"])!=null&&u.find(f=>f["Tiêu chí"].startsWith("Phù hợp JD"))?parseInt(o.analysis["Chi tiết"].find(f=>f["Tiêu chí"].startsWith("Phù hợp JD")).Điểm.split("/")[0],10):0,title:o.jobTitle,level:o.experienceLevel}}),r={total:t.length,countA:t.filter(o=>{var a;return((a=o.analysis)==null?void 0:a.Hạng)==="A"}).length,countB:t.filter(o=>{var a;return((a=o.analysis)==null?void 0:a.Hạng)==="B"}).length,countC:t.filter(o=>{var a;return((a=o.analysis)==null?void 0:a.Hạng)==="C"}).length},s=`
    You are a helpful AI recruitment assistant. Your goal is to help the user analyze and select the best candidates based on the provided data.
    Your language MUST BE Vietnamese.

    **CONTEXT DATA:**
    - Job Position: ${n.job.position}
    - Summary: ${JSON.stringify(r)}
    - Candidate List (sanitized): ${JSON.stringify(i.slice(0,20))}
    
    **USER QUERY:** "${e}"

    **YOUR TASKS:**
    1.  Analyze the user's query and the context data.
    2.  Provide a concise, helpful, and natural response in Vietnamese.
    3.  If the query asks you to suggest, filter, or identify candidates, you MUST include their unique 'id' values in the 'candidateIds' array in your JSON output.
    4.  If no specific candidates are relevant, return an empty 'candidateIds' array.
    5.  Common queries to handle:
        - "suggest", "gợi ý": Find the top candidates based on criteria like rank, score, or jdFit.
        - "compare", "so sánh": Provide a brief comparison of specified candidates.
        - "interview questions", "câu hỏi phỏng vấn": Generate relevant interview questions for a candidate or for the role in general.

    **OUTPUT FORMAT:**
    You must respond with a single, valid JSON object that matches this schema:
    {
      "responseText": "Your Vietnamese language answer here.",
      "candidateIds": ["id-of-candidate-1", "id-of-candidate-2", ...]
    }
  `;try{const o=SC(),a=await Lf(Kh,s,{responseMimeType:"application/json",responseSchema:GL,temperature:0,topP:0,topK:1});return JSON.parse(a.text)}catch(o){throw console.error("Error getting chatbot advice from AI:",o),new Error("AI chatbot is currently unavailable.")}};$L();function $L(){return Date.now().toString(36)+Math.random().toString(36).substr(2)}const zL=({jdText:n,setJdText:e,jobPosition:t,setJobPosition:i,onComplete:r})=>{const s=n.trim().length>50&&t.trim().length>3,o=n.length,[a,l]=We.useState(!1),[c,u]=We.useState(""),[f,p]=We.useState(""),[g,b]=We.useState(!1),[y,v]=We.useState(""),x=async T=>{var _;const C=(_=T.target.files)==null?void 0:_[0];if(C){l(!0),p(""),v(""),e(""),i(""),u("Bắt đầu xử lý file...");try{const A=await IU(C,I=>{u(I)});if(!A||A.trim().length<50)throw new Error("Không thể trích xuất đủ nội dung từ file. Vui lòng thử file khác hoặc nhập thủ công.");u("AI đang phân tích và cấu trúc JD...");const R=await j1(A);e(R),u("Đã cấu trúc JD, đang xác định chức danh...");const k=await Z1(R);k&&i(k)}catch(A){console.error("Lỗi xử lý JD:",A);const R=A instanceof Error?A.message:"Đã xảy ra lỗi không xác định.";p(R),e("")}finally{l(!1),u("")}}},D=async()=>{if(n.trim().length<200){v("Nội dung JD quá ngắn để tóm tắt.");return}b(!0),v(""),p("");try{const T=await j1(n);e(T);const C=await Z1(T);C&&i(C)}catch(T){console.error("Lỗi tóm tắt JD:",T);const C=T instanceof Error?T.message:"Đã xảy ra lỗi không xác định khi tóm tắt.";v(C)}finally{b(!1)}};return E.jsx("section",{id:"module-jd",className:"module-pane active w-full","aria-labelledby":"jd-title",children:E.jsx("div",{className:"flex items-center justify-center p-4 sm:p-6 lg:p-8",children:E.jsx("div",{className:"w-full max-w-6xl",style:{maxWidth:"67rem"},children:E.jsxs("div",{className:"p-8 md:p-12 bg-[--card] border border-[--card-stroke] rounded-2xl shadow-2xl backdrop-blur-lg transition-transform duration-300 hover:-translate-y-0.5",style:{boxShadow:"var(--shadow)"},children:[E.jsxs("div",{className:"flex flex-col md:flex-row items-start gap-6 mb-8",children:[E.jsxs("div",{className:"relative w-full flex-grow",children:[E.jsx("input",{type:"text",id:"job-position",value:t,onChange:T=>i(T.target.value),className:"peer block w-full text-base px-5 py-3.5 bg-white/5 border border-white/10 rounded-xl transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-[--primary]/50 placeholder-transparent",placeholder:"Vd: Senior Frontend Developer","aria-describedby":"job-title-help",required:!0}),E.jsxs("label",{htmlFor:"job-position",className:`absolute -top-2.5 left-3 bg-[--bg] px-1 text-base text-[--muted] transition-all duration-300 pointer-events-none
                               peer-placeholder-shown:top-3.5 peer-placeholder-shown:left-4 peer-placeholder-shown:text-lg peer-placeholder-shown:bg-transparent peer-placeholder-shown:px-0
                               peer-focus:-top-2.5 peer-focus:left-3 peer-focus:bg-[--bg] peer-focus:px-1 peer-focus:text-base peer-focus:text-[--primary]`,children:[E.jsx("i",{className:"fa-solid fa-briefcase mr-1.5 text-[--accent]/80 opacity-0 peer-focus:opacity-100 transition-opacity"}),"Chức danh công việc ",E.jsx("span",{className:"text-red-400",children:"*"})]}),E.jsx("p",{id:"job-title-help",className:"sr-only",children:"Nhập chức danh công việc bạn đang tuyển dụng."})]}),a?E.jsxs("div",{className:"flex items-center gap-2 text-[--primary]/80 h-12 px-5 flex-shrink-0",children:[E.jsx("i",{className:"fa-solid fa-spinner fa-spin"}),E.jsx("span",{children:c})]}):E.jsxs("label",{htmlFor:"ocr-jd-input",title:"Nhận JD từ PDF/DOCX/PNG bằng OCR","aria-label":"Quét OCR JD",className:"w-full md:w-auto flex-shrink-0 cursor-pointer h-12 px-5 flex items-center justify-center text-base font-medium text-white bg-gradient-to-r from-blue-500 to-cyan-600 border border-blue-400/50 rounded-xl hover:from-blue-600 hover:to-cyan-700 hover:shadow-lg hover:shadow-blue-500/25 transition-all duration-200 shadow-md",children:[E.jsx("i",{className:"fa-solid fa-wand-magic-sparkles mr-2 text-lg"}),"OCR JD",E.jsx("input",{id:"ocr-jd-input",type:"file",className:"hidden",accept:".pdf, .docx, .png, .jpg, .jpeg",onChange:x,onClick:T=>{T.target.value=""},disabled:a||g})]})]}),E.jsxs("div",{className:"relative",children:[E.jsx("textarea",{id:"job-description",className:`w-full px-5 py-4 bg-white/5 border border-white/10 rounded-xl
                           min-h-[270px] sm:min-h-[305px] md:min-h-[347px]
                           text-base text-[--txt] leading-relaxed placeholder:text-[--muted]/60 
                           resize-none 
                           focus:outline-none focus:ring-2 focus:ring-[--primary]/50 whitespace-pre-wrap`,placeholder:"Dán mô tả công việc đầy đủ tại đây, hoặc dùng OCR JD...",value:n,onChange:T=>e(T.target.value)}),g?E.jsxs("div",{className:"absolute top-3 right-3 flex items-center gap-2 text-[--accent]/80 h-8 px-3 bg-[--bg] rounded-lg",children:[E.jsx("i",{className:"fa-solid fa-spinner fa-spin"}),E.jsx("span",{className:"text-xs",children:"AI đang rút gọn..."})]}):E.jsxs("button",{onClick:D,disabled:a||g||n.trim().length<200,title:"Dùng AI để tóm tắt và cấu trúc lại JD đã dán","aria-label":"Rút gọn ý chính JD",className:"absolute top-3 right-3 h-8 px-3 flex items-center justify-center text-xs font-medium text-white bg-gradient-to-r from-purple-500 to-pink-500 border border-purple-400/50 rounded-lg hover:from-purple-600 hover:to-pink-600 hover:shadow-lg hover:shadow-purple-500/25 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:shadow-none disabled:bg-slate-600",children:[E.jsx("i",{className:"fa-solid fa-brain mr-1.5"}),"Rút gọn JD"]}),E.jsxs("div",{className:"absolute bottom-3 left-4 text-xs font-mono text-[--muted] pointer-events-none",children:[o," ký tự"]})]}),(f||y)&&E.jsxs("p",{className:"text-[--warning] text-sm mt-4 text-left w-full font-medium",children:[E.jsx("i",{className:"fa-solid fa-triangle-exclamation mr-2"}),f||y]}),E.jsxs("div",{className:"mt-10 grid grid-cols-1 md:grid-cols-3 gap-4",children:[E.jsxs("div",{className:"md:col-span-2 flex gap-3",children:[E.jsxs("a",{href:"https://parse-jd.vercel.app/",target:"_blank",rel:"noopener noreferrer","aria-label":"Mở trang cải thiện JD",className:"flex-1 h-12 px-4 flex items-center justify-center text-sm font-medium text-white bg-gradient-to-r from-purple-500 to-pink-600 border border-purple-400/50 rounded-lg hover:from-purple-600 hover:to-pink-700 hover:shadow-lg hover:shadow-purple-500/25 transition-all duration-200 shadow-md",children:[E.jsx("i",{className:"fa-solid fa-wand-magic-sparkles md:mr-2"}),E.jsx("span",{className:"hidden md:inline",children:"Cải thiện JD"})]}),E.jsxs("a",{href:"https://forms.gle/S9WWRArx1pzWF6Bj8",target:"_blank",rel:"noopener noreferrer","aria-label":"Mở trang khảo sát phần mềm",className:"flex-1 h-12 px-4 flex items-center justify-center text-sm font-medium text-white bg-gradient-to-r from-emerald-500 to-teal-600 border border-emerald-400/50 rounded-lg hover:from-emerald-600 hover:to-teal-700 hover:shadow-lg hover:shadow-emerald-500/25 transition-all duration-200 shadow-md",children:[E.jsx("i",{className:"fa-solid fa-clipboard-question md:mr-2"}),E.jsx("span",{className:"hidden md:inline",children:"Khảo sát"})]})]}),E.jsxs("button",{onClick:r,disabled:!s,className:"h-12 px-8 text-base font-semibold flex items-center justify-center gap-2 rounded-xl text-[--bg] transition-all duration-300 ease-in-out shadow-lg bg-gradient-to-r from-[--primary] to-[--accent] hover:-translate-y-0.5 hover:shadow-[--accent]/20 hover:shadow-lg active:scale-95 disabled:bg-slate-700/50 disabled:text-slate-400 disabled:translate-y-0 disabled:shadow-none",children:[E.jsx("span",{className:"hidden md:inline",children:"Hoàn thành & Tiếp tục"}),E.jsx("i",{className:"fa-solid fa-check"})]})]})]})})})})},XL=({hardFilters:n,setHardFilters:e})=>{const t=s=>{const{id:o,value:a}=s.target;e(l=>({...l,[o]:a}))},i=s=>{const{id:o,checked:a}=s.target;e(l=>({...l,[o]:a}))},r=(s,o)=>`hf-control w-full bg-slate-800/80 border rounded-lg p-2.5 text-sm focus:ring-2 focus:border-blue-500 transition-all ${s&&!o?"border-red-500/80 ring-2 ring-red-500/30":"border-slate-600 focus:ring-blue-500"}`;return E.jsxs("div",{className:"h-full flex flex-col filters-panel",children:[E.jsx("div",{className:"mb-6",children:E.jsxs("h3",{className:"font-bold bg-gradient-to-r from-red-400 via-orange-500 to-yellow-400 text-transparent bg-clip-text text-lg flex items-center gap-3",children:[E.jsx("i",{className:"fa-solid fa-filter text-red-400 text-xl"}),"Tiêu chí Lọc"]})}),E.jsxs("div",{className:"flex-1 space-y-3 filters-fields-vertical",children:[E.jsxs("div",{className:`p-3 rounded-lg border transition-all duration-200 field block-field ${n.locationMandatory?"bg-blue-900/30 border-blue-700/50":"border-slate-700/40"}`,children:[E.jsxs("div",{className:"flex justify-between items-center mb-1.5",children:[E.jsxs("label",{htmlFor:"location",className:`text-sm font-semibold transition-colors ${n.locationMandatory?"text-blue-300":"text-blue-200"}`,children:["Địa điểm ",n.locationMandatory&&E.jsx("span",{className:"text-red-400",children:"*"})]}),E.jsx("label",{title:"Đánh dấu tiêu chí này là bắt buộc",htmlFor:"locationMandatory",className:"flex items-center cursor-pointer",children:E.jsx("input",{type:"checkbox",id:"locationMandatory",checked:n.locationMandatory,onChange:i,className:"w-4 h-4 text-blue-500 bg-slate-700 border-slate-600 rounded focus:ring-blue-600 focus:ring-offset-slate-800"})})]}),E.jsxs("select",{id:"location",value:n.location,onChange:t,className:r(n.locationMandatory,!!n.location)+" hf-control",children:[E.jsx("option",{value:"",children:"-- Bắt buộc chọn --"}),E.jsx("option",{value:"Hà Nội",children:"Hà Nội"}),E.jsx("option",{value:"Hải Phòng",children:"Hải Phòng"}),E.jsx("option",{value:"Đà Nẵng",children:"Đà Nẵng"}),E.jsx("option",{value:"Thành phố Hồ Chí Minh",children:"Thành phố Hồ Chí Minh"}),E.jsx("option",{value:"Remote",children:"Remote"})]})]}),E.jsxs("div",{className:`p-3 rounded-lg border transition-all duration-200 field block-field ${n.minExpMandatory?"bg-blue-900/30 border-blue-700/50":"border-slate-700/40"}`,children:[E.jsxs("div",{className:"flex justify-between items-center mb-1.5",children:[E.jsxs("label",{htmlFor:"minExp",className:`text-sm font-semibold transition-colors ${n.minExpMandatory?"text-emerald-300":"text-emerald-200"}`,children:["Kinh nghiệm ",n.minExpMandatory&&E.jsx("span",{className:"text-red-400",children:"*"})]}),E.jsx("label",{title:"Đánh dấu tiêu chí này là bắt buộc",htmlFor:"minExpMandatory",className:"flex items-center cursor-pointer",children:E.jsx("input",{type:"checkbox",id:"minExpMandatory",checked:n.minExpMandatory,onChange:i,className:"w-4 h-4 text-emerald-500 bg-slate-700 border-slate-600 rounded focus:ring-emerald-600 focus:ring-offset-slate-800"})})]}),E.jsxs("select",{id:"minExp",value:n.minExp,onChange:t,className:r(n.minExpMandatory,!!n.minExp)+" hf-control",children:[E.jsx("option",{value:"",children:"-- Không yêu cầu --"}),E.jsx("option",{value:"1",children:"≥ 1 năm"}),E.jsx("option",{value:"2",children:"≥ 2 năm"}),E.jsx("option",{value:"3",children:"≥ 3 năm"}),E.jsx("option",{value:"5",children:"≥ 5 năm"})]})]}),E.jsxs("div",{className:`p-3 rounded-lg border transition-all duration-200 field block-field ${n.seniorityMandatory?"bg-blue-900/30 border-blue-700/50":"border-slate-700/40"}`,children:[E.jsxs("div",{className:"flex justify-between items-center mb-1.5",children:[E.jsxs("label",{htmlFor:"seniority",className:`text-sm font-semibold transition-colors ${n.seniorityMandatory?"text-yellow-300":"text-yellow-200"}`,children:["Cấp bậc ",n.seniorityMandatory&&E.jsx("span",{className:"text-red-400",children:"*"})]}),E.jsx("label",{title:"Đánh dấu tiêu chí này là bắt buộc",htmlFor:"seniorityMandatory",className:"flex items-center cursor-pointer",children:E.jsx("input",{type:"checkbox",id:"seniorityMandatory",checked:n.seniorityMandatory,onChange:i,className:"w-4 h-4 text-yellow-500 bg-slate-700 border-slate-600 rounded focus:ring-yellow-600 focus:ring-offset-slate-800"})})]}),E.jsxs("select",{id:"seniority",value:n.seniority,onChange:t,className:r(n.seniorityMandatory,!!n.seniority)+" hf-control",children:[E.jsx("option",{value:"",children:"-- Không yêu cầu --"}),E.jsx("option",{value:"Intern",children:"Intern"}),E.jsx("option",{value:"Junior",children:"Junior"}),E.jsx("option",{value:"Mid-level",children:"Mid-level"}),E.jsx("option",{value:"Senior",children:"Senior"}),E.jsx("option",{value:"Lead",children:"Lead"})]})]}),E.jsxs("div",{className:`p-3 rounded-lg border transition-all duration-200 field block-field ${n.industryMandatory?"bg-blue-900/30 border-blue-700/50":"border-slate-700/40"}`,children:[E.jsxs("div",{className:"flex justify-between items-center mb-1.5",children:[E.jsxs("label",{htmlFor:"industry",className:`text-sm font-medium transition-colors ${n.industryMandatory?"text-blue-300":"text-slate-300"}`,children:["Ngành nghề ",n.industryMandatory&&E.jsx("span",{className:"text-red-400",children:"*"})]}),E.jsx("label",{title:"Đánh dấu tiêu chí này là bắt buộc",htmlFor:"industryMandatory",className:"flex items-center cursor-pointer",children:E.jsx("input",{type:"checkbox",id:"industryMandatory",checked:n.industryMandatory,onChange:i,className:"w-4 h-4 text-indigo-500 bg-slate-700 border-slate-600 rounded focus:ring-indigo-600 focus:ring-offset-slate-800"})})]}),E.jsx("input",{type:"text",id:"industry",value:n.industry,onChange:t,placeholder:"Vd: Software",className:r(n.industryMandatory,!!n.industry)+" hf-control"})]}),E.jsxs("div",{className:`p-3 rounded-lg border transition-all duration-200 field block-field ${n.languageMandatory?"bg-blue-900/30 border-blue-700/50":"border-slate-700/40"}`,children:[E.jsxs("div",{className:"flex justify-between items-center mb-1.5",children:[E.jsxs("label",{className:`text-sm font-semibold transition-colors ${n.languageMandatory?"text-purple-300":"text-purple-200"}`,children:["Ngôn ngữ ",n.languageMandatory&&E.jsx("span",{className:"text-red-400",children:"*"})]}),E.jsx("label",{title:"Đánh dấu tiêu chí này là bắt buộc",htmlFor:"languageMandatory",className:"flex items-center cursor-pointer",children:E.jsx("input",{type:"checkbox",id:"languageMandatory",checked:n.languageMandatory,onChange:i,className:"w-4 h-4 text-pink-500 bg-slate-700 border-slate-600 rounded focus:ring-pink-600 focus:ring-offset-slate-800"})})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[E.jsx("input",{type:"text",id:"language",value:n.language,onChange:t,placeholder:"Vd: Tiếng Anh",className:r(n.languageMandatory,!!n.language)+" hf-control"}),E.jsxs("select",{id:"languageLevel",value:n.languageLevel,onChange:t,className:r(!1,!0)+" hf-control",children:[" ",E.jsx("option",{value:"",children:"-- Mức yêu cầu --"}),E.jsx("option",{value:"B1",children:"CEFR B1"}),E.jsx("option",{value:"B2",children:"CEFR B2"}),E.jsx("option",{value:"C1",children:"CEFR C1"}),E.jsx("option",{value:"C2",children:"CEFR C2"})]})]})]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 items-stretch",children:[E.jsxs("div",{className:`p-3 rounded-lg border transition-all duration-200 field block-field flex flex-col ${n.educationMandatory?"bg-blue-900/30 border-blue-700/50":"border-slate-700/40"}`,children:[E.jsxs("div",{className:"flex justify-between items-center mb-1.5",children:[E.jsxs("label",{htmlFor:"education",className:`text-sm font-semibold transition-colors ${n.educationMandatory?"text-orange-300":"text-orange-200"}`,children:["Bằng cấp ",n.educationMandatory&&E.jsx("span",{className:"text-red-400",children:"*"})]}),E.jsx("label",{title:"Đánh dấu tiêu chí này là bắt buộc",htmlFor:"educationMandatory",className:"flex items-center cursor-pointer",children:E.jsx("input",{type:"checkbox",id:"educationMandatory",checked:n.educationMandatory,onChange:i,className:"w-4 h-4 text-orange-500 bg-slate-700 border-slate-600 rounded focus:ring-orange-600 focus:ring-offset-slate-800"})})]}),E.jsxs("select",{id:"education",value:n.education,onChange:t,className:r(n.educationMandatory,!!n.education)+" hf-control mt-auto",children:[E.jsx("option",{value:"",children:"-- Không yêu cầu --"}),E.jsx("option",{value:"High School",children:"Tốt nghiệp THPT"}),E.jsx("option",{value:"Associate",children:"Cao đẳng"}),E.jsx("option",{value:"Bachelor",children:"Cử nhân"}),E.jsx("option",{value:"Master",children:"Thạc sĩ"}),E.jsx("option",{value:"PhD",children:"Tiến sĩ"})]})]}),E.jsxs("div",{className:`p-3 rounded-lg border transition-all duration-200 field block-field flex flex-col ${n.certificatesMandatory?"bg-blue-900/30 border-blue-700/50":"border-slate-700/40"}`,children:[E.jsxs("div",{className:"flex justify-between items-center mb-1.5",children:[E.jsxs("label",{htmlFor:"certificates",className:`text-sm font-semibold transition-colors ${n.certificatesMandatory?"text-pink-300":"text-pink-200"}`,children:["Chứng chỉ ",n.certificatesMandatory&&E.jsx("span",{className:"text-red-400",children:"*"})]}),E.jsx("label",{title:"Đánh dấu tiêu chí này là bắt buộc",htmlFor:"certificatesMandatory",className:"flex items-center cursor-pointer",children:E.jsx("input",{type:"checkbox",id:"certificatesMandatory",checked:n.certificatesMandatory,onChange:i,className:"w-4 h-4 text-purple-500 bg-slate-700 border-slate-600 rounded focus:ring-purple-600 focus:ring-offset-slate-800"})})]}),E.jsx("input",{type:"text",id:"certificates",value:n.certificates,onChange:t,placeholder:"Vd: PMP, IELTS 7.0",className:r(n.certificatesMandatory,!!n.certificates)+" hf-control mt-auto"})]})]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 items-stretch",children:[E.jsxs("div",{className:`p-3 rounded-lg border transition-all duration-200 field block-field flex flex-col ${n.workFormatMandatory?"bg-blue-900/30 border-blue-700/50":"border-slate-700/40"}`,children:[E.jsxs("div",{className:"flex justify-between items-center mb-1.5",children:[E.jsxs("label",{htmlFor:"workFormat",className:`text-sm font-medium transition-colors ${n.workFormatMandatory?"text-blue-300":"text-slate-300"}`,children:["Hình thức ",n.workFormatMandatory&&E.jsx("span",{className:"text-red-400",children:"*"})]}),E.jsx("label",{title:"Đánh dấu tiêu chí này là bắt buộc",htmlFor:"workFormatMandatory",className:"flex items-center cursor-pointer",children:E.jsx("input",{type:"checkbox",id:"workFormatMandatory",checked:n.workFormatMandatory,onChange:i,className:"w-4 h-4 text-cyan-500 bg-slate-700 border-slate-600 rounded focus:ring-cyan-600 focus:ring-offset-slate-800"})})]}),E.jsxs("select",{id:"workFormat",value:n.workFormat,onChange:t,className:r(n.workFormatMandatory,!!n.workFormat)+" hf-control mt-auto",children:[E.jsx("option",{value:"",children:"-- Không yêu cầu --"}),E.jsx("option",{value:"Onsite",children:"Onsite"}),E.jsx("option",{value:"Hybrid",children:"Hybrid"}),E.jsx("option",{value:"Remote",children:"Remote"})]})]}),E.jsxs("div",{className:`p-3 rounded-lg border transition-all duration-200 field block-field flex flex-col ${n.contractTypeMandatory?"bg-blue-900/30 border-blue-700/50":"border-slate-700/40"}`,children:[E.jsxs("div",{className:"flex justify-between items-center mb-1.5",children:[E.jsxs("label",{htmlFor:"contractType",className:`text-sm font-medium transition-colors ${n.contractTypeMandatory?"text-blue-300":"text-slate-300"}`,children:["Hợp đồng ",n.contractTypeMandatory&&E.jsx("span",{className:"text-red-400",children:"*"})]}),E.jsx("label",{title:"Đánh dấu tiêu chí này là bắt buộc",htmlFor:"contractTypeMandatory",className:"flex items-center cursor-pointer",children:E.jsx("input",{type:"checkbox",id:"contractTypeMandatory",checked:n.contractTypeMandatory,onChange:i,className:"w-4 h-4 text-teal-500 bg-slate-700 border-slate-600 rounded focus:ring-teal-600 focus:ring-offset-slate-800"})})]}),E.jsxs("select",{id:"contractType",value:n.contractType,onChange:t,className:r(n.contractTypeMandatory,!!n.contractType)+" hf-control mt-auto",children:[E.jsx("option",{value:"",children:"-- Không yêu cầu --"}),E.jsx("option",{value:"Full-time",children:"Full-time"}),E.jsx("option",{value:"Part-time",children:"Part-time"}),E.jsx("option",{value:"Intern",children:"Intern"}),E.jsx("option",{value:"Contract",children:"Contract"})]})]})]})]})]})},JL=({criterion:n,setWeights:e,isExpanded:t,onToggle:i})=>{var a;const r=We.useMemo(()=>{var l;return((l=n.children)==null?void 0:l.reduce((c,u)=>c+u.weight,0))||0},[n.children]),s=(l,c)=>{e(u=>{const f={...u[n.key]};return f.children&&(f.children=f.children.map(p=>p.key===l?{...p,weight:c}:p)),{...u,[n.key]:f}})},o=r>20?"bg-emerald-500":r>10?"bg-blue-500":"bg-yellow-500";return E.jsxs("div",{className:"weight-tile bg-slate-800/60 border border-slate-700/80 rounded-xl shadow-md transition-all duration-300 hover:border-blue-500/50 hover:shadow-blue-500/10",children:[E.jsxs("button",{type:"button",className:"tile-head w-full flex flex-col p-3 text-left",onClick:i,"aria-expanded":t,children:[E.jsxs("div",{className:"flex items-center justify-between w-full",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("i",{className:`${n.icon} ${n.color} text-lg w-6 text-center`}),E.jsx("span",{className:"tile-title text-base font-semibold text-slate-200",children:n.name})]}),E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsxs("div",{className:"tile-badge text-base font-bold text-slate-100",children:[r,"%"]}),E.jsx("i",{className:`fa-solid fa-chevron-down text-slate-400 transition-transform duration-300 ${t?"rotate-180":""}`})]})]}),E.jsx("div",{className:"mt-2 mx-1 progress progress--thin",children:E.jsx("div",{className:`progress__bar ${o}`,style:{width:`${r}%`}})})]}),E.jsx("div",{className:`transition-all duration-300 ease-in-out overflow-hidden ${t?"max-h-96":"max-h-0"}`,children:E.jsx("div",{className:"tile-rows p-4 pt-2 space-y-4 border-t border-slate-700/50",children:(a=n.children)==null?void 0:a.map(l=>E.jsxs("div",{className:"tile-row grid grid-cols-10 items-center gap-4",children:[E.jsx("span",{className:"row-label text-sm text-slate-400 col-span-4",children:l.name}),E.jsx("input",{type:"range",min:"0",max:Math.max(20,l.weight),value:l.weight,onChange:c=>s(l.key,parseInt(c.target.value,10)),className:"row-range w-full h-1.5 bg-slate-600 rounded-lg appearance-none cursor-pointer col-span-4",style:{background:`linear-gradient(to right, #2563eb ${l.weight/Math.max(20,l.weight)*100}%, #475569 ${l.weight/Math.max(20,l.weight)*100}%)`}}),E.jsx("div",{className:"col-span-2 text-right",children:E.jsxs("span",{className:"row-badge text-sm font-semibold bg-slate-700/80 text-slate-200 px-3 py-1 rounded-md",children:[l.weight,"%"]})})]},l.key))})})]})},YL=({totalWeight:n})=>{const e=We.useMemo(()=>n===100?"text-emerald-400":n>100?"text-red-400":"text-yellow-400",[n]);return E.jsxs("div",{className:"flex items-center gap-3 total-weight-display",children:[E.jsx("div",{className:"flex-grow total-progress-bar relative h-[3px] bg-slate-700/60 rounded-full overflow-hidden",children:E.jsx("div",{style:{width:`${Math.min(100,n/100*100)}%`},className:`h-full rounded-full transition-all duration-500 ease-out ${n>100?"bg-red-500":n===100?"bg-gradient-to-r from-blue-500 to-emerald-500":"bg-yellow-500"}`})}),E.jsxs("span",{className:`text-sm font-bold flex-shrink-0 ${e}`,children:["Tổng ",n,"%"]})]})},KL=({weights:n,setWeights:e,hardFilters:t,setHardFilters:i,onComplete:r})=>{const[s,o]=We.useState(null),[a,l]=We.useState(null),c=We.useMemo(()=>Object.values(n).reduce((f,p)=>p.children?f+p.children.reduce((g,b)=>g+b.weight,0):f+(p.weight||0),0),[n]),u=()=>{l(null);const p=[{key:"location",label:"Địa điểm"},{key:"minExp",label:"Kinh nghiệm"},{key:"seniority",label:"Cấp bậc"},{key:"education",label:"Bằng cấp"},{key:"industry",label:"Ngành nghề"},{key:"language",label:"Ngôn ngữ"},{key:"certificates",label:"Chứng chỉ"},{key:"salary",label:"Mức lương"},{key:"workFormat",label:"Hình thức"},{key:"contractType",label:"Hợp đồng"}].find(g=>{const b=`${g.key}Mandatory`;if(!t[b])return!1;if(g.key==="salary")return!t.salaryMin&&!t.salaryMax;const y=g.key;return!t[y]});if(p){l(`Vui lòng điền giá trị cho tiêu chí bắt buộc: ${p.label}.`);return}r()};return E.jsx("section",{id:"module-weights",className:"module-pane active w-full",children:E.jsxs("div",{className:"weights-layout",children:[E.jsx("div",{className:"filters-col sticky top-6",children:E.jsx(XL,{hardFilters:t,setHardFilters:i})}),E.jsx("div",{className:"layout-divider","aria-hidden":"true"}),E.jsxs("div",{className:"weights-col flex flex-col",children:[E.jsxs("div",{className:"flex items-start justify-between px-6 pt-6 pb-3",children:[E.jsxs("h2",{className:"text-xl font-bold bg-gradient-to-r from-purple-400 via-blue-500 to-cyan-400 text-transparent bg-clip-text flex items-center gap-3",children:[E.jsx("i",{className:"fa-solid fa-balance-scale text-purple-400 text-2xl"}),"Phân bổ Trọng số Chấm điểm"]}),E.jsx("div",{className:"hidden sm:flex items-center gap-2 text-sm font-medium",children:E.jsxs("span",{className:`px-3 py-1 rounded-full border text-xs tracking-wide ${c===100?"border-emerald-500 text-emerald-400 bg-emerald-500/10":"border-red-500 text-red-400 bg-red-500/10"}`,children:["Tổng: ",c,"%"]})})]}),E.jsx("div",{className:"weights-body flex-1 px-6 pb-6 space-y-2",children:Object.values(n).filter(f=>f.children).map(f=>E.jsx(JL,{criterion:f,weights:n,setWeights:e,isExpanded:s===f.key,onToggle:()=>o(p=>p===f.key?null:f.key)},f.key))}),E.jsxs("div",{className:"weights-footer mt-auto border-t border-white/10 bg-slate-900/30 px-6 py-5 rounded-b-xl flex flex-col sm:flex-row gap-4 items-center",children:[E.jsx("div",{className:"flex-1 w-full",children:E.jsx(YL,{totalWeight:c})}),E.jsx("div",{className:"toolbar w-full sm:w-auto",children:E.jsxs("button",{onClick:u,disabled:c!==100,className:"btn-elevate h-12 px-8 bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-semibold rounded-xl hover:from-blue-500 hover:to-indigo-500 focus:outline-none focus:ring-4 focus:ring-blue-500/40 transition-base text-base flex items-center justify-center gap-2 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed disabled:from-slate-600 disabled:to-slate-700",children:[E.jsx("span",{className:"hidden md:inline",children:"Hoàn thành & Tiếp tục"}),E.jsx("i",{className:"fa-solid fa-check"})]})}),a&&E.jsx("p",{className:"text-red-400 text-sm w-full text-center font-medium",children:a})]})]})]})})},jL=n=>{const{cvFiles:e,setCvFiles:t,jdText:i,weights:r,hardFilters:s,setAnalysisResults:o,setIsLoading:a,setLoadingMessage:l,onAnalysisStart:c,completedSteps:u}=n,[f,p]=We.useState(""),g=y=>{if(y.target.files){const v=Array.from(y.target.files);if(v.length>12){p("Chỉ được phép tải lên tối đa 12 CV mỗi lần."),t([]);return}p(""),t(v)}},b=async()=>{const v=["jd","weights"].filter(x=>!u.includes(x));if(v.length>0){const x=v.map(D=>D==="jd"?"Mô tả công việc":D==="weights"?"Phân bổ trọng số":D).join(", ");p(`Vui lòng hoàn thành các bước trước: ${x}.`);return}if(e.length===0){p("Vui lòng chọn ít nhất một tệp CV để phân tích.");return}p(""),a(!0),c(),o([]);try{const x=HL(i,r,s,e);for await(const D of x)D.status==="progress"?l(D.message):o(T=>[...T,D])}catch(x){console.error("Lỗi phân tích CV:",x);const D=x instanceof Error?x.message:"Đã xảy ra lỗi không xác định. Vui lòng thử lại.";p(D),o(T=>T.some(C=>C.candidateName==="Lỗi Hệ Thống")?T:[...T,{id:`system-error-${Date.now()}`,status:"FAILED",error:D,candidateName:"Lỗi Hệ Thống",fileName:"N/A",jobTitle:"",industry:"",department:"",experienceLevel:"",detectedLocation:""}])}finally{a(!1),l("Hoàn tất phân tích!")}};return E.jsx("section",{id:"module-upload",className:"module-pane active w-full",children:E.jsxs("div",{className:"glass-effect tf-card p-4 md:p-6 rounded-2xl border border-blue-500/20 space-y-6",children:[E.jsxs("div",{className:"relative",children:[E.jsxs("label",{htmlFor:"cv-files",className:"w-full cursor-pointer bg-gradient-to-br from-blue-500/20 to-purple-500/20 text-blue-300 font-bold py-3 px-3 sm:py-4 sm:px-5 rounded-xl border-2 border-dashed border-blue-500/40 hover:from-blue-500/30 hover:to-purple-500/30 hover:border-blue-500/60 transition duration-300 flex items-center justify-center gap-3 backdrop-blur-sm group",children:[E.jsx("div",{className:"w-9 h-9 sm:w-10 sm:h-10 bg-gradient-to-br from-blue-500 to-purple-500 rounded-full flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:E.jsx("i",{className:"fa-solid fa-cloud-arrow-up text-white text-lg"})}),E.jsxs("div",{className:"text-center",children:[E.jsx("span",{className:"block text-base md:text-lg font-bold",children:"Chọn Tệp CV"}),E.jsx("span",{className:"block text-xs sm:text-sm text-slate-400 mt-1",children:"Hỗ trợ PDF, DOC, DOCX, TXT, JPG, PNG"}),E.jsx("span",{className:"block text-xs text-orange-400 mt-1 font-semibold",children:"Tối đa 12 CV mỗi lần phân tích"})]})]}),E.jsx("input",{type:"file",id:"cv-files",multiple:!0,accept:".txt,.pdf,.doc,.docx,.jpg,.jpeg,.png",className:"hidden",onChange:g}),E.jsx("div",{id:"file-list",className:"mt-4 space-y-2 text-sm text-slate-400",children:e.map((y,v)=>E.jsxs("div",{className:"flex items-center bg-slate-800/50 p-2 rounded-md border border-slate-700",children:[E.jsx("i",{className:"fa-regular fa-file-lines mr-3 text-slate-400"}),E.jsx("span",{className:"truncate flex-1",children:y.name}),E.jsxs("span",{className:"text-xs text-slate-500 ml-2",children:[(y.size/1024).toFixed(1)," KB"]})]},v))})]}),E.jsxs("div",{className:"space-y-4 pt-2",children:[f&&E.jsx("div",{className:"text-sm text-red-400 font-semibold bg-red-500/10 p-3 rounded-lg border border-red-500/20",children:f}),E.jsxs("button",{id:"analyze-button",onClick:b,disabled:e.length===0,className:"w-full bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 text-white font-bold py-4 md:py-5 px-8 rounded-xl hover:from-blue-700 hover:via-purple-700 hover:to-pink-700 focus:outline-none focus:ring-4 focus:ring-blue-500/50 transition-all duration-300 disabled:from-slate-600 disabled:via-slate-600 disabled:to-slate-600 disabled:text-slate-400 disabled:cursor-not-allowed flex items-center justify-center gap-3 text-xl btn-glow shadow-xl relative overflow-hidden group",children:[E.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 bg-white/20 rounded-full flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:E.jsx("i",{className:"fa-solid fa-rocket text-white"})}),E.jsx("span",{children:"Phân Tích CV với AI"})]})]})]})})};var Cg,e2;function ZL(){if(e2)return Cg;e2=1;var n="Expected a function",e=NaN,t="[object Symbol]",i=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,o=/^0o[0-7]+$/i,a=parseInt,l=typeof Ln=="object"&&Ln&&Ln.Object===Object&&Ln,c=typeof self=="object"&&self&&self.Object===Object&&self,u=l||c||Function("return this")(),f=Object.prototype,p=f.toString,g=Math.max,b=Math.min,y=function(){return u.Date.now()};function v(_,A,R){var k,I,L,J,U,O,S=0,K=!1,q=!1,B=!0;if(typeof _!="function")throw new TypeError(n);A=C(A)||0,x(R)&&(K=!!R.leading,q="maxWait"in R,L=q?g(C(R.maxWait)||0,A):L,B="trailing"in R?!!R.trailing:B);function j(ce){var ge=k,ye=I;return k=I=void 0,S=ce,J=_.apply(ye,ge),J}function V(ce){return S=ce,U=setTimeout(X,A),K?j(ce):J}function Y(ce){var ge=ce-O,ye=ce-S,Te=A-ge;return q?b(Te,L-ye):Te}function F(ce){var ge=ce-O,ye=ce-S;return O===void 0||ge>=A||ge<0||q&&ye>=L}function X(){var ce=y();if(F(ce))return z(ce);U=setTimeout(X,Y(ce))}function z(ce){return U=void 0,B&&k?j(ce):(k=I=void 0,J)}function ne(){U!==void 0&&clearTimeout(U),S=0,k=O=I=U=void 0}function oe(){return U===void 0?J:z(y())}function pe(){var ce=y(),ge=F(ce);if(k=arguments,I=this,O=ce,ge){if(U===void 0)return V(O);if(q)return U=setTimeout(X,A),j(O)}return U===void 0&&(U=setTimeout(X,A)),J}return pe.cancel=ne,pe.flush=oe,pe}function x(_){var A=typeof _;return!!_&&(A=="object"||A=="function")}function D(_){return!!_&&typeof _=="object"}function T(_){return typeof _=="symbol"||D(_)&&p.call(_)==t}function C(_){if(typeof _=="number")return _;if(T(_))return e;if(x(_)){var A=typeof _.valueOf=="function"?_.valueOf():_;_=x(A)?A+"":A}if(typeof _!="string")return _===0?_:+_;_=_.replace(i,"");var R=s.test(_);return R||o.test(_)?a(_.slice(2),R?2:8):r.test(_)?e:+_}return Cg=v,Cg}var QL=ZL();const e8=Yh(QL),t8=({analysisData:n,onClose:e})=>{const[t,i]=We.useState([{id:"initial",author:"bot",content:"Chào bạn, tôi là trợ lý AI. Tôi có thể giúp gì cho bạn với danh sách ứng viên này?"}]),[r,s]=We.useState(""),[o,a]=We.useState(!1),[l,c]=We.useState(!0),u=We.useRef(null);We.useEffect(()=>{var y;(y=u.current)==null||y.scrollIntoView({behavior:"smooth"})},[t]);const f=We.useMemo(()=>{const y=(n==null?void 0:n.candidates)||[],v=n.job.position;if(!y.length)return[`Ứng viên nào phù hợp nhất với vị trí ${v}?`,`3 ứng viên nào nên ưu tiên phỏng vấn đầu cho ${v}?`,`Điểm yếu quan trọng nào cần lưu ý khi chọn ứng viên cho ${v}?`];const x={};for(const _ of y){const A=(_.industry||"").trim();A&&(x[A]=(x[A]||0)+1)}let D="",T=0;for(const[_,A]of Object.entries(x))A>T&&(T=A,D=_);const C=[];return D?C.push(`Ứng viên nào nổi bật nhất trong ngành ${D} cho vị trí ${v}?`,`Top 3 ứng viên ngành ${D} nên phỏng vấn đầu và lý do?`,`Những rủi ro quan trọng cần chú ý khi chọn ứng viên trong ngành ${D} cho ${v}?`):C.push(`Ứng viên nào phù hợp nhất với vị trí ${v}?`,`3 ứng viên nào nên ưu tiên phỏng vấn đầu cho ${v}?`,`Điểm yếu quan trọng nào cần lưu ý khi chọn ứng viên cho ${v}?`),C.slice(0,3)},[n]),p=async y=>{s(y),c(!1);const v={id:Date.now().toString(),author:"user",content:y};i(x=>[...x,v]),s(""),a(!0);try{const{responseText:x,candidateIds:D}=await Q1(n,y),T=n.candidates.filter(_=>D.includes(_.id)),C={id:(Date.now()+1).toString(),author:"bot",content:x,suggestedCandidates:T.length>0?T.map(_=>({id:_.id,candidateName:_.candidateName,analysis:_.analysis})):void 0};i(_=>[..._,C])}catch(x){const D=x instanceof Error?x.message:"Đã có lỗi xảy ra.",T={id:(Date.now()+1).toString(),author:"bot",content:`Rất tiếc, đã có lỗi: ${D}`};i(C=>[...C,T])}finally{a(!1)}},g=async y=>{if(y.preventDefault(),!r.trim()||o)return;const v={id:Date.now().toString(),author:"user",content:r};i(x=>[...x,v]),s(""),c(!1),a(!0);try{const{responseText:x,candidateIds:D}=await Q1(n,r),T=n.candidates.filter(_=>D.includes(_.id)),C={id:(Date.now()+1).toString(),author:"bot",content:x,suggestedCandidates:T.length>0?T.map(_=>({id:_.id,candidateName:_.candidateName,analysis:_.analysis})):void 0};i(_=>[..._,C])}catch(x){const D=x instanceof Error?x.message:"Đã có lỗi xảy ra.",T={id:(Date.now()+1).toString(),author:"bot",content:`Rất tiếc, đã có lỗi: ${D}`};i(C=>[...C,T])}finally{a(!1)}},b=({message:y})=>{const v=y.author==="bot";return E.jsxs("div",{className:`flex gap-3 ${v?"justify-start":"justify-end"}`,children:[v&&E.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-700 flex items-center justify-center flex-shrink-0",children:E.jsx("i",{className:"fa-solid fa-robot text-sky-500"})}),E.jsxs("div",{className:`max-w-xs md:max-w-sm lg:max-w-xs rounded-2xl px-4 py-2.5 ${v?"bg-slate-800 text-slate-200 rounded-tl-none":"bg-sky-800 text-white rounded-br-none"}`,children:[E.jsx("p",{className:"text-sm leading-relaxed",children:y.content}),y.suggestedCandidates&&E.jsxs("div",{className:"mt-3 pt-3 border-t border-slate-600 space-y-2",children:[E.jsx("p",{className:"text-xs font-semibold text-slate-400",children:"Ứng viên liên quan:"}),y.suggestedCandidates.map(x=>{var D,T;return E.jsxs("div",{className:"bg-slate-700/50 p-2 rounded-lg text-xs",children:[E.jsx("p",{className:"font-bold text-white",children:x.candidateName}),E.jsxs("p",{className:"text-slate-300",children:["Hạng: ",(D=x.analysis)==null?void 0:D.Hạng," - Điểm: ",(T=x.analysis)==null?void 0:T["Tổng điểm"]]})]},x.id)})]})]})]})};return E.jsxs("div",{className:"bg-slate-800/70 border border-slate-700 rounded-2xl shadow-lg flex flex-col h-96 max-h-[70vh] z-50",children:[E.jsxs("header",{className:"p-4 border-b border-slate-700 flex-shrink-0 flex items-center justify-between",children:[E.jsxs("h3",{className:"font-bold text-lg text-white flex items-center gap-2",children:[E.jsx("i",{className:"fa-solid fa-brain text-sky-500"}),"Trợ lý Tuyển dụng AI"]}),e&&E.jsx("button",{onClick:e,className:"text-slate-400 hover:text-white transition-colors","aria-label":"Đóng chatbot",children:E.jsx("i",{className:"fa-solid fa-times"})})]}),E.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-5",children:[t.map(y=>E.jsx(b,{message:y},y.id)),o&&E.jsxs("div",{className:"flex justify-start gap-3",children:[E.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-700 flex items-center justify-center flex-shrink-0",children:E.jsx("i",{className:"fa-solid fa-robot text-sky-500"})}),E.jsxs("div",{className:"max-w-xs rounded-2xl px-4 py-3 bg-slate-800 rounded-tl-none flex items-center gap-2",children:[E.jsx("span",{className:"w-2 h-2 bg-slate-400 rounded-full animate-pulse delay-0"}),E.jsx("span",{className:"w-2 h-2 bg-slate-400 rounded-full animate-pulse delay-150"}),E.jsx("span",{className:"w-2 h-2 bg-slate-400 rounded-full animate-pulse delay-300"})]})]}),E.jsx("div",{ref:u})]}),E.jsxs("div",{className:"p-3 border-t border-slate-700 flex-shrink-0 bg-slate-800/50 rounded-b-2xl",children:[l&&t.length===1&&E.jsxs("div",{className:"mb-3",children:[E.jsx("p",{className:"text-xs text-slate-400 mb-2",children:"Gợi ý câu hỏi:"}),E.jsx("div",{className:"flex flex-wrap gap-2",children:f.map((y,v)=>E.jsx("button",{onClick:()=>p(y),className:"text-xs bg-slate-700 hover:bg-slate-600 text-slate-200 px-3 py-1.5 rounded-full transition-colors border border-slate-600",disabled:o,children:y},v))})]}),E.jsxs("form",{onSubmit:g,className:"flex gap-2",children:[E.jsx("input",{type:"text",value:r,onChange:y=>s(y.target.value),placeholder:"Hỏi AI về ứng viên...",className:"flex-1 bg-slate-700 border border-slate-600 rounded-lg px-4 py-2.5 text-sm text-white focus:outline-none focus:ring-2 focus:ring-sky-600 transition-colors disabled:opacity-50",disabled:o}),E.jsx("button",{type:"submit",disabled:o||!r.trim(),className:"w-10 h-10 flex items-center justify-center bg-sky-700 text-white rounded-lg hover:bg-sky-600 transition-colors disabled:bg-slate-600 disabled:cursor-not-allowed flex-shrink-0",children:o?E.jsx("i",{className:"fa-solid fa-spinner fa-spin"}):E.jsx("i",{className:"fa-solid fa-paper-plane"})})]})]})]})},Ch=["frontend","backend","fullstack","mobile","android","ios","devops","data","qa","tester","product","designer","ui","ux"],Ah=["java","spring","react","node","python","django","flask","golang","go","dotnet",".net","c#","c++","kotlin","swift","angular","vue","flutter","docker","kubernetes","k8s","sql","mysql","postgres","mongodb","redis","kafka","elasticsearch","aws","azure","gcp","cloud","terraform"],Eh=["fintech","ecommerce","banking","payment","logistics","edtech","education","healthcare","retail","saas"],wh=["agile","scrum","kanban","ci/cd","cicd","tdd","devops"],Sh=["lead","leader","leadership","mentor","ownership","independent","autonomous","self-driven"];function Bf(n){return n.toLowerCase().normalize("NFD").replace(new RegExp("\\p{Diacritic}+","gu"),"").replace(/[^a-z0-9+./#\-\s]/g," ").replace(/\s+/g," ").trim()}function Kl(n){return[...new Set(n)]}function UC(n){const e=[];let t;const i=/(\d+)\s*[-–]\s*(\d+)\s*(?:nam|year|yrs|y)/gi,r=/(\d+)\s*(?:\+|plus)?\s*(?:nam|year|yrs|y)/gi;let s;for(;s=i.exec(n);)e.push(`years_${s[1]}-${s[2]}`),t=Math.max(t??0,parseInt(s[2],10));for(;s=r.exec(n);){const o=parseInt(s[1],10);e.push(`years>=${o}`),t=Math.max(t??0,o)}return{yearsTokens:Kl(e),maxYears:t}}function n8(n){if(!n)return{keywords:[]};const i=Bf(n).split(/\n|\r/).map(c=>c.trim()).filter(Boolean).filter(c=>/(yeu cau|kinh nghiem|requirement|experience|qualification)/.test(c));if(i.length===0)return{keywords:[]};const r=i.join(" "),{yearsTokens:s,maxYears:o}=UC(r),a=[...s],l=(c,u)=>{u.forEach(f=>{r.includes(f)&&a.push(f)})};return l(a,Ch),l(a,Ah),l(a,Eh),l(a,wh),l(a,Sh),{keywords:Kl(a),requiredYears:o}}function i8(n){if(!n)return{keywords:[]};const e=Bf(n),{yearsTokens:t,maxYears:i}=UC(e),r=[...t],s=(o,a)=>a.forEach(l=>{o.includes(l)&&r.push(l)});return s(e,Ch),s(e,Ah),s(e,Eh),s(e,wh),s(e,Sh),{keywords:Kl(r),totalYears:i}}function r8(n,e,t,i){if(n.length===0)return{jdKeywords:[],cvKeywords:e,matched:[],missing:[],uncertain:[],matchPercent:"N/A",fitLabel:"N/A"};const r=n.filter(x=>e.includes(x)),s=n.filter(x=>!e.includes(x)&&!x.startsWith("years")),o=[],a={years:35,role:25,tech:25,domain_method:10,leadership:5};let l=0,c=0;if(n.some(x=>x.startsWith("years"))&&t!==void 0&&(c+=a.years,i!==void 0?i>=t?l+=a.years:i>=.8*t&&(l+=a.years*.5):o.push(n.find(x=>x.startsWith("years")))),n.some(x=>Ch.includes(x))&&(c+=a.role,e.some(x=>Ch.includes(x))?l+=a.role:o.push("role")),n.some(x=>Ah.includes(x))){c+=a.tech;const x=n.filter(T=>Ah.includes(T));x.some(T=>e.includes(T))?l+=a.tech:s.push(x[0])}n.some(x=>Eh.includes(x)||wh.includes(x))&&(c+=a.domain_method,e.some(D=>Eh.includes(D)||wh.includes(D))?l+=a.domain_method:o.push("domain/method")),n.some(x=>Sh.includes(x))&&(c+=a.leadership,e.some(D=>Sh.includes(D))?l+=a.leadership:o.push("leadership"));const y=c===0?"N/A":parseFloat((l/c*100).toFixed(1));let v="N/A";return y!=="N/A"&&(v=y>=80?"Strong Fit":y>=65?"Good":y>=50?"Moderate":"Low"),{jdKeywords:n,cvKeywords:e,matched:r,missing:Kl(s),uncertain:Kl(o),matchPercent:y,fitLabel:v,totalYearsCV:i,requiredYearsJD:t}}function s8(n,e){const{keywords:t,requiredYears:i}=n8(n),{keywords:r,totalYears:s}=i8(e);return r8(t,r,i,s)}const o8=["java","spring","react","node","python","kotlin","swift","docker","kubernetes","k8s","terraform","aws","azure","gcp","sql","mongodb","redis","kafka","elk","elasticsearch","microservice","microservices"],a8=["kpi","%","percent","tăng","giam","increase","reduce","growth","roi","revenue","throughput","latency","users","mau","dau"],l8=["dai hoc","university","college","bachelor","master","phd","cử nhân","thạc sĩ","tiến sĩ"],c8=["english","toeic","ielts","japanese","n2","chinese","korean","german"],u8=["report","documentation","process","compliance","standard","iso"],d8=["months","years"],h8=["teamwork","collaborative","ownership","growth mindset","adapt","communication"],f8=[{key:"jobfit",display:"Phù hợp JD (Job Fit)",hints:[]},{key:"experience",display:"Kinh nghiệm",hints:[]},{key:"skills",display:"Kỹ năng",hints:o8},{key:"achievements",display:"Thành tựu/KPI",hints:a8},{key:"education",display:"Học vấn",hints:l8},{key:"language",display:"Ngôn ngữ",hints:c8},{key:"professional",display:"Chuyên nghiệp",hints:u8},{key:"stability",display:"Gắn bó & Lịch sử CV",hints:d8},{key:"culture",display:"Phù hợp văn hoá",hints:h8}];function p8(n){if(!n)return[];const e=Bf(n),t=[];return f8.forEach(i=>{if(i.key!=="experience")if(i.hints.length===0){const r=Array.from(new Set(e.match(/\b[a-z]{4,}\b/g)||[])).filter(s=>s.length<=16&&/dev|engineer|developer|product|design|data|qa|test|front|back|full|lead|manager/.test(s)).slice(0,12);t.push({key:i.key,display:i.display,keywords:r})}else{const r=i.hints.filter(s=>e.includes(s)).slice(0,20);r.length&&t.push({key:i.key,display:i.display,keywords:r})}}),t}function g8(n,e,t){if(e.length===0)return null;const i=Bf(t||"").replace(/\n+/g," "),r=e.filter(o=>i.includes(o)),s=e.filter(o=>!i.includes(o));return{display:n,jdKeywords:e,matched:r,missing:s}}const t2=["Phù hợp JD (Job Fit)","Kinh nghiệm","Kỹ năng","Thành tựu/KPI","Học vấn","Ngôn ngữ","Chuyên nghiệp","Gắn bó & Lịch sử CV","Phù hợp văn hoá"],m8={"Phù hợp JD (Job Fit)":{icon:"fa-solid fa-bullseye",color:"text-sky-400"},"Kinh nghiệm":{icon:"fa-solid fa-briefcase",color:"text-green-400"},"Kỹ năng":{icon:"fa-solid fa-gears",color:"text-purple-400"},"Thành tựu/KPI":{icon:"fa-solid fa-trophy",color:"text-yellow-400"},"Học vấn":{icon:"fa-solid fa-graduation-cap",color:"text-indigo-400"},"Ngôn ngữ":{icon:"fa-solid fa-language",color:"text-orange-400"},"Chuyên nghiệp":{icon:"fa-solid fa-file-invoice",color:"text-cyan-400"},"Gắn bó & Lịch sử CV":{icon:"fa-solid fa-hourglass-half",color:"text-lime-400"},"Phù hợp văn hoá":{icon:"fa-solid fa-users-gear",color:"text-pink-400"}},y8=({item:n,isExpanded:e,onToggle:t,jdText:i})=>{const[r,s]=ah.useState(!1),o=We.useMemo(()=>{var U;const _=n.Điểm.match(/([\d.]+)\/([\d.]+)/),A=parseFloat((_==null?void 0:_[1])||"0"),R=parseFloat((_==null?void 0:_[2])||"0");console.log("Formula from AI:",n["Công thức"]),console.log("Score format:",n.Điểm);let k=n["Công thức"].match(/subscore ([\d.]+)\/([\d.]+)% = ([\d.]+) points/),I=parseFloat((k==null?void 0:k[1])||"0"),L=parseFloat((k==null?void 0:k[2])||"0"),J=(k==null?void 0:k[3])||"0";if(k||(k=n["Công thức"].match(/subscore ([\d.]+) × trọng số ([\d]+)% = (.*)$/),I=parseFloat((k==null?void 0:k[1])||"0"),L=parseFloat((k==null?void 0:k[2])||"0"),J=((U=k==null?void 0:k[3])==null?void 0:U.trim())||"0"),!k){const O=n["Công thức"].match(/[\d.]+/g);O&&O.length>=2&&(I=parseFloat(O[0]),L=R,J=I.toString())}return console.log("Parsed data:",{score:A,maxScore:R,subscore:I,weight:L,formulaResult:J}),{score:A,maxScore:R,subscore:I,weight:L,formulaResult:J}},[n]),a=()=>{navigator.clipboard.writeText(n["Dẫn chứng"]),s(!0),setTimeout(()=>s(!1),2e3)},l=m8[n["Tiêu chí"]]||{icon:"fa-solid fa-question-circle",color:"text-slate-400"},c=o.score/o.maxScore*100,u=c>=85?"bg-emerald-500/20 text-emerald-300 border-emerald-500/30":c>=65?"bg-yellow-500/20 text-yellow-300 border-yellow-500/30":"bg-red-500/20 text-red-300 border-red-500/30",f=c>=90?"Expert":c>=75?"Advanced":c>=55?"Intermediate":"Beginner",p=[];c<55&&(/Kỹ năng/i.test(n["Tiêu chí"])&&p.push("Bổ sung chứng chỉ hoặc dự án thực tế thể hiện mức độ làm chủ công nghệ cốt lõi."),/Kinh nghiệm/i.test(n["Tiêu chí"])&&p.push("Làm rõ số năm, phạm vi trách nhiệm và kết quả định lượng trong từng vai trò."),/Thành tựu|KPI/i.test(n["Tiêu chí"])&&p.push("Thêm KPI cụ thể (ví dụ: % cải thiện, số người dùng, tốc độ, doanh thu)."),/Học vấn/i.test(n["Tiêu chí"])&&p.push("Bổ sung chuyên ngành, đề tài hoặc môn học liên quan JD."),/Ngôn ngữ/i.test(n["Tiêu chí"])&&p.push("Ghi rõ cấp độ (IELTS/TOEIC/CEFR) hoặc kinh nghiệm sử dụng trong môi trường quốc tế."),/Chuyên nghiệp/i.test(n["Tiêu chí"])&&p.push("Chuẩn hóa format bullet, thống nhất thì hiện tại/quá khứ và kiểm tra lỗi chính tả."),/Gắn bó/i.test(n["Tiêu chí"])&&p.push("Làm rõ lý do chuyển việc hoặc nhấn mạnh các giai đoạn ổn định dài hạn."),/văn hoá/i.test(n["Tiêu chí"])&&p.push("Thêm minh chứng về teamwork, ownership hoặc growth mindset."));const g=c,b=_=>{if(!_||_==="Không tìm thấy thông tin trong CV")return _;const A=[/\b(aws|azure|gcp|docker|kubernetes|react|node|python|java|typescript|sql|mongodb|redis|kafka)\b/gi,/\b(\d+\s*(?:%|users|người|MAU|DAU|triệu|tỷ|kpi|doanh thu|revenue))\b/gi,/\b(leader|leadership|teamwork|ownership|growth|agile|scrum)\b/gi];let R=_;return A.forEach((k,I)=>{R=R.replace(k,L=>`<span class="evidence-hl hl-${I}">${L}</span>`)}),R},y=/Kinh nghiệm/i.test(n["Tiêu chí"]),v=We.useMemo(()=>p8(i),[i]),x=We.useMemo(()=>v.find(_=>_.display===n["Tiêu chí"]),[v,n["Tiêu chí"]]),D=We.useMemo(()=>y||!x?null:g8(n["Tiêu chí"],x.keywords,n["Dẫn chứng"]),[x,n["Dẫn chứng"],y,n["Tiêu chí"]]);let T=null,C=null;return y&&(C=s8(i,n["Dẫn chứng"]||""),T=E.jsxs("div",{className:"bg-slate-900/70 p-3 rounded-lg space-y-3",children:[E.jsx("h5",{className:"text-sm font-semibold text-slate-300 mb-1",children:"Phân tích nhanh"}),C.matchPercent==="N/A"?E.jsx("p",{className:"text-xs text-slate-500 italic",children:"JD chưa có mục yêu cầu kinh nghiệm rõ ràng"}):E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"space-y-2",children:[E.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-400",children:[E.jsx("span",{children:"Mức độ phù hợp JD"}),E.jsxs("span",{className:"font-semibold text-cyan-400",children:[C.matchPercent,"%"]})]}),E.jsx("div",{className:"h-2 w-full bg-slate-700/60 rounded overflow-hidden",children:E.jsx("div",{className:`h-full ${C.matchPercent>=80?"bg-emerald-500":C.matchPercent>=65?"bg-yellow-500":C.matchPercent>=50?"bg-orange-500":"bg-red-500"}`,style:{width:`${C.matchPercent}%`}})}),E.jsxs("div",{className:"text-xs text-slate-400",children:["Nhận định: ",E.jsx("span",{className:"font-medium text-slate-300",children:C.fitLabel})]})]}),E.jsxs("div",{className:"pt-2 border-t border-slate-700/50 space-y-2",children:[E.jsx("div",{className:"text-[11px] text-slate-400 font-medium",children:"Keyword JD"}),E.jsx("div",{className:"flex flex-wrap gap-1",children:C.jdKeywords.slice(0,8).map(_=>E.jsx("span",{className:"px-2 py-0.5 rounded-full bg-slate-700/60 text-[10px] text-slate-200 border border-slate-600",children:_},_))})]}),E.jsxs("div",{className:"pt-1 space-y-2",children:[E.jsx("div",{className:"text-[11px] text-slate-400 font-medium",children:"Khớp"}),E.jsxs("div",{className:"flex flex-wrap gap-1",children:[C.matched.slice(0,5).map(_=>E.jsx("span",{className:"px-2 py-0.5 rounded-full bg-emerald-600/30 text-emerald-300 text-[10px] border border-emerald-500/40",children:_},_)),C.matched.length===0&&E.jsx("span",{className:"text-[11px] text-slate-500",children:"(Không)"})]}),E.jsx("div",{className:"text-[11px] text-slate-400 font-medium",children:"Thiếu"}),E.jsxs("div",{className:"flex flex-wrap gap-1",children:[C.missing.slice(0,5).map(_=>E.jsx("span",{className:"px-2 py-0.5 rounded-full bg-yellow-600/30 text-yellow-300 text-[10px] border border-yellow-500/40",children:_},_)),C.missing.length===0&&E.jsx("span",{className:"text-[11px] text-slate-500",children:"(Không)"})]}),E.jsx("div",{className:"text-[11px] text-slate-400 font-medium",children:"Chưa rõ"}),E.jsxs("div",{className:"flex flex-wrap gap-1",children:[C.uncertain.slice(0,5).map(_=>E.jsx("span",{className:"px-2 py-0.5 rounded-full bg-slate-600/40 text-slate-300 text-[10px] border border-slate-500/40",children:_},_)),C.uncertain.length===0&&E.jsx("span",{className:"text-[11px] text-slate-500",children:"(Không)"})]})]}),typeof C.matchPercent=="number"&&C.matchPercent<70&&E.jsxs("div",{className:"pt-2 border-t border-slate-700/50",children:[E.jsxs("p",{className:"text-[11px] text-slate-300 font-medium flex items-center gap-1",children:[E.jsx("i",{className:"fa-solid fa-lightbulb text-yellow-400"}),"Gợi ý cải thiện:"]}),E.jsx("p",{className:"text-[11px] text-slate-400 leading-relaxed",children:"Làm rõ thêm thời lượng, vai trò cụ thể và công nghệ chính trong các dự án gần nhất để tăng mức phù hợp."})]})]})]})),E.jsxs("div",{className:"bg-slate-800/50 rounded-2xl border border-slate-700/80 shadow-sm transition-all duration-200 hover:shadow-lg hover:border-blue-600/60",children:[E.jsxs("button",{className:"w-full flex items-center justify-between p-4 h-[64px] text-left",onClick:t,"aria-expanded":e,children:[E.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[E.jsx("i",{className:`${l.icon} ${l.color} w-5 text-center text-lg`}),E.jsx("span",{className:"font-semibold text-slate-200 truncate",children:n["Tiêu chí"]}),E.jsx("span",{className:"ml-2 px-2 py-0.5 rounded text-[10px] tracking-wide font-semibold bg-slate-700/70 text-slate-300 border border-slate-600",children:f})]}),E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsxs("span",{className:`text-base font-bold px-3 py-1.5 rounded-lg text-white ${u.replace(/text-\w+-\d+/,"").replace("border-transparent","")}`,children:[o.score,E.jsxs("span",{className:"text-xs text-slate-400",children:["/",o.maxScore]})]}),E.jsx("i",{className:`fa-solid fa-chevron-down text-slate-400 transition-transform duration-300 ${e?"rotate-180":""}`})]})]}),e&&E.jsx("div",{className:"px-4 pb-4 pt-2 border-t border-slate-700/50",children:E.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-4",children:[E.jsxs("div",{className:"bg-slate-900/70 p-3 rounded-lg",children:[E.jsxs("div",{className:"flex justify-between items-center mb-2",children:[E.jsx("h5",{className:"text-sm font-semibold text-slate-300",children:"Dẫn chứng (trích từ CV)"}),E.jsxs("button",{onClick:a,className:"text-xs text-slate-400 hover:text-white transition-colors flex items-center gap-1.5",children:[E.jsx("i",{className:`fa-solid ${r?"fa-check text-emerald-400":"fa-copy"}`}),r?"Đã chép":"Chép"]})]}),E.jsx("blockquote",{className:"text-sm text-slate-400 italic border-l-2 border-blue-500 pl-3 leading-relaxed evidence-block",dangerouslySetInnerHTML:{__html:n["Dẫn chứng"]==="Không tìm thấy thông tin trong CV"?'<span class="not-italic bg-yellow-500/10 text-yellow-400 px-2 py-1 rounded-md text-xs font-semibold">Chưa tìm thấy trong CV</span>':b(n["Dẫn chứng"])}})]}),y&&T,!y&&D&&E.jsxs("div",{className:"bg-slate-900/70 p-3 rounded-lg space-y-3",children:[E.jsx("h5",{className:"text-sm font-semibold text-slate-300 mb-1",children:"Phân tích nhanh"}),E.jsxs("div",{className:"text-[11px] text-slate-400",children:["Từ khóa JD (",D.jdKeywords.length,")"]}),E.jsx("div",{className:"flex flex-wrap gap-1 mb-2",children:D.jdKeywords.slice(0,12).map(_=>E.jsx("span",{className:"pill pill--uncertain",children:_},_))}),E.jsx("div",{className:"text-[11px] text-slate-400 font-medium",children:"Khớp"}),E.jsx("div",{className:"flex flex-wrap gap-1",children:D.matched.length>0?D.matched.slice(0,10).map(_=>E.jsx("span",{className:"pill pill--match",children:_},_)):E.jsx("span",{className:"text-[11px] text-slate-500",children:"(Không)"})}),E.jsx("div",{className:"text-[11px] text-slate-400 font-medium mt-2",children:"Thiếu"}),E.jsx("div",{className:"flex flex-wrap gap-1",children:D.missing.length>0?D.missing.slice(0,10).map(_=>E.jsx("span",{className:"pill pill--missing",children:_},_)):E.jsx("span",{className:"text-[11px] text-slate-500",children:"(Không)"})})]}),E.jsxs("div",{className:"bg-slate-900/70 p-3 rounded-lg",children:[E.jsx("h5",{className:"text-sm font-semibold text-slate-300 mb-3",children:"Giải thích & Công thức"}),!y&&D&&E.jsxs("div",{className:"mb-2 text-[11px] text-slate-400 bg-slate-800/60 border border-slate-700/60 rounded p-2 leading-relaxed",children:[E.jsx("span",{className:"text-slate-300 font-medium",children:"So khớp JD:"})," ",D.matched.length,"/",D.jdKeywords.length," từ khóa xuất hiện.",D.missing.length>0&&E.jsxs(E.Fragment,{children:[" ","Thiếu ",E.jsx("span",{className:"text-yellow-300 font-medium",children:D.missing.length})," từ: ",D.missing.slice(0,3).join(", "),D.missing.length>3?"…":""]})]}),y&&C&&E.jsxs("div",{className:"mb-2 text-[11px] text-slate-400 bg-slate-800/60 border border-slate-700/60 rounded p-2 leading-relaxed",children:[E.jsx("span",{className:"text-slate-300 font-medium",children:"Tổng quan kinh nghiệm:"})," ",C.matchPercent==="N/A"?"Không xác định":`${C.matchPercent}% (${C.fitLabel})`,".",C.missing.length>0&&E.jsxs(E.Fragment,{children:[" Thiếu: ",E.jsxs("span",{className:"text-yellow-300 font-medium",children:[C.missing.slice(0,3).join(", "),C.missing.length>3?"…":""]})]})]}),E.jsx("div",{className:"mb-3",children:E.jsx("p",{className:"text-sm text-slate-400 leading-relaxed",children:n["Giải thích"]})}),E.jsxs("div",{className:"space-y-2",children:[E.jsx("div",{className:"text-xs text-slate-500 font-medium",children:"Công thức tính điểm:"}),E.jsx("div",{className:"bg-slate-800/50 p-2 rounded border border-slate-700/50",children:E.jsxs("div",{className:"flex items-center justify-between text-xs",children:[E.jsx("span",{className:"text-slate-400",children:"Đánh giá thực tế:"}),E.jsxs("span",{className:"font-mono text-cyan-400",children:[o.score,"/",o.maxScore]})]})}),E.jsxs("div",{className:"bg-slate-800/50 p-2 rounded border border-slate-700/50",children:[E.jsx("div",{className:"text-xs text-slate-400 mb-1",children:"Công thức subscore:"}),E.jsx("div",{className:"font-mono text-xs",children:o.weight>0&&o.maxScore===o.weight?E.jsxs("span",{children:[E.jsx("span",{className:"text-cyan-400",children:o.score})," / ",E.jsxs("span",{className:"text-purple-400",children:[o.weight,"%"]})," = ",E.jsxs("span",{className:"text-yellow-400 font-bold",children:[o.formulaResult," điểm"]})]}):o.weight>0?E.jsxs("span",{children:[E.jsx("span",{className:"text-cyan-400",children:o.subscore})," × ",E.jsxs("span",{className:"text-purple-400",children:["trọng số ",o.weight,"%"]})," = ",E.jsx("span",{className:"text-yellow-400 font-bold",children:o.formulaResult})]}):E.jsx("span",{className:"text-slate-400",children:n["Công thức"]||"Không có công thức"})})]}),E.jsxs("div",{className:"bg-slate-800/50 p-2 rounded border border-slate-700/50",children:[E.jsx("div",{className:"text-xs text-slate-400 mb-1",children:"Đóng góp vào điểm tổng:"}),E.jsx("div",{className:"text-xs text-slate-300",children:o.formulaResult&&o.formulaResult!=="0"?E.jsxs("span",{children:["Tiêu chí này đóng góp ",E.jsx("span",{className:"font-bold text-yellow-400",children:o.formulaResult})," điểm",o.weight>0&&o.maxScore===o.weight?` (điểm đánh giá trực tiếp trên thang ${o.weight}%)`:o.weight>0?` (từ đánh giá ${o.subscore}/100 × ${o.weight}%)`:""]}):E.jsx("span",{className:"text-slate-500",children:"Đang tính toán..."})})]})]})]}),!y&&!D&&E.jsxs("div",{className:"bg-slate-900/70 p-3 rounded-lg space-y-3",children:[E.jsx("h5",{className:"text-sm font-semibold text-slate-300 mb-1",children:"Phân tích nhanh"}),E.jsxs("div",{className:"space-y-2",children:[E.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-400",children:[E.jsx("span",{children:"Mức độ phù hợp JD"}),E.jsxs("span",{className:"font-semibold text-cyan-400",children:[g.toFixed(0),"%"]})]}),E.jsx("div",{className:"h-2 w-full bg-slate-700/60 rounded overflow-hidden",children:E.jsx("div",{className:`h-full ${g>=85?"bg-emerald-500":g>=65?"bg-yellow-500":"bg-red-500"}`,style:{width:`${Math.min(100,Math.max(0,g))}%`}})}),E.jsxs("div",{className:"text-xs text-slate-400",children:["Đánh giá tổng quan: ",E.jsx("span",{className:"font-medium text-slate-300",children:f})]})]}),p.length>0&&E.jsxs("div",{className:"pt-2 border-t border-slate-700/50",children:[E.jsxs("p",{className:"text-xs font-semibold text-slate-300 mb-1 flex items-center gap-1",children:[E.jsx("i",{className:"fa-solid fa-lightbulb text-yellow-400"}),"Gợi ý cải thiện"]}),E.jsx("ul",{className:"list-disc list-inside space-y-1 text-[11px] text-slate-400",children:p.map((_,A)=>E.jsx("li",{children:_},A))})]})]})]})})]})},RC=({candidate:n,expandedCriteria:e,onToggleCriterion:t,jdText:i})=>{var u,f,p,g;const r=We.useMemo(()=>{var b;return(b=n.analysis)!=null&&b["Chi tiết"]?[...n.analysis["Chi tiết"]].sort((y,v)=>t2.indexOf(y["Tiêu chí"])-t2.indexOf(v["Tiêu chí"])):[]},[n.analysis]),s=((u=n.analysis)==null?void 0:u["Tổng điểm"])||0,o=80,a=Math.min(100,Math.round(s/o*100)),l=s>=60?"Ứng viên có nền tảng tốt, nên xem xét mời phỏng vấn.":s>=40?"Ứng viên có tiềm năng, cân nhắc nếu thiếu nguồn.":"Nên ưu tiên ứng viên khác có mức phù hợp cao hơn.",c="±0.0";return E.jsxs("div",{className:"p-4 md:p-6 space-y-6",children:[E.jsxs("div",{className:"bg-slate-800/60 border border-slate-700/70 rounded-xl p-5 flex flex-col md:flex-row gap-6",children:[E.jsxs("div",{className:"flex-1 space-y-3",children:[E.jsxs("h4",{className:"text-lg font-semibold text-slate-100 flex items-center gap-2",children:[E.jsx("i",{className:"fa-solid fa-chart-pie text-cyan-400"}),"Tổng hợp đánh giá"]}),E.jsxs("p",{className:"text-sm text-slate-400 leading-relaxed",children:["Ứng viên đạt ",E.jsxs("span",{className:"font-semibold text-slate-200",children:[s,"/",o]})," điểm – Mức phù hợp tổng thể: ",E.jsxs("span",{className:"font-semibold text-cyan-400",children:[a,"%"]}),". Độ ổn định điểm: ",E.jsx("span",{className:"text-slate-300 font-medium",children:c})]}),E.jsx("div",{className:"h-2 w-full bg-slate-700/50 rounded overflow-hidden",children:E.jsx("div",{className:`${a>=75?"bg-emerald-500":a>=55?"bg-yellow-500":"bg-red-500"} h-full`,style:{width:`${a}%`}})}),E.jsxs("p",{className:"text-sm text-slate-300 font-medium",children:["Nhận định: ",E.jsx("span",{className:"text-slate-200 font-normal",children:l})]})]}),E.jsxs("div",{className:"w-full md:w-60 bg-slate-900/60 rounded-lg p-4 border border-slate-700/70 flex flex-col gap-3 text-xs",children:[E.jsxs("div",{className:"flex items-center justify-between text-slate-400",children:[E.jsx("span",{children:"Điểm"}),E.jsx("span",{className:"font-mono text-slate-200",children:s})]}),E.jsxs("div",{className:"flex items-center justify-between text-slate-400",children:[E.jsx("span",{children:"Phù hợp JD"}),E.jsxs("span",{className:"font-mono text-cyan-400",children:[a,"%"]})]}),E.jsxs("div",{className:"flex items-center justify-between text-slate-400",children:[E.jsx("span",{children:"Ổn định"}),E.jsx("span",{className:"font-mono text-slate-300",children:c})]}),E.jsx("div",{className:"pt-1 border-t border-slate-700/50 text-slate-500 leading-relaxed",children:"Hiển thị trên thang chuẩn hóa 80 điểm (8 nhóm). Dùng cho đánh giá định hướng."})]})]}),E.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[((f=n.analysis)==null?void 0:f["Điểm mạnh CV"])&&E.jsxs("div",{className:"p-4 bg-green-900/30 border border-green-500/30 rounded-xl",children:[E.jsxs("p",{className:"font-semibold text-green-300 mb-2 flex items-center gap-2 text-base",children:[E.jsx("i",{className:"fa-solid fa-wand-magic-sparkles"}),"Điểm mạnh CV"]}),E.jsx("ul",{className:"list-disc list-inside text-sm text-green-400/90 space-y-1.5 pl-2",children:n.analysis["Điểm mạnh CV"].map((b,y)=>E.jsx("li",{children:b},y))})]}),((p=n.analysis)==null?void 0:p["Điểm yếu CV"])&&E.jsxs("div",{className:"p-4 bg-red-900/30 border border-red-500/30 rounded-xl",children:[E.jsxs("p",{className:"font-semibold text-red-300 mb-2 flex items-center gap-2 text-base",children:[E.jsx("i",{className:"fa-solid fa-flag"}),"Điểm yếu CV"]}),E.jsx("ul",{className:"list-disc list-inside text-sm text-red-400/90 space-y-1.5 pl-2",children:n.analysis["Điểm yếu CV"].map((b,y)=>E.jsx("li",{children:b},y))})]})]}),((g=n.analysis)==null?void 0:g.educationValidation)&&E.jsxs("div",{className:"bg-slate-800/50 border border-slate-700/80 rounded-xl p-4",children:[E.jsxs("h4",{className:"text-lg font-bold text-slate-100 mb-4 flex items-center gap-2",children:[E.jsx("i",{className:"fa-solid fa-graduation-cap text-blue-400"}),"Xác thực thông tin học vấn"]}),E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{className:"bg-slate-900/70 p-3 rounded-lg",children:[E.jsxs("div",{className:"flex items-center justify-between mb-2",children:[E.jsx("h5",{className:"text-sm font-semibold text-slate-300",children:"Thông tin học vấn chuẩn hóa"}),E.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${n.analysis.educationValidation.validationNote==="Hợp lệ"?"bg-green-600 text-green-100":"bg-red-600 text-red-100"}`,children:n.analysis.educationValidation.validationNote})]}),E.jsx("p",{className:"text-sm text-slate-400 font-mono bg-slate-800 p-2 rounded",children:n.analysis.educationValidation.standardizedEducation||"Không có thông tin"})]}),n.analysis.educationValidation.warnings&&n.analysis.educationValidation.warnings.length>0&&E.jsxs("div",{className:"bg-yellow-900/30 border border-yellow-500/30 p-3 rounded-lg",children:[E.jsxs("h5",{className:"text-sm font-semibold text-yellow-300 mb-2 flex items-center gap-2",children:[E.jsx("i",{className:"fa-solid fa-triangle-exclamation"}),"Cảnh báo xác thực"]}),E.jsx("ul",{className:"list-disc list-inside text-sm text-yellow-400/90 space-y-1 pl-2",children:n.analysis.educationValidation.warnings.map((b,y)=>E.jsx("li",{children:b},y))})]})]})]}),E.jsx("div",{children:E.jsx("div",{className:"space-y-3",children:r.map(b=>{var y;return E.jsx(y8,{item:b,isExpanded:!!((y=e[n.id])!=null&&y[b["Tiêu chí"]]),onToggle:()=>t(n.id,b["Tiêu chí"]),jdText:i},b["Tiêu chí"])})})})]})},v8=({message:n})=>E.jsxs("div",{className:"flex justify-center items-center flex-col gap-6 text-center py-12 md:py-16",children:[E.jsxs("div",{className:"relative w-20 h-20",children:[E.jsx("div",{className:"absolute inset-0 border-4 border-blue-500/20 rounded-full"}),E.jsx("div",{className:"absolute inset-0 border-t-4 border-blue-500 rounded-full animate-spin"}),E.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:E.jsx("div",{className:"w-6 h-6 bg-blue-500/20 rounded-full pulse-animation"})})]}),E.jsxs("div",{children:[E.jsx("p",{className:"text-slate-300 font-semibold text-lg",children:n||"Đang phân tích CV với AI..."}),E.jsx("p",{className:"text-slate-500 text-sm mt-2",children:"Quá trình này có thể mất một chút thời gian để đảm bảo độ chính xác cao nhất."})]})]});ah.memo(({candidate:n,index:e,isSelected:t,expandedCandidate:i,expandedCriteria:r,onSelect:s,onExpand:o,onToggleCriterion:a})=>{var f,p,g,b,y;const l=n.status==="FAILED"?"FAILED":((f=n.analysis)==null?void 0:f.Hạng)||"C",c=n.status==="FAILED"?0:((p=n.analysis)==null?void 0:p["Tổng điểm"])||0,u=n.status==="FAILED"?0:parseInt(((y=(b=(g=n.analysis)==null?void 0:g["Chi tiết"])==null?void 0:b.find(v=>v["Tiêu chí"].startsWith("Phù hợp JD")))==null?void 0:y.Điểm.split("/")[0])||"0",10);return E.jsxs(ah.Fragment,{children:[E.jsxs("tr",{className:`border-t border-slate-700/50 ${t?"bg-blue-500/10":"hover:bg-slate-700/30"} cursor-pointer`,onClick:v=>{v.target.type!=="checkbox"&&o(n.id)},children:[E.jsx("td",{className:"px-4 py-3",children:E.jsx("input",{type:"checkbox",checked:t,onChange:v=>{v.stopPropagation(),s(n.id,e)},className:"rounded border-slate-600 bg-slate-800 text-blue-500 focus:ring-blue-500"})}),E.jsx("td",{className:"px-4 py-3 text-sm text-slate-200",children:n.candidateName||"Chưa xác định"}),E.jsx("td",{className:"px-4 py-3 text-sm",children:E.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${n.status==="FAILED"?"bg-slate-600 text-slate-400":l==="A"?"bg-emerald-600 text-emerald-400":l==="B"?"bg-blue-600 text-blue-400":"bg-red-600 text-red-400"}`,children:l})}),E.jsx("td",{className:"px-4 py-3 text-sm text-slate-200",children:c}),E.jsxs("td",{className:"px-4 py-3 text-sm text-slate-200",children:[u,"%"]}),E.jsx("td",{className:"px-4 py-3 text-sm text-slate-200",children:n.jobTitle||""}),E.jsx("td",{className:"px-4 py-3 text-sm text-slate-200",children:E.jsxs("div",{className:"text-xs",children:[E.jsx("div",{children:n.phone||"N/A"}),E.jsx("div",{className:"text-slate-400",children:n.email||"N/A"})]})}),E.jsxs("td",{className:"px-4 py-3 text-sm text-slate-200 flex items-center justify-between",children:[E.jsx("span",{children:n.fileName||""}),E.jsx("button",{onClick:v=>{v.stopPropagation(),o(n.id)},className:"text-blue-400 hover:text-blue-300 ml-2",children:E.jsx("i",{className:`fa-solid fa-chevron-down transition-transform duration-300 ${i===n.id?"rotate-180":""}`})})]})]}),i===n.id&&n.status!=="FAILED"&&n.analysis&&E.jsx("tr",{children:E.jsx("td",{colSpan:8,className:"bg-slate-900/40 border-t border-slate-700/50",children:E.jsx(RC,{candidate:n,expandedCriteria:r,onToggleCriterion:a})})})]})});const b8=({isLoading:n,loadingMessage:e,results:t,jobPosition:i,locationRequirement:r,jdText:s})=>{const[o,a]=We.useState("all"),[l,c]=We.useState("score"),[u,f]=We.useState(""),[p,g]=We.useState(""),[b,y]=We.useState(!1),[v,x]=We.useState(new Set),[D,T]=We.useState(null),[C,_]=We.useState(null),[A,R]=We.useState({}),k=We.useCallback(e8(F=>g(F),300),[]),I=F=>{f(F),k(F)},L=(F,X,z=!1)=>{x(ne=>{var pe;const oe=new Set(ne);if(z&&D!==null){const ce=Math.min(D,X),ge=Math.max(D,X);for(let ye=ce;ye<=ge;ye++){const Te=(pe=Y[ye])==null?void 0:pe.id;Te&&oe.add(Te)}}else oe.has(F)?oe.delete(F):oe.add(F),T(X);return oe})},J=()=>{const F=Y.map(X=>X.id).filter(Boolean);x(X=>X.size===F.length?new Set:new Set(F))},U=F=>{x(X=>{const z=new Set(X);return z.delete(F),z})},O=()=>{window.confirm("Bạn có chắc muốn bỏ chọn tất cả ứng viên?")&&x(new Set)},S=F=>{_(C===F?null:F)},K=(F,X)=>{R(z=>{var ne;return{...z,[F]:{...z[F],[X]:!((ne=z[F])!=null&&ne[X])}}})},q=()=>{if(v.size===0)return;const F=Y.filter(ce=>v.has(ce.id)),ne="\uFEFF"+[["STT","HoTen","Hang","DiemTong","PhuHopJD%","ChucDanh","FileName","CandidateID"],...F.map((ce,ge)=>{var ye,Te,Ee,Se,Oe,w;return[(ge+1).toString(),ce.candidateName||"",ce.status==="FAILED"?"FAILED":((ye=ce.analysis)==null?void 0:ye.Hạng)||"C",ce.status==="FAILED"?"0":((Ee=(Te=ce.analysis)==null?void 0:Te["Tổng điểm"])==null?void 0:Ee.toString())||"0",ce.status==="FAILED"?"0":parseInt(((w=(Oe=(Se=ce.analysis)==null?void 0:Se["Chi tiết"])==null?void 0:Oe.find(ae=>ae["Tiêu chí"].startsWith("Phù hợp JD")))==null?void 0:w.Điểm.split("/")[0])||"0",10).toString(),ce.jobTitle||"",ce.fileName||"",ce.id||""]})].map(ce=>ce.map(ge=>`"${ge.replace(/"/g,'""')}"`).join(",")).join(`
`),oe=new Blob([ne],{type:"text/csv;charset=utf-8;"}),pe=document.createElement("a");pe.href=URL.createObjectURL(oe),pe.download=`ung_vien_da_chon_${new Date().toISOString().split("T")[0]}.csv`,pe.click()},B=We.useMemo(()=>{if(!t||t.length===0)return{total:0,countA:0,countB:0,countC:0};const F=t.filter(oe=>oe.status==="SUCCESS"&&oe.analysis),X=F.filter(oe=>{var pe;return((pe=oe.analysis)==null?void 0:pe.Hạng)==="A"}).length,z=F.filter(oe=>{var pe;return((pe=oe.analysis)==null?void 0:pe.Hạng)==="B"}).length,ne=t.length-X-z;return{total:F.length,countA:X,countB:z,countC:ne}},[t]),j=We.useMemo(()=>!t||t.length===0?null:{timestamp:Date.now(),job:{position:i,locationRequirement:r||"Không có"},candidates:t.map((F,X)=>({...F,id:F.id||`candidate-${X}-${F.fileName}-${F.candidateName}`.replace(/[^a-zA-Z0-9]/g,"-")}))},[t,i,r]),V=We.useMemo(()=>{if(!t||t.length===0)return[];const F={A:3,B:2,C:1,FAILED:0},X=t.map(z=>{var ne,oe,pe,ce;return{...z,jdFitScore:parseInt(((pe=(oe=(ne=z.analysis)==null?void 0:ne["Chi tiết"])==null?void 0:oe.find(ge=>ge["Tiêu chí"].startsWith("Phù hợp JD")))==null?void 0:pe.Điểm.split("/")[0])||"0",10),gradeValue:F[z.status==="FAILED"?"FAILED":((ce=z.analysis)==null?void 0:ce.Hạng)||"C"]}});return X.sort((z,ne)=>{var ce,ge,ye,Te;const oe=l==="score"?(((ce=ne.analysis)==null?void 0:ce["Tổng điểm"])||0)-(((ge=z.analysis)==null?void 0:ge["Tổng điểm"])||0):ne.jdFitScore-z.jdFitScore;if(oe!==0)return oe;const pe=l==="score"?ne.jdFitScore-z.jdFitScore:(((ye=ne.analysis)==null?void 0:ye["Tổng điểm"])||0)-(((Te=z.analysis)==null?void 0:Te["Tổng điểm"])||0);return pe!==0?pe:ne.gradeValue-z.gradeValue}),X.map((z,ne)=>({...z,rank:ne+1}))},[t,l]),Y=We.useMemo(()=>{let F=V;return p&&(F=F.filter(z=>{var ne,oe;return((ne=z.candidateName)==null?void 0:ne.toLowerCase().includes(p.toLowerCase()))||((oe=z.jobTitle)==null?void 0:oe.toLowerCase().includes(p.toLowerCase()))})),o!=="all"&&(F=F.filter(z=>{var ne;return z.status==="FAILED"?o==="C":((ne=z.analysis)==null?void 0:ne.Hạng)===o})),F.filter((z,ne,oe)=>ne===oe.findIndex(pe=>pe.id===z.id))},[V,o,p]);return n?E.jsx("section",{id:"module-analysis",className:"module-pane active w-full",children:E.jsx(v8,{message:e})}):t.length===0?E.jsx("section",{id:"module-analysis",className:"module-pane active w-full",children:E.jsxs("div",{className:"text-center py-16 md:py-20",children:[E.jsxs("div",{className:"relative inline-block mb-6",children:[E.jsx("i",{className:"fa-solid fa-chart-line text-5xl md:text-6xl text-slate-600 float-animation"}),E.jsx("div",{className:"absolute -top-2 -right-2 w-4 h-4 bg-blue-500 rounded-full pulse-animation"})]}),E.jsx("h3",{className:"text-2xl font-bold bg-gradient-to-r from-blue-400 to-cyan-400 bg-clip-text text-transparent mb-3",children:"Sẵn Sàng Phân Tích"}),E.jsx("p",{className:"text-slate-400 text-lg max-w-md mx-auto leading-relaxed",children:"Kết quả AI sẽ xuất hiện ở đây sau khi bạn cung cấp mô tả công việc và các tệp CV."})]})}):E.jsxs(E.Fragment,{children:[E.jsx("section",{id:"module-analysis",className:"module-pane active w-full",children:E.jsxs("div",{className:"space-y-6",children:[i&&E.jsxs("div",{className:"bg-slate-800/60 border border-slate-700 rounded-xl p-5 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[E.jsxs("div",{children:[E.jsx("p",{className:"text-xs uppercase tracking-wider text-slate-500 font-semibold mb-1",children:"Chức danh đang phân tích"}),E.jsx("h2",{className:"text-xl font-bold bg-gradient-to-r from-blue-400 via-cyan-400 to-purple-400 text-transparent bg-clip-text",children:i})]}),E.jsxs("div",{className:"flex items-center gap-3 text-sm text-slate-400",children:[E.jsxs("span",{className:"px-3 py-1 rounded-full bg-slate-700/60 border border-slate-600",children:["Tổng CV: ",B.total]}),E.jsxs("span",{className:"px-3 py-1 rounded-full bg-slate-700/60 border border-slate-600",children:["A: ",B.countA]}),E.jsxs("span",{className:"px-3 py-1 rounded-full bg-slate-700/60 border border-slate-600",children:["B: ",B.countB]}),E.jsxs("span",{className:"px-3 py-1 rounded-full bg-slate-700/60 border border-slate-600",children:["C/Lỗi: ",B.countC]})]})]}),E.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[E.jsxs("div",{className:"bg-slate-800/50 p-5 rounded-xl border border-slate-700",children:[E.jsx("p",{className:"text-sm text-slate-400",children:"Tổng CV Phân Tích"}),E.jsx("p",{className:"text-3xl font-bold text-white mt-1",children:B.total})]}),E.jsxs("div",{className:"bg-slate-800/50 p-5 rounded-xl border border-slate-700",children:[E.jsx("p",{className:"text-sm text-slate-400",children:"Hạng A"}),E.jsx("p",{className:"text-3xl font-bold text-emerald-400 mt-1",children:B.countA})]}),E.jsxs("div",{className:"bg-slate-800/50 p-5 rounded-xl border border-slate-700",children:[E.jsx("p",{className:"text-sm text-slate-400",children:"Hạng B"}),E.jsx("p",{className:"text-3xl font-bold text-blue-400 mt-1",children:B.countB})]}),E.jsxs("div",{className:"bg-slate-800/50 p-5 rounded-xl border border-slate-700",children:[E.jsx("p",{className:"text-sm text-slate-400",children:"Hạng C/Lỗi"}),E.jsx("p",{className:"text-3xl font-bold text-red-400 mt-1",children:B.countC})]})]}),E.jsx("div",{className:"bg-slate-800/50 p-4 rounded-xl border border-slate-700",children:E.jsxs("div",{className:"flex flex-col sm:flex-row flex-wrap items-center justify-between gap-4",children:[E.jsxs("div",{className:"relative w-full sm:w-auto flex-grow sm:flex-grow-0",children:[E.jsx("i",{className:"fa-solid fa-magnifying-glass text-slate-500 absolute left-4 top-1/2 -translate-y-1/2"}),E.jsx("input",{type:"text",placeholder:"Tìm theo tên, chức danh...",value:u,onChange:F=>I(F.target.value),className:"w-full sm:w-64 pl-11 pr-4 py-2.5 bg-slate-900/70 border border-slate-600 rounded-full text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/50"})]}),E.jsxs("div",{className:"flex items-center gap-2 bg-slate-900/50 p-1 rounded-full",children:[E.jsx("button",{onClick:()=>a("all"),className:`px-4 py-1.5 text-sm font-semibold rounded-full transition-colors ${o==="all"?"bg-blue-600 text-white":"text-slate-300 hover:bg-slate-700"}`,children:"Tất cả"}),E.jsx("button",{onClick:()=>a("A"),className:`px-4 py-1.5 text-sm font-semibold rounded-full transition-colors ${o==="A"?"bg-emerald-500 text-white":"text-slate-300 hover:bg-slate-700"}`,children:"Hạng A"}),E.jsx("button",{onClick:()=>a("B"),className:`px-4 py-1.5 text-sm font-semibold rounded-full transition-colors ${o==="B"?"bg-blue-500 text-white":"text-slate-300 hover:bg-slate-700"}`,children:"Hạng B"}),E.jsx("button",{onClick:()=>a("C"),className:`px-4 py-1.5 text-sm font-semibold rounded-full transition-colors ${o==="C"?"bg-red-500 text-white":"text-slate-300 hover:bg-slate-700"}`,children:"Hạng C"})]}),E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("label",{htmlFor:"sort-by",className:"text-sm font-medium text-slate-400",children:"Sắp xếp:"}),E.jsxs("select",{id:"sort-by",value:l,onChange:F=>c(F.target.value),className:"bg-slate-700/80 border-slate-600 text-slate-200 text-sm font-semibold rounded-full py-2 pl-4 pr-8 focus:ring-2 focus:ring-blue-500 focus:outline-none appearance-none",children:[E.jsx("option",{value:"score",children:"Điểm Tổng"}),E.jsx("option",{value:"jdFit",children:"Phù hợp JD"})]})]})]})}),E.jsx("div",{className:"bg-slate-800/50 rounded-xl border border-slate-700 overflow-hidden",children:E.jsx("div",{className:"max-h-[70vh] overflow-y-auto results-container",children:E.jsxs("table",{className:"w-full",children:[E.jsx("thead",{className:"bg-slate-700/50 sticky top-0 z-10",children:E.jsxs("tr",{children:[E.jsx("th",{className:"px-4 py-3 text-left",children:E.jsx("input",{type:"checkbox",checked:v.size===Y.length&&Y.length>0,onChange:J,className:"rounded border-slate-600 bg-slate-800 text-blue-500 focus:ring-blue-500"})}),E.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-slate-300",children:"Họ tên"}),E.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-slate-300",children:"Hạng"}),E.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-slate-300",children:"Điểm"}),E.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-slate-300",children:"Phù hợp JD"}),E.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-slate-300",children:"Chức danh"}),E.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-slate-300",children:"Liên hệ"}),E.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-slate-300",children:"File"})]})}),E.jsxs("tbody",{children:[Y.map((F,X)=>{var ce,ge,ye,Te,Ee;const z=v.has(F.id),ne=F.status==="FAILED"?"FAILED":((ce=F.analysis)==null?void 0:ce.Hạng)||"C",oe=F.status==="FAILED"?0:((ge=F.analysis)==null?void 0:ge["Tổng điểm"])||0,pe=F.status==="FAILED"?0:parseInt(((Ee=(Te=(ye=F.analysis)==null?void 0:ye["Chi tiết"])==null?void 0:Te.find(Se=>Se["Tiêu chí"].startsWith("Phù hợp JD")))==null?void 0:Ee.Điểm.split("/")[0])||"0",10);return E.jsxs(ah.Fragment,{children:[E.jsxs("tr",{className:`border-t border-slate-700/50 ${z?"bg-blue-500/10":"hover:bg-slate-700/30"} cursor-pointer transition-colors duration-150`,onClick:Se=>{Se.target.type!=="checkbox"&&S(F.id)},children:[E.jsx("td",{className:"px-4 py-3",children:E.jsx("input",{type:"checkbox",checked:z,onChange:Se=>{Se.stopPropagation(),L(F.id,X)},className:"rounded border-slate-600 bg-slate-800 text-blue-500 focus:ring-blue-500"})}),E.jsx("td",{className:"px-4 py-3 text-sm text-slate-200",children:F.candidateName||"Chưa xác định"}),E.jsx("td",{className:"px-4 py-3 text-sm",children:E.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${F.status==="FAILED"?"bg-slate-600 text-slate-400":ne==="A"?"bg-emerald-600 text-emerald-400":ne==="B"?"bg-blue-600 text-blue-400":"bg-red-600 text-red-400"}`,children:ne})}),E.jsx("td",{className:"px-4 py-3 text-sm text-slate-200",children:oe}),E.jsxs("td",{className:"px-4 py-3 text-sm text-slate-200",children:[pe,"%"]}),E.jsx("td",{className:"px-4 py-3 text-sm text-slate-200",children:F.jobTitle||""}),E.jsx("td",{className:"px-4 py-3 text-sm text-slate-200",children:E.jsxs("div",{className:"text-xs",children:[E.jsx("div",{children:F.phone||"N/A"}),E.jsx("div",{className:"text-slate-400",children:F.email||"N/A"})]})}),E.jsxs("td",{className:"px-4 py-3 text-sm text-slate-200 flex items-center justify-between",children:[E.jsx("span",{children:F.fileName||""}),E.jsx("button",{onClick:Se=>{Se.stopPropagation(),S(F.id)},className:"text-blue-400 hover:text-blue-300 ml-2 transition-colors duration-150",children:E.jsx("i",{className:`fa-solid fa-chevron-down transition-transform duration-300 ${C===F.id?"rotate-180":""}`})})]})]}),C===F.id&&F.status!=="FAILED"&&F.analysis&&E.jsx("tr",{className:"expanded-content",children:E.jsx("td",{colSpan:8,className:"bg-slate-900/40 border-t border-slate-700/50",children:E.jsx(RC,{candidate:F,expandedCriteria:A,onToggleCriterion:K,jdText:s})})})]},F.id)}),Y.length===0&&E.jsx("tr",{children:E.jsxs("td",{colSpan:8,className:"px-4 py-12 text-center text-slate-500",children:[E.jsx("i",{className:"fa-solid fa-ghost text-4xl mb-4"}),E.jsx("p",{children:"Không có ứng viên nào khớp với bộ lọc của bạn."})]})})]})]})})}),v.size>0&&E.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-xl border border-slate-700",children:[E.jsxs("div",{className:"flex items-center justify-between mb-4",children:[E.jsxs("h3",{className:"text-lg font-semibold text-slate-200",children:["Ứng viên đã chọn (",v.size,")"]}),E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsxs("button",{onClick:q,className:"flex items-center gap-2 px-4 py-2 bg-green-600 hover:bg-green-500 text-white text-sm font-semibold rounded-full transition-colors",children:[E.jsx("i",{className:"fa-solid fa-file-csv"}),"Xuất CSV đã chọn"]}),E.jsxs("button",{onClick:O,className:"flex items-center gap-2 px-4 py-2 bg-red-600 hover:bg-red-500 text-white text-sm font-semibold rounded-full transition-colors",children:[E.jsx("i",{className:"fa-solid fa-trash"}),"Xoá tất cả"]})]})]}),E.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:Y.filter(F=>v.has(F.id)).map(F=>{var oe,pe,ce,ge,ye;const X=F.status==="FAILED"?"FAILED":((oe=F.analysis)==null?void 0:oe.Hạng)||"C",z=F.status==="FAILED"?0:((pe=F.analysis)==null?void 0:pe["Tổng điểm"])||0,ne=F.status==="FAILED"?0:parseInt(((ye=(ge=(ce=F.analysis)==null?void 0:ce["Chi tiết"])==null?void 0:ge.find(Te=>Te["Tiêu chí"].startsWith("Phù hợp JD")))==null?void 0:ye.Điểm.split("/")[0])||"0",10);return E.jsxs("div",{className:"flex items-center justify-between bg-slate-700/50 p-3 rounded-lg",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("span",{className:"text-sm text-slate-400",children:F.candidateName||"Chưa xác định"}),E.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${F.status==="FAILED"?"bg-slate-600 text-slate-400":X==="A"?"bg-emerald-600 text-emerald-400":X==="B"?"bg-blue-600 text-blue-400":"bg-red-600 text-red-400"}`,children:X}),E.jsxs("span",{className:"text-sm text-slate-400",children:[z," / ",ne,"%"]}),E.jsx("span",{className:"text-sm text-slate-500",children:F.jobTitle||""})]}),E.jsx("button",{onClick:()=>U(F.id),className:"text-red-400 hover:text-red-300 text-sm underline",children:"Bỏ chọn"})]},F.id)})})]})]})}),j&&E.jsx("button",{onClick:()=>y(!b),className:"fixed bottom-6 right-6 w-14 h-14 bg-sky-600 hover:bg-sky-500 text-white rounded-full shadow-lg flex items-center justify-center transition-all duration-200 z-50","aria-label":"Mở chatbot",children:E.jsx("i",{className:"fa-solid fa-brain text-xl"})}),b&&j&&E.jsx("div",{className:"fixed bottom-20 right-6 w-96 max-w-[calc(100vw-2rem)] z-40",children:E.jsx(t8,{analysisData:j,onClose:()=>y(!1)})})]})},T8=n=>{const{activeStep:e}=n;return E.jsxs(E.Fragment,{children:[E.jsx("div",{className:e==="jd"?"block":"hidden",children:E.jsx(zL,{jdText:n.jdText,setJdText:n.setJdText,jobPosition:n.jobPosition,setJobPosition:n.setJobPosition,onComplete:()=>{n.markStepAsCompleted("jd"),n.setActiveStep("weights")}})}),E.jsx("div",{className:e==="weights"?"block":"hidden",children:E.jsx(KL,{weights:n.weights,setWeights:n.setWeights,hardFilters:n.hardFilters,setHardFilters:n.setHardFilters,onComplete:()=>{n.markStepAsCompleted("weights"),n.setActiveStep("upload")}})}),E.jsx("div",{className:e==="upload"?"block":"hidden",children:E.jsx(jL,{cvFiles:n.cvFiles,setCvFiles:n.setCvFiles,jdText:n.jdText,weights:n.weights,hardFilters:n.hardFilters,setAnalysisResults:n.setAnalysisResults,setIsLoading:n.setIsLoading,setLoadingMessage:n.setLoadingMessage,onAnalysisStart:()=>{n.markStepAsCompleted("upload"),n.setActiveStep("analysis")},completedSteps:n.completedSteps})}),E.jsx("div",{className:e==="analysis"?"block":"hidden",children:E.jsx(b8,{isLoading:n.isLoading,loadingMessage:n.loadingMessage,results:n.analysisResults,jobPosition:n.jobPosition,locationRequirement:n.hardFilters.location,jdText:n.jdText})})]})};export{T8 as default};
