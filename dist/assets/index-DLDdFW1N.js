(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function i(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(l){if(l.ep)return;l.ep=!0;const u=i(l);fetch(l.href,u)}})();var PN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function h0(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function LN(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var e=r.default;if(typeof e=="function"){var i=function a(){return this instanceof a?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};i.prototype=e.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(r).forEach(function(a){var l=Object.getOwnPropertyDescriptor(r,a);Object.defineProperty(i,a,l.get?l:{enumerable:!0,get:function(){return r[a]}})}),i}var bd={exports:{}},ml={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w_;function Nb(){if(w_)return ml;w_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,l,u){var f=null;if(u!==void 0&&(f=""+u),l.key!==void 0&&(f=""+l.key),"key"in l){u={};for(var m in l)m!=="key"&&(u[m]=l[m])}else u=l;return l=u.ref,{$$typeof:r,type:a,key:f,ref:l!==void 0?l:null,props:u}}return ml.Fragment=e,ml.jsx=i,ml.jsxs=i,ml}var b_;function Mb(){return b_||(b_=1,bd.exports=Nb()),bd.exports}var le=Mb(),Sd={exports:{}},Se={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S_;function xb(){if(S_)return Se;S_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.iterator;function A(O){return O===null||typeof O!="object"?null:(O=b&&O[b]||O["@@iterator"],typeof O=="function"?O:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F=Object.assign,Z={};function G(O,W,ae){this.props=O,this.context=W,this.refs=Z,this.updater=ae||j}G.prototype.isReactComponent={},G.prototype.setState=function(O,W){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,W,"setState")},G.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function te(){}te.prototype=G.prototype;function re(O,W,ae){this.props=O,this.context=W,this.refs=Z,this.updater=ae||j}var ee=re.prototype=new te;ee.constructor=re,F(ee,G.prototype),ee.isPureReactComponent=!0;var ve=Array.isArray,ue={H:null,A:null,T:null,S:null,V:null},De=Object.prototype.hasOwnProperty;function N(O,W,ae,se,fe,Me){return ae=Me.ref,{$$typeof:r,type:O,key:W,ref:ae!==void 0?ae:null,props:Me}}function S(O,W){return N(O.type,W,void 0,void 0,void 0,O.props)}function R(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function x(O){var W={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ae){return W[ae]})}var D=/\/+/g;function V(O,W){return typeof O=="object"&&O!==null&&O.key!=null?x(""+O.key):W.toString(36)}function C(){}function de(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(C,C):(O.status="pending",O.then(function(W){O.status==="pending"&&(O.status="fulfilled",O.value=W)},function(W){O.status==="pending"&&(O.status="rejected",O.reason=W)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function be(O,W,ae,se,fe){var Me=typeof O;(Me==="undefined"||Me==="boolean")&&(O=null);var Ee=!1;if(O===null)Ee=!0;else switch(Me){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(O.$$typeof){case r:case e:Ee=!0;break;case E:return Ee=O._init,be(Ee(O._payload),W,ae,se,fe)}}if(Ee)return fe=fe(O),Ee=se===""?"."+V(O,0):se,ve(fe)?(ae="",Ee!=null&&(ae=Ee.replace(D,"$&/")+"/"),be(fe,W,ae,"",function(Nn){return Nn})):fe!=null&&(R(fe)&&(fe=S(fe,ae+(fe.key==null||O&&O.key===fe.key?"":(""+fe.key).replace(D,"$&/")+"/")+Ee)),W.push(fe)),1;Ee=0;var Ot=se===""?".":se+":";if(ve(O))for(var qe=0;qe<O.length;qe++)se=O[qe],Me=Ot+V(se,qe),Ee+=be(se,W,ae,Me,fe);else if(qe=A(O),typeof qe=="function")for(O=qe.call(O),qe=0;!(se=O.next()).done;)se=se.value,Me=Ot+V(se,qe++),Ee+=be(se,W,ae,Me,fe);else if(Me==="object"){if(typeof O.then=="function")return be(de(O),W,ae,se,fe);throw W=String(O),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function K(O,W,ae){if(O==null)return O;var se=[],fe=0;return be(O,se,"","",function(Me){return W.call(ae,Me,fe++)}),se}function ne(O){if(O._status===-1){var W=O._result;W=W(),W.then(function(ae){(O._status===0||O._status===-1)&&(O._status=1,O._result=ae)},function(ae){(O._status===0||O._status===-1)&&(O._status=2,O._result=ae)}),O._status===-1&&(O._status=0,O._result=W)}if(O._status===1)return O._result.default;throw O._result}var me=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function Pe(){}return Se.Children={map:K,forEach:function(O,W,ae){K(O,function(){W.apply(this,arguments)},ae)},count:function(O){var W=0;return K(O,function(){W++}),W},toArray:function(O){return K(O,function(W){return W})||[]},only:function(O){if(!R(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Se.Component=G,Se.Fragment=i,Se.Profiler=l,Se.PureComponent=re,Se.StrictMode=a,Se.Suspense=y,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ue,Se.__COMPILER_RUNTIME={__proto__:null,c:function(O){return ue.H.useMemoCache(O)}},Se.cache=function(O){return function(){return O.apply(null,arguments)}},Se.cloneElement=function(O,W,ae){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var se=F({},O.props),fe=O.key,Me=void 0;if(W!=null)for(Ee in W.ref!==void 0&&(Me=void 0),W.key!==void 0&&(fe=""+W.key),W)!De.call(W,Ee)||Ee==="key"||Ee==="__self"||Ee==="__source"||Ee==="ref"&&W.ref===void 0||(se[Ee]=W[Ee]);var Ee=arguments.length-2;if(Ee===1)se.children=ae;else if(1<Ee){for(var Ot=Array(Ee),qe=0;qe<Ee;qe++)Ot[qe]=arguments[qe+2];se.children=Ot}return N(O.type,fe,void 0,void 0,Me,se)},Se.createContext=function(O){return O={$$typeof:f,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},Se.createElement=function(O,W,ae){var se,fe={},Me=null;if(W!=null)for(se in W.key!==void 0&&(Me=""+W.key),W)De.call(W,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(fe[se]=W[se]);var Ee=arguments.length-2;if(Ee===1)fe.children=ae;else if(1<Ee){for(var Ot=Array(Ee),qe=0;qe<Ee;qe++)Ot[qe]=arguments[qe+2];fe.children=Ot}if(O&&O.defaultProps)for(se in Ee=O.defaultProps,Ee)fe[se]===void 0&&(fe[se]=Ee[se]);return N(O,Me,void 0,void 0,null,fe)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(O){return{$$typeof:m,render:O}},Se.isValidElement=R,Se.lazy=function(O){return{$$typeof:E,_payload:{_status:-1,_result:O},_init:ne}},Se.memo=function(O,W){return{$$typeof:g,type:O,compare:W===void 0?null:W}},Se.startTransition=function(O){var W=ue.T,ae={};ue.T=ae;try{var se=O(),fe=ue.S;fe!==null&&fe(ae,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(Pe,me)}catch(Me){me(Me)}finally{ue.T=W}},Se.unstable_useCacheRefresh=function(){return ue.H.useCacheRefresh()},Se.use=function(O){return ue.H.use(O)},Se.useActionState=function(O,W,ae){return ue.H.useActionState(O,W,ae)},Se.useCallback=function(O,W){return ue.H.useCallback(O,W)},Se.useContext=function(O){return ue.H.useContext(O)},Se.useDebugValue=function(){},Se.useDeferredValue=function(O,W){return ue.H.useDeferredValue(O,W)},Se.useEffect=function(O,W,ae){var se=ue.H;if(typeof ae=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return se.useEffect(O,W)},Se.useId=function(){return ue.H.useId()},Se.useImperativeHandle=function(O,W,ae){return ue.H.useImperativeHandle(O,W,ae)},Se.useInsertionEffect=function(O,W){return ue.H.useInsertionEffect(O,W)},Se.useLayoutEffect=function(O,W){return ue.H.useLayoutEffect(O,W)},Se.useMemo=function(O,W){return ue.H.useMemo(O,W)},Se.useOptimistic=function(O,W){return ue.H.useOptimistic(O,W)},Se.useReducer=function(O,W,ae){return ue.H.useReducer(O,W,ae)},Se.useRef=function(O){return ue.H.useRef(O)},Se.useState=function(O){return ue.H.useState(O)},Se.useSyncExternalStore=function(O,W,ae){return ue.H.useSyncExternalStore(O,W,ae)},Se.useTransition=function(){return ue.H.useTransition()},Se.version="19.1.1",Se}var A_;function gm(){return A_||(A_=1,Sd.exports=xb()),Sd.exports}var q=gm();const kb=h0(q);var Ad={exports:{}},pl={},Rd={exports:{}},Id={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R_;function Vb(){return R_||(R_=1,(function(r){function e(K,ne){var me=K.length;K.push(ne);e:for(;0<me;){var Pe=me-1>>>1,O=K[Pe];if(0<l(O,ne))K[Pe]=ne,K[me]=O,me=Pe;else break e}}function i(K){return K.length===0?null:K[0]}function a(K){if(K.length===0)return null;var ne=K[0],me=K.pop();if(me!==ne){K[0]=me;e:for(var Pe=0,O=K.length,W=O>>>1;Pe<W;){var ae=2*(Pe+1)-1,se=K[ae],fe=ae+1,Me=K[fe];if(0>l(se,me))fe<O&&0>l(Me,se)?(K[Pe]=Me,K[fe]=me,Pe=fe):(K[Pe]=se,K[ae]=me,Pe=ae);else if(fe<O&&0>l(Me,me))K[Pe]=Me,K[fe]=me,Pe=fe;else break e}}return ne}function l(K,ne){var me=K.sortIndex-ne.sortIndex;return me!==0?me:K.id-ne.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var y=[],g=[],E=1,b=null,A=3,j=!1,F=!1,Z=!1,G=!1,te=typeof setTimeout=="function"?setTimeout:null,re=typeof clearTimeout=="function"?clearTimeout:null,ee=typeof setImmediate<"u"?setImmediate:null;function ve(K){for(var ne=i(g);ne!==null;){if(ne.callback===null)a(g);else if(ne.startTime<=K)a(g),ne.sortIndex=ne.expirationTime,e(y,ne);else break;ne=i(g)}}function ue(K){if(Z=!1,ve(K),!F)if(i(y)!==null)F=!0,De||(De=!0,V());else{var ne=i(g);ne!==null&&be(ue,ne.startTime-K)}}var De=!1,N=-1,S=5,R=-1;function x(){return G?!0:!(r.unstable_now()-R<S)}function D(){if(G=!1,De){var K=r.unstable_now();R=K;var ne=!0;try{e:{F=!1,Z&&(Z=!1,re(N),N=-1),j=!0;var me=A;try{t:{for(ve(K),b=i(y);b!==null&&!(b.expirationTime>K&&x());){var Pe=b.callback;if(typeof Pe=="function"){b.callback=null,A=b.priorityLevel;var O=Pe(b.expirationTime<=K);if(K=r.unstable_now(),typeof O=="function"){b.callback=O,ve(K),ne=!0;break t}b===i(y)&&a(y),ve(K)}else a(y);b=i(y)}if(b!==null)ne=!0;else{var W=i(g);W!==null&&be(ue,W.startTime-K),ne=!1}}break e}finally{b=null,A=me,j=!1}ne=void 0}}finally{ne?V():De=!1}}}var V;if(typeof ee=="function")V=function(){ee(D)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,de=C.port2;C.port1.onmessage=D,V=function(){de.postMessage(null)}}else V=function(){te(D,0)};function be(K,ne){N=te(function(){K(r.unstable_now())},ne)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(K){K.callback=null},r.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<K?Math.floor(1e3/K):5},r.unstable_getCurrentPriorityLevel=function(){return A},r.unstable_next=function(K){switch(A){case 1:case 2:case 3:var ne=3;break;default:ne=A}var me=A;A=ne;try{return K()}finally{A=me}},r.unstable_requestPaint=function(){G=!0},r.unstable_runWithPriority=function(K,ne){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var me=A;A=K;try{return ne()}finally{A=me}},r.unstable_scheduleCallback=function(K,ne,me){var Pe=r.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Pe+me:Pe):me=Pe,K){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=me+O,K={id:E++,callback:ne,priorityLevel:K,startTime:me,expirationTime:O,sortIndex:-1},me>Pe?(K.sortIndex=me,e(g,K),i(y)===null&&K===i(g)&&(Z?(re(N),N=-1):Z=!0,be(ue,me-Pe))):(K.sortIndex=O,e(y,K),F||j||(F=!0,De||(De=!0,V()))),K},r.unstable_shouldYield=x,r.unstable_wrapCallback=function(K){var ne=A;return function(){var me=A;A=ne;try{return K.apply(this,arguments)}finally{A=me}}}})(Id)),Id}var I_;function Pb(){return I_||(I_=1,Rd.exports=Vb()),Rd.exports}var Cd={exports:{}},Ht={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C_;function Lb(){if(C_)return Ht;C_=1;var r=gm();function e(y){var g="https://react.dev/errors/"+y;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+y+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(y,g,E){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:y,containerInfo:g,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(y,g){if(y==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Ht.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ht.createPortal=function(y,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(y,g,null,E)},Ht.flushSync=function(y){var g=f.T,E=a.p;try{if(f.T=null,a.p=2,y)return y()}finally{f.T=g,a.p=E,a.d.f()}},Ht.preconnect=function(y,g){typeof y=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(y,g))},Ht.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},Ht.preinit=function(y,g){if(typeof y=="string"&&g&&typeof g.as=="string"){var E=g.as,b=m(E,g.crossOrigin),A=typeof g.integrity=="string"?g.integrity:void 0,j=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?a.d.S(y,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:A,fetchPriority:j}):E==="script"&&a.d.X(y,{crossOrigin:b,integrity:A,fetchPriority:j,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Ht.preinitModule=function(y,g){if(typeof y=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);a.d.M(y,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(y)},Ht.preload=function(y,g){if(typeof y=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,b=m(E,g.crossOrigin);a.d.L(y,E,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Ht.preloadModule=function(y,g){if(typeof y=="string")if(g){var E=m(g.as,g.crossOrigin);a.d.m(y,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(y)},Ht.requestFormReset=function(y){a.d.r(y)},Ht.unstable_batchedUpdates=function(y,g){return y(g)},Ht.useFormState=function(y,g,E){return f.H.useFormState(y,g,E)},Ht.useFormStatus=function(){return f.H.useHostTransitionStatus()},Ht.version="19.1.1",Ht}var D_;function Ub(){if(D_)return Cd.exports;D_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Cd.exports=Lb(),Cd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O_;function zb(){if(O_)return pl;O_=1;var r=Pb(),e=gm(),i=Ub();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function f(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(a(188))}function y(t){var n=t.alternate;if(!n){if(n=u(t),n===null)throw Error(a(188));return n!==t?null:t}for(var s=t,o=n;;){var h=s.return;if(h===null)break;var d=h.alternate;if(d===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===s)return m(h),t;if(d===o)return m(h),n;d=d.sibling}throw Error(a(188))}if(s.return!==o.return)s=h,o=d;else{for(var v=!1,T=h.child;T;){if(T===s){v=!0,s=h,o=d;break}if(T===o){v=!0,o=h,s=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===s){v=!0,s=d,o=h;break}if(T===o){v=!0,o=d,s=h;break}T=T.sibling}if(!v)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:n}function g(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=g(t),n!==null)return n;t=t.sibling}return null}var E=Object.assign,b=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),te=Symbol.for("react.provider"),re=Symbol.for("react.consumer"),ee=Symbol.for("react.context"),ve=Symbol.for("react.forward_ref"),ue=Symbol.for("react.suspense"),De=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),x=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function V(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function de(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case F:return"Fragment";case G:return"Profiler";case Z:return"StrictMode";case ue:return"Suspense";case De:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case j:return"Portal";case ee:return(t.displayName||"Context")+".Provider";case re:return(t._context.displayName||"Context")+".Consumer";case ve:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return n=t.displayName||null,n!==null?n:de(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return de(t(n))}catch{}}return null}var be=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Pe=[],O=-1;function W(t){return{current:t}}function ae(t){0>O||(t.current=Pe[O],Pe[O]=null,O--)}function se(t,n){O++,Pe[O]=t.current,t.current=n}var fe=W(null),Me=W(null),Ee=W(null),Ot=W(null);function qe(t,n){switch(se(Ee,n),se(Me,t),se(fe,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Xy(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Xy(n),t=Zy(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ae(fe),se(fe,t)}function Nn(){ae(fe),ae(Me),ae(Ee)}function oo(t){t.memoizedState!==null&&se(Ot,t);var n=fe.current,s=Zy(n,t.type);n!==s&&(se(Me,t),se(fe,s))}function Zs(t){Me.current===t&&(ae(fe),ae(Me)),Ot.current===t&&(ae(Ot),ul._currentValue=me)}var Ws=Object.prototype.hasOwnProperty,Qr=r.unstable_scheduleCallback,Js=r.unstable_cancelCallback,bh=r.unstable_shouldYield,lo=r.unstable_requestPaint,Jt=r.unstable_now,Wl=r.unstable_getCurrentPriorityLevel,vt=r.unstable_ImmediatePriority,bt=r.unstable_UserBlockingPriority,_i=r.unstable_NormalPriority,Sh=r.unstable_LowPriority,uo=r.unstable_IdlePriority,Ah=r.log,Xr=r.unstable_setDisableYieldValue,Xi=null,zt=null;function yn(t){if(typeof Ah=="function"&&Xr(t),zt&&typeof zt.setStrictMode=="function")try{zt.setStrictMode(Xi,t)}catch{}}var Yt=Math.clz32?Math.clz32:eu,Rh=Math.log,Jl=Math.LN2;function eu(t){return t>>>=0,t===0?32:31-(Rh(t)/Jl|0)|0}var Zn=256,Zi=4194304;function Mn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function _n(t,n,s){var o=t.pendingLanes;if(o===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var T=o&134217727;return T!==0?(o=T&~d,o!==0?h=Mn(o):(v&=T,v!==0?h=Mn(v):s||(s=T&~t,s!==0&&(h=Mn(s))))):(T=o&~d,T!==0?h=Mn(T):v!==0?h=Mn(v):s||(s=o&~t,s!==0&&(h=Mn(s)))),h===0?0:n!==0&&n!==h&&(n&d)===0&&(d=h&-h,s=n&-n,d>=s||d===32&&(s&4194048)!==0)?n:h}function Wi(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function ea(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function co(){var t=Zn;return Zn<<=1,(Zn&4194048)===0&&(Zn=256),t}function Ji(){var t=Zi;return Zi<<=1,(Zi&62914560)===0&&(Zi=4194304),t}function ta(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function ut(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function tu(t,n,s,o,h,d){var v=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var T=t.entanglements,I=t.expirationTimes,U=t.hiddenUpdates;for(s=v&~s;0<s;){var $=31-Yt(s),Q=1<<$;T[$]=0,I[$]=-1;var z=U[$];if(z!==null)for(U[$]=null,$=0;$<z.length;$++){var B=z[$];B!==null&&(B.lane&=-536870913)}s&=~Q}o!==0&&er(t,o,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~n))}function er(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-Yt(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|s&4194090}function tr(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var o=31-Yt(s),h=1<<o;h&n|t[o]&n&&(t[o]|=n),s&=~h}}function ho(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function fo(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function vi(){var t=ne.p;return t!==0?t:(t=window.event,t===void 0?32:g_(t.type))}function Ih(t,n){var s=ne.p;try{return ne.p=t,n()}finally{ne.p=s}}var Wn=Math.random().toString(36).slice(2),ct="__reactFiber$"+Wn,Nt="__reactProps$"+Wn,Ei="__reactContainer$"+Wn,Zr="__reactEvents$"+Wn,Wr="__reactListeners$"+Wn,Ch="__reactHandles$"+Wn,xn="__reactResources$"+Wn,nr="__reactMarker$"+Wn;function na(t){delete t[ct],delete t[Nt],delete t[Zr],delete t[Wr],delete t[Ch]}function Jn(t){var n=t[ct];if(n)return n;for(var s=t.parentNode;s;){if(n=s[Ei]||s[ct]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=t_(t);t!==null;){if(s=t[ct])return s;t=t_(t)}return n}t=s,s=t.parentNode}return null}function ei(t){if(t=t[ct]||t[Ei]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function ir(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function rr(t){var n=t[xn];return n||(n=t[xn]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ht(t){t[nr]=!0}var nu=new Set,Jr={};function ti(t,n){ni(t,n),ni(t+"Capture",n)}function ni(t,n){for(Jr[t]=n,t=0;t<n.length;t++)nu.add(n[t])}var es=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ii={},ia={};function Dh(t){return Ws.call(ia,t)?!0:Ws.call(ii,t)?!1:es.test(t)?ia[t]=!0:(ii[t]=!0,!1)}function ts(t,n,s){if(Dh(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function ns(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function vn(t,n,s,o){if(o===null)t.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+o)}}var is,ra;function Ti(t){if(is===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);is=n&&n[1]||"",ra=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+is+t+ra}var sa=!1;function aa(t,n){if(!t||sa)return"";sa=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(B){var z=B}Reflect.construct(t,[],Q)}else{try{Q.call()}catch(B){z=B}t.call(Q.prototype)}}else{try{throw Error()}catch(B){z=B}(Q=t())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(B){if(B&&z&&typeof B.stack=="string")return[B.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var I=v.split(`
`),U=T.split(`
`);for(h=o=0;o<I.length&&!I[o].includes("DetermineComponentFrameRoot");)o++;for(;h<U.length&&!U[h].includes("DetermineComponentFrameRoot");)h++;if(o===I.length||h===U.length)for(o=I.length-1,h=U.length-1;1<=o&&0<=h&&I[o]!==U[h];)h--;for(;1<=o&&0<=h;o--,h--)if(I[o]!==U[h]){if(o!==1||h!==1)do if(o--,h--,0>h||I[o]!==U[h]){var $=`
`+I[o].replace(" at new "," at ");return t.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",t.displayName)),$}while(1<=o&&0<=h);break}}}finally{sa=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Ti(s):""}function Oh(t){switch(t.tag){case 26:case 27:case 5:return Ti(t.type);case 16:return Ti("Lazy");case 13:return Ti("Suspense");case 19:return Ti("SuspenseList");case 0:case 15:return aa(t.type,!1);case 11:return aa(t.type.render,!1);case 1:return aa(t.type,!0);case 31:return Ti("Activity");default:return""}}function kn(t){try{var n="";do n+=Oh(t),t=t.return;while(t);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function nt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function sr(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function rs(t){var n=sr(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),o=""+t[n];if(!t.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var h=s.get,d=s.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(v){o=""+v,d.call(this,v)}}),Object.defineProperty(t,n,{enumerable:s.enumerable}),{getValue:function(){return o},setValue:function(v){o=""+v},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function ar(t){t._valueTracker||(t._valueTracker=rs(t))}function Fe(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return t&&(o=sr(t)?t.checked?"true":"false":t.value),t=o,t!==s?(n.setValue(t),!0):!1}function wi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ss=/[\n"\\]/g;function St(t){return t.replace(ss,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function mo(t,n,s,o,h,d,v,T){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),n!=null?v==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+nt(n)):t.value!==""+nt(n)&&(t.value=""+nt(n)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),n!=null?go(t,v,nt(n)):s!=null?go(t,v,nt(s)):o!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+nt(T):t.removeAttribute("name")}function po(t,n,s,o,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),n!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||n!=null))return;s=s!=null?""+nt(s):"",n=n!=null?""+nt(n):s,T||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=T?t.checked:!!o,t.defaultChecked=!!o,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function go(t,n,s){n==="number"&&wi(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function or(t,n,s,o){if(t=t.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=n.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&o&&(t[s].defaultSelected=!0)}else{for(s=""+nt(s),n=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function iu(t,n,s){if(n!=null&&(n=""+nt(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+nt(s):""}function ru(t,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(be(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=nt(n),t.defaultValue=s,o=t.textContent,o===s&&o!==""&&o!==null&&(t.value=o)}function En(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var bi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function yo(t,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,s):typeof s!="number"||s===0||bi.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function _o(t,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&yo(t,h,o)}else for(var d in n)n.hasOwnProperty(d)&&yo(t,d,n[d])}function oa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var su=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),au=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Vn(t){return au.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var vo=null;function Eo(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var lr=null,Qt=null;function ou(t){var n=ei(t);if(n&&(t=n.stateNode)){var s=t[Nt]||null;e:switch(t=n.stateNode,n.type){case"input":if(mo(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+St(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==t&&o.form===t.form){var h=o[Nt]||null;if(!h)throw Error(a(90));mo(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===t.form&&Fe(o)}break e;case"textarea":iu(t,s.value,s.defaultValue);break e;case"select":n=s.value,n!=null&&or(t,!!s.multiple,n,!1)}}}var as=!1;function os(t,n,s){if(as)return t(n,s);as=!0;try{var o=t(n);return o}finally{if(as=!1,(lr!==null||Qt!==null)&&(Xu(),lr&&(n=lr,t=Qt,Qt=lr=null,ou(n),t)))for(n=0;n<t.length;n++)ou(t[n])}}function ur(t,n){var s=t.stateNode;if(s===null)return null;var o=s[Nt]||null;if(o===null)return null;s=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Xt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Si=!1;if(Xt)try{var cr={};Object.defineProperty(cr,"passive",{get:function(){Si=!0}}),window.addEventListener("test",cr,cr),window.removeEventListener("test",cr,cr)}catch{Si=!1}var Tn=null,Qe=null,la=null;function lu(){if(la)return la;var t,n=Qe,s=n.length,o,h="value"in Tn?Tn.value:Tn.textContent,d=h.length;for(t=0;t<s&&n[t]===h[t];t++);var v=s-t;for(o=1;o<=v&&n[s-o]===h[d-o];o++);return la=h.slice(t,1<o?1-o:void 0)}function ls(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function us(){return!0}function To(){return!1}function Et(t){function n(s,o,h,d,v){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(s=t[T],this[T]=s?s(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?us:To,this.isPropagationStopped=To,this}return E(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=us)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=us)},persist:function(){},isPersistent:us}),n}var Bt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cs=Et(Bt),hs=E({},Bt,{view:0,detail:0}),fs=Et(hs),ua,ds,ri,ms=E({},hs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ri&&(ri&&t.type==="mousemove"?(ua=t.screenX-ri.screenX,ds=t.screenY-ri.screenY):ds=ua=0,ri=t),ua)},movementY:function(t){return"movementY"in t?t.movementY:ds}}),ps=Et(ms),Nh=E({},ms,{dataTransfer:0}),uu=Et(Nh),gs=E({},hs,{relatedTarget:0}),ca=Et(gs),cu=E({},Bt,{animationName:0,elapsedTime:0,pseudoElement:0}),wo=Et(cu),bo=E({},Bt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),hu=Et(bo),ha=E({},Bt,{data:0}),So=Et(ha),fu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ai={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},du={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=du[t])?!!n[t]:!1}function fa(){return mu}var pu=E({},hs,{key:function(t){if(t.key){var n=fu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=ls(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ai[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fa,charCode:function(t){return t.type==="keypress"?ls(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ls(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),da=Et(pu),Zt=E({},ms,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ao=Et(Zt),gu=E({},hs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fa}),hr=Et(gu),c=E({},Bt,{propertyName:0,elapsedTime:0,pseudoElement:0}),p=Et(c),_=E({},ms,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),w=Et(_),L=E({},Bt,{newState:0,oldState:0}),H=Et(L),ie=[9,13,27,32],we=Xt&&"CompositionEvent"in window,We=null;Xt&&"documentMode"in document&&(We=document.documentMode);var Be=Xt&&"TextEvent"in window&&!We,ft=Xt&&(!we||We&&8<We&&11>=We),ln=" ",si=!1;function Pn(t,n){switch(t){case"keyup":return ie.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ln(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Un=!1;function Ro(t,n){switch(t){case"compositionend":return Ln(n);case"keypress":return n.which!==32?null:(si=!0,ln);case"textInput":return t=n.data,t===ln&&si?null:t;default:return null}}function rw(t,n){if(Un)return t==="compositionend"||!we&&Pn(t,n)?(t=lu(),la=Qe=Tn=null,Un=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return ft&&n.locale!=="ko"?null:n.data;default:return null}}var sw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cp(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!sw[t.type]:n==="textarea"}function hp(t,n,s,o){lr?Qt?Qt.push(o):Qt=[o]:lr=o,n=nc(n,"onChange"),0<n.length&&(s=new cs("onChange","change",null,s,o),t.push({event:s,listeners:n}))}var Io=null,Co=null;function aw(t){Gy(t,0)}function yu(t){var n=ir(t);if(Fe(n))return t}function fp(t,n){if(t==="change")return n}var dp=!1;if(Xt){var Mh;if(Xt){var xh="oninput"in document;if(!xh){var mp=document.createElement("div");mp.setAttribute("oninput","return;"),xh=typeof mp.oninput=="function"}Mh=xh}else Mh=!1;dp=Mh&&(!document.documentMode||9<document.documentMode)}function pp(){Io&&(Io.detachEvent("onpropertychange",gp),Co=Io=null)}function gp(t){if(t.propertyName==="value"&&yu(Co)){var n=[];hp(n,Co,t,Eo(t)),os(aw,n)}}function ow(t,n,s){t==="focusin"?(pp(),Io=n,Co=s,Io.attachEvent("onpropertychange",gp)):t==="focusout"&&pp()}function lw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return yu(Co)}function uw(t,n){if(t==="click")return yu(n)}function cw(t,n){if(t==="input"||t==="change")return yu(n)}function hw(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var un=typeof Object.is=="function"?Object.is:hw;function Do(t,n){if(un(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!Ws.call(n,h)||!un(t[h],n[h]))return!1}return!0}function yp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function _p(t,n){var s=yp(t);t=0;for(var o;s;){if(s.nodeType===3){if(o=t+s.textContent.length,t<=n&&o>=n)return{node:s,offset:n-t};t=o}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=yp(s)}}function vp(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?vp(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Ep(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=wi(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=wi(t.document)}return n}function kh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var fw=Xt&&"documentMode"in document&&11>=document.documentMode,ma=null,Vh=null,Oo=null,Ph=!1;function Tp(t,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Ph||ma==null||ma!==wi(o)||(o=ma,"selectionStart"in o&&kh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Oo&&Do(Oo,o)||(Oo=o,o=nc(Vh,"onSelect"),0<o.length&&(n=new cs("onSelect","select",null,n,s),t.push({event:n,listeners:o}),n.target=ma)))}function ys(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var pa={animationend:ys("Animation","AnimationEnd"),animationiteration:ys("Animation","AnimationIteration"),animationstart:ys("Animation","AnimationStart"),transitionrun:ys("Transition","TransitionRun"),transitionstart:ys("Transition","TransitionStart"),transitioncancel:ys("Transition","TransitionCancel"),transitionend:ys("Transition","TransitionEnd")},Lh={},wp={};Xt&&(wp=document.createElement("div").style,"AnimationEvent"in window||(delete pa.animationend.animation,delete pa.animationiteration.animation,delete pa.animationstart.animation),"TransitionEvent"in window||delete pa.transitionend.transition);function _s(t){if(Lh[t])return Lh[t];if(!pa[t])return t;var n=pa[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in wp)return Lh[t]=n[s];return t}var bp=_s("animationend"),Sp=_s("animationiteration"),Ap=_s("animationstart"),dw=_s("transitionrun"),mw=_s("transitionstart"),pw=_s("transitioncancel"),Rp=_s("transitionend"),Ip=new Map,Uh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Uh.push("scrollEnd");function zn(t,n){Ip.set(t,n),ti(n,[t])}var Cp=new WeakMap;function wn(t,n){if(typeof t=="object"&&t!==null){var s=Cp.get(t);return s!==void 0?s:(n={value:t,source:n,stack:kn(n)},Cp.set(t,n),n)}return{value:t,source:n,stack:kn(n)}}var bn=[],ga=0,zh=0;function _u(){for(var t=ga,n=zh=ga=0;n<t;){var s=bn[n];bn[n++]=null;var o=bn[n];bn[n++]=null;var h=bn[n];bn[n++]=null;var d=bn[n];if(bn[n++]=null,o!==null&&h!==null){var v=o.pending;v===null?h.next=h:(h.next=v.next,v.next=h),o.pending=h}d!==0&&Dp(s,h,d)}}function vu(t,n,s,o){bn[ga++]=t,bn[ga++]=n,bn[ga++]=s,bn[ga++]=o,zh|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Bh(t,n,s,o){return vu(t,n,s,o),Eu(t)}function ya(t,n){return vu(t,null,null,n),Eu(t)}function Dp(t,n,s){t.lanes|=s;var o=t.alternate;o!==null&&(o.lanes|=s);for(var h=!1,d=t.return;d!==null;)d.childLanes|=s,o=d.alternate,o!==null&&(o.childLanes|=s),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&n!==null&&(h=31-Yt(s),t=d.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=s|536870912),d):null}function Eu(t){if(50<tl)throw tl=0,$f=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var _a={};function gw(t,n,s,o){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(t,n,s,o){return new gw(t,n,s,o)}function jh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ri(t,n){var s=t.alternate;return s===null?(s=cn(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Op(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Tu(t,n,s,o,h,d){var v=0;if(o=t,typeof t=="function")jh(t)&&(v=1);else if(typeof t=="string")v=_b(t,s,fe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=cn(31,s,n,h),t.elementType=R,t.lanes=d,t;case F:return vs(s.children,h,d,n);case Z:v=8,h|=24;break;case G:return t=cn(12,s,n,h|2),t.elementType=G,t.lanes=d,t;case ue:return t=cn(13,s,n,h),t.elementType=ue,t.lanes=d,t;case De:return t=cn(19,s,n,h),t.elementType=De,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case te:case ee:v=10;break e;case re:v=9;break e;case ve:v=11;break e;case N:v=14;break e;case S:v=16,o=null;break e}v=29,s=Error(a(130,t===null?"null":typeof t,"")),o=null}return n=cn(v,s,n,h),n.elementType=t,n.type=o,n.lanes=d,n}function vs(t,n,s,o){return t=cn(7,t,o,n),t.lanes=s,t}function Hh(t,n,s){return t=cn(6,t,null,n),t.lanes=s,t}function qh(t,n,s){return n=cn(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var va=[],Ea=0,wu=null,bu=0,Sn=[],An=0,Es=null,Ii=1,Ci="";function Ts(t,n){va[Ea++]=bu,va[Ea++]=wu,wu=t,bu=n}function Np(t,n,s){Sn[An++]=Ii,Sn[An++]=Ci,Sn[An++]=Es,Es=t;var o=Ii;t=Ci;var h=32-Yt(o)-1;o&=~(1<<h),s+=1;var d=32-Yt(n)+h;if(30<d){var v=h-h%5;d=(o&(1<<v)-1).toString(32),o>>=v,h-=v,Ii=1<<32-Yt(n)+h|s<<h|o,Ci=d+t}else Ii=1<<d|s<<h|o,Ci=t}function Fh(t){t.return!==null&&(Ts(t,1),Np(t,1,0))}function Gh(t){for(;t===wu;)wu=va[--Ea],va[Ea]=null,bu=va[--Ea],va[Ea]=null;for(;t===Es;)Es=Sn[--An],Sn[An]=null,Ci=Sn[--An],Sn[An]=null,Ii=Sn[--An],Sn[An]=null}var Wt=null,at=null,Ue=!1,ws=null,ai=!1,Kh=Error(a(519));function bs(t){var n=Error(a(418,""));throw xo(wn(n,t)),Kh}function Mp(t){var n=t.stateNode,s=t.type,o=t.memoizedProps;switch(n[ct]=t,n[Nt]=o,s){case"dialog":Ne("cancel",n),Ne("close",n);break;case"iframe":case"object":case"embed":Ne("load",n);break;case"video":case"audio":for(s=0;s<il.length;s++)Ne(il[s],n);break;case"source":Ne("error",n);break;case"img":case"image":case"link":Ne("error",n),Ne("load",n);break;case"details":Ne("toggle",n);break;case"input":Ne("invalid",n),po(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),ar(n);break;case"select":Ne("invalid",n);break;case"textarea":Ne("invalid",n),ru(n,o.value,o.defaultValue,o.children),ar(n)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||Qy(n.textContent,s)?(o.popover!=null&&(Ne("beforetoggle",n),Ne("toggle",n)),o.onScroll!=null&&Ne("scroll",n),o.onScrollEnd!=null&&Ne("scrollend",n),o.onClick!=null&&(n.onclick=ic),n=!0):n=!1,n||bs(t)}function xp(t){for(Wt=t.return;Wt;)switch(Wt.tag){case 5:case 13:ai=!1;return;case 27:case 3:ai=!0;return;default:Wt=Wt.return}}function No(t){if(t!==Wt)return!1;if(!Ue)return xp(t),Ue=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||ud(t.type,t.memoizedProps)),s=!s),s&&at&&bs(t),xp(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));e:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(n===0){at=jn(t.nextSibling);break e}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++;t=t.nextSibling}at=null}}else n===27?(n=at,Ir(t.type)?(t=dd,dd=null,at=t):at=n):at=Wt?jn(t.stateNode.nextSibling):null;return!0}function Mo(){at=Wt=null,Ue=!1}function kp(){var t=ws;return t!==null&&(nn===null?nn=t:nn.push.apply(nn,t),ws=null),t}function xo(t){ws===null?ws=[t]:ws.push(t)}var $h=W(null),Ss=null,Di=null;function fr(t,n,s){se($h,n._currentValue),n._currentValue=s}function Oi(t){t._currentValue=$h.current,ae($h)}function Yh(t,n,s){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===s)break;t=t.return}}function Qh(t,n,s,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var I=0;I<n.length;I++)if(T.context===n[I]){d.lanes|=s,T=d.alternate,T!==null&&(T.lanes|=s),Yh(d.return,s,t),o||(v=null);break e}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(a(341));v.lanes|=s,d=v.alternate,d!==null&&(d.lanes|=s),Yh(v,s,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function ko(t,n,s,o){t=null;for(var h=n,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(a(387));if(v=v.memoizedProps,v!==null){var T=h.type;un(h.pendingProps.value,v.value)||(t!==null?t.push(T):t=[T])}}else if(h===Ot.current){if(v=h.alternate,v===null)throw Error(a(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(ul):t=[ul])}h=h.return}t!==null&&Qh(n,t,s,o),n.flags|=262144}function Su(t){for(t=t.firstContext;t!==null;){if(!un(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function As(t){Ss=t,Di=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function jt(t){return Vp(Ss,t)}function Au(t,n){return Ss===null&&As(t),Vp(t,n)}function Vp(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Di===null){if(t===null)throw Error(a(308));Di=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Di=Di.next=n;return s}var yw=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},_w=r.unstable_scheduleCallback,vw=r.unstable_NormalPriority,Tt={$$typeof:ee,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xh(){return{controller:new yw,data:new Map,refCount:0}}function Vo(t){t.refCount--,t.refCount===0&&_w(vw,function(){t.controller.abort()})}var Po=null,Zh=0,Ta=0,wa=null;function Ew(t,n){if(Po===null){var s=Po=[];Zh=0,Ta=ed(),wa={status:"pending",value:void 0,then:function(o){s.push(o)}}}return Zh++,n.then(Pp,Pp),n}function Pp(){if(--Zh===0&&Po!==null){wa!==null&&(wa.status="fulfilled");var t=Po;Po=null,Ta=0,wa=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function Tw(t,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var Lp=K.S;K.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&Ew(t,n),Lp!==null&&Lp(t,n)};var Rs=W(null);function Wh(){var t=Rs.current;return t!==null?t:Xe.pooledCache}function Ru(t,n){n===null?se(Rs,Rs.current):se(Rs,n.pool)}function Up(){var t=Wh();return t===null?null:{parent:Tt._currentValue,pool:t}}var Lo=Error(a(460)),zp=Error(a(474)),Iu=Error(a(542)),Jh={then:function(){}};function Bp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Cu(){}function jp(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(Cu,Cu),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,qp(t),t;default:if(typeof n.status=="string")n.then(Cu,Cu);else{if(t=Xe,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,qp(t),t}throw Uo=n,Lo}}var Uo=null;function Hp(){if(Uo===null)throw Error(a(459));var t=Uo;return Uo=null,t}function qp(t){if(t===Lo||t===Iu)throw Error(a(483))}var dr=!1;function ef(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function tf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function mr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function pr(t,n,s){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(je&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Eu(t),Dp(t,null,s),n}return vu(t,o,n,s),Eu(t)}function zo(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,s|=o,n.lanes=s,tr(t,s)}}function nf(t,n){var s=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var v={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,s=s.next}while(s!==null);d===null?h=d=n:d=d.next=n}else h=d=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var rf=!1;function Bo(){if(rf){var t=wa;if(t!==null)throw t}}function jo(t,n,s,o){rf=!1;var h=t.updateQueue;dr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var I=T,U=I.next;I.next=null,v===null?d=U:v.next=U,v=I;var $=t.alternate;$!==null&&($=$.updateQueue,T=$.lastBaseUpdate,T!==v&&(T===null?$.firstBaseUpdate=U:T.next=U,$.lastBaseUpdate=I))}if(d!==null){var Q=h.baseState;v=0,$=U=I=null,T=d;do{var z=T.lane&-536870913,B=z!==T.lane;if(B?(ke&z)===z:(o&z)===z){z!==0&&z===Ta&&(rf=!0),$!==null&&($=$.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Te=t,ge=T;z=n;var $e=s;switch(ge.tag){case 1:if(Te=ge.payload,typeof Te=="function"){Q=Te.call($e,Q,z);break e}Q=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=ge.payload,z=typeof Te=="function"?Te.call($e,Q,z):Te,z==null)break e;Q=E({},Q,z);break e;case 2:dr=!0}}z=T.callback,z!==null&&(t.flags|=64,B&&(t.flags|=8192),B=h.callbacks,B===null?h.callbacks=[z]:B.push(z))}else B={lane:z,tag:T.tag,payload:T.payload,callback:T.callback,next:null},$===null?(U=$=B,I=Q):$=$.next=B,v|=z;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;B=T,T=B.next,B.next=null,h.lastBaseUpdate=B,h.shared.pending=null}}while(!0);$===null&&(I=Q),h.baseState=I,h.firstBaseUpdate=U,h.lastBaseUpdate=$,d===null&&(h.shared.lanes=0),br|=v,t.lanes=v,t.memoizedState=Q}}function Fp(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function Gp(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Fp(s[t],n)}var ba=W(null),Du=W(0);function Kp(t,n){t=Li,se(Du,t),se(ba,n),Li=t|n.baseLanes}function sf(){se(Du,Li),se(ba,ba.current)}function af(){Li=Du.current,ae(ba),ae(Du)}var gr=0,Re=null,Ge=null,pt=null,Ou=!1,Sa=!1,Is=!1,Nu=0,Ho=0,Aa=null,ww=0;function dt(){throw Error(a(321))}function of(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!un(t[s],n[s]))return!1;return!0}function lf(t,n,s,o,h,d){return gr=d,Re=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,K.H=t===null||t.memoizedState===null?Dg:Og,Is=!1,d=s(o,h),Is=!1,Sa&&(d=Yp(n,s,o,h)),$p(t),d}function $p(t){K.H=Lu;var n=Ge!==null&&Ge.next!==null;if(gr=0,pt=Ge=Re=null,Ou=!1,Ho=0,Aa=null,n)throw Error(a(300));t===null||At||(t=t.dependencies,t!==null&&Su(t)&&(At=!0))}function Yp(t,n,s,o){Re=t;var h=0;do{if(Sa&&(Aa=null),Ho=0,Sa=!1,25<=h)throw Error(a(301));if(h+=1,pt=Ge=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}K.H=Dw,d=n(s,o)}while(Sa);return d}function bw(){var t=K.H,n=t.useState()[0];return n=typeof n.then=="function"?qo(n):n,t=t.useState()[0],(Ge!==null?Ge.memoizedState:null)!==t&&(Re.flags|=1024),n}function uf(){var t=Nu!==0;return Nu=0,t}function cf(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function hf(t){if(Ou){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Ou=!1}gr=0,pt=Ge=Re=null,Sa=!1,Ho=Nu=0,Aa=null}function en(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pt===null?Re.memoizedState=pt=t:pt=pt.next=t,pt}function gt(){if(Ge===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=Ge.next;var n=pt===null?Re.memoizedState:pt.next;if(n!==null)pt=n,Ge=t;else{if(t===null)throw Re.alternate===null?Error(a(467)):Error(a(310));Ge=t,t={memoizedState:Ge.memoizedState,baseState:Ge.baseState,baseQueue:Ge.baseQueue,queue:Ge.queue,next:null},pt===null?Re.memoizedState=pt=t:pt=pt.next=t}return pt}function ff(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function qo(t){var n=Ho;return Ho+=1,Aa===null&&(Aa=[]),t=jp(Aa,t,n),n=Re,(pt===null?n.memoizedState:pt.next)===null&&(n=n.alternate,K.H=n===null||n.memoizedState===null?Dg:Og),t}function Mu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return qo(t);if(t.$$typeof===ee)return jt(t)}throw Error(a(438,String(t)))}function df(t){var n=null,s=Re.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=Re.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=ff(),Re.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),o=0;o<t;o++)s[o]=x;return n.index++,s}function Ni(t,n){return typeof n=="function"?n(t):n}function xu(t){var n=gt();return mf(n,Ge,t)}function mf(t,n,s){var o=t.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var h=t.baseQueue,d=o.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}n.baseQueue=h=d,o.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{n=h.next;var T=v=null,I=null,U=n,$=!1;do{var Q=U.lane&-536870913;if(Q!==U.lane?(ke&Q)===Q:(gr&Q)===Q){var z=U.revertLane;if(z===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),Q===Ta&&($=!0);else if((gr&z)===z){U=U.next,z===Ta&&($=!0);continue}else Q={lane:0,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},I===null?(T=I=Q,v=d):I=I.next=Q,Re.lanes|=z,br|=z;Q=U.action,Is&&s(d,Q),d=U.hasEagerState?U.eagerState:s(d,Q)}else z={lane:Q,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},I===null?(T=I=z,v=d):I=I.next=z,Re.lanes|=Q,br|=Q;U=U.next}while(U!==null&&U!==n);if(I===null?v=d:I.next=T,!un(d,t.memoizedState)&&(At=!0,$&&(s=wa,s!==null)))throw s;t.memoizedState=d,t.baseState=v,t.baseQueue=I,o.lastRenderedState=d}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function pf(t){var n=gt(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var o=s.dispatch,h=s.pending,d=n.memoizedState;if(h!==null){s.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);un(d,n.memoizedState)||(At=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),s.lastRenderedState=d}return[d,o]}function Qp(t,n,s){var o=Re,h=gt(),d=Ue;if(d){if(s===void 0)throw Error(a(407));s=s()}else s=n();var v=!un((Ge||h).memoizedState,s);v&&(h.memoizedState=s,At=!0),h=h.queue;var T=Wp.bind(null,o,h,t);if(Fo(2048,8,T,[t]),h.getSnapshot!==n||v||pt!==null&&pt.memoizedState.tag&1){if(o.flags|=2048,Ra(9,ku(),Zp.bind(null,o,h,s,n),null),Xe===null)throw Error(a(349));d||(gr&124)!==0||Xp(o,n,s)}return s}function Xp(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=Re.updateQueue,n===null?(n=ff(),Re.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function Zp(t,n,s,o){n.value=s,n.getSnapshot=o,Jp(n)&&eg(t)}function Wp(t,n,s){return s(function(){Jp(n)&&eg(t)})}function Jp(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!un(t,s)}catch{return!0}}function eg(t){var n=ya(t,2);n!==null&&pn(n,t,2)}function gf(t){var n=en();if(typeof t=="function"){var s=t;if(t=s(),Is){yn(!0);try{s()}finally{yn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:t},n}function tg(t,n,s,o){return t.baseState=s,mf(t,Ge,typeof o=="function"?o:Ni)}function Sw(t,n,s,o,h){if(Pu(t))throw Error(a(485));if(t=n.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};K.T!==null?s(!0):d.isTransition=!1,o(d),s=n.pending,s===null?(d.next=n.pending=d,ng(n,d)):(d.next=s.next,n.pending=s.next=d)}}function ng(t,n){var s=n.action,o=n.payload,h=t.state;if(n.isTransition){var d=K.T,v={};K.T=v;try{var T=s(h,o),I=K.S;I!==null&&I(v,T),ig(t,n,T)}catch(U){yf(t,n,U)}finally{K.T=d}}else try{d=s(h,o),ig(t,n,d)}catch(U){yf(t,n,U)}}function ig(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){rg(t,n,o)},function(o){return yf(t,n,o)}):rg(t,n,s)}function rg(t,n,s){n.status="fulfilled",n.value=s,sg(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,ng(t,s)))}function yf(t,n,s){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,sg(n),n=n.next;while(n!==o)}t.action=null}function sg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function ag(t,n){return n}function og(t,n){if(Ue){var s=Xe.formState;if(s!==null){e:{var o=Re;if(Ue){if(at){t:{for(var h=at,d=ai;h.nodeType!==8;){if(!d){h=null;break t}if(h=jn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){at=jn(h.nextSibling),o=h.data==="F!";break e}}bs(o)}o=!1}o&&(n=s[0])}}return s=en(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ag,lastRenderedState:n},s.queue=o,s=Rg.bind(null,Re,o),o.dispatch=s,o=gf(!1),d=wf.bind(null,Re,!1,o.queue),o=en(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,s=Sw.bind(null,Re,h,d,s),h.dispatch=s,o.memoizedState=t,[n,s,!1]}function lg(t){var n=gt();return ug(n,Ge,t)}function ug(t,n,s){if(n=mf(t,n,ag)[0],t=xu(Ni)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=qo(n)}catch(v){throw v===Lo?Iu:v}else o=n;n=gt();var h=n.queue,d=h.dispatch;return s!==n.memoizedState&&(Re.flags|=2048,Ra(9,ku(),Aw.bind(null,h,s),null)),[o,d,t]}function Aw(t,n){t.action=n}function cg(t){var n=gt(),s=Ge;if(s!==null)return ug(n,s,t);gt(),n=n.memoizedState,s=gt();var o=s.queue.dispatch;return s.memoizedState=t,[n,o,!1]}function Ra(t,n,s,o){return t={tag:t,create:s,deps:o,inst:n,next:null},n=Re.updateQueue,n===null&&(n=ff(),Re.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(o=s.next,s.next=t,t.next=o,n.lastEffect=t),t}function ku(){return{destroy:void 0,resource:void 0}}function hg(){return gt().memoizedState}function Vu(t,n,s,o){var h=en();o=o===void 0?null:o,Re.flags|=t,h.memoizedState=Ra(1|n,ku(),s,o)}function Fo(t,n,s,o){var h=gt();o=o===void 0?null:o;var d=h.memoizedState.inst;Ge!==null&&o!==null&&of(o,Ge.memoizedState.deps)?h.memoizedState=Ra(n,d,s,o):(Re.flags|=t,h.memoizedState=Ra(1|n,d,s,o))}function fg(t,n){Vu(8390656,8,t,n)}function dg(t,n){Fo(2048,8,t,n)}function mg(t,n){return Fo(4,2,t,n)}function pg(t,n){return Fo(4,4,t,n)}function gg(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function yg(t,n,s){s=s!=null?s.concat([t]):null,Fo(4,4,gg.bind(null,n,t),s)}function _f(){}function _g(t,n){var s=gt();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&of(n,o[1])?o[0]:(s.memoizedState=[t,n],t)}function vg(t,n){var s=gt();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&of(n,o[1]))return o[0];if(o=t(),Is){yn(!0);try{t()}finally{yn(!1)}}return s.memoizedState=[o,n],o}function vf(t,n,s){return s===void 0||(gr&1073741824)!==0?t.memoizedState=n:(t.memoizedState=s,t=wy(),Re.lanes|=t,br|=t,s)}function Eg(t,n,s,o){return un(s,n)?s:ba.current!==null?(t=vf(t,s,o),un(t,n)||(At=!0),t):(gr&42)===0?(At=!0,t.memoizedState=s):(t=wy(),Re.lanes|=t,br|=t,n)}function Tg(t,n,s,o,h){var d=ne.p;ne.p=d!==0&&8>d?d:8;var v=K.T,T={};K.T=T,wf(t,!1,n,s);try{var I=h(),U=K.S;if(U!==null&&U(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var $=Tw(I,o);Go(t,n,$,mn(t))}else Go(t,n,o,mn(t))}catch(Q){Go(t,n,{then:function(){},status:"rejected",reason:Q},mn())}finally{ne.p=d,K.T=v}}function Rw(){}function Ef(t,n,s,o){if(t.tag!==5)throw Error(a(476));var h=wg(t).queue;Tg(t,h,n,me,s===null?Rw:function(){return bg(t),s(o)})}function wg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:me},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function bg(t){var n=wg(t).next.queue;Go(t,n,{},mn())}function Tf(){return jt(ul)}function Sg(){return gt().memoizedState}function Ag(){return gt().memoizedState}function Iw(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=mn();t=mr(s);var o=pr(n,t,s);o!==null&&(pn(o,n,s),zo(o,n,s)),n={cache:Xh()},t.payload=n;return}n=n.return}}function Cw(t,n,s){var o=mn();s={lane:o,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},Pu(t)?Ig(n,s):(s=Bh(t,n,s,o),s!==null&&(pn(s,t,o),Cg(s,n,o)))}function Rg(t,n,s){var o=mn();Go(t,n,s,o)}function Go(t,n,s,o){var h={lane:o,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(Pu(t))Ig(n,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var v=n.lastRenderedState,T=d(v,s);if(h.hasEagerState=!0,h.eagerState=T,un(T,v))return vu(t,n,h,0),Xe===null&&_u(),!1}catch{}finally{}if(s=Bh(t,n,h,o),s!==null)return pn(s,t,o),Cg(s,n,o),!0}return!1}function wf(t,n,s,o){if(o={lane:2,revertLane:ed(),action:o,hasEagerState:!1,eagerState:null,next:null},Pu(t)){if(n)throw Error(a(479))}else n=Bh(t,s,o,2),n!==null&&pn(n,t,2)}function Pu(t){var n=t.alternate;return t===Re||n!==null&&n===Re}function Ig(t,n){Sa=Ou=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function Cg(t,n,s){if((s&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,s|=o,n.lanes=s,tr(t,s)}}var Lu={readContext:jt,use:Mu,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useLayoutEffect:dt,useInsertionEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useSyncExternalStore:dt,useId:dt,useHostTransitionStatus:dt,useFormState:dt,useActionState:dt,useOptimistic:dt,useMemoCache:dt,useCacheRefresh:dt},Dg={readContext:jt,use:Mu,useCallback:function(t,n){return en().memoizedState=[t,n===void 0?null:n],t},useContext:jt,useEffect:fg,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,Vu(4194308,4,gg.bind(null,n,t),s)},useLayoutEffect:function(t,n){return Vu(4194308,4,t,n)},useInsertionEffect:function(t,n){Vu(4,2,t,n)},useMemo:function(t,n){var s=en();n=n===void 0?null:n;var o=t();if(Is){yn(!0);try{t()}finally{yn(!1)}}return s.memoizedState=[o,n],o},useReducer:function(t,n,s){var o=en();if(s!==void 0){var h=s(n);if(Is){yn(!0);try{s(n)}finally{yn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=Cw.bind(null,Re,t),[o.memoizedState,t]},useRef:function(t){var n=en();return t={current:t},n.memoizedState=t},useState:function(t){t=gf(t);var n=t.queue,s=Rg.bind(null,Re,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:_f,useDeferredValue:function(t,n){var s=en();return vf(s,t,n)},useTransition:function(){var t=gf(!1);return t=Tg.bind(null,Re,t.queue,!0,!1),en().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var o=Re,h=en();if(Ue){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),Xe===null)throw Error(a(349));(ke&124)!==0||Xp(o,n,s)}h.memoizedState=s;var d={value:s,getSnapshot:n};return h.queue=d,fg(Wp.bind(null,o,d,t),[t]),o.flags|=2048,Ra(9,ku(),Zp.bind(null,o,d,s,n),null),s},useId:function(){var t=en(),n=Xe.identifierPrefix;if(Ue){var s=Ci,o=Ii;s=(o&~(1<<32-Yt(o)-1)).toString(32)+s,n="«"+n+"R"+s,s=Nu++,0<s&&(n+="H"+s.toString(32)),n+="»"}else s=ww++,n="«"+n+"r"+s.toString(32)+"»";return t.memoizedState=n},useHostTransitionStatus:Tf,useFormState:og,useActionState:og,useOptimistic:function(t){var n=en();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=wf.bind(null,Re,!0,s),s.dispatch=n,[t,n]},useMemoCache:df,useCacheRefresh:function(){return en().memoizedState=Iw.bind(null,Re)}},Og={readContext:jt,use:Mu,useCallback:_g,useContext:jt,useEffect:dg,useImperativeHandle:yg,useInsertionEffect:mg,useLayoutEffect:pg,useMemo:vg,useReducer:xu,useRef:hg,useState:function(){return xu(Ni)},useDebugValue:_f,useDeferredValue:function(t,n){var s=gt();return Eg(s,Ge.memoizedState,t,n)},useTransition:function(){var t=xu(Ni)[0],n=gt().memoizedState;return[typeof t=="boolean"?t:qo(t),n]},useSyncExternalStore:Qp,useId:Sg,useHostTransitionStatus:Tf,useFormState:lg,useActionState:lg,useOptimistic:function(t,n){var s=gt();return tg(s,Ge,t,n)},useMemoCache:df,useCacheRefresh:Ag},Dw={readContext:jt,use:Mu,useCallback:_g,useContext:jt,useEffect:dg,useImperativeHandle:yg,useInsertionEffect:mg,useLayoutEffect:pg,useMemo:vg,useReducer:pf,useRef:hg,useState:function(){return pf(Ni)},useDebugValue:_f,useDeferredValue:function(t,n){var s=gt();return Ge===null?vf(s,t,n):Eg(s,Ge.memoizedState,t,n)},useTransition:function(){var t=pf(Ni)[0],n=gt().memoizedState;return[typeof t=="boolean"?t:qo(t),n]},useSyncExternalStore:Qp,useId:Sg,useHostTransitionStatus:Tf,useFormState:cg,useActionState:cg,useOptimistic:function(t,n){var s=gt();return Ge!==null?tg(s,Ge,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:df,useCacheRefresh:Ag},Ia=null,Ko=0;function Uu(t){var n=Ko;return Ko+=1,Ia===null&&(Ia=[]),jp(Ia,t,n)}function $o(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function zu(t,n){throw n.$$typeof===b?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Ng(t){var n=t._init;return n(t._payload)}function Mg(t){function n(k,M){if(t){var P=k.deletions;P===null?(k.deletions=[M],k.flags|=16):P.push(M)}}function s(k,M){if(!t)return null;for(;M!==null;)n(k,M),M=M.sibling;return null}function o(k){for(var M=new Map;k!==null;)k.key!==null?M.set(k.key,k):M.set(k.index,k),k=k.sibling;return M}function h(k,M){return k=Ri(k,M),k.index=0,k.sibling=null,k}function d(k,M,P){return k.index=P,t?(P=k.alternate,P!==null?(P=P.index,P<M?(k.flags|=67108866,M):P):(k.flags|=67108866,M)):(k.flags|=1048576,M)}function v(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function T(k,M,P,Y){return M===null||M.tag!==6?(M=Hh(P,k.mode,Y),M.return=k,M):(M=h(M,P),M.return=k,M)}function I(k,M,P,Y){var oe=P.type;return oe===F?$(k,M,P.props.children,Y,P.key):M!==null&&(M.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===S&&Ng(oe)===M.type)?(M=h(M,P.props),$o(M,P),M.return=k,M):(M=Tu(P.type,P.key,P.props,null,k.mode,Y),$o(M,P),M.return=k,M)}function U(k,M,P,Y){return M===null||M.tag!==4||M.stateNode.containerInfo!==P.containerInfo||M.stateNode.implementation!==P.implementation?(M=qh(P,k.mode,Y),M.return=k,M):(M=h(M,P.children||[]),M.return=k,M)}function $(k,M,P,Y,oe){return M===null||M.tag!==7?(M=vs(P,k.mode,Y,oe),M.return=k,M):(M=h(M,P),M.return=k,M)}function Q(k,M,P){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Hh(""+M,k.mode,P),M.return=k,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case A:return P=Tu(M.type,M.key,M.props,null,k.mode,P),$o(P,M),P.return=k,P;case j:return M=qh(M,k.mode,P),M.return=k,M;case S:var Y=M._init;return M=Y(M._payload),Q(k,M,P)}if(be(M)||V(M))return M=vs(M,k.mode,P,null),M.return=k,M;if(typeof M.then=="function")return Q(k,Uu(M),P);if(M.$$typeof===ee)return Q(k,Au(k,M),P);zu(k,M)}return null}function z(k,M,P,Y){var oe=M!==null?M.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return oe!==null?null:T(k,M,""+P,Y);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case A:return P.key===oe?I(k,M,P,Y):null;case j:return P.key===oe?U(k,M,P,Y):null;case S:return oe=P._init,P=oe(P._payload),z(k,M,P,Y)}if(be(P)||V(P))return oe!==null?null:$(k,M,P,Y,null);if(typeof P.then=="function")return z(k,M,Uu(P),Y);if(P.$$typeof===ee)return z(k,M,Au(k,P),Y);zu(k,P)}return null}function B(k,M,P,Y,oe){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return k=k.get(P)||null,T(M,k,""+Y,oe);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case A:return k=k.get(Y.key===null?P:Y.key)||null,I(M,k,Y,oe);case j:return k=k.get(Y.key===null?P:Y.key)||null,U(M,k,Y,oe);case S:var Ce=Y._init;return Y=Ce(Y._payload),B(k,M,P,Y,oe)}if(be(Y)||V(Y))return k=k.get(P)||null,$(M,k,Y,oe,null);if(typeof Y.then=="function")return B(k,M,P,Uu(Y),oe);if(Y.$$typeof===ee)return B(k,M,P,Au(M,Y),oe);zu(M,Y)}return null}function Te(k,M,P,Y){for(var oe=null,Ce=null,he=M,ye=M=0,It=null;he!==null&&ye<P.length;ye++){he.index>ye?(It=he,he=null):It=he.sibling;var Le=z(k,he,P[ye],Y);if(Le===null){he===null&&(he=It);break}t&&he&&Le.alternate===null&&n(k,he),M=d(Le,M,ye),Ce===null?oe=Le:Ce.sibling=Le,Ce=Le,he=It}if(ye===P.length)return s(k,he),Ue&&Ts(k,ye),oe;if(he===null){for(;ye<P.length;ye++)he=Q(k,P[ye],Y),he!==null&&(M=d(he,M,ye),Ce===null?oe=he:Ce.sibling=he,Ce=he);return Ue&&Ts(k,ye),oe}for(he=o(he);ye<P.length;ye++)It=B(he,k,ye,P[ye],Y),It!==null&&(t&&It.alternate!==null&&he.delete(It.key===null?ye:It.key),M=d(It,M,ye),Ce===null?oe=It:Ce.sibling=It,Ce=It);return t&&he.forEach(function(Mr){return n(k,Mr)}),Ue&&Ts(k,ye),oe}function ge(k,M,P,Y){if(P==null)throw Error(a(151));for(var oe=null,Ce=null,he=M,ye=M=0,It=null,Le=P.next();he!==null&&!Le.done;ye++,Le=P.next()){he.index>ye?(It=he,he=null):It=he.sibling;var Mr=z(k,he,Le.value,Y);if(Mr===null){he===null&&(he=It);break}t&&he&&Mr.alternate===null&&n(k,he),M=d(Mr,M,ye),Ce===null?oe=Mr:Ce.sibling=Mr,Ce=Mr,he=It}if(Le.done)return s(k,he),Ue&&Ts(k,ye),oe;if(he===null){for(;!Le.done;ye++,Le=P.next())Le=Q(k,Le.value,Y),Le!==null&&(M=d(Le,M,ye),Ce===null?oe=Le:Ce.sibling=Le,Ce=Le);return Ue&&Ts(k,ye),oe}for(he=o(he);!Le.done;ye++,Le=P.next())Le=B(he,k,ye,Le.value,Y),Le!==null&&(t&&Le.alternate!==null&&he.delete(Le.key===null?ye:Le.key),M=d(Le,M,ye),Ce===null?oe=Le:Ce.sibling=Le,Ce=Le);return t&&he.forEach(function(Ob){return n(k,Ob)}),Ue&&Ts(k,ye),oe}function $e(k,M,P,Y){if(typeof P=="object"&&P!==null&&P.type===F&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case A:e:{for(var oe=P.key;M!==null;){if(M.key===oe){if(oe=P.type,oe===F){if(M.tag===7){s(k,M.sibling),Y=h(M,P.props.children),Y.return=k,k=Y;break e}}else if(M.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===S&&Ng(oe)===M.type){s(k,M.sibling),Y=h(M,P.props),$o(Y,P),Y.return=k,k=Y;break e}s(k,M);break}else n(k,M);M=M.sibling}P.type===F?(Y=vs(P.props.children,k.mode,Y,P.key),Y.return=k,k=Y):(Y=Tu(P.type,P.key,P.props,null,k.mode,Y),$o(Y,P),Y.return=k,k=Y)}return v(k);case j:e:{for(oe=P.key;M!==null;){if(M.key===oe)if(M.tag===4&&M.stateNode.containerInfo===P.containerInfo&&M.stateNode.implementation===P.implementation){s(k,M.sibling),Y=h(M,P.children||[]),Y.return=k,k=Y;break e}else{s(k,M);break}else n(k,M);M=M.sibling}Y=qh(P,k.mode,Y),Y.return=k,k=Y}return v(k);case S:return oe=P._init,P=oe(P._payload),$e(k,M,P,Y)}if(be(P))return Te(k,M,P,Y);if(V(P)){if(oe=V(P),typeof oe!="function")throw Error(a(150));return P=oe.call(P),ge(k,M,P,Y)}if(typeof P.then=="function")return $e(k,M,Uu(P),Y);if(P.$$typeof===ee)return $e(k,M,Au(k,P),Y);zu(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,M!==null&&M.tag===6?(s(k,M.sibling),Y=h(M,P),Y.return=k,k=Y):(s(k,M),Y=Hh(P,k.mode,Y),Y.return=k,k=Y),v(k)):s(k,M)}return function(k,M,P,Y){try{Ko=0;var oe=$e(k,M,P,Y);return Ia=null,oe}catch(he){if(he===Lo||he===Iu)throw he;var Ce=cn(29,he,null,k.mode);return Ce.lanes=Y,Ce.return=k,Ce}finally{}}}var Ca=Mg(!0),xg=Mg(!1),Rn=W(null),oi=null;function yr(t){var n=t.alternate;se(wt,wt.current&1),se(Rn,t),oi===null&&(n===null||ba.current!==null||n.memoizedState!==null)&&(oi=t)}function kg(t){if(t.tag===22){if(se(wt,wt.current),se(Rn,t),oi===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(oi=t)}}else _r()}function _r(){se(wt,wt.current),se(Rn,Rn.current)}function Mi(t){ae(Rn),oi===t&&(oi=null),ae(wt)}var wt=W(0);function Bu(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||fd(s)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function bf(t,n,s,o){n=t.memoizedState,s=s(o,n),s=s==null?n:E({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Sf={enqueueSetState:function(t,n,s){t=t._reactInternals;var o=mn(),h=mr(o);h.payload=n,s!=null&&(h.callback=s),n=pr(t,h,o),n!==null&&(pn(n,t,o),zo(n,t,o))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var o=mn(),h=mr(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=pr(t,h,o),n!==null&&(pn(n,t,o),zo(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=mn(),o=mr(s);o.tag=2,n!=null&&(o.callback=n),n=pr(t,o,s),n!==null&&(pn(n,t,s),zo(n,t,s))}};function Vg(t,n,s,o,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,d,v):n.prototype&&n.prototype.isPureReactComponent?!Do(s,o)||!Do(h,d):!0}function Pg(t,n,s,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==t&&Sf.enqueueReplaceState(n,n.state,null)}function Cs(t,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(t=t.defaultProps){s===n&&(s=E({},s));for(var h in t)s[h]===void 0&&(s[h]=t[h])}return s}var ju=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Lg(t){ju(t)}function Ug(t){console.error(t)}function zg(t){ju(t)}function Hu(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Bg(t,n,s){try{var o=t.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Af(t,n,s){return s=mr(s),s.tag=3,s.payload={element:null},s.callback=function(){Hu(t,n)},s}function jg(t){return t=mr(t),t.tag=3,t}function Hg(t,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var d=o.value;t.payload=function(){return h(d)},t.callback=function(){Bg(n,s,o)}}var v=s.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Bg(n,s,o),typeof h!="function"&&(Sr===null?Sr=new Set([this]):Sr.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function Ow(t,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&ko(n,s,h,!0),s=Rn.current,s!==null){switch(s.tag){case 13:return oi===null?Qf():s.alternate===null&&ot===0&&(ot=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===Jh?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),Zf(t,o,h)),!1;case 22:return s.flags|=65536,o===Jh?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),Zf(t,o,h)),!1}throw Error(a(435,s.tag))}return Zf(t,o,h),Qf(),!1}if(Ue)return n=Rn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Kh&&(t=Error(a(422),{cause:o}),xo(wn(t,s)))):(o!==Kh&&(n=Error(a(423),{cause:o}),xo(wn(n,s))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=wn(o,s),h=Af(t.stateNode,o,h),nf(t,h),ot!==4&&(ot=2)),!1;var d=Error(a(520),{cause:o});if(d=wn(d,s),el===null?el=[d]:el.push(d),ot!==4&&(ot=2),n===null)return!0;o=wn(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=h&-h,s.lanes|=t,t=Af(s.stateNode,o,t),nf(s,t),!1;case 1:if(n=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Sr===null||!Sr.has(d))))return s.flags|=65536,h&=-h,s.lanes|=h,h=jg(h),Hg(h,t,s,o),nf(s,h),!1}s=s.return}while(s!==null);return!1}var qg=Error(a(461)),At=!1;function Mt(t,n,s,o){n.child=t===null?xg(n,null,s,o):Ca(n,t.child,s,o)}function Fg(t,n,s,o,h){s=s.render;var d=n.ref;if("ref"in o){var v={};for(var T in o)T!=="ref"&&(v[T]=o[T])}else v=o;return As(n),o=lf(t,n,s,v,d,h),T=uf(),t!==null&&!At?(cf(t,n,h),xi(t,n,h)):(Ue&&T&&Fh(n),n.flags|=1,Mt(t,n,o,h),n.child)}function Gg(t,n,s,o,h){if(t===null){var d=s.type;return typeof d=="function"&&!jh(d)&&d.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=d,Kg(t,n,d,o,h)):(t=Tu(s.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(d=t.child,!xf(t,h)){var v=d.memoizedProps;if(s=s.compare,s=s!==null?s:Do,s(v,o)&&t.ref===n.ref)return xi(t,n,h)}return n.flags|=1,t=Ri(d,o),t.ref=n.ref,t.return=n,n.child=t}function Kg(t,n,s,o,h){if(t!==null){var d=t.memoizedProps;if(Do(d,o)&&t.ref===n.ref)if(At=!1,n.pendingProps=o=d,xf(t,h))(t.flags&131072)!==0&&(At=!0);else return n.lanes=t.lanes,xi(t,n,h)}return Rf(t,n,s,o,h)}function $g(t,n,s){var o=n.pendingProps,h=o.children,d=t!==null?t.memoizedState:null;if(o.mode==="hidden"){if((n.flags&128)!==0){if(o=d!==null?d.baseLanes|s:s,t!==null){for(h=n.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;n.childLanes=d&~o}else n.childLanes=0,n.child=null;return Yg(t,n,o,s)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ru(n,d!==null?d.cachePool:null),d!==null?Kp(n,d):sf(),kg(n);else return n.lanes=n.childLanes=536870912,Yg(t,n,d!==null?d.baseLanes|s:s,s)}else d!==null?(Ru(n,d.cachePool),Kp(n,d),_r(),n.memoizedState=null):(t!==null&&Ru(n,null),sf(),_r());return Mt(t,n,h,s),n.child}function Yg(t,n,s,o){var h=Wh();return h=h===null?null:{parent:Tt._currentValue,pool:h},n.memoizedState={baseLanes:s,cachePool:h},t!==null&&Ru(n,null),sf(),kg(n),t!==null&&ko(t,n,o,!0),null}function qu(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function Rf(t,n,s,o,h){return As(n),s=lf(t,n,s,o,void 0,h),o=uf(),t!==null&&!At?(cf(t,n,h),xi(t,n,h)):(Ue&&o&&Fh(n),n.flags|=1,Mt(t,n,s,h),n.child)}function Qg(t,n,s,o,h,d){return As(n),n.updateQueue=null,s=Yp(n,o,s,h),$p(t),o=uf(),t!==null&&!At?(cf(t,n,d),xi(t,n,d)):(Ue&&o&&Fh(n),n.flags|=1,Mt(t,n,s,d),n.child)}function Xg(t,n,s,o,h){if(As(n),n.stateNode===null){var d=_a,v=s.contextType;typeof v=="object"&&v!==null&&(d=jt(v)),d=new s(o,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Sf,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=o,d.state=n.memoizedState,d.refs={},ef(n),v=s.contextType,d.context=typeof v=="object"&&v!==null?jt(v):_a,d.state=n.memoizedState,v=s.getDerivedStateFromProps,typeof v=="function"&&(bf(n,s,v,o),d.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Sf.enqueueReplaceState(d,d.state,null),jo(n,o,d,h),Bo(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){d=n.stateNode;var T=n.memoizedProps,I=Cs(s,T);d.props=I;var U=d.context,$=s.contextType;v=_a,typeof $=="object"&&$!==null&&(v=jt($));var Q=s.getDerivedStateFromProps;$=typeof Q=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,$||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||U!==v)&&Pg(n,d,o,v),dr=!1;var z=n.memoizedState;d.state=z,jo(n,o,d,h),Bo(),U=n.memoizedState,T||z!==U||dr?(typeof Q=="function"&&(bf(n,s,Q,o),U=n.memoizedState),(I=dr||Vg(n,s,I,o,z,U,v))?($||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=U),d.props=o,d.state=U,d.context=v,o=I):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{d=n.stateNode,tf(t,n),v=n.memoizedProps,$=Cs(s,v),d.props=$,Q=n.pendingProps,z=d.context,U=s.contextType,I=_a,typeof U=="object"&&U!==null&&(I=jt(U)),T=s.getDerivedStateFromProps,(U=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==Q||z!==I)&&Pg(n,d,o,I),dr=!1,z=n.memoizedState,d.state=z,jo(n,o,d,h),Bo();var B=n.memoizedState;v!==Q||z!==B||dr||t!==null&&t.dependencies!==null&&Su(t.dependencies)?(typeof T=="function"&&(bf(n,s,T,o),B=n.memoizedState),($=dr||Vg(n,s,$,o,z,B,I)||t!==null&&t.dependencies!==null&&Su(t.dependencies))?(U||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,B,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,B,I)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=B),d.props=o,d.state=B,d.context=I,o=$):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),o=!1)}return d=o,qu(t,n),o=(n.flags&128)!==0,d||o?(d=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,t!==null&&o?(n.child=Ca(n,t.child,null,h),n.child=Ca(n,null,s,h)):Mt(t,n,s,h),n.memoizedState=d.state,t=n.child):t=xi(t,n,h),t}function Zg(t,n,s,o){return Mo(),n.flags|=256,Mt(t,n,s,o),n.child}var If={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Cf(t){return{baseLanes:t,cachePool:Up()}}function Df(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=In),t}function Wg(t,n,s){var o=n.pendingProps,h=!1,d=(n.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(wt.current&2)!==0),v&&(h=!0,n.flags&=-129),v=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ue){if(h?yr(n):_r(),Ue){var T=at,I;if(I=T){e:{for(I=T,T=ai;I.nodeType!==8;){if(!T){T=null;break e}if(I=jn(I.nextSibling),I===null){T=null;break e}}T=I}T!==null?(n.memoizedState={dehydrated:T,treeContext:Es!==null?{id:Ii,overflow:Ci}:null,retryLane:536870912,hydrationErrors:null},I=cn(18,null,null,0),I.stateNode=T,I.return=n,n.child=I,Wt=n,at=null,I=!0):I=!1}I||bs(n)}if(T=n.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return fd(T)?n.lanes=32:n.lanes=536870912,null;Mi(n)}return T=o.children,o=o.fallback,h?(_r(),h=n.mode,T=Fu({mode:"hidden",children:T},h),o=vs(o,h,s,null),T.return=n,o.return=n,T.sibling=o,n.child=T,h=n.child,h.memoizedState=Cf(s),h.childLanes=Df(t,v,s),n.memoizedState=If,o):(yr(n),Of(n,T))}if(I=t.memoizedState,I!==null&&(T=I.dehydrated,T!==null)){if(d)n.flags&256?(yr(n),n.flags&=-257,n=Nf(t,n,s)):n.memoizedState!==null?(_r(),n.child=t.child,n.flags|=128,n=null):(_r(),h=o.fallback,T=n.mode,o=Fu({mode:"visible",children:o.children},T),h=vs(h,T,s,null),h.flags|=2,o.return=n,h.return=n,o.sibling=h,n.child=o,Ca(n,t.child,null,s),o=n.child,o.memoizedState=Cf(s),o.childLanes=Df(t,v,s),n.memoizedState=If,n=h);else if(yr(n),fd(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var U=v.dgst;v=U,o=Error(a(419)),o.stack="",o.digest=v,xo({value:o,source:null,stack:null}),n=Nf(t,n,s)}else if(At||ko(t,n,s,!1),v=(s&t.childLanes)!==0,At||v){if(v=Xe,v!==null&&(o=s&-s,o=(o&42)!==0?1:ho(o),o=(o&(v.suspendedLanes|s))!==0?0:o,o!==0&&o!==I.retryLane))throw I.retryLane=o,ya(t,o),pn(v,t,o),qg;T.data==="$?"||Qf(),n=Nf(t,n,s)}else T.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=I.treeContext,at=jn(T.nextSibling),Wt=n,Ue=!0,ws=null,ai=!1,t!==null&&(Sn[An++]=Ii,Sn[An++]=Ci,Sn[An++]=Es,Ii=t.id,Ci=t.overflow,Es=n),n=Of(n,o.children),n.flags|=4096);return n}return h?(_r(),h=o.fallback,T=n.mode,I=t.child,U=I.sibling,o=Ri(I,{mode:"hidden",children:o.children}),o.subtreeFlags=I.subtreeFlags&65011712,U!==null?h=Ri(U,h):(h=vs(h,T,s,null),h.flags|=2),h.return=n,o.return=n,o.sibling=h,n.child=o,o=h,h=n.child,T=t.child.memoizedState,T===null?T=Cf(s):(I=T.cachePool,I!==null?(U=Tt._currentValue,I=I.parent!==U?{parent:U,pool:U}:I):I=Up(),T={baseLanes:T.baseLanes|s,cachePool:I}),h.memoizedState=T,h.childLanes=Df(t,v,s),n.memoizedState=If,o):(yr(n),s=t.child,t=s.sibling,s=Ri(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,t!==null&&(v=n.deletions,v===null?(n.deletions=[t],n.flags|=16):v.push(t)),n.child=s,n.memoizedState=null,s)}function Of(t,n){return n=Fu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Fu(t,n){return t=cn(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Nf(t,n,s){return Ca(n,t.child,null,s),t=Of(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Jg(t,n,s){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),Yh(t.return,n,s)}function Mf(t,n,s,o,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=o,d.tail=s,d.tailMode=h)}function ey(t,n,s){var o=n.pendingProps,h=o.revealOrder,d=o.tail;if(Mt(t,n,o.children,s),o=wt.current,(o&2)!==0)o=o&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Jg(t,s,n);else if(t.tag===19)Jg(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}o&=1}switch(se(wt,o),h){case"forwards":for(s=n.child,h=null;s!==null;)t=s.alternate,t!==null&&Bu(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Mf(n,!1,h,s,d);break;case"backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Bu(t)===null){n.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}Mf(n,!0,s,null,d);break;case"together":Mf(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function xi(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),br|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(ko(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,s=Ri(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=Ri(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function xf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Su(t)))}function Nw(t,n,s){switch(n.tag){case 3:qe(n,n.stateNode.containerInfo),fr(n,Tt,t.memoizedState.cache),Mo();break;case 27:case 5:oo(n);break;case 4:qe(n,n.stateNode.containerInfo);break;case 10:fr(n,n.type,n.memoizedProps.value);break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(yr(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Wg(t,n,s):(yr(n),t=xi(t,n,s),t!==null?t.sibling:null);yr(n);break;case 19:var h=(t.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(ko(t,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return ey(t,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),se(wt,wt.current),o)break;return null;case 22:case 23:return n.lanes=0,$g(t,n,s);case 24:fr(n,Tt,t.memoizedState.cache)}return xi(t,n,s)}function ty(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)At=!0;else{if(!xf(t,s)&&(n.flags&128)===0)return At=!1,Nw(t,n,s);At=(t.flags&131072)!==0}else At=!1,Ue&&(n.flags&1048576)!==0&&Np(n,bu,n.index);switch(n.lanes=0,n.tag){case 16:e:{t=n.pendingProps;var o=n.elementType,h=o._init;if(o=h(o._payload),n.type=o,typeof o=="function")jh(o)?(t=Cs(o,t),n.tag=1,n=Xg(null,n,o,t,s)):(n.tag=0,n=Rf(null,n,o,t,s));else{if(o!=null){if(h=o.$$typeof,h===ve){n.tag=11,n=Fg(null,n,o,t,s);break e}else if(h===N){n.tag=14,n=Gg(null,n,o,t,s);break e}}throw n=de(o)||o,Error(a(306,n,""))}}return n;case 0:return Rf(t,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=Cs(o,n.pendingProps),Xg(t,n,o,h,s);case 3:e:{if(qe(n,n.stateNode.containerInfo),t===null)throw Error(a(387));o=n.pendingProps;var d=n.memoizedState;h=d.element,tf(t,n),jo(n,o,null,s);var v=n.memoizedState;if(o=v.cache,fr(n,Tt,o),o!==d.cache&&Qh(n,[Tt],s,!0),Bo(),o=v.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:v.cache},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){n=Zg(t,n,o,s);break e}else if(o!==h){h=wn(Error(a(424)),n),xo(h),n=Zg(t,n,o,s);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(at=jn(t.firstChild),Wt=n,Ue=!0,ws=null,ai=!0,s=xg(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Mo(),o===h){n=xi(t,n,s);break e}Mt(t,n,o,s)}n=n.child}return n;case 26:return qu(t,n),t===null?(s=s_(n.type,null,n.pendingProps,null))?n.memoizedState=s:Ue||(s=n.type,t=n.pendingProps,o=rc(Ee.current).createElement(s),o[ct]=n,o[Nt]=t,kt(o,s,t),ht(o),n.stateNode=o):n.memoizedState=s_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return oo(n),t===null&&Ue&&(o=n.stateNode=n_(n.type,n.pendingProps,Ee.current),Wt=n,ai=!0,h=at,Ir(n.type)?(dd=h,at=jn(o.firstChild)):at=h),Mt(t,n,n.pendingProps.children,s),qu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Ue&&((h=o=at)&&(o=sb(o,n.type,n.pendingProps,ai),o!==null?(n.stateNode=o,Wt=n,at=jn(o.firstChild),ai=!1,h=!0):h=!1),h||bs(n)),oo(n),h=n.type,d=n.pendingProps,v=t!==null?t.memoizedProps:null,o=d.children,ud(h,d)?o=null:v!==null&&ud(h,v)&&(n.flags|=32),n.memoizedState!==null&&(h=lf(t,n,bw,null,null,s),ul._currentValue=h),qu(t,n),Mt(t,n,o,s),n.child;case 6:return t===null&&Ue&&((t=s=at)&&(s=ab(s,n.pendingProps,ai),s!==null?(n.stateNode=s,Wt=n,at=null,t=!0):t=!1),t||bs(n)),null;case 13:return Wg(t,n,s);case 4:return qe(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=Ca(n,null,o,s):Mt(t,n,o,s),n.child;case 11:return Fg(t,n,n.type,n.pendingProps,s);case 7:return Mt(t,n,n.pendingProps,s),n.child;case 8:return Mt(t,n,n.pendingProps.children,s),n.child;case 12:return Mt(t,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,fr(n,n.type,o.value),Mt(t,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,As(n),h=jt(h),o=o(h),n.flags|=1,Mt(t,n,o,s),n.child;case 14:return Gg(t,n,n.type,n.pendingProps,s);case 15:return Kg(t,n,n.type,n.pendingProps,s);case 19:return ey(t,n,s);case 31:return o=n.pendingProps,s=n.mode,o={mode:o.mode,children:o.children},t===null?(s=Fu(o,s),s.ref=n.ref,n.child=s,s.return=n,n=s):(s=Ri(t.child,o),s.ref=n.ref,n.child=s,s.return=n,n=s),n;case 22:return $g(t,n,s);case 24:return As(n),o=jt(Tt),t===null?(h=Wh(),h===null&&(h=Xe,d=Xh(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=s),h=d),n.memoizedState={parent:o,cache:h},ef(n),fr(n,Tt,h)):((t.lanes&s)!==0&&(tf(t,n),jo(n,null,null,s),Bo()),h=t.memoizedState,d=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),fr(n,Tt,o)):(o=d.cache,fr(n,Tt,o),o!==h.cache&&Qh(n,[Tt],s,!0))),Mt(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function ki(t){t.flags|=4}function ny(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!c_(n)){if(n=Rn.current,n!==null&&((ke&4194048)===ke?oi!==null:(ke&62914560)!==ke&&(ke&536870912)===0||n!==oi))throw Uo=Jh,zp;t.flags|=8192}}function Gu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Ji():536870912,t.lanes|=n,Ma|=n)}function Yo(t,n){if(!Ue)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function it(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,o=0;if(n)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=s,n}function Mw(t,n,s){var o=n.pendingProps;switch(Gh(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(n),null;case 1:return it(n),null;case 3:return s=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Oi(Tt),Nn(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(No(n)?ki(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,kp())),it(n),null;case 26:return s=n.memoizedState,t===null?(ki(n),s!==null?(it(n),ny(n,s)):(it(n),n.flags&=-16777217)):s?s!==t.memoizedState?(ki(n),it(n),ny(n,s)):(it(n),n.flags&=-16777217):(t.memoizedProps!==o&&ki(n),it(n),n.flags&=-16777217),null;case 27:Zs(n),s=Ee.current;var h=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==o&&ki(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return it(n),null}t=fe.current,No(n)?Mp(n):(t=n_(h,o,s),n.stateNode=t,ki(n))}return it(n),null;case 5:if(Zs(n),s=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&ki(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return it(n),null}if(t=fe.current,No(n))Mp(n);else{switch(h=rc(Ee.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof o.is=="string"?h.createElement("select",{is:o.is}):h.createElement("select"),o.multiple?t.multiple=!0:o.size&&(t.size=o.size);break;default:t=typeof o.is=="string"?h.createElement(s,{is:o.is}):h.createElement(s)}}t[ct]=n,t[Nt]=o;e:for(h=n.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}n.stateNode=t;e:switch(kt(t,s,o),s){case"button":case"input":case"select":case"textarea":t=!!o.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&ki(n)}}return it(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&ki(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(t=Ee.current,No(n)){if(t=n.stateNode,s=n.memoizedProps,o=null,h=Wt,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[ct]=n,t=!!(t.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||Qy(t.nodeValue,s)),t||bs(n)}else t=rc(t).createTextNode(o),t[ct]=n,n.stateNode=t}return it(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=No(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[ct]=n}else Mo(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;it(n),h=!1}else h=kp(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Mi(n),n):(Mi(n),null)}if(Mi(n),(n.flags&128)!==0)return n.lanes=s,n;if(s=o!==null,t=t!==null&&t.memoizedState!==null,s){o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool);var d=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==h&&(o.flags|=2048)}return s!==t&&s&&(n.child.flags|=8192),Gu(n,n.updateQueue),it(n),null;case 4:return Nn(),t===null&&rd(n.stateNode.containerInfo),it(n),null;case 10:return Oi(n.type),it(n),null;case 19:if(ae(wt),h=n.memoizedState,h===null)return it(n),null;if(o=(n.flags&128)!==0,d=h.rendering,d===null)if(o)Yo(h,!1);else{if(ot!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(d=Bu(t),d!==null){for(n.flags|=128,Yo(h,!1),t=d.updateQueue,n.updateQueue=t,Gu(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)Op(s,t),s=s.sibling;return se(wt,wt.current&1|2),n.child}t=t.sibling}h.tail!==null&&Jt()>Yu&&(n.flags|=128,o=!0,Yo(h,!1),n.lanes=4194304)}else{if(!o)if(t=Bu(d),t!==null){if(n.flags|=128,o=!0,t=t.updateQueue,n.updateQueue=t,Gu(n,t),Yo(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Ue)return it(n),null}else 2*Jt()-h.renderingStartTime>Yu&&s!==536870912&&(n.flags|=128,o=!0,Yo(h,!1),n.lanes=4194304);h.isBackwards?(d.sibling=n.child,n.child=d):(t=h.last,t!==null?t.sibling=d:n.child=d,h.last=d)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=Jt(),n.sibling=null,t=wt.current,se(wt,o?t&1|2:t&1),n):(it(n),null);case 22:case 23:return Mi(n),af(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(it(n),n.subtreeFlags&6&&(n.flags|=8192)):it(n),s=n.updateQueue,s!==null&&Gu(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),t!==null&&ae(Rs),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Oi(Tt),it(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function xw(t,n){switch(Gh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Oi(Tt),Nn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Zs(n),null;case 13:if(Mi(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Mo()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return ae(wt),null;case 4:return Nn(),null;case 10:return Oi(n.type),null;case 22:case 23:return Mi(n),af(),t!==null&&ae(Rs),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Oi(Tt),null;case 25:return null;default:return null}}function iy(t,n){switch(Gh(n),n.tag){case 3:Oi(Tt),Nn();break;case 26:case 27:case 5:Zs(n);break;case 4:Nn();break;case 13:Mi(n);break;case 19:ae(wt);break;case 10:Oi(n.type);break;case 22:case 23:Mi(n),af(),t!==null&&ae(Rs);break;case 24:Oi(Tt)}}function Qo(t,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&t)===t){o=void 0;var d=s.create,v=s.inst;o=d(),v.destroy=o}s=s.next}while(s!==h)}}catch(T){Ye(n,n.return,T)}}function vr(t,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var d=h.next;o=d;do{if((o.tag&t)===t){var v=o.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=n;var I=s,U=T;try{U()}catch($){Ye(h,I,$)}}}o=o.next}while(o!==d)}}catch($){Ye(n,n.return,$)}}function ry(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{Gp(n,s)}catch(o){Ye(t,t.return,o)}}}function sy(t,n,s){s.props=Cs(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(o){Ye(t,n,o)}}function Xo(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof s=="function"?t.refCleanup=s(o):s.current=o}}catch(h){Ye(t,n,h)}}function li(t,n){var s=t.ref,o=t.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){Ye(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Ye(t,n,h)}else s.current=null}function ay(t){var n=t.type,s=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break e;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){Ye(t,t.return,h)}}function kf(t,n,s){try{var o=t.stateNode;eb(o,t.type,s,n),o[Nt]=n}catch(h){Ye(t,t.return,h)}}function oy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ir(t.type)||t.tag===4}function Vf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||oy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ir(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Pf(t,n,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=ic));else if(o!==4&&(o===27&&Ir(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(Pf(t,n,s),t=t.sibling;t!==null;)Pf(t,n,s),t=t.sibling}function Ku(t,n,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(o!==4&&(o===27&&Ir(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Ku(t,n,s),t=t.sibling;t!==null;)Ku(t,n,s),t=t.sibling}function ly(t){var n=t.stateNode,s=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);kt(n,o,s),n[ct]=t,n[Nt]=s}catch(d){Ye(t,t.return,d)}}var Vi=!1,mt=!1,Lf=!1,uy=typeof WeakSet=="function"?WeakSet:Set,Rt=null;function kw(t,n){if(t=t.containerInfo,od=cc,t=Ep(t),kh(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var v=0,T=-1,I=-1,U=0,$=0,Q=t,z=null;t:for(;;){for(var B;Q!==s||h!==0&&Q.nodeType!==3||(T=v+h),Q!==d||o!==0&&Q.nodeType!==3||(I=v+o),Q.nodeType===3&&(v+=Q.nodeValue.length),(B=Q.firstChild)!==null;)z=Q,Q=B;for(;;){if(Q===t)break t;if(z===s&&++U===h&&(T=v),z===d&&++$===o&&(I=v),(B=Q.nextSibling)!==null)break;Q=z,z=Q.parentNode}Q=B}s=T===-1||I===-1?null:{start:T,end:I}}else s=null}s=s||{start:0,end:0}}else s=null;for(ld={focusedElem:t,selectionRange:s},cc=!1,Rt=n;Rt!==null;)if(n=Rt,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Rt=t;else for(;Rt!==null;){switch(n=Rt,d=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,s=n,h=d.memoizedProps,d=d.memoizedState,o=s.stateNode;try{var Te=Cs(s.type,h,s.elementType===s.type);t=o.getSnapshotBeforeUpdate(Te,d),o.__reactInternalSnapshotBeforeUpdate=t}catch(ge){Ye(s,s.return,ge)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)hd(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":hd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Rt=t;break}Rt=n.return}}function cy(t,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:Er(t,s),o&4&&Qo(5,s);break;case 1:if(Er(t,s),o&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(v){Ye(s,s.return,v)}else{var h=Cs(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Ye(s,s.return,v)}}o&64&&ry(s),o&512&&Xo(s,s.return);break;case 3:if(Er(t,s),o&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Gp(t,n)}catch(v){Ye(s,s.return,v)}}break;case 27:n===null&&o&4&&ly(s);case 26:case 5:Er(t,s),n===null&&o&4&&ay(s),o&512&&Xo(s,s.return);break;case 12:Er(t,s);break;case 13:Er(t,s),o&4&&dy(t,s),o&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=qw.bind(null,s),ob(t,s))));break;case 22:if(o=s.memoizedState!==null||Vi,!o){n=n!==null&&n.memoizedState!==null||mt,h=Vi;var d=mt;Vi=o,(mt=n)&&!d?Tr(t,s,(s.subtreeFlags&8772)!==0):Er(t,s),Vi=h,mt=d}break;case 30:break;default:Er(t,s)}}function hy(t){var n=t.alternate;n!==null&&(t.alternate=null,hy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&na(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Je=null,tn=!1;function Pi(t,n,s){for(s=s.child;s!==null;)fy(t,n,s),s=s.sibling}function fy(t,n,s){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(Xi,s)}catch{}switch(s.tag){case 26:mt||li(s,n),Pi(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:mt||li(s,n);var o=Je,h=tn;Ir(s.type)&&(Je=s.stateNode,tn=!1),Pi(t,n,s),sl(s.stateNode),Je=o,tn=h;break;case 5:mt||li(s,n);case 6:if(o=Je,h=tn,Je=null,Pi(t,n,s),Je=o,tn=h,Je!==null)if(tn)try{(Je.nodeType===9?Je.body:Je.nodeName==="HTML"?Je.ownerDocument.body:Je).removeChild(s.stateNode)}catch(d){Ye(s,n,d)}else try{Je.removeChild(s.stateNode)}catch(d){Ye(s,n,d)}break;case 18:Je!==null&&(tn?(t=Je,e_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),dl(t)):e_(Je,s.stateNode));break;case 4:o=Je,h=tn,Je=s.stateNode.containerInfo,tn=!0,Pi(t,n,s),Je=o,tn=h;break;case 0:case 11:case 14:case 15:mt||vr(2,s,n),mt||vr(4,s,n),Pi(t,n,s);break;case 1:mt||(li(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&sy(s,n,o)),Pi(t,n,s);break;case 21:Pi(t,n,s);break;case 22:mt=(o=mt)||s.memoizedState!==null,Pi(t,n,s),mt=o;break;default:Pi(t,n,s)}}function dy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{dl(t)}catch(s){Ye(n,n.return,s)}}function Vw(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new uy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new uy),n;default:throw Error(a(435,t.tag))}}function Uf(t,n){var s=Vw(t);n.forEach(function(o){var h=Fw.bind(null,t,o);s.has(o)||(s.add(o),o.then(h,h))})}function hn(t,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],d=t,v=n,T=v;e:for(;T!==null;){switch(T.tag){case 27:if(Ir(T.type)){Je=T.stateNode,tn=!1;break e}break;case 5:Je=T.stateNode,tn=!1;break e;case 3:case 4:Je=T.stateNode.containerInfo,tn=!0;break e}T=T.return}if(Je===null)throw Error(a(160));fy(d,v,h),Je=null,tn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)my(n,t),n=n.sibling}var Bn=null;function my(t,n){var s=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:hn(n,t),fn(t),o&4&&(vr(3,t,t.return),Qo(3,t),vr(5,t,t.return));break;case 1:hn(n,t),fn(t),o&512&&(mt||s===null||li(s,s.return)),o&64&&Vi&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=Bn;if(hn(n,t),fn(t),o&512&&(mt||s===null||li(s,s.return)),o&4){var d=s!==null?s.memoizedState:null;if(o=t.memoizedState,s===null)if(o===null)if(t.stateNode===null){e:{o=t.type,s=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":d=h.getElementsByTagName("title")[0],(!d||d[nr]||d[ct]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(o),h.head.insertBefore(d,h.querySelector("head > title"))),kt(d,o,s),d[ct]=t,ht(d),o=d;break e;case"link":var v=l_("link","href",h).get(o+(s.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){v.splice(T,1);break t}}d=h.createElement(o),kt(d,o,s),h.head.appendChild(d);break;case"meta":if(v=l_("meta","content",h).get(o+(s.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){v.splice(T,1);break t}}d=h.createElement(o),kt(d,o,s),h.head.appendChild(d);break;default:throw Error(a(468,o))}d[ct]=t,ht(d),o=d}t.stateNode=o}else u_(h,t.type,t.stateNode);else t.stateNode=o_(h,o,t.memoizedProps);else d!==o?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,o===null?u_(h,t.type,t.stateNode):o_(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&kf(t,t.memoizedProps,s.memoizedProps)}break;case 27:hn(n,t),fn(t),o&512&&(mt||s===null||li(s,s.return)),s!==null&&o&4&&kf(t,t.memoizedProps,s.memoizedProps);break;case 5:if(hn(n,t),fn(t),o&512&&(mt||s===null||li(s,s.return)),t.flags&32){h=t.stateNode;try{En(h,"")}catch(B){Ye(t,t.return,B)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,kf(t,h,s!==null?s.memoizedProps:h)),o&1024&&(Lf=!0);break;case 6:if(hn(n,t),fn(t),o&4){if(t.stateNode===null)throw Error(a(162));o=t.memoizedProps,s=t.stateNode;try{s.nodeValue=o}catch(B){Ye(t,t.return,B)}}break;case 3:if(oc=null,h=Bn,Bn=sc(n.containerInfo),hn(n,t),Bn=h,fn(t),o&4&&s!==null&&s.memoizedState.isDehydrated)try{dl(n.containerInfo)}catch(B){Ye(t,t.return,B)}Lf&&(Lf=!1,py(t));break;case 4:o=Bn,Bn=sc(t.stateNode.containerInfo),hn(n,t),fn(t),Bn=o;break;case 12:hn(n,t),fn(t);break;case 13:hn(n,t),fn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Ff=Jt()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Uf(t,o)));break;case 22:h=t.memoizedState!==null;var I=s!==null&&s.memoizedState!==null,U=Vi,$=mt;if(Vi=U||h,mt=$||I,hn(n,t),mt=$,Vi=U,fn(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||I||Vi||mt||Ds(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){I=s=n;try{if(d=I.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=I.stateNode;var Q=I.memoizedProps.style,z=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;T.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(B){Ye(I,I.return,B)}}}else if(n.tag===6){if(s===null){I=n;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(B){Ye(I,I.return,B)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,Uf(t,s))));break;case 19:hn(n,t),fn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Uf(t,o)));break;case 30:break;case 21:break;default:hn(n,t),fn(t)}}function fn(t){var n=t.flags;if(n&2){try{for(var s,o=t.return;o!==null;){if(oy(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,d=Vf(t);Ku(t,d,h);break;case 5:var v=s.stateNode;s.flags&32&&(En(v,""),s.flags&=-33);var T=Vf(t);Ku(t,T,v);break;case 3:case 4:var I=s.stateNode.containerInfo,U=Vf(t);Pf(t,U,I);break;default:throw Error(a(161))}}catch($){Ye(t,t.return,$)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function py(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;py(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Er(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)cy(t,n.alternate,n),n=n.sibling}function Ds(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:vr(4,n,n.return),Ds(n);break;case 1:li(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&sy(n,n.return,s),Ds(n);break;case 27:sl(n.stateNode);case 26:case 5:li(n,n.return),Ds(n);break;case 22:n.memoizedState===null&&Ds(n);break;case 30:Ds(n);break;default:Ds(n)}t=t.sibling}}function Tr(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,d=n,v=d.flags;switch(d.tag){case 0:case 11:case 15:Tr(h,d,s),Qo(4,d);break;case 1:if(Tr(h,d,s),o=d,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(U){Ye(o,o.return,U)}if(o=d,h=o.updateQueue,h!==null){var T=o.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)Fp(I[h],T)}catch(U){Ye(o,o.return,U)}}s&&v&64&&ry(d),Xo(d,d.return);break;case 27:ly(d);case 26:case 5:Tr(h,d,s),s&&o===null&&v&4&&ay(d),Xo(d,d.return);break;case 12:Tr(h,d,s);break;case 13:Tr(h,d,s),s&&v&4&&dy(h,d);break;case 22:d.memoizedState===null&&Tr(h,d,s),Xo(d,d.return);break;case 30:break;default:Tr(h,d,s)}n=n.sibling}}function zf(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&Vo(s))}function Bf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Vo(t))}function ui(t,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)gy(t,n,s,o),n=n.sibling}function gy(t,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ui(t,n,s,o),h&2048&&Qo(9,n);break;case 1:ui(t,n,s,o);break;case 3:ui(t,n,s,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Vo(t)));break;case 12:if(h&2048){ui(t,n,s,o),t=n.stateNode;try{var d=n.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){Ye(n,n.return,I)}}else ui(t,n,s,o);break;case 13:ui(t,n,s,o);break;case 23:break;case 22:d=n.stateNode,v=n.alternate,n.memoizedState!==null?d._visibility&2?ui(t,n,s,o):Zo(t,n):d._visibility&2?ui(t,n,s,o):(d._visibility|=2,Da(t,n,s,o,(n.subtreeFlags&10256)!==0)),h&2048&&zf(v,n);break;case 24:ui(t,n,s,o),h&2048&&Bf(n.alternate,n);break;default:ui(t,n,s,o)}}function Da(t,n,s,o,h){for(h=h&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var d=t,v=n,T=s,I=o,U=v.flags;switch(v.tag){case 0:case 11:case 15:Da(d,v,T,I,h),Qo(8,v);break;case 23:break;case 22:var $=v.stateNode;v.memoizedState!==null?$._visibility&2?Da(d,v,T,I,h):Zo(d,v):($._visibility|=2,Da(d,v,T,I,h)),h&&U&2048&&zf(v.alternate,v);break;case 24:Da(d,v,T,I,h),h&&U&2048&&Bf(v.alternate,v);break;default:Da(d,v,T,I,h)}n=n.sibling}}function Zo(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,o=n,h=o.flags;switch(o.tag){case 22:Zo(s,o),h&2048&&zf(o.alternate,o);break;case 24:Zo(s,o),h&2048&&Bf(o.alternate,o);break;default:Zo(s,o)}n=n.sibling}}var Wo=8192;function Oa(t){if(t.subtreeFlags&Wo)for(t=t.child;t!==null;)yy(t),t=t.sibling}function yy(t){switch(t.tag){case 26:Oa(t),t.flags&Wo&&t.memoizedState!==null&&Eb(Bn,t.memoizedState,t.memoizedProps);break;case 5:Oa(t);break;case 3:case 4:var n=Bn;Bn=sc(t.stateNode.containerInfo),Oa(t),Bn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Wo,Wo=16777216,Oa(t),Wo=n):Oa(t));break;default:Oa(t)}}function _y(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Jo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Rt=o,Ey(o,t)}_y(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)vy(t),t=t.sibling}function vy(t){switch(t.tag){case 0:case 11:case 15:Jo(t),t.flags&2048&&vr(9,t,t.return);break;case 3:Jo(t);break;case 12:Jo(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,$u(t)):Jo(t);break;default:Jo(t)}}function $u(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Rt=o,Ey(o,t)}_y(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:vr(8,n,n.return),$u(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,$u(n));break;default:$u(n)}t=t.sibling}}function Ey(t,n){for(;Rt!==null;){var s=Rt;switch(s.tag){case 0:case 11:case 15:vr(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Vo(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,Rt=o;else e:for(s=t;Rt!==null;){o=Rt;var h=o.sibling,d=o.return;if(hy(o),o===s){Rt=null;break e}if(h!==null){h.return=d,Rt=h;break e}Rt=d}}}var Pw={getCacheForType:function(t){var n=jt(Tt),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s}},Lw=typeof WeakMap=="function"?WeakMap:Map,je=0,Xe=null,Oe=null,ke=0,He=0,dn=null,wr=!1,Na=!1,jf=!1,Li=0,ot=0,br=0,Os=0,Hf=0,In=0,Ma=0,el=null,nn=null,qf=!1,Ff=0,Yu=1/0,Qu=null,Sr=null,xt=0,Ar=null,xa=null,ka=0,Gf=0,Kf=null,Ty=null,tl=0,$f=null;function mn(){if((je&2)!==0&&ke!==0)return ke&-ke;if(K.T!==null){var t=Ta;return t!==0?t:ed()}return vi()}function wy(){In===0&&(In=(ke&536870912)===0||Ue?co():536870912);var t=Rn.current;return t!==null&&(t.flags|=32),In}function pn(t,n,s){(t===Xe&&(He===2||He===9)||t.cancelPendingCommit!==null)&&(Va(t,0),Rr(t,ke,In,!1)),ut(t,s),((je&2)===0||t!==Xe)&&(t===Xe&&((je&2)===0&&(Os|=s),ot===4&&Rr(t,ke,In,!1)),ci(t))}function by(t,n,s){if((je&6)!==0)throw Error(a(327));var o=!s&&(n&124)===0&&(n&t.expiredLanes)===0||Wi(t,n),h=o?Bw(t,n):Xf(t,n,!0),d=o;do{if(h===0){Na&&!o&&Rr(t,n,0,!1);break}else{if(s=t.current.alternate,d&&!Uw(s)){h=Xf(t,n,!1),d=!1;continue}if(h===2){if(d=n,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){n=v;e:{var T=t;h=el;var I=T.current.memoizedState.isDehydrated;if(I&&(Va(T,v).flags|=256),v=Xf(T,v,!1),v!==2){if(jf&&!I){T.errorRecoveryDisabledLanes|=d,Os|=d,h=4;break e}d=nn,nn=h,d!==null&&(nn===null?nn=d:nn.push.apply(nn,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){Va(t,0),Rr(t,n,0,!0);break}e:{switch(o=t,d=h,d){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Rr(o,n,In,!wr);break e;case 2:nn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=Ff+300-Jt(),10<h)){if(Rr(o,n,In,!wr),_n(o,0,!0)!==0)break e;o.timeoutHandle=Wy(Sy.bind(null,o,s,nn,Qu,qf,n,In,Os,Ma,wr,d,2,-0,0),h);break e}Sy(o,s,nn,Qu,qf,n,In,Os,Ma,wr,d,0,-0,0)}}break}while(!0);ci(t)}function Sy(t,n,s,o,h,d,v,T,I,U,$,Q,z,B){if(t.timeoutHandle=-1,Q=n.subtreeFlags,(Q&8192||(Q&16785408)===16785408)&&(ll={stylesheets:null,count:0,unsuspend:vb},yy(n),Q=Tb(),Q!==null)){t.cancelPendingCommit=Q(Ny.bind(null,t,n,d,s,o,h,v,T,I,$,1,z,B)),Rr(t,d,v,!U);return}Ny(t,n,d,s,o,h,v,T,I)}function Uw(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],d=h.getSnapshot;h=h.value;try{if(!un(d(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Rr(t,n,s,o){n&=~Hf,n&=~Os,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var d=31-Yt(h),v=1<<d;o[d]=-1,h&=~v}s!==0&&er(t,s,n)}function Xu(){return(je&6)===0?(nl(0),!1):!0}function Yf(){if(Oe!==null){if(He===0)var t=Oe.return;else t=Oe,Di=Ss=null,hf(t),Ia=null,Ko=0,t=Oe;for(;t!==null;)iy(t.alternate,t),t=t.return;Oe=null}}function Va(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,nb(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),Yf(),Xe=t,Oe=s=Ri(t.current,null),ke=n,He=0,dn=null,wr=!1,Na=Wi(t,n),jf=!1,Ma=In=Hf=Os=br=ot=0,nn=el=null,qf=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-Yt(o),d=1<<h;n|=t[h],o&=~d}return Li=n,_u(),s}function Ay(t,n){Re=null,K.H=Lu,n===Lo||n===Iu?(n=Hp(),He=3):n===zp?(n=Hp(),He=4):He=n===qg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,dn=n,Oe===null&&(ot=1,Hu(t,wn(n,t.current)))}function Ry(){var t=K.H;return K.H=Lu,t===null?Lu:t}function Iy(){var t=K.A;return K.A=Pw,t}function Qf(){ot=4,wr||(ke&4194048)!==ke&&Rn.current!==null||(Na=!0),(br&134217727)===0&&(Os&134217727)===0||Xe===null||Rr(Xe,ke,In,!1)}function Xf(t,n,s){var o=je;je|=2;var h=Ry(),d=Iy();(Xe!==t||ke!==n)&&(Qu=null,Va(t,n)),n=!1;var v=ot;e:do try{if(He!==0&&Oe!==null){var T=Oe,I=dn;switch(He){case 8:Yf(),v=6;break e;case 3:case 2:case 9:case 6:Rn.current===null&&(n=!0);var U=He;if(He=0,dn=null,Pa(t,T,I,U),s&&Na){v=0;break e}break;default:U=He,He=0,dn=null,Pa(t,T,I,U)}}zw(),v=ot;break}catch($){Ay(t,$)}while(!0);return n&&t.shellSuspendCounter++,Di=Ss=null,je=o,K.H=h,K.A=d,Oe===null&&(Xe=null,ke=0,_u()),v}function zw(){for(;Oe!==null;)Cy(Oe)}function Bw(t,n){var s=je;je|=2;var o=Ry(),h=Iy();Xe!==t||ke!==n?(Qu=null,Yu=Jt()+500,Va(t,n)):Na=Wi(t,n);e:do try{if(He!==0&&Oe!==null){n=Oe;var d=dn;t:switch(He){case 1:He=0,dn=null,Pa(t,n,d,1);break;case 2:case 9:if(Bp(d)){He=0,dn=null,Dy(n);break}n=function(){He!==2&&He!==9||Xe!==t||(He=7),ci(t)},d.then(n,n);break e;case 3:He=7;break e;case 4:He=5;break e;case 7:Bp(d)?(He=0,dn=null,Dy(n)):(He=0,dn=null,Pa(t,n,d,7));break;case 5:var v=null;switch(Oe.tag){case 26:v=Oe.memoizedState;case 5:case 27:var T=Oe;if(!v||c_(v)){He=0,dn=null;var I=T.sibling;if(I!==null)Oe=I;else{var U=T.return;U!==null?(Oe=U,Zu(U)):Oe=null}break t}}He=0,dn=null,Pa(t,n,d,5);break;case 6:He=0,dn=null,Pa(t,n,d,6);break;case 8:Yf(),ot=6;break e;default:throw Error(a(462))}}jw();break}catch($){Ay(t,$)}while(!0);return Di=Ss=null,K.H=o,K.A=h,je=s,Oe!==null?0:(Xe=null,ke=0,_u(),ot)}function jw(){for(;Oe!==null&&!bh();)Cy(Oe)}function Cy(t){var n=ty(t.alternate,t,Li);t.memoizedProps=t.pendingProps,n===null?Zu(t):Oe=n}function Dy(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=Qg(s,n,n.pendingProps,n.type,void 0,ke);break;case 11:n=Qg(s,n,n.pendingProps,n.type.render,n.ref,ke);break;case 5:hf(n);default:iy(s,n),n=Oe=Op(n,Li),n=ty(s,n,Li)}t.memoizedProps=t.pendingProps,n===null?Zu(t):Oe=n}function Pa(t,n,s,o){Di=Ss=null,hf(n),Ia=null,Ko=0;var h=n.return;try{if(Ow(t,h,n,s,ke)){ot=1,Hu(t,wn(s,t.current)),Oe=null;return}}catch(d){if(h!==null)throw Oe=h,d;ot=1,Hu(t,wn(s,t.current)),Oe=null;return}n.flags&32768?(Ue||o===1?t=!0:Na||(ke&536870912)!==0?t=!1:(wr=t=!0,(o===2||o===9||o===3||o===6)&&(o=Rn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Oy(n,t)):Zu(n)}function Zu(t){var n=t;do{if((n.flags&32768)!==0){Oy(n,wr);return}t=n.return;var s=Mw(n.alternate,n,Li);if(s!==null){Oe=s;return}if(n=n.sibling,n!==null){Oe=n;return}Oe=n=t}while(n!==null);ot===0&&(ot=5)}function Oy(t,n){do{var s=xw(t.alternate,t);if(s!==null){s.flags&=32767,Oe=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){Oe=t;return}Oe=t=s}while(t!==null);ot=6,Oe=null}function Ny(t,n,s,o,h,d,v,T,I){t.cancelPendingCommit=null;do Wu();while(xt!==0);if((je&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(d=n.lanes|n.childLanes,d|=zh,tu(t,s,d,v,T,I),t===Xe&&(Oe=Xe=null,ke=0),xa=n,Ar=t,ka=s,Gf=d,Kf=h,Ty=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Gw(_i,function(){return Py(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=K.T,K.T=null,h=ne.p,ne.p=2,v=je,je|=4;try{kw(t,n,s)}finally{je=v,ne.p=h,K.T=o}}xt=1,My(),xy(),ky()}}function My(){if(xt===1){xt=0;var t=Ar,n=xa,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=K.T,K.T=null;var o=ne.p;ne.p=2;var h=je;je|=4;try{my(n,t);var d=ld,v=Ep(t.containerInfo),T=d.focusedElem,I=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&vp(T.ownerDocument.documentElement,T)){if(I!==null&&kh(T)){var U=I.start,$=I.end;if($===void 0&&($=U),"selectionStart"in T)T.selectionStart=U,T.selectionEnd=Math.min($,T.value.length);else{var Q=T.ownerDocument||document,z=Q&&Q.defaultView||window;if(z.getSelection){var B=z.getSelection(),Te=T.textContent.length,ge=Math.min(I.start,Te),$e=I.end===void 0?ge:Math.min(I.end,Te);!B.extend&&ge>$e&&(v=$e,$e=ge,ge=v);var k=_p(T,ge),M=_p(T,$e);if(k&&M&&(B.rangeCount!==1||B.anchorNode!==k.node||B.anchorOffset!==k.offset||B.focusNode!==M.node||B.focusOffset!==M.offset)){var P=Q.createRange();P.setStart(k.node,k.offset),B.removeAllRanges(),ge>$e?(B.addRange(P),B.extend(M.node,M.offset)):(P.setEnd(M.node,M.offset),B.addRange(P))}}}}for(Q=[],B=T;B=B.parentNode;)B.nodeType===1&&Q.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Q.length;T++){var Y=Q[T];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}cc=!!od,ld=od=null}finally{je=h,ne.p=o,K.T=s}}t.current=n,xt=2}}function xy(){if(xt===2){xt=0;var t=Ar,n=xa,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=K.T,K.T=null;var o=ne.p;ne.p=2;var h=je;je|=4;try{cy(t,n.alternate,n)}finally{je=h,ne.p=o,K.T=s}}xt=3}}function ky(){if(xt===4||xt===3){xt=0,lo();var t=Ar,n=xa,s=ka,o=Ty;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?xt=5:(xt=0,xa=Ar=null,Vy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Sr=null),fo(s),n=n.stateNode,zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(Xi,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=K.T,h=ne.p,ne.p=2,K.T=null;try{for(var d=t.onRecoverableError,v=0;v<o.length;v++){var T=o[v];d(T.value,{componentStack:T.stack})}}finally{K.T=n,ne.p=h}}(ka&3)!==0&&Wu(),ci(t),h=t.pendingLanes,(s&4194090)!==0&&(h&42)!==0?t===$f?tl++:(tl=0,$f=t):tl=0,nl(0)}}function Vy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Vo(n)))}function Wu(t){return My(),xy(),ky(),Py()}function Py(){if(xt!==5)return!1;var t=Ar,n=Gf;Gf=0;var s=fo(ka),o=K.T,h=ne.p;try{ne.p=32>s?32:s,K.T=null,s=Kf,Kf=null;var d=Ar,v=ka;if(xt=0,xa=Ar=null,ka=0,(je&6)!==0)throw Error(a(331));var T=je;if(je|=4,vy(d.current),gy(d,d.current,v,s),je=T,nl(0,!1),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(Xi,d)}catch{}return!0}finally{ne.p=h,K.T=o,Vy(t,n)}}function Ly(t,n,s){n=wn(s,n),n=Af(t.stateNode,n,2),t=pr(t,n,2),t!==null&&(ut(t,2),ci(t))}function Ye(t,n,s){if(t.tag===3)Ly(t,t,s);else for(;n!==null;){if(n.tag===3){Ly(n,t,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Sr===null||!Sr.has(o))){t=wn(s,t),s=jg(2),o=pr(n,s,2),o!==null&&(Hg(s,o,n,t),ut(o,2),ci(o));break}}n=n.return}}function Zf(t,n,s){var o=t.pingCache;if(o===null){o=t.pingCache=new Lw;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(jf=!0,h.add(s),t=Hw.bind(null,t,n,s),n.then(t,t))}function Hw(t,n,s){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,Xe===t&&(ke&s)===s&&(ot===4||ot===3&&(ke&62914560)===ke&&300>Jt()-Ff?(je&2)===0&&Va(t,0):Hf|=s,Ma===ke&&(Ma=0)),ci(t)}function Uy(t,n){n===0&&(n=Ji()),t=ya(t,n),t!==null&&(ut(t,n),ci(t))}function qw(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),Uy(t,s)}function Fw(t,n){var s=0;switch(t.tag){case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),Uy(t,s)}function Gw(t,n){return Qr(t,n)}var Ju=null,La=null,Wf=!1,ec=!1,Jf=!1,Ns=0;function ci(t){t!==La&&t.next===null&&(La===null?Ju=La=t:La=La.next=t),ec=!0,Wf||(Wf=!0,$w())}function nl(t,n){if(!Jf&&ec){Jf=!0;do for(var s=!1,o=Ju;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var d=0;else{var v=o.suspendedLanes,T=o.pingedLanes;d=(1<<31-Yt(42|t)+1)-1,d&=h&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(s=!0,Hy(o,d))}else d=ke,d=_n(o,o===Xe?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(d&3)===0||Wi(o,d)||(s=!0,Hy(o,d));o=o.next}while(s);Jf=!1}}function Kw(){zy()}function zy(){ec=Wf=!1;var t=0;Ns!==0&&(tb()&&(t=Ns),Ns=0);for(var n=Jt(),s=null,o=Ju;o!==null;){var h=o.next,d=By(o,n);d===0?(o.next=null,s===null?Ju=h:s.next=h,h===null&&(La=s)):(s=o,(t!==0||(d&3)!==0)&&(ec=!0)),o=h}nl(t)}function By(t,n){for(var s=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-Yt(d),T=1<<v,I=h[v];I===-1?((T&s)===0||(T&o)!==0)&&(h[v]=ea(T,n)):I<=n&&(t.expiredLanes|=T),d&=~T}if(n=Xe,s=ke,s=_n(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,s===0||t===n&&(He===2||He===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&Js(o),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Wi(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(o!==null&&Js(o),fo(s)){case 2:case 8:s=bt;break;case 32:s=_i;break;case 268435456:s=uo;break;default:s=_i}return o=jy.bind(null,t),s=Qr(s,o),t.callbackPriority=n,t.callbackNode=s,n}return o!==null&&o!==null&&Js(o),t.callbackPriority=2,t.callbackNode=null,2}function jy(t,n){if(xt!==0&&xt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(Wu()&&t.callbackNode!==s)return null;var o=ke;return o=_n(t,t===Xe?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(by(t,o,n),By(t,Jt()),t.callbackNode!=null&&t.callbackNode===s?jy.bind(null,t):null)}function Hy(t,n){if(Wu())return null;by(t,n,!0)}function $w(){ib(function(){(je&6)!==0?Qr(vt,Kw):zy()})}function ed(){return Ns===0&&(Ns=co()),Ns}function qy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Vn(""+t)}function Fy(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function Yw(t,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var d=qy((h[Nt]||null).action),v=o.submitter;v&&(n=(n=v[Nt]||null)?qy(n.formAction):v.getAttribute("formAction"),n!==null&&(d=n,v=null));var T=new cs("action","action",null,o,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ns!==0){var I=v?Fy(h,v):new FormData(h);Ef(s,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(T.preventDefault(),I=v?Fy(h,v):new FormData(h),Ef(s,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var td=0;td<Uh.length;td++){var nd=Uh[td],Qw=nd.toLowerCase(),Xw=nd[0].toUpperCase()+nd.slice(1);zn(Qw,"on"+Xw)}zn(bp,"onAnimationEnd"),zn(Sp,"onAnimationIteration"),zn(Ap,"onAnimationStart"),zn("dblclick","onDoubleClick"),zn("focusin","onFocus"),zn("focusout","onBlur"),zn(dw,"onTransitionRun"),zn(mw,"onTransitionStart"),zn(pw,"onTransitionCancel"),zn(Rp,"onTransitionEnd"),ni("onMouseEnter",["mouseout","mouseover"]),ni("onMouseLeave",["mouseout","mouseover"]),ni("onPointerEnter",["pointerout","pointerover"]),ni("onPointerLeave",["pointerout","pointerover"]),ti("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ti("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ti("onBeforeInput",["compositionend","keypress","textInput","paste"]),ti("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ti("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ti("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Zw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(il));function Gy(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var o=t[s],h=o.event;o=o.listeners;e:{var d=void 0;if(n)for(var v=o.length-1;0<=v;v--){var T=o[v],I=T.instance,U=T.currentTarget;if(T=T.listener,I!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=U;try{d(h)}catch($){ju($)}h.currentTarget=null,d=I}else for(v=0;v<o.length;v++){if(T=o[v],I=T.instance,U=T.currentTarget,T=T.listener,I!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=U;try{d(h)}catch($){ju($)}h.currentTarget=null,d=I}}}}function Ne(t,n){var s=n[Zr];s===void 0&&(s=n[Zr]=new Set);var o=t+"__bubble";s.has(o)||(Ky(n,t,2,!1),s.add(o))}function id(t,n,s){var o=0;n&&(o|=4),Ky(s,t,o,n)}var tc="_reactListening"+Math.random().toString(36).slice(2);function rd(t){if(!t[tc]){t[tc]=!0,nu.forEach(function(s){s!=="selectionchange"&&(Zw.has(s)||id(s,!1,t),id(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[tc]||(n[tc]=!0,id("selectionchange",!1,n))}}function Ky(t,n,s,o){switch(g_(n)){case 2:var h=Sb;break;case 8:h=Ab;break;default:h=_d}s=h.bind(null,n,s,t),h=void 0,!Si||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,s,{capture:!0,passive:h}):t.addEventListener(n,s,!0):h!==void 0?t.addEventListener(n,s,{passive:h}):t.addEventListener(n,s,!1)}function sd(t,n,s,o,h){var d=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var v=o.tag;if(v===3||v===4){var T=o.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=o.return;v!==null;){var I=v.tag;if((I===3||I===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=Jn(T),v===null)return;if(I=v.tag,I===5||I===6||I===26||I===27){o=d=v;continue e}T=T.parentNode}}o=o.return}os(function(){var U=d,$=Eo(s),Q=[];e:{var z=Ip.get(t);if(z!==void 0){var B=cs,Te=t;switch(t){case"keypress":if(ls(s)===0)break e;case"keydown":case"keyup":B=da;break;case"focusin":Te="focus",B=ca;break;case"focusout":Te="blur",B=ca;break;case"beforeblur":case"afterblur":B=ca;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=ps;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=uu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=hr;break;case bp:case Sp:case Ap:B=wo;break;case Rp:B=p;break;case"scroll":case"scrollend":B=fs;break;case"wheel":B=w;break;case"copy":case"cut":case"paste":B=hu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=Ao;break;case"toggle":case"beforetoggle":B=H}var ge=(n&4)!==0,$e=!ge&&(t==="scroll"||t==="scrollend"),k=ge?z!==null?z+"Capture":null:z;ge=[];for(var M=U,P;M!==null;){var Y=M;if(P=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||P===null||k===null||(Y=ur(M,k),Y!=null&&ge.push(rl(M,Y,P))),$e)break;M=M.return}0<ge.length&&(z=new B(z,Te,null,s,$),Q.push({event:z,listeners:ge}))}}if((n&7)===0){e:{if(z=t==="mouseover"||t==="pointerover",B=t==="mouseout"||t==="pointerout",z&&s!==vo&&(Te=s.relatedTarget||s.fromElement)&&(Jn(Te)||Te[Ei]))break e;if((B||z)&&(z=$.window===$?$:(z=$.ownerDocument)?z.defaultView||z.parentWindow:window,B?(Te=s.relatedTarget||s.toElement,B=U,Te=Te?Jn(Te):null,Te!==null&&($e=u(Te),ge=Te.tag,Te!==$e||ge!==5&&ge!==27&&ge!==6)&&(Te=null)):(B=null,Te=U),B!==Te)){if(ge=ps,Y="onMouseLeave",k="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(ge=Ao,Y="onPointerLeave",k="onPointerEnter",M="pointer"),$e=B==null?z:ir(B),P=Te==null?z:ir(Te),z=new ge(Y,M+"leave",B,s,$),z.target=$e,z.relatedTarget=P,Y=null,Jn($)===U&&(ge=new ge(k,M+"enter",Te,s,$),ge.target=P,ge.relatedTarget=$e,Y=ge),$e=Y,B&&Te)t:{for(ge=B,k=Te,M=0,P=ge;P;P=Ua(P))M++;for(P=0,Y=k;Y;Y=Ua(Y))P++;for(;0<M-P;)ge=Ua(ge),M--;for(;0<P-M;)k=Ua(k),P--;for(;M--;){if(ge===k||k!==null&&ge===k.alternate)break t;ge=Ua(ge),k=Ua(k)}ge=null}else ge=null;B!==null&&$y(Q,z,B,ge,!1),Te!==null&&$e!==null&&$y(Q,$e,Te,ge,!0)}}e:{if(z=U?ir(U):window,B=z.nodeName&&z.nodeName.toLowerCase(),B==="select"||B==="input"&&z.type==="file")var oe=fp;else if(cp(z))if(dp)oe=cw;else{oe=lw;var Ce=ow}else B=z.nodeName,!B||B.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?U&&oa(U.elementType)&&(oe=fp):oe=uw;if(oe&&(oe=oe(t,U))){hp(Q,oe,s,$);break e}Ce&&Ce(t,z,U),t==="focusout"&&U&&z.type==="number"&&U.memoizedProps.value!=null&&go(z,"number",z.value)}switch(Ce=U?ir(U):window,t){case"focusin":(cp(Ce)||Ce.contentEditable==="true")&&(ma=Ce,Vh=U,Oo=null);break;case"focusout":Oo=Vh=ma=null;break;case"mousedown":Ph=!0;break;case"contextmenu":case"mouseup":case"dragend":Ph=!1,Tp(Q,s,$);break;case"selectionchange":if(fw)break;case"keydown":case"keyup":Tp(Q,s,$)}var he;if(we)e:{switch(t){case"compositionstart":var ye="onCompositionStart";break e;case"compositionend":ye="onCompositionEnd";break e;case"compositionupdate":ye="onCompositionUpdate";break e}ye=void 0}else Un?Pn(t,s)&&(ye="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(ye="onCompositionStart");ye&&(ft&&s.locale!=="ko"&&(Un||ye!=="onCompositionStart"?ye==="onCompositionEnd"&&Un&&(he=lu()):(Tn=$,Qe="value"in Tn?Tn.value:Tn.textContent,Un=!0)),Ce=nc(U,ye),0<Ce.length&&(ye=new So(ye,t,null,s,$),Q.push({event:ye,listeners:Ce}),he?ye.data=he:(he=Ln(s),he!==null&&(ye.data=he)))),(he=Be?Ro(t,s):rw(t,s))&&(ye=nc(U,"onBeforeInput"),0<ye.length&&(Ce=new So("onBeforeInput","beforeinput",null,s,$),Q.push({event:Ce,listeners:ye}),Ce.data=he)),Yw(Q,t,U,s,$)}Gy(Q,n)})}function rl(t,n,s){return{instance:t,listener:n,currentTarget:s}}function nc(t,n){for(var s=n+"Capture",o=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=ur(t,s),h!=null&&o.unshift(rl(t,h,d)),h=ur(t,n),h!=null&&o.push(rl(t,h,d))),t.tag===3)return o;t=t.return}return[]}function Ua(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function $y(t,n,s,o,h){for(var d=n._reactName,v=[];s!==null&&s!==o;){var T=s,I=T.alternate,U=T.stateNode;if(T=T.tag,I!==null&&I===o)break;T!==5&&T!==26&&T!==27||U===null||(I=U,h?(U=ur(s,d),U!=null&&v.unshift(rl(s,U,I))):h||(U=ur(s,d),U!=null&&v.push(rl(s,U,I)))),s=s.return}v.length!==0&&t.push({event:n,listeners:v})}var Ww=/\r\n?/g,Jw=/\u0000|\uFFFD/g;function Yy(t){return(typeof t=="string"?t:""+t).replace(Ww,`
`).replace(Jw,"")}function Qy(t,n){return n=Yy(n),Yy(t)===n}function ic(){}function Ke(t,n,s,o,h,d){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||En(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&En(t,""+o);break;case"className":ns(t,"class",o);break;case"tabIndex":ns(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":ns(t,s,o);break;case"style":_o(t,o,d);break;case"data":if(n!=="object"){ns(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=Vn(""+o),t.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(n!=="input"&&Ke(t,n,"name",h.name,h,null),Ke(t,n,"formEncType",h.formEncType,h,null),Ke(t,n,"formMethod",h.formMethod,h,null),Ke(t,n,"formTarget",h.formTarget,h,null)):(Ke(t,n,"encType",h.encType,h,null),Ke(t,n,"method",h.method,h,null),Ke(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=Vn(""+o),t.setAttribute(s,o);break;case"onClick":o!=null&&(t.onclick=ic);break;case"onScroll":o!=null&&Ne("scroll",t);break;case"onScrollEnd":o!=null&&Ne("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}s=Vn(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""+o):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":o===!0?t.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,o):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(s,o):t.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(s):t.setAttribute(s,o);break;case"popover":Ne("beforetoggle",t),Ne("toggle",t),ts(t,"popover",o);break;case"xlinkActuate":vn(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":vn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":vn(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":vn(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":vn(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":vn(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":vn(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":vn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":vn(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ts(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=su.get(s)||s,ts(t,s,o))}}function ad(t,n,s,o,h,d){switch(s){case"style":_o(t,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof o=="string"?En(t,o):(typeof o=="number"||typeof o=="bigint")&&En(t,""+o);break;case"onScroll":o!=null&&Ne("scroll",t);break;case"onScrollEnd":o!=null&&Ne("scrollend",t);break;case"onClick":o!=null&&(t.onclick=ic);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Jr.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),d=t[Nt]||null,d=d!=null?d[s]:null,typeof d=="function"&&t.removeEventListener(n,d,h),typeof o=="function")){typeof d!="function"&&d!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,o,h);break e}s in t?t[s]=o:o===!0?t.setAttribute(s,""):ts(t,s,o)}}}function kt(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ne("error",t),Ne("load",t);var o=!1,h=!1,d;for(d in s)if(s.hasOwnProperty(d)){var v=s[d];if(v!=null)switch(d){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ke(t,n,d,v,s,null)}}h&&Ke(t,n,"srcSet",s.srcSet,s,null),o&&Ke(t,n,"src",s.src,s,null);return;case"input":Ne("invalid",t);var T=d=v=h=null,I=null,U=null;for(o in s)if(s.hasOwnProperty(o)){var $=s[o];if($!=null)switch(o){case"name":h=$;break;case"type":v=$;break;case"checked":I=$;break;case"defaultChecked":U=$;break;case"value":d=$;break;case"defaultValue":T=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(a(137,n));break;default:Ke(t,n,o,$,s,null)}}po(t,d,T,I,U,v,h,!1),ar(t);return;case"select":Ne("invalid",t),o=v=d=null;for(h in s)if(s.hasOwnProperty(h)&&(T=s[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":o=T;default:Ke(t,n,h,T,s,null)}n=d,s=v,t.multiple=!!o,n!=null?or(t,!!o,n,!1):s!=null&&or(t,!!o,s,!0);return;case"textarea":Ne("invalid",t),d=h=o=null;for(v in s)if(s.hasOwnProperty(v)&&(T=s[v],T!=null))switch(v){case"value":o=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:Ke(t,n,v,T,s,null)}ru(t,o,h,d),ar(t);return;case"option":for(I in s)if(s.hasOwnProperty(I)&&(o=s[I],o!=null))switch(I){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Ke(t,n,I,o,s,null)}return;case"dialog":Ne("beforetoggle",t),Ne("toggle",t),Ne("cancel",t),Ne("close",t);break;case"iframe":case"object":Ne("load",t);break;case"video":case"audio":for(o=0;o<il.length;o++)Ne(il[o],t);break;case"image":Ne("error",t),Ne("load",t);break;case"details":Ne("toggle",t);break;case"embed":case"source":case"link":Ne("error",t),Ne("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in s)if(s.hasOwnProperty(U)&&(o=s[U],o!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ke(t,n,U,o,s,null)}return;default:if(oa(n)){for($ in s)s.hasOwnProperty($)&&(o=s[$],o!==void 0&&ad(t,n,$,o,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(o=s[T],o!=null&&Ke(t,n,T,o,s,null))}function eb(t,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,I=null,U=null,$=null;for(B in s){var Q=s[B];if(s.hasOwnProperty(B)&&Q!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":I=Q;default:o.hasOwnProperty(B)||Ke(t,n,B,null,o,Q)}}for(var z in o){var B=o[z];if(Q=s[z],o.hasOwnProperty(z)&&(B!=null||Q!=null))switch(z){case"type":d=B;break;case"name":h=B;break;case"checked":U=B;break;case"defaultChecked":$=B;break;case"value":v=B;break;case"defaultValue":T=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:B!==Q&&Ke(t,n,z,B,o,Q)}}mo(t,v,T,I,U,$,d,h);return;case"select":B=v=T=z=null;for(d in s)if(I=s[d],s.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":B=I;default:o.hasOwnProperty(d)||Ke(t,n,d,null,o,I)}for(h in o)if(d=o[h],I=s[h],o.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":z=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==I&&Ke(t,n,h,d,o,I)}n=T,s=v,o=B,z!=null?or(t,!!s,z,!1):!!o!=!!s&&(n!=null?or(t,!!s,n,!0):or(t,!!s,s?[]:"",!1));return;case"textarea":B=z=null;for(T in s)if(h=s[T],s.hasOwnProperty(T)&&h!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Ke(t,n,T,null,o,h)}for(v in o)if(h=o[v],d=s[v],o.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":z=h;break;case"defaultValue":B=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==d&&Ke(t,n,v,h,o,d)}iu(t,z,B);return;case"option":for(var Te in s)if(z=s[Te],s.hasOwnProperty(Te)&&z!=null&&!o.hasOwnProperty(Te))switch(Te){case"selected":t.selected=!1;break;default:Ke(t,n,Te,null,o,z)}for(I in o)if(z=o[I],B=s[I],o.hasOwnProperty(I)&&z!==B&&(z!=null||B!=null))switch(I){case"selected":t.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Ke(t,n,I,z,o,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ge in s)z=s[ge],s.hasOwnProperty(ge)&&z!=null&&!o.hasOwnProperty(ge)&&Ke(t,n,ge,null,o,z);for(U in o)if(z=o[U],B=s[U],o.hasOwnProperty(U)&&z!==B&&(z!=null||B!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:Ke(t,n,U,z,o,B)}return;default:if(oa(n)){for(var $e in s)z=s[$e],s.hasOwnProperty($e)&&z!==void 0&&!o.hasOwnProperty($e)&&ad(t,n,$e,void 0,o,z);for($ in o)z=o[$],B=s[$],!o.hasOwnProperty($)||z===B||z===void 0&&B===void 0||ad(t,n,$,z,o,B);return}}for(var k in s)z=s[k],s.hasOwnProperty(k)&&z!=null&&!o.hasOwnProperty(k)&&Ke(t,n,k,null,o,z);for(Q in o)z=o[Q],B=s[Q],!o.hasOwnProperty(Q)||z===B||z==null&&B==null||Ke(t,n,Q,z,o,B)}var od=null,ld=null;function rc(t){return t.nodeType===9?t:t.ownerDocument}function Xy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Zy(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function ud(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var cd=null;function tb(){var t=window.event;return t&&t.type==="popstate"?t===cd?!1:(cd=t,!0):(cd=null,!1)}var Wy=typeof setTimeout=="function"?setTimeout:void 0,nb=typeof clearTimeout=="function"?clearTimeout:void 0,Jy=typeof Promise=="function"?Promise:void 0,ib=typeof queueMicrotask=="function"?queueMicrotask:typeof Jy<"u"?function(t){return Jy.resolve(null).then(t).catch(rb)}:Wy;function rb(t){setTimeout(function(){throw t})}function Ir(t){return t==="head"}function e_(t,n){var s=n,o=0,h=0;do{var d=s.nextSibling;if(t.removeChild(s),d&&d.nodeType===8)if(s=d.data,s==="/$"){if(0<o&&8>o){s=o;var v=t.ownerDocument;if(s&1&&sl(v.documentElement),s&2&&sl(v.body),s&4)for(s=v.head,sl(s),v=s.firstChild;v;){var T=v.nextSibling,I=v.nodeName;v[nr]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&v.rel.toLowerCase()==="stylesheet"||s.removeChild(v),v=T}}if(h===0){t.removeChild(d),dl(n);return}h--}else s==="$"||s==="$?"||s==="$!"?h++:o=s.charCodeAt(0)-48;else o=0;s=d}while(s);dl(n)}function hd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":hd(s),na(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function sb(t,n,s,o){for(;t.nodeType===1;){var h=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[nr])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=jn(t.nextSibling),t===null)break}return null}function ab(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=jn(t.nextSibling),t===null))return null;return t}function fd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function ob(t,n){var s=t.ownerDocument;if(t.data!=="$?"||s.readyState==="complete")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function jn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var dd=null;function t_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return t;n--}else s==="/$"&&n++}t=t.previousSibling}return null}function n_(t,n,s){switch(n=rc(s),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function sl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);na(t)}var Cn=new Map,i_=new Set;function sc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ui=ne.d;ne.d={f:lb,r:ub,D:cb,C:hb,L:fb,m:db,X:pb,S:mb,M:gb};function lb(){var t=Ui.f(),n=Xu();return t||n}function ub(t){var n=ei(t);n!==null&&n.tag===5&&n.type==="form"?bg(n):Ui.r(t)}var za=typeof document>"u"?null:document;function r_(t,n,s){var o=za;if(o&&typeof n=="string"&&n){var h=St(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),i_.has(h)||(i_.add(h),t={rel:t,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),kt(n,"link",t),ht(n),o.head.appendChild(n)))}}function cb(t){Ui.D(t),r_("dns-prefetch",t,null)}function hb(t,n){Ui.C(t,n),r_("preconnect",t,n)}function fb(t,n,s){Ui.L(t,n,s);var o=za;if(o&&t&&n){var h='link[rel="preload"][as="'+St(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+St(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+St(s.imageSizes)+'"]')):h+='[href="'+St(t)+'"]';var d=h;switch(n){case"style":d=Ba(t);break;case"script":d=ja(t)}Cn.has(d)||(t=E({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),Cn.set(d,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(al(d))||n==="script"&&o.querySelector(ol(d))||(n=o.createElement("link"),kt(n,"link",t),ht(n),o.head.appendChild(n)))}}function db(t,n){Ui.m(t,n);var s=za;if(s&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+St(o)+'"][href="'+St(t)+'"]',d=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=ja(t)}if(!Cn.has(d)&&(t=E({rel:"modulepreload",href:t},n),Cn.set(d,t),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(ol(d)))return}o=s.createElement("link"),kt(o,"link",t),ht(o),s.head.appendChild(o)}}}function mb(t,n,s){Ui.S(t,n,s);var o=za;if(o&&t){var h=rr(o).hoistableStyles,d=Ba(t);n=n||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=o.querySelector(al(d)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":n},s),(s=Cn.get(d))&&md(t,s);var I=v=o.createElement("link");ht(I),kt(I,"link",t),I._p=new Promise(function(U,$){I.onload=U,I.onerror=$}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,ac(v,n,o)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function pb(t,n){Ui.X(t,n);var s=za;if(s&&t){var o=rr(s).hoistableScripts,h=ja(t),d=o.get(h);d||(d=s.querySelector(ol(h)),d||(t=E({src:t,async:!0},n),(n=Cn.get(h))&&pd(t,n),d=s.createElement("script"),ht(d),kt(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function gb(t,n){Ui.M(t,n);var s=za;if(s&&t){var o=rr(s).hoistableScripts,h=ja(t),d=o.get(h);d||(d=s.querySelector(ol(h)),d||(t=E({src:t,async:!0,type:"module"},n),(n=Cn.get(h))&&pd(t,n),d=s.createElement("script"),ht(d),kt(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function s_(t,n,s,o){var h=(h=Ee.current)?sc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Ba(s.href),s=rr(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Ba(s.href);var d=rr(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(al(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Cn.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Cn.set(t,s),d||yb(h,t,s,v.state))),n&&o===null)throw Error(a(528,""));return v}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ja(s),s=rr(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Ba(t){return'href="'+St(t)+'"'}function al(t){return'link[rel="stylesheet"]['+t+"]"}function a_(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function yb(t,n,s,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),kt(n,"link",s),ht(n),t.head.appendChild(n))}function ja(t){return'[src="'+St(t)+'"]'}function ol(t){return"script[async]"+t}function o_(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+St(s.href)+'"]');if(o)return n.instance=o,ht(o),o;var h=E({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),ht(o),kt(o,"style",h),ac(o,s.precedence,t),n.instance=o;case"stylesheet":h=Ba(s.href);var d=t.querySelector(al(h));if(d)return n.state.loading|=4,n.instance=d,ht(d),d;o=a_(s),(h=Cn.get(h))&&md(o,h),d=(t.ownerDocument||t).createElement("link"),ht(d);var v=d;return v._p=new Promise(function(T,I){v.onload=T,v.onerror=I}),kt(d,"link",o),n.state.loading|=4,ac(d,s.precedence,t),n.instance=d;case"script":return d=ja(s.src),(h=t.querySelector(ol(d)))?(n.instance=h,ht(h),h):(o=s,(h=Cn.get(d))&&(o=E({},s),pd(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),ht(h),kt(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,ac(o,s.precedence,t));return n.instance}function ac(t,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,d=h,v=0;v<o.length;v++){var T=o[v];if(T.dataset.precedence===n)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function md(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function pd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var oc=null;function l_(t,n,s){if(oc===null){var o=new Map,h=oc=new Map;h.set(s,o)}else h=oc,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(t))return o;for(o.set(t,null),s=s.getElementsByTagName(t),h=0;h<s.length;h++){var d=s[h];if(!(d[nr]||d[ct]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(n)||"";v=t+v;var T=o.get(v);T?T.push(d):o.set(v,[d])}}return o}function u_(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function _b(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function c_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var ll=null;function vb(){}function Eb(t,n,s){if(ll===null)throw Error(a(475));var o=ll;if(n.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var h=Ba(s.href),d=t.querySelector(al(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(o.count++,o=lc.bind(o),t.then(o,o)),n.state.loading|=4,n.instance=d,ht(d);return}d=t.ownerDocument||t,s=a_(s),(h=Cn.get(h))&&md(s,h),d=d.createElement("link"),ht(d);var v=d;v._p=new Promise(function(T,I){v.onload=T,v.onerror=I}),kt(d,"link",s),n.instance=d}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(o.count++,n=lc.bind(o),t.addEventListener("load",n),t.addEventListener("error",n))}}function Tb(){if(ll===null)throw Error(a(475));var t=ll;return t.stylesheets&&t.count===0&&gd(t,t.stylesheets),0<t.count?function(n){var s=setTimeout(function(){if(t.stylesheets&&gd(t,t.stylesheets),t.unsuspend){var o=t.unsuspend;t.unsuspend=null,o()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(s)}}:null}function lc(){if(this.count--,this.count===0){if(this.stylesheets)gd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var uc=null;function gd(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,uc=new Map,n.forEach(wb,t),uc=null,lc.call(t))}function wb(t,n){if(!(n.state.loading&4)){var s=uc.get(t);if(s)var o=s.get(null);else{s=new Map,uc.set(t,s);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(s.set(v.dataset.precedence,v),o=v)}o&&s.set(null,o)}h=n.instance,v=h.getAttribute("data-precedence"),d=s.get(v)||o,d===o&&s.set(null,h),s.set(v,h),this.count++,o=lc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var ul={$$typeof:ee,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function bb(t,n,s,o,h,d,v,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ta(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ta(0),this.hiddenUpdates=ta(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function h_(t,n,s,o,h,d,v,T,I,U,$,Q){return t=new bb(t,n,s,v,T,I,U,Q),n=1,d===!0&&(n|=24),d=cn(3,null,null,n),t.current=d,d.stateNode=t,n=Xh(),n.refCount++,t.pooledCache=n,n.refCount++,d.memoizedState={element:o,isDehydrated:s,cache:n},ef(d),t}function f_(t){return t?(t=_a,t):_a}function d_(t,n,s,o,h,d){h=f_(h),o.context===null?o.context=h:o.pendingContext=h,o=mr(n),o.payload={element:s},d=d===void 0?null:d,d!==null&&(o.callback=d),s=pr(t,o,n),s!==null&&(pn(s,t,n),zo(s,t,n))}function m_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function yd(t,n){m_(t,n),(t=t.alternate)&&m_(t,n)}function p_(t){if(t.tag===13){var n=ya(t,67108864);n!==null&&pn(n,t,67108864),yd(t,67108864)}}var cc=!0;function Sb(t,n,s,o){var h=K.T;K.T=null;var d=ne.p;try{ne.p=2,_d(t,n,s,o)}finally{ne.p=d,K.T=h}}function Ab(t,n,s,o){var h=K.T;K.T=null;var d=ne.p;try{ne.p=8,_d(t,n,s,o)}finally{ne.p=d,K.T=h}}function _d(t,n,s,o){if(cc){var h=vd(o);if(h===null)sd(t,n,o,hc,s),y_(t,o);else if(Ib(h,t,n,s,o))o.stopPropagation();else if(y_(t,o),n&4&&-1<Rb.indexOf(t)){for(;h!==null;){var d=ei(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Mn(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var I=1<<31-Yt(v);T.entanglements[1]|=I,v&=~I}ci(d),(je&6)===0&&(Yu=Jt()+500,nl(0))}}break;case 13:T=ya(d,2),T!==null&&pn(T,d,2),Xu(),yd(d,2)}if(d=vd(o),d===null&&sd(t,n,o,hc,s),d===h)break;h=d}h!==null&&o.stopPropagation()}else sd(t,n,o,null,s)}}function vd(t){return t=Eo(t),Ed(t)}var hc=null;function Ed(t){if(hc=null,t=Jn(t),t!==null){var n=u(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=f(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return hc=t,null}function g_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Wl()){case vt:return 2;case bt:return 8;case _i:case Sh:return 32;case uo:return 268435456;default:return 32}default:return 32}}var Td=!1,Cr=null,Dr=null,Or=null,cl=new Map,hl=new Map,Nr=[],Rb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function y_(t,n){switch(t){case"focusin":case"focusout":Cr=null;break;case"dragenter":case"dragleave":Dr=null;break;case"mouseover":case"mouseout":Or=null;break;case"pointerover":case"pointerout":cl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":hl.delete(n.pointerId)}}function fl(t,n,s,o,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:d,targetContainers:[h]},n!==null&&(n=ei(n),n!==null&&p_(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function Ib(t,n,s,o,h){switch(n){case"focusin":return Cr=fl(Cr,t,n,s,o,h),!0;case"dragenter":return Dr=fl(Dr,t,n,s,o,h),!0;case"mouseover":return Or=fl(Or,t,n,s,o,h),!0;case"pointerover":var d=h.pointerId;return cl.set(d,fl(cl.get(d)||null,t,n,s,o,h)),!0;case"gotpointercapture":return d=h.pointerId,hl.set(d,fl(hl.get(d)||null,t,n,s,o,h)),!0}return!1}function __(t){var n=Jn(t.target);if(n!==null){var s=u(n);if(s!==null){if(n=s.tag,n===13){if(n=f(s),n!==null){t.blockedOn=n,Ih(t.priority,function(){if(s.tag===13){var o=mn();o=ho(o);var h=ya(s,o);h!==null&&pn(h,s,o),yd(s,o)}});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function fc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=vd(t.nativeEvent);if(s===null){s=t.nativeEvent;var o=new s.constructor(s.type,s);vo=o,s.target.dispatchEvent(o),vo=null}else return n=ei(s),n!==null&&p_(n),t.blockedOn=s,!1;n.shift()}return!0}function v_(t,n,s){fc(t)&&s.delete(n)}function Cb(){Td=!1,Cr!==null&&fc(Cr)&&(Cr=null),Dr!==null&&fc(Dr)&&(Dr=null),Or!==null&&fc(Or)&&(Or=null),cl.forEach(v_),hl.forEach(v_)}function dc(t,n){t.blockedOn===n&&(t.blockedOn=null,Td||(Td=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Cb)))}var mc=null;function E_(t){mc!==t&&(mc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){mc===t&&(mc=null);for(var n=0;n<t.length;n+=3){var s=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(Ed(o||s)===null)continue;break}var d=ei(s);d!==null&&(t.splice(n,3),n-=3,Ef(d,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function dl(t){function n(I){return dc(I,t)}Cr!==null&&dc(Cr,t),Dr!==null&&dc(Dr,t),Or!==null&&dc(Or,t),cl.forEach(n),hl.forEach(n);for(var s=0;s<Nr.length;s++){var o=Nr[s];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Nr.length&&(s=Nr[0],s.blockedOn===null);)__(s),s.blockedOn===null&&Nr.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],d=s[o+1],v=h[Nt]||null;if(typeof d=="function")v||E_(s);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[Nt]||null)T=v.formAction;else if(Ed(h)!==null)continue}else T=v.action;typeof T=="function"?s[o+1]=T:(s.splice(o,3),o-=3),E_(s)}}}function wd(t){this._internalRoot=t}pc.prototype.render=wd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=mn();d_(s,o,t,n,null,null)},pc.prototype.unmount=wd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;d_(t.current,2,null,t,null,null),Xu(),n[Ei]=null}};function pc(t){this._internalRoot=t}pc.prototype.unstable_scheduleHydration=function(t){if(t){var n=vi();t={blockedOn:null,target:t,priority:n};for(var s=0;s<Nr.length&&n!==0&&n<Nr[s].priority;s++);Nr.splice(s,0,t),s===0&&__(t)}};var T_=e.version;if(T_!=="19.1.1")throw Error(a(527,T_,"19.1.1"));ne.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=y(n),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var Db={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gc.isDisabled&&gc.supportsFiber)try{Xi=gc.inject(Db),zt=gc}catch{}}return pl.createRoot=function(t,n){if(!l(t))throw Error(a(299));var s=!1,o="",h=Lg,d=Ug,v=zg,T=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(T=n.unstable_transitionCallbacks)),n=h_(t,1,!1,null,null,s,o,h,d,v,T,null),t[Ei]=n.current,rd(t),new wd(n)},pl.hydrateRoot=function(t,n,s){if(!l(t))throw Error(a(299));var o=!1,h="",d=Lg,v=Ug,T=zg,I=null,U=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(v=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(I=s.unstable_transitionCallbacks),s.formState!==void 0&&(U=s.formState)),n=h_(t,1,!0,n,s??null,o,h,d,v,T,I,U),n.context=f_(null),s=n.current,o=mn(),o=ho(o),h=mr(o),h.callback=null,pr(s,h,o),s=o,n.current.lanes=s,ut(n,s),ci(n),t[Ei]=n.current,rd(t),new pc(n)},pl.version="19.1.1",pl}var N_;function Bb(){if(N_)return Ad.exports;N_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Ad.exports=zb(),Ad.exports}var jb=Bb();const Hb=h0(jb),qb="modulepreload",Fb=function(r){return"/"+r},M_={},rh=function(e,i,a){let l=Promise.resolve();if(i&&i.length>0){let f=function(g){return Promise.all(g.map(E=>Promise.resolve(E).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const m=document.querySelector("meta[property=csp-nonce]"),y=(m==null?void 0:m.nonce)||(m==null?void 0:m.getAttribute("nonce"));l=f(i.map(g=>{if(g=Fb(g),g in M_)return;M_[g]=!0;const E=g.endsWith(".css"),b=E?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${b}`))return;const A=document.createElement("link");if(A.rel=E?"stylesheet":qb,E||(A.as="script"),A.crossOrigin="",A.href=g,y&&A.setAttribute("nonce",y),document.head.appendChild(A),E)return new Promise((j,F)=>{A.addEventListener("load",j),A.addEventListener("error",()=>F(new Error(`Unable to preload CSS for ${g}`)))})}))}function u(f){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=f,window.dispatchEvent(m),!m.defaultPrevented)throw f}return l.then(f=>{for(const m of f||[])m.status==="rejected"&&u(m.reason);return e().catch(u)})},Gb=[{industry:"Software",positives:[{kw:"microservice",w:1.4},{kw:"kubernetes",w:1.5},{kw:"docker",w:1.2},{kw:"react",w:1.3},{kw:"typescript",w:1.3},{kw:"node.js",w:1.2},{kw:"backend"},{kw:"frontend"},{kw:"fullstack"},{kw:"api"},{kw:"devops",w:1.2}],negatives:["logistics","hospital","bank"]},{industry:"FinTech",positives:[{kw:"fintech",w:2},{kw:"core banking",w:2},{kw:"ngân hàng",w:1.6},{kw:"bank",w:1.4},{kw:"tài chính số",w:1.6},{kw:"payment gateway",w:1.6},{kw:"ví điện tử",w:1.5},{kw:"kế toán"},{kw:"thanh toán",w:1.2},{kw:"chống gian lận",w:1.4}],negatives:["bệnh viện","e-learning"]},{industry:"E-commerce",positives:[{kw:"thương mại điện tử",w:2},{kw:"e-commerce",w:2},{kw:"checkout",w:1.3},{kw:"giỏ hàng",w:1.2},{kw:"flash sale",w:1.2},{kw:"shopify",w:1.3},{kw:"magento",w:1.3},{kw:"seller center"}],negatives:["bệnh viện","ngân hàng"]},{industry:"Healthcare",positives:[{kw:"healthcare",w:2},{kw:"medical",w:1.6},{kw:"bệnh nhân",w:1.4},{kw:"patient",w:1.4},{kw:"bệnh viện",w:1.5},{kw:"hospital",w:1.5},{kw:"clinic"},{kw:"chăm sóc sức khỏe",w:1.4},{kw:"health record",w:1.5}],negatives:["checkout","payment gateway"]},{industry:"Education",positives:[{kw:"edtech",w:2},{kw:"education",w:1.6},{kw:"trường học",w:1.3},{kw:"học tập",w:1.2},{kw:"elearning",w:1.3},{kw:"sinh viên",w:1.2},{kw:"giáo viên",w:1.2},{kw:"bài giảng",w:1.2}],negatives:["logistics"]},{industry:"Logistics",positives:[{kw:"logistics",w:2},{kw:"supply chain",w:1.6},{kw:"kho vận",w:1.4},{kw:"warehouse",w:1.3},{kw:"tồn kho",w:1.3},{kw:"vận tải",w:1.2},{kw:"fulfillment",w:1.3}],negatives:["bệnh viện"]},{industry:"Agriculture",positives:[{kw:"nông nghiệp",w:2},{kw:"agri",w:1.5},{kw:"trồng trọt",w:1.4},{kw:"chăn nuôi",w:1.4},{kw:"giống cây",w:1.4},{kw:"nông sản",w:1.3}],negatives:["fintech"]},{industry:"Real Estate",positives:[{kw:"bất động sản",w:2},{kw:"real estate",w:2},{kw:"estate platform",w:1.4},{kw:"listing property",w:1.4},{kw:"môi giới",w:1.3},{kw:"chung cư",w:1.2},{kw:"nhà đất",w:1.2}]},{industry:"Telecommunications",positives:[{kw:"viễn thông",w:2},{kw:"telecom",w:1.6},{kw:"5g",w:1.5},{kw:"bts",w:1.4},{kw:"network operations",w:1.5},{kw:"truyền dẫn",w:1.3},{kw:"core network",w:1.6}]}];function Kb(r,e){const i=r.toLowerCase(),a=e==null?void 0:e.threshold,l=[];for(const m of Gb){let y=0;const g=[];for(const E of m.positives)i.includes(E.kw)&&(y+=E.w||1,g.push(E.kw));if(m.negatives)for(const E of m.negatives)i.includes(E)&&(y-=.8);y<=0||l.push({industry:m.industry,confidence:y,matched:g})}if(!l.length)return null;const u=Math.max(...l.map(m=>m.confidence));l.forEach(m=>m.confidence=+(m.confidence/u).toFixed(3)),l.sort((m,y)=>y.confidence-m.confidence);const f=l[0];return f.confidence<a?null:f}/**
 * react-router v7.9.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var x_="popstate";function $b(r={}){function e(l,u){let{pathname:f="/",search:m="",hash:y=""}=Gs(l.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),Gd("",{pathname:f,search:m,hash:y},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function i(l,u){let f=l.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let y=l.location.href,g=y.indexOf("#");m=g===-1?y:y.slice(0,g)}return m+"#"+(typeof u=="string"?u:Dl(u))}function a(l,u){$n(l.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return Qb(e,i,a,r)}function st(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function $n(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Yb(){return Math.random().toString(36).substring(2,10)}function k_(r,e){return{usr:r.state,key:r.key,idx:e}}function Gd(r,e,i=null,a){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Gs(e):e,state:i,key:e&&e.key||a||Yb()}}function Dl({pathname:r="/",search:e="",hash:i=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(r+=i.charAt(0)==="#"?i:"#"+i),r}function Gs(r){let e={};if(r){let i=r.indexOf("#");i>=0&&(e.hash=r.substring(i),r=r.substring(0,i));let a=r.indexOf("?");a>=0&&(e.search=r.substring(a),r=r.substring(0,a)),r&&(e.pathname=r)}return e}function Qb(r,e,i,a={}){let{window:l=document.defaultView,v5Compat:u=!1}=a,f=l.history,m="POP",y=null,g=E();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function E(){return(f.state||{idx:null}).idx}function b(){m="POP";let G=E(),te=G==null?null:G-g;g=G,y&&y({action:m,location:Z.location,delta:te})}function A(G,te){m="PUSH";let re=Gd(Z.location,G,te);i&&i(re,G),g=E()+1;let ee=k_(re,g),ve=Z.createHref(re);try{f.pushState(ee,"",ve)}catch(ue){if(ue instanceof DOMException&&ue.name==="DataCloneError")throw ue;l.location.assign(ve)}u&&y&&y({action:m,location:Z.location,delta:1})}function j(G,te){m="REPLACE";let re=Gd(Z.location,G,te);i&&i(re,G),g=E();let ee=k_(re,g),ve=Z.createHref(re);f.replaceState(ee,"",ve),u&&y&&y({action:m,location:Z.location,delta:0})}function F(G){return Xb(G)}let Z={get action(){return m},get location(){return r(l,f)},listen(G){if(y)throw new Error("A history only accepts one active listener");return l.addEventListener(x_,b),y=G,()=>{l.removeEventListener(x_,b),y=null}},createHref(G){return e(l,G)},createURL:F,encodeLocation(G){let te=F(G);return{pathname:te.pathname,search:te.search,hash:te.hash}},push:A,replace:j,go(G){return f.go(G)}};return Z}function Xb(r,e=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),st(i,"No window.location.(origin|href) available to create URL");let a=typeof r=="string"?r:Dl(r);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=i+a),new URL(a,i)}function f0(r,e,i="/"){return Zb(r,e,i,!1)}function Zb(r,e,i,a){let l=typeof e=="string"?Gs(e):e,u=Ki(l.pathname||"/",i);if(u==null)return null;let f=d0(r);Wb(f);let m=null;for(let y=0;m==null&&y<f.length;++y){let g=uS(u);m=oS(f[y],g,a)}return m}function d0(r,e=[],i=[],a="",l=!1){let u=(f,m,y=l,g)=>{let E={relativePath:g===void 0?f.path||"":g,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(a)&&y)return;st(E.relativePath.startsWith(a),`Absolute route path "${E.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(a.length)}let b=ji([a,E.relativePath]),A=i.concat(E);f.children&&f.children.length>0&&(st(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),d0(f.children,e,A,b,y)),!(f.path==null&&!f.index)&&e.push({path:b,score:sS(b,f.index),routesMeta:A})};return r.forEach((f,m)=>{var y;if(f.path===""||!((y=f.path)!=null&&y.includes("?")))u(f,m);else for(let g of m0(f.path))u(f,m,!0,g)}),e}function m0(r){let e=r.split("/");if(e.length===0)return[];let[i,...a]=e,l=i.endsWith("?"),u=i.replace(/\?$/,"");if(a.length===0)return l?[u,""]:[u];let f=m0(a.join("/")),m=[];return m.push(...f.map(y=>y===""?u:[u,y].join("/"))),l&&m.push(...f),m.map(y=>r.startsWith("/")&&y===""?"/":y)}function Wb(r){r.sort((e,i)=>e.score!==i.score?i.score-e.score:aS(e.routesMeta.map(a=>a.childrenIndex),i.routesMeta.map(a=>a.childrenIndex)))}var Jb=/^:[\w-]+$/,eS=3,tS=2,nS=1,iS=10,rS=-2,V_=r=>r==="*";function sS(r,e){let i=r.split("/"),a=i.length;return i.some(V_)&&(a+=rS),e&&(a+=tS),i.filter(l=>!V_(l)).reduce((l,u)=>l+(Jb.test(u)?eS:u===""?nS:iS),a)}function aS(r,e){return r.length===e.length&&r.slice(0,-1).every((a,l)=>a===e[l])?r[r.length-1]-e[e.length-1]:0}function oS(r,e,i=!1){let{routesMeta:a}=r,l={},u="/",f=[];for(let m=0;m<a.length;++m){let y=a[m],g=m===a.length-1,E=u==="/"?e:e.slice(u.length)||"/",b=Pc({path:y.relativePath,caseSensitive:y.caseSensitive,end:g},E),A=y.route;if(!b&&g&&i&&!a[a.length-1].route.index&&(b=Pc({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},E)),!b)return null;Object.assign(l,b.params),f.push({params:l,pathname:ji([u,b.pathname]),pathnameBase:dS(ji([u,b.pathnameBase])),route:A}),b.pathnameBase!=="/"&&(u=ji([u,b.pathnameBase]))}return f}function Pc(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[i,a]=lS(r.path,r.caseSensitive,r.end),l=e.match(i);if(!l)return null;let u=l[0],f=u.replace(/(.)\/+$/,"$1"),m=l.slice(1);return{params:a.reduce((g,{paramName:E,isOptional:b},A)=>{if(E==="*"){let F=m[A]||"";f=u.slice(0,u.length-F.length).replace(/(.)\/+$/,"$1")}const j=m[A];return b&&!j?g[E]=void 0:g[E]=(j||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:r}}function lS(r,e=!1,i=!0){$n(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let a=[],l="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,y)=>(a.push({paramName:m,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(a.push({paramName:"*"}),l+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?l+="\\/*$":r!==""&&r!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),a]}function uS(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return $n(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Ki(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,a=r.charAt(i);return a&&a!=="/"?null:r.slice(i)||"/"}function cS(r,e="/"){let{pathname:i,search:a="",hash:l=""}=typeof r=="string"?Gs(r):r;return{pathname:i?i.startsWith("/")?i:hS(i,e):e,search:mS(a),hash:pS(l)}}function hS(r,e){let i=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(l=>{l===".."?i.length>1&&i.pop():l!=="."&&i.push(l)}),i.length>1?i.join("/"):"/"}function Dd(r,e,i,a){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function fS(r){return r.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function p0(r){let e=fS(r);return e.map((i,a)=>a===e.length-1?i.pathname:i.pathnameBase)}function g0(r,e,i,a=!1){let l;typeof r=="string"?l=Gs(r):(l={...r},st(!l.pathname||!l.pathname.includes("?"),Dd("?","pathname","search",l)),st(!l.pathname||!l.pathname.includes("#"),Dd("#","pathname","hash",l)),st(!l.search||!l.search.includes("#"),Dd("#","search","hash",l)));let u=r===""||l.pathname==="",f=u?"/":l.pathname,m;if(f==null)m=i;else{let b=e.length-1;if(!a&&f.startsWith("..")){let A=f.split("/");for(;A[0]==="..";)A.shift(),b-=1;l.pathname=A.join("/")}m=b>=0?e[b]:"/"}let y=cS(l,m),g=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&i.endsWith("/");return!y.pathname.endsWith("/")&&(g||E)&&(y.pathname+="/"),y}var ji=r=>r.join("/").replace(/\/\/+/g,"/"),dS=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),mS=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,pS=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function gS(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var y0=["POST","PUT","PATCH","DELETE"];new Set(y0);var yS=["GET",...y0];new Set(yS);var to=q.createContext(null);to.displayName="DataRouter";var sh=q.createContext(null);sh.displayName="DataRouterState";q.createContext(!1);var _0=q.createContext({isTransitioning:!1});_0.displayName="ViewTransition";var _S=q.createContext(new Map);_S.displayName="Fetchers";var vS=q.createContext(null);vS.displayName="Await";var yi=q.createContext(null);yi.displayName="Navigation";var Ul=q.createContext(null);Ul.displayName="Location";var Qi=q.createContext({outlet:null,matches:[],isDataRoute:!1});Qi.displayName="Route";var ym=q.createContext(null);ym.displayName="RouteError";function ES(r,{relative:e}={}){st(zl(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:a}=q.useContext(yi),{hash:l,pathname:u,search:f}=Bl(r,{relative:e}),m=u;return i!=="/"&&(m=u==="/"?i:ji([i,u])),a.createHref({pathname:m,search:f,hash:l})}function zl(){return q.useContext(Ul)!=null}function Kr(){return st(zl(),"useLocation() may be used only in the context of a <Router> component."),q.useContext(Ul).location}var v0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function E0(r){q.useContext(yi).static||q.useLayoutEffect(r)}function _m(){let{isDataRoute:r}=q.useContext(Qi);return r?xS():TS()}function TS(){st(zl(),"useNavigate() may be used only in the context of a <Router> component.");let r=q.useContext(to),{basename:e,navigator:i}=q.useContext(yi),{matches:a}=q.useContext(Qi),{pathname:l}=Kr(),u=JSON.stringify(p0(a)),f=q.useRef(!1);return E0(()=>{f.current=!0}),q.useCallback((y,g={})=>{if($n(f.current,v0),!f.current)return;if(typeof y=="number"){i.go(y);return}let E=g0(y,JSON.parse(u),l,g.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:ji([e,E.pathname])),(g.replace?i.replace:i.push)(E,g.state,g)},[e,i,u,l,r])}q.createContext(null);function Bl(r,{relative:e}={}){let{matches:i}=q.useContext(Qi),{pathname:a}=Kr(),l=JSON.stringify(p0(i));return q.useMemo(()=>g0(r,JSON.parse(l),a,e==="path"),[r,l,a,e])}function wS(r,e){return T0(r,e)}function T0(r,e,i,a,l){var re;st(zl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=q.useContext(yi),{matches:f}=q.useContext(Qi),m=f[f.length-1],y=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",b=m&&m.route;{let ee=b&&b.path||"";w0(g,!b||ee.endsWith("*")||ee.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${ee}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ee}"> to <Route path="${ee==="/"?"*":`${ee}/*`}">.`)}let A=Kr(),j;if(e){let ee=typeof e=="string"?Gs(e):e;st(E==="/"||((re=ee.pathname)==null?void 0:re.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${ee.pathname}" was given in the \`location\` prop.`),j=ee}else j=A;let F=j.pathname||"/",Z=F;if(E!=="/"){let ee=E.replace(/^\//,"").split("/");Z="/"+F.replace(/^\//,"").split("/").slice(ee.length).join("/")}let G=f0(r,{pathname:Z});$n(b||G!=null,`No routes matched location "${j.pathname}${j.search}${j.hash}" `),$n(G==null||G[G.length-1].route.element!==void 0||G[G.length-1].route.Component!==void 0||G[G.length-1].route.lazy!==void 0,`Matched leaf route at location "${j.pathname}${j.search}${j.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let te=IS(G&&G.map(ee=>Object.assign({},ee,{params:Object.assign({},y,ee.params),pathname:ji([E,u.encodeLocation?u.encodeLocation(ee.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ee.pathname]),pathnameBase:ee.pathnameBase==="/"?E:ji([E,u.encodeLocation?u.encodeLocation(ee.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ee.pathnameBase])})),f,i,a,l);return e&&te?q.createElement(Ul.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...j},navigationType:"POP"}},te):te}function bS(){let r=MS(),e=gS(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),i=r instanceof Error?r.stack:null,a="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=q.createElement(q.Fragment,null,q.createElement("p",null,"💿 Hey developer 👋"),q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",q.createElement("code",{style:u},"ErrorBoundary")," or"," ",q.createElement("code",{style:u},"errorElement")," prop on your route.")),q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},e),i?q.createElement("pre",{style:l},i):null,f)}var SS=q.createElement(bS,null),AS=class extends q.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.unstable_onError?this.props.unstable_onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?q.createElement(Qi.Provider,{value:this.props.routeContext},q.createElement(ym.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function RS({routeContext:r,match:e,children:i}){let a=q.useContext(to);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),q.createElement(Qi.Provider,{value:r},i)}function IS(r,e=[],i=null,a=null,l=null){if(r==null){if(!i)return null;if(i.errors)r=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)r=i.matches;else return null}let u=r,f=i==null?void 0:i.errors;if(f!=null){let g=u.findIndex(E=>E.route.id&&(f==null?void 0:f[E.route.id])!==void 0);st(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,g+1))}let m=!1,y=-1;if(i)for(let g=0;g<u.length;g++){let E=u[g];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(y=g),E.route.id){let{loaderData:b,errors:A}=i,j=E.route.loader&&!b.hasOwnProperty(E.route.id)&&(!A||A[E.route.id]===void 0);if(E.route.lazy||j){m=!0,y>=0?u=u.slice(0,y+1):u=[u[0]];break}}}return u.reduceRight((g,E,b)=>{let A,j=!1,F=null,Z=null;i&&(A=f&&E.route.id?f[E.route.id]:void 0,F=E.route.errorElement||SS,m&&(y<0&&b===0?(w0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,Z=null):y===b&&(j=!0,Z=E.route.hydrateFallbackElement||null)));let G=e.concat(u.slice(0,b+1)),te=()=>{let re;return A?re=F:j?re=Z:E.route.Component?re=q.createElement(E.route.Component,null):E.route.element?re=E.route.element:re=g,q.createElement(RS,{match:E,routeContext:{outlet:g,matches:G,isDataRoute:i!=null},children:re})};return i&&(E.route.ErrorBoundary||E.route.errorElement||b===0)?q.createElement(AS,{location:i.location,revalidation:i.revalidation,component:F,error:A,children:te(),routeContext:{outlet:null,matches:G,isDataRoute:!0},unstable_onError:a}):te()},null)}function vm(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function CS(r){let e=q.useContext(to);return st(e,vm(r)),e}function DS(r){let e=q.useContext(sh);return st(e,vm(r)),e}function OS(r){let e=q.useContext(Qi);return st(e,vm(r)),e}function Em(r){let e=OS(r),i=e.matches[e.matches.length-1];return st(i.route.id,`${r} can only be used on routes that contain a unique "id"`),i.route.id}function NS(){return Em("useRouteId")}function MS(){var a;let r=q.useContext(ym),e=DS("useRouteError"),i=Em("useRouteError");return r!==void 0?r:(a=e.errors)==null?void 0:a[i]}function xS(){let{router:r}=CS("useNavigate"),e=Em("useNavigate"),i=q.useRef(!1);return E0(()=>{i.current=!0}),q.useCallback(async(l,u={})=>{$n(i.current,v0),i.current&&(typeof l=="number"?r.navigate(l):await r.navigate(l,{fromRouteId:e,...u}))},[r,e])}var P_={};function w0(r,e,i){!e&&!P_[r]&&(P_[r]=!0,$n(!1,i))}q.memo(kS);function kS({routes:r,future:e,state:i,unstable_onError:a}){return T0(r,void 0,i,a,e)}function Kd(r){st(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function VS({basename:r="/",children:e=null,location:i,navigationType:a="POP",navigator:l,static:u=!1}){st(!zl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=q.useMemo(()=>({basename:f,navigator:l,static:u,future:{}}),[f,l,u]);typeof i=="string"&&(i=Gs(i));let{pathname:y="/",search:g="",hash:E="",state:b=null,key:A="default"}=i,j=q.useMemo(()=>{let F=Ki(y,f);return F==null?null:{location:{pathname:F,search:g,hash:E,state:b,key:A},navigationType:a}},[f,y,g,E,b,A,a]);return $n(j!=null,`<Router basename="${f}"> is not able to match the URL "${y}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:q.createElement(yi.Provider,{value:m},q.createElement(Ul.Provider,{children:e,value:j}))}function PS({children:r,location:e}){return wS($d(r),e)}function $d(r,e=[]){let i=[];return q.Children.forEach(r,(a,l)=>{if(!q.isValidElement(a))return;let u=[...e,l];if(a.type===q.Fragment){i.push.apply(i,$d(a.props.children,u));return}st(a.type===Kd,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),st(!a.props.index||!a.props.children,"An index route cannot have child routes.");let f={id:a.props.id||u.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(f.children=$d(a.props.children,u)),i.push(f)}),i}var Ac="get",Rc="application/x-www-form-urlencoded";function ah(r){return r!=null&&typeof r.tagName=="string"}function LS(r){return ah(r)&&r.tagName.toLowerCase()==="button"}function US(r){return ah(r)&&r.tagName.toLowerCase()==="form"}function zS(r){return ah(r)&&r.tagName.toLowerCase()==="input"}function BS(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function jS(r,e){return r.button===0&&(!e||e==="_self")&&!BS(r)}var yc=null;function HS(){if(yc===null)try{new FormData(document.createElement("form"),0),yc=!1}catch{yc=!0}return yc}var qS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Od(r){return r!=null&&!qS.has(r)?($n(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Rc}"`),null):r}function FS(r,e){let i,a,l,u,f;if(US(r)){let m=r.getAttribute("action");a=m?Ki(m,e):null,i=r.getAttribute("method")||Ac,l=Od(r.getAttribute("enctype"))||Rc,u=new FormData(r)}else if(LS(r)||zS(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=r.getAttribute("formaction")||m.getAttribute("action");if(a=y?Ki(y,e):null,i=r.getAttribute("formmethod")||m.getAttribute("method")||Ac,l=Od(r.getAttribute("formenctype"))||Od(m.getAttribute("enctype"))||Rc,u=new FormData(m,r),!HS()){let{name:g,type:E,value:b}=r;if(E==="image"){let A=g?`${g}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else g&&u.append(g,b)}}else{if(ah(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=Ac,a=null,l=Rc,f=r}return u&&l==="text/plain"&&(f=u,u=void 0),{action:a,method:i.toLowerCase(),encType:l,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Tm(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function GS(r,e,i){let a=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return a.pathname==="/"?a.pathname=`_root.${i}`:e&&Ki(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${i}`,a}async function KS(r,e){if(r.id in e)return e[r.id];try{let i=await import(r.module);return e[r.id]=i,i}catch(i){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function $S(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function YS(r,e,i){let a=await Promise.all(r.map(async l=>{let u=e.routes[l.route.id];if(u){let f=await KS(u,i);return f.links?f.links():[]}return[]}));return WS(a.flat(1).filter($S).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function L_(r,e,i,a,l,u){let f=(y,g)=>i[g]?y.route.id!==i[g].route.id:!0,m=(y,g)=>{var E;return i[g].pathname!==y.pathname||((E=i[g].route.path)==null?void 0:E.endsWith("*"))&&i[g].params["*"]!==y.params["*"]};return u==="assets"?e.filter((y,g)=>f(y,g)||m(y,g)):u==="data"?e.filter((y,g)=>{var b;let E=a.routes[y.route.id];if(!E||!E.hasLoader)return!1;if(f(y,g)||m(y,g))return!0;if(y.route.shouldRevalidate){let A=y.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((b=i[0])==null?void 0:b.params)||{},nextUrl:new URL(r,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function QS(r,e,{includeHydrateFallback:i}={}){return XS(r.map(a=>{let l=e.routes[a.route.id];if(!l)return[];let u=[l.module];return l.clientActionModule&&(u=u.concat(l.clientActionModule)),l.clientLoaderModule&&(u=u.concat(l.clientLoaderModule)),i&&l.hydrateFallbackModule&&(u=u.concat(l.hydrateFallbackModule)),l.imports&&(u=u.concat(l.imports)),u}).flat(1))}function XS(r){return[...new Set(r)]}function ZS(r){let e={},i=Object.keys(r).sort();for(let a of i)e[a]=r[a];return e}function WS(r,e){let i=new Set;return new Set(e),r.reduce((a,l)=>{let u=JSON.stringify(ZS(l));return i.has(u)||(i.add(u),a.push({key:u,link:l})),a},[])}function b0(){let r=q.useContext(to);return Tm(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function JS(){let r=q.useContext(sh);return Tm(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var wm=q.createContext(void 0);wm.displayName="FrameworkContext";function S0(){let r=q.useContext(wm);return Tm(r,"You must render this element inside a <HydratedRouter> element"),r}function eA(r,e){let i=q.useContext(wm),[a,l]=q.useState(!1),[u,f]=q.useState(!1),{onFocus:m,onBlur:y,onMouseEnter:g,onMouseLeave:E,onTouchStart:b}=e,A=q.useRef(null);q.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let Z=te=>{te.forEach(re=>{f(re.isIntersecting)})},G=new IntersectionObserver(Z,{threshold:.5});return A.current&&G.observe(A.current),()=>{G.disconnect()}}},[r]),q.useEffect(()=>{if(a){let Z=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(Z)}}},[a]);let j=()=>{l(!0)},F=()=>{l(!1),f(!1)};return i?r!=="intent"?[u,A,{}]:[u,A,{onFocus:gl(m,j),onBlur:gl(y,F),onMouseEnter:gl(g,j),onMouseLeave:gl(E,F),onTouchStart:gl(b,j)}]:[!1,A,{}]}function gl(r,e){return i=>{r&&r(i),i.defaultPrevented||e(i)}}function tA({page:r,...e}){let{router:i}=b0(),a=q.useMemo(()=>f0(i.routes,r,i.basename),[i.routes,r,i.basename]);return a?q.createElement(iA,{page:r,matches:a,...e}):null}function nA(r){let{manifest:e,routeModules:i}=S0(),[a,l]=q.useState([]);return q.useEffect(()=>{let u=!1;return YS(r,e,i).then(f=>{u||l(f)}),()=>{u=!0}},[r,e,i]),a}function iA({page:r,matches:e,...i}){let a=Kr(),{manifest:l,routeModules:u}=S0(),{basename:f}=b0(),{loaderData:m,matches:y}=JS(),g=q.useMemo(()=>L_(r,e,y,l,a,"data"),[r,e,y,l,a]),E=q.useMemo(()=>L_(r,e,y,l,a,"assets"),[r,e,y,l,a]),b=q.useMemo(()=>{if(r===a.pathname+a.search+a.hash)return[];let F=new Set,Z=!1;if(e.forEach(te=>{var ee;let re=l.routes[te.route.id];!re||!re.hasLoader||(!g.some(ve=>ve.route.id===te.route.id)&&te.route.id in m&&((ee=u[te.route.id])!=null&&ee.shouldRevalidate)||re.hasClientLoader?Z=!0:F.add(te.route.id))}),F.size===0)return[];let G=GS(r,f,"data");return Z&&F.size>0&&G.searchParams.set("_routes",e.filter(te=>F.has(te.route.id)).map(te=>te.route.id).join(",")),[G.pathname+G.search]},[f,m,a,l,g,e,r,u]),A=q.useMemo(()=>QS(E,l),[E,l]),j=nA(E);return q.createElement(q.Fragment,null,b.map(F=>q.createElement("link",{key:F,rel:"prefetch",as:"fetch",href:F,...i})),A.map(F=>q.createElement("link",{key:F,rel:"modulepreload",href:F,...i})),j.map(({key:F,link:Z})=>q.createElement("link",{key:F,nonce:i.nonce,...Z})))}function rA(...r){return e=>{r.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var A0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{A0&&(window.__reactRouterVersion="7.9.2")}catch{}function sA({basename:r,children:e,window:i}){let a=q.useRef();a.current==null&&(a.current=$b({window:i,v5Compat:!0}));let l=a.current,[u,f]=q.useState({action:l.action,location:l.location}),m=q.useCallback(y=>{q.startTransition(()=>f(y))},[f]);return q.useLayoutEffect(()=>l.listen(m),[l,m]),q.createElement(VS,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:l})}var R0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,I0=q.forwardRef(function({onClick:e,discover:i="render",prefetch:a="none",relative:l,reloadDocument:u,replace:f,state:m,target:y,to:g,preventScrollReset:E,viewTransition:b,...A},j){let{basename:F}=q.useContext(yi),Z=typeof g=="string"&&R0.test(g),G,te=!1;if(typeof g=="string"&&Z&&(G=g,A0))try{let R=new URL(window.location.href),x=g.startsWith("//")?new URL(R.protocol+g):new URL(g),D=Ki(x.pathname,F);x.origin===R.origin&&D!=null?g=D+x.search+x.hash:te=!0}catch{$n(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let re=ES(g,{relative:l}),[ee,ve,ue]=eA(a,A),De=uA(g,{replace:f,state:m,target:y,preventScrollReset:E,relative:l,viewTransition:b});function N(R){e&&e(R),R.defaultPrevented||De(R)}let S=q.createElement("a",{...A,...ue,href:G||re,onClick:te||u?e:N,ref:rA(j,ve),target:y,"data-discover":!Z&&i==="render"?"true":void 0});return ee&&!Z?q.createElement(q.Fragment,null,S,q.createElement(tA,{page:re})):S});I0.displayName="Link";var aA=q.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:a="",end:l=!1,style:u,to:f,viewTransition:m,children:y,...g},E){let b=Bl(f,{relative:g.relative}),A=Kr(),j=q.useContext(sh),{navigator:F,basename:Z}=q.useContext(yi),G=j!=null&&mA(b)&&m===!0,te=F.encodeLocation?F.encodeLocation(b).pathname:b.pathname,re=A.pathname,ee=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;i||(re=re.toLowerCase(),ee=ee?ee.toLowerCase():null,te=te.toLowerCase()),ee&&Z&&(ee=Ki(ee,Z)||ee);const ve=te!=="/"&&te.endsWith("/")?te.length-1:te.length;let ue=re===te||!l&&re.startsWith(te)&&re.charAt(ve)==="/",De=ee!=null&&(ee===te||!l&&ee.startsWith(te)&&ee.charAt(te.length)==="/"),N={isActive:ue,isPending:De,isTransitioning:G},S=ue?e:void 0,R;typeof a=="function"?R=a(N):R=[a,ue?"active":null,De?"pending":null,G?"transitioning":null].filter(Boolean).join(" ");let x=typeof u=="function"?u(N):u;return q.createElement(I0,{...g,"aria-current":S,className:R,ref:E,style:x,to:f,viewTransition:m},typeof y=="function"?y(N):y)});aA.displayName="NavLink";var oA=q.forwardRef(({discover:r="render",fetcherKey:e,navigate:i,reloadDocument:a,replace:l,state:u,method:f=Ac,action:m,onSubmit:y,relative:g,preventScrollReset:E,viewTransition:b,...A},j)=>{let F=fA(),Z=dA(m,{relative:g}),G=f.toLowerCase()==="get"?"get":"post",te=typeof m=="string"&&R0.test(m),re=ee=>{if(y&&y(ee),ee.defaultPrevented)return;ee.preventDefault();let ve=ee.nativeEvent.submitter,ue=(ve==null?void 0:ve.getAttribute("formmethod"))||f;F(ve||ee.currentTarget,{fetcherKey:e,method:ue,navigate:i,replace:l,state:u,relative:g,preventScrollReset:E,viewTransition:b})};return q.createElement("form",{ref:j,method:G,action:Z,onSubmit:a?y:re,...A,"data-discover":!te&&r==="render"?"true":void 0})});oA.displayName="Form";function lA(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function C0(r){let e=q.useContext(to);return st(e,lA(r)),e}function uA(r,{target:e,replace:i,state:a,preventScrollReset:l,relative:u,viewTransition:f}={}){let m=_m(),y=Kr(),g=Bl(r,{relative:u});return q.useCallback(E=>{if(jS(E,e)){E.preventDefault();let b=i!==void 0?i:Dl(y)===Dl(g);m(r,{replace:b,state:a,preventScrollReset:l,relative:u,viewTransition:f})}},[y,m,g,i,a,e,r,l,u,f])}var cA=0,hA=()=>`__${String(++cA)}__`;function fA(){let{router:r}=C0("useSubmit"),{basename:e}=q.useContext(yi),i=NS();return q.useCallback(async(a,l={})=>{let{action:u,method:f,encType:m,formData:y,body:g}=FS(a,e);if(l.navigate===!1){let E=l.fetcherKey||hA();await r.fetch(E,i,l.action||u,{preventScrollReset:l.preventScrollReset,formData:y,body:g,formMethod:l.method||f,formEncType:l.encType||m,flushSync:l.flushSync})}else await r.navigate(l.action||u,{preventScrollReset:l.preventScrollReset,formData:y,body:g,formMethod:l.method||f,formEncType:l.encType||m,replace:l.replace,state:l.state,fromRouteId:i,flushSync:l.flushSync,viewTransition:l.viewTransition})},[r,e,i])}function dA(r,{relative:e}={}){let{basename:i}=q.useContext(yi),a=q.useContext(Qi);st(a,"useFormAction must be used inside a RouteContext");let[l]=a.matches.slice(-1),u={...Bl(r||".",{relative:e})},f=Kr();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),y=m.getAll("index");if(y.some(E=>E==="")){m.delete("index"),y.filter(b=>b).forEach(b=>m.append("index",b));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(u.pathname=u.pathname==="/"?i:ji([i,u.pathname])),Dl(u)}function mA(r,{relative:e}={}){let i=q.useContext(_0);st(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=C0("useViewTransitionState"),l=Bl(r,{relative:e});if(!i.isTransitioning)return!1;let u=Ki(i.currentLocation.pathname,a)||i.currentLocation.pathname,f=Ki(i.nextLocation.pathname,a)||i.nextLocation.pathname;return Pc(l.pathname,f)!=null||Pc(l.pathname,u)!=null}const pA={jdFit:{key:"jdFit",name:"Phù hợp JD (Job Fit)",icon:"fa-solid fa-bullseye",color:"text-sky-400",children:[{key:"overallFit",name:"Mức độ phù hợp",weight:20}]},workExperience:{key:"workExperience",name:"Kinh nghiệm",icon:"fa-solid fa-briefcase",color:"text-green-400",children:[{key:"totalYears",name:"Số năm tổng",weight:8},{key:"relevantExperience",name:"Kinh nghiệm chuyên ngành",weight:12}]},technicalSkills:{key:"technicalSkills",name:"Kỹ năng",icon:"fa-solid fa-gears",color:"text-purple-400",children:[{key:"hardSkills",name:"Kỹ năng cứng/Technical",weight:10},{key:"softSkills",name:"Kỹ năng mềm/Soft",weight:5}]},achievements:{key:"achievements",name:"Thành tựu/KPI",icon:"fa-solid fa-trophy",color:"text-yellow-400",children:[{key:"quantifiableKPI",name:"KPI định lượng",weight:7},{key:"awardsAndCertificates",name:"Giải thưởng/chứng nhận",weight:3}]},education:{key:"education",name:"Học vấn",icon:"fa-solid fa-graduation-cap",color:"text-indigo-400",children:[{key:"degree",name:"Học vị",weight:5},{key:"grade",name:"Loại bằng",weight:1},{key:"certificates",name:"Chứng chỉ khác",weight:4}]},language:{key:"language",name:"Ngôn ngữ",icon:"fa-solid fa-language",color:"text-orange-400",children:[{key:"proficiency",name:"Mức độ thành thạo",weight:8}]},professionalism:{key:"professionalism",name:"Chuyên nghiệp",icon:"fa-solid fa-file-invoice",color:"text-cyan-400",children:[{key:"format",name:"Bố cục CV",weight:2},{key:"clarity",name:"Rõ ràng",weight:2},{key:"grammar",name:"Ngữ pháp",weight:1}]},jobTenure:{key:"jobTenure",name:"Gắn bó & Lịch sử CV",icon:"fa-solid fa-hourglass-half",color:"text-lime-400",children:[{key:"averageTenure",name:"Tenure trung bình",weight:3},{key:"jobHoppingRate",name:"Tỷ lệ nhảy việc",weight:2}]},cultureFit:{key:"cultureFit",name:"Phù hợp văn hoá",icon:"fa-solid fa-users-gear",color:"text-pink-400",children:[{key:"valueAlignment",name:"Giá trị cá nhân",weight:7}]}},UN="gemini-2.5-flash",gA=({activeStep:r,setActiveStep:e,completedSteps:i,onReset:a,onLogout:l,userEmail:u})=>{const f=[{key:"jd",icon:"fa-solid fa-clipboard-list",label:"Mô tả Công việc"},{key:"weights",icon:"fa-solid fa-sliders",label:"Phân bổ Trọng số"},{key:"upload",icon:"fa-solid fa-file-arrow-up",label:"Tải lên CV"},{key:"analysis",icon:"fa-solid fa-rocket",label:"Phân Tích AI"}],m=g=>g==="jd"?!0:g==="weights"?i.includes("jd"):g==="upload"?i.includes("jd")&&i.includes("weights"):g==="analysis"?i.includes("jd")&&i.includes("weights")&&i.includes("upload"):!1,y=g=>{const E=r===g.key,b=m(g.key),A=i.includes(g.key),F=((Z,G,te,re)=>{if(re)return"text-green-400";if(G)return"text-white";if(!te)return"text-slate-500";switch(Z){case"jd":return"text-blue-400";case"weights":return"text-purple-400";case"upload":return"text-emerald-400";case"analysis":return"text-orange-400";default:return"text-slate-400"}})(g.key,E,b,A);return le.jsx("li",{className:"w-full",children:le.jsxs("button",{className:`sidebar-item w-full relative h-[54px] flex items-center gap-3 rounded-lg px-4 transition-all duration-300 group overflow-hidden
            ${E?"bg-gradient-to-r from-blue-500/25 to-purple-500/25 text-white shadow-lg ring-1 ring-blue-400/30":"text-slate-400 hover:bg-white/5 hover:text-slate-200"} 
            ${b?"":"opacity-50 cursor-not-allowed"}
            ${A&&!E?"hover:bg-green-500/10":""}`,"data-module":g.key,role:"tab","aria-selected":E,"aria-controls":`module-${g.key}`,"data-tip":g.label,"aria-label":g.label,disabled:!b,onClick:()=>b&&e(g.key),children:[E&&le.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-400/10 to-purple-400/10 animate-pulse"}),le.jsx("div",{className:`relative z-10 flex items-center justify-center w-9 h-9 rounded-md ${E?"bg-slate-800/40":"bg-slate-800/20 group-hover:bg-slate-700/30"} transition-colors`,children:le.jsx("i",{className:`${g.icon} text-[20px] ${F} transition-all duration-300 ${E?"drop-shadow-lg scale-110":"group-hover:scale-110"}`,"aria-hidden":"true"})}),le.jsx("span",{className:`text-sm font-medium tracking-wide transition-opacity duration-300 whitespace-nowrap ${E?"text-white":""}`,children:g.label}),A&&!E&&g.key!=="process"&&le.jsx("span",{className:"absolute top-2 right-2 w-2 h-2 bg-emerald-500 rounded-full border-2 border-[#0E1A24]"})]})},g.key)};return le.jsxs("aside",{id:"cv-sidebar",className:"hidden md:flex flex-col fixed top-0 left-0 h-screen w-[240px] bg-gradient-to-b from-[#0A141C] via-[#0B151F] to-[#0A141C] border-r border-white/15 shadow-2xl z-50 backdrop-blur-md",children:[le.jsxs("button",{type:"button",onClick:()=>window.location.reload(),onKeyDown:g=>{(g.key==="Enter"||g.key===" ")&&(g.preventDefault(),window.location.reload())},title:"Tải lại trang","aria-label":"Tải lại trang",className:"group flex items-center gap-3 px-4 pt-5 pb-2 select-none text-left focus:outline-none hover:bg-white/5 transition-colors",children:[le.jsx("div",{className:"w-11 h-11 rounded-xl overflow-hidden border border-white/10 shadow-inner bg-slate-800/40 flex items-center justify-center group-hover:border-blue-400/40 group-hover:shadow-blue-400/10 transition-all",children:le.jsxs("picture",{className:"w-full h-full",children:[le.jsx("source",{srcSet:"/photo/icon/logo.jpg"}),le.jsx("img",{src:"/photo/icon/logo.jpg",onError:g=>{var b;const E=g.currentTarget;if(!E.dataset.fallback)E.dataset.fallback="1",E.src="/photo/icon/Support%20Hr.jpg";else{const A=(b=E.parentElement)==null?void 0:b.parentElement;A&&(A.innerHTML='<span class="font-bold text-lg text-white tracking-wide">S</span>')}},alt:"Support HR Logo",className:"w-full h-full object-cover object-center select-none group-active:scale-95 transition-transform",draggable:!1})]})}),le.jsxs("div",{className:"flex flex-col leading-tight",children:[le.jsx("span",{className:"text-[18px] font-extrabold tracking-wide whitespace-nowrap bg-gradient-to-r from-blue-400 via-purple-400 to-pink-400 bg-clip-text text-transparent group-hover:brightness-110 drop-shadow-[0_0_6px_rgba(180,120,255,0.25)]",children:"Support HR"}),le.jsx("span",{className:"text-[10px] uppercase tracking-wider text-slate-500 group-hover:text-slate-400",children:"AI Screening"})]})]}),le.jsxs("ul",{id:"sidebar-nav",className:"flex-1 flex flex-col gap-1 py-2 w-full px-4",role:"tablist","aria-label":"Điều hướng module CV",children:[f.map(y),le.jsx("div",{className:"mt-auto w-full flex flex-col gap-3 pb-5 pt-2",children:(u||l)&&le.jsxs("div",{className:"px-3 pt-[10px] pb-2 rounded-xl bg-slate-800/40 border border-slate-700/60 flex flex-col gap-2 group hover:border-slate-500/60 transition-colors",children:[le.jsxs("div",{className:"flex items-center justify-between gap-3",children:[le.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[le.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-500/30 to-purple-500/30 flex items-center justify-center text-slate-200 text-sm font-semibold select-none",children:u?u.charAt(0).toUpperCase():"U"}),le.jsxs("div",{className:"min-w-0 flex-1",children:[le.jsx("p",{className:"text-[11px] uppercase tracking-wider text-slate-500 font-semibold",children:"Tài khoản"}),le.jsx("p",{className:"text-xs text-slate-300 truncate",title:u,children:u||"—"})]})]}),l&&le.jsx("button",{type:"button",onClick:l,"aria-label":"Đăng xuất",title:"Đăng xuất",className:"shrink-0 p-2 rounded-md text-slate-400 hover:text-[#FCA5A5] transition-colors focus:outline-none focus:ring-2 focus:ring-red-400/40",children:le.jsx("i",{className:"fa-solid fa-right-from-bracket text-[18px]"})})]}),le.jsxs("div",{className:"text-[10px] text-center text-slate-600/80 tracking-wide",children:["2024-2025 ",le.jsx("span",{className:"text-slate-400",children:"Support HR"})]})]})})]})]})},yA=({activeStep:r,completedSteps:e})=>{const i=[{key:"jd",label:"JD",icon:"fa-clipboard-list"},{key:"weights",label:"Trọng số",icon:"fa-sliders"},{key:"upload",label:"CV",icon:"fa-file-arrow-up"},{key:"analysis",label:"AI",icon:"fa-rocket"}],l=(f=>i.findIndex(m=>m.key===f))(r),u=(l+1)/i.length*100;return le.jsx("div",{className:"md:hidden w-full mb-8 px-4",children:le.jsxs("div",{className:"bg-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-6 shadow-lg",children:[le.jsxs("div",{className:"flex items-center justify-between relative mb-4",children:[le.jsx("div",{className:"absolute top-5 left-0 right-0 h-0.5 bg-slate-700 -z-10"}),le.jsx("div",{className:"absolute top-5 left-0 h-0.5 bg-gradient-to-r from-blue-500 to-cyan-500 transition-all duration-700 ease-out -z-10",style:{width:`${u}%`}}),i.map((f,m)=>{const y=e.includes(f.key),g=r===f.key,E=m<=l,A={jd:{base:"bg-blue-500 border-2 border-blue-400",hover:"hover:bg-blue-600 hover:border-blue-500",active:"bg-gradient-to-br from-blue-400 to-cyan-500 border-2 border-cyan-300",completed:"bg-gradient-to-br from-green-400 to-emerald-500 border-2 border-emerald-300"},weights:{base:"bg-purple-500 border-2 border-purple-400",hover:"hover:bg-purple-600 hover:border-purple-500",active:"bg-gradient-to-br from-purple-400 to-pink-500 border-2 border-pink-300",completed:"bg-gradient-to-br from-green-400 to-emerald-500 border-2 border-emerald-300"},upload:{base:"bg-emerald-500 border-2 border-emerald-400",hover:"hover:bg-emerald-600 hover:border-emerald-500",active:"bg-gradient-to-br from-emerald-400 to-teal-500 border-2 border-teal-300",completed:"bg-gradient-to-br from-green-400 to-emerald-500 border-2 border-emerald-300"},analysis:{base:"bg-orange-500 border-2 border-orange-400",hover:"hover:bg-orange-600 hover:border-orange-500",active:"bg-gradient-to-br from-orange-400 to-red-500 border-2 border-red-300",completed:"bg-gradient-to-br from-green-400 to-emerald-500 border-2 border-emerald-300"}}[f.key];return le.jsxs("div",{className:"flex flex-col items-center relative z-10",children:[le.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-sm font-semibold transition-all duration-300 shadow-lg ${y?`${A.completed} text-white shadow-green-500/30 scale-110`:g?`${A.active} text-white shadow-blue-500/40 scale-110 animate-pulse`:E?`${A.base} text-white shadow-slate-600/20 ${A.hover}`:"bg-slate-700 text-slate-500 shadow-slate-700/20"}`,children:le.jsx("i",{className:`fa-solid ${f.icon} ${g?"animate-bounce":""}`})}),le.jsx("span",{className:`text-xs mt-2 font-semibold transition-colors duration-300 ${g?"text-blue-400":y?"text-green-400":"text-slate-400"}`,children:f.label})]},f.key)})]}),le.jsxs("div",{className:"text-center",children:[le.jsxs("div",{className:"text-sm font-medium text-slate-300 mb-1",children:["Tiến trình: ",Math.round(u),"%"]}),le.jsx("div",{className:"w-full bg-slate-700 rounded-full h-3 overflow-hidden shadow-inner",children:le.jsx("div",{className:"bg-gradient-to-r from-blue-500 via-cyan-500 to-teal-500 h-full rounded-full transition-all duration-700 ease-out shadow-sm",style:{width:`${u}%`}})})]})]})})},_A=()=>{};var U_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D0=function(r){const e=[];let i=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},vA=function(r){const e=[];let i=0,a=0;for(;i<r.length;){const l=r[i++];if(l<128)e[a++]=String.fromCharCode(l);else if(l>191&&l<224){const u=r[i++];e[a++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=r[i++],f=r[i++],m=r[i++],y=((l&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[a++]=String.fromCharCode(55296+(y>>10)),e[a++]=String.fromCharCode(56320+(y&1023))}else{const u=r[i++],f=r[i++];e[a++]=String.fromCharCode((l&15)<<12|(u&63)<<6|f&63)}}return e.join("")},O0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const u=r[l],f=l+1<r.length,m=f?r[l+1]:0,y=l+2<r.length,g=y?r[l+2]:0,E=u>>2,b=(u&3)<<4|m>>4;let A=(m&15)<<2|g>>6,j=g&63;y||(j=64,f||(A=64)),a.push(i[E],i[b],i[A],i[j])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(D0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):vA(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const u=i[r.charAt(l++)],m=l<r.length?i[r.charAt(l)]:0;++l;const g=l<r.length?i[r.charAt(l)]:64;++l;const b=l<r.length?i[r.charAt(l)]:64;if(++l,u==null||m==null||g==null||b==null)throw new EA;const A=u<<2|m>>4;if(a.push(A),g!==64){const j=m<<4&240|g>>2;if(a.push(j),b!==64){const F=g<<6&192|b;a.push(F)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class EA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const TA=function(r){const e=D0(r);return O0.encodeByteArray(e,!0)},Lc=function(r){return TA(r).replace(/\./g,"")},N0=function(r){try{return O0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bA=()=>wA().__FIREBASE_DEFAULTS__,SA=()=>{if(typeof process>"u"||typeof U_>"u")return;const r=U_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},AA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&N0(r[1]);return e&&JSON.parse(e)},oh=()=>{try{return _A()||bA()||SA()||AA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},M0=r=>{var e,i;return(i=(e=oh())==null?void 0:e.emulatorHosts)==null?void 0:i[r]},RA=r=>{const e=M0(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},x0=()=>{var r;return(r=oh())==null?void 0:r.config},k0=r=>{var e;return(e=oh())==null?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function no(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function V0(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CA(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",l=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Lc(JSON.stringify(i)),Lc(JSON.stringify(f)),""].join(".")}const Tl={};function DA(){const r={prod:[],emulator:[]};for(const e of Object.keys(Tl))Tl[e]?r.emulator.push(e):r.prod.push(e);return r}function OA(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let z_=!1;function P0(r,e){if(typeof window>"u"||typeof document>"u"||!no(window.location.host)||Tl[r]===e||Tl[r]||z_)return;Tl[r]=e;function i(A){return`__firebase__banner__${A}`}const a="__firebase__banner",u=DA().prod.length>0;function f(){const A=document.getElementById(a);A&&A.remove()}function m(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function y(A,j){A.setAttribute("width","24"),A.setAttribute("id",j),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function g(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{z_=!0,f()},A}function E(A,j){A.setAttribute("id",j),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function b(){const A=OA(a),j=i("text"),F=document.getElementById(j)||document.createElement("span"),Z=i("learnmore"),G=document.getElementById(Z)||document.createElement("a"),te=i("preprendIcon"),re=document.getElementById(te)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const ee=A.element;m(ee),E(G,Z);const ve=g();y(re,te),ee.append(re,F,G,ve),document.body.appendChild(ee)}u?(F.innerText="Preview backend disconnected.",re.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(re.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,F.innerText="Preview backend running in this workspace."),F.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function NA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($t())}function MA(){var e;const r=(e=oh())==null?void 0:e.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function xA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function L0(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function kA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function VA(){const r=$t();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function PA(){return!MA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function U0(){try{return typeof indexedDB=="object"}catch{return!1}}function z0(){return new Promise((r,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{var u;e(((u=l.error)==null?void 0:u.message)||"")}}catch(i){e(i)}})}function LA(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UA="FirebaseError";class Xn extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=UA,Object.setPrototypeOf(this,Xn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ks.prototype.create)}}class Ks{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},l=`${this.service}/${e}`,u=this.errors[e],f=u?zA(u,a):"Error",m=`${this.serviceName}: ${f} (${l}).`;return new Xn(l,m,a)}}function zA(r,e){return r.replace(BA,(i,a)=>{const l=e[a];return l!=null?String(l):`<${a}?>`})}const BA=/\{\$([^}]+)}/g;function jA(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function jr(r,e){if(r===e)return!0;const i=Object.keys(r),a=Object.keys(e);for(const l of i){if(!a.includes(l))return!1;const u=r[l],f=e[l];if(B_(u)&&B_(f)){if(!jr(u,f))return!1}else if(u!==f)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function B_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jl(r){const e=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function _l(r){const e={};return r.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[l,u]=a.split("=");e[decodeURIComponent(l)]=decodeURIComponent(u)}}),e}function vl(r){const e=r.indexOf("?");if(!e)return"";const i=r.indexOf("#",e);return r.substring(e,i>0?i:void 0)}function HA(r,e){const i=new qA(r,e);return i.subscribe.bind(i)}class qA{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let l;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");FA(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:a},l.next===void 0&&(l.next=Nd),l.error===void 0&&(l.error=Nd),l.complete===void 0&&(l.complete=Nd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function FA(r,e){if(typeof r!="object"||r===null)return!1;for(const i of e)if(i in r&&typeof r[i]=="function")return!0;return!1}function Nd(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA=1e3,KA=2,$A=14400*1e3,YA=.5;function j_(r,e=GA,i=KA){const a=e*Math.pow(i,r),l=Math.round(YA*a*(Math.random()-.5)*2);return Math.min($A,a+l)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(r){return r&&r._delegate?r._delegate:r}class Yn{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new IA;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(e==null?void 0:e.optional)??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ZA(e))try{this.getOrInitializeService({instanceIdentifier:Ms})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:l});a.resolve(u)}catch{}}}}clearInstance(e=Ms){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ms){return this.instances.has(e)}getOptions(e=Ms){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);a===m&&f.resolve(l)}return l}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(e),this.onInitCallbacks.set(a,l);const u=this.instances.get(a);return u&&e(u,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:XA(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Ms){return this.component?this.component.multipleInstances?e:Ms:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function XA(r){return r===Ms?void 0:r}function ZA(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new QA(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(xe||(xe={}));const JA={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},e1=xe.INFO,t1={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},n1=(r,e,...i)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),l=t1[e];if(l)console[l](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class lh{constructor(e){this.name=e,this._logLevel=e1,this._logHandler=n1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?JA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...e),this._logHandler(this,xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...e),this._logHandler(this,xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...e),this._logHandler(this,xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...e),this._logHandler(this,xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...e),this._logHandler(this,xe.ERROR,...e)}}const i1=(r,e)=>e.some(i=>r instanceof i);let H_,q_;function r1(){return H_||(H_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function s1(){return q_||(q_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const B0=new WeakMap,Yd=new WeakMap,j0=new WeakMap,Md=new WeakMap,bm=new WeakMap;function a1(r){const e=new Promise((i,a)=>{const l=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{i(Ur(r.result)),l()},f=()=>{a(r.error),l()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(i=>{i instanceof IDBCursor&&B0.set(i,r)}).catch(()=>{}),bm.set(e,r),e}function o1(r){if(Yd.has(r))return;const e=new Promise((i,a)=>{const l=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{i(),l()},f=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Yd.set(r,e)}let Qd={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return Yd.get(r);if(e==="objectStoreNames")return r.objectStoreNames||j0.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ur(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function l1(r){Qd=r(Qd)}function u1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=r.call(xd(this),e,...i);return j0.set(a,e.sort?e.sort():[e]),Ur(a)}:s1().includes(r)?function(...e){return r.apply(xd(this),e),Ur(B0.get(this))}:function(...e){return Ur(r.apply(xd(this),e))}}function c1(r){return typeof r=="function"?u1(r):(r instanceof IDBTransaction&&o1(r),i1(r,r1())?new Proxy(r,Qd):r)}function Ur(r){if(r instanceof IDBRequest)return a1(r);if(Md.has(r))return Md.get(r);const e=c1(r);return e!==r&&(Md.set(r,e),bm.set(e,r)),e}const xd=r=>bm.get(r);function H0(r,e,{blocked:i,upgrade:a,blocking:l,terminated:u}={}){const f=indexedDB.open(r,e),m=Ur(f);return a&&f.addEventListener("upgradeneeded",y=>{a(Ur(f.result),y.oldVersion,y.newVersion,Ur(f.transaction),y)}),i&&f.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),m.then(y=>{u&&y.addEventListener("close",()=>u()),l&&y.addEventListener("versionchange",g=>l(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const h1=["get","getKey","getAll","getAllKeys","count"],f1=["put","add","delete","clear"],kd=new Map;function F_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(kd.get(e))return kd.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,l=f1.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||h1.includes(i)))return;const u=async function(f,...m){const y=this.transaction(f,l?"readwrite":"readonly");let g=y.store;return a&&(g=g.index(m.shift())),(await Promise.all([g[i](...m),l&&y.done]))[0]};return kd.set(e,u),u}l1(r=>({...r,get:(e,i,a)=>F_(e,i)||r.get(e,i,a),has:(e,i)=>!!F_(e,i)||r.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(m1(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function m1(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Xd="@firebase/app",G_="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $i=new lh("@firebase/app"),p1="@firebase/app-compat",g1="@firebase/analytics-compat",y1="@firebase/analytics",_1="@firebase/app-check-compat",v1="@firebase/app-check",E1="@firebase/auth",T1="@firebase/auth-compat",w1="@firebase/database",b1="@firebase/data-connect",S1="@firebase/database-compat",A1="@firebase/functions",R1="@firebase/functions-compat",I1="@firebase/installations",C1="@firebase/installations-compat",D1="@firebase/messaging",O1="@firebase/messaging-compat",N1="@firebase/performance",M1="@firebase/performance-compat",x1="@firebase/remote-config",k1="@firebase/remote-config-compat",V1="@firebase/storage",P1="@firebase/storage-compat",L1="@firebase/firestore",U1="@firebase/ai",z1="@firebase/firestore-compat",B1="firebase",j1="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zd="[DEFAULT]",H1={[Xd]:"fire-core",[p1]:"fire-core-compat",[y1]:"fire-analytics",[g1]:"fire-analytics-compat",[v1]:"fire-app-check",[_1]:"fire-app-check-compat",[E1]:"fire-auth",[T1]:"fire-auth-compat",[w1]:"fire-rtdb",[b1]:"fire-data-connect",[S1]:"fire-rtdb-compat",[A1]:"fire-fn",[R1]:"fire-fn-compat",[I1]:"fire-iid",[C1]:"fire-iid-compat",[D1]:"fire-fcm",[O1]:"fire-fcm-compat",[N1]:"fire-perf",[M1]:"fire-perf-compat",[x1]:"fire-rc",[k1]:"fire-rc-compat",[V1]:"fire-gcs",[P1]:"fire-gcs-compat",[L1]:"fire-fst",[z1]:"fire-fst-compat",[U1]:"fire-vertex","fire-js":"fire-js",[B1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uc=new Map,q1=new Map,Wd=new Map;function K_(r,e){try{r.container.addComponent(e)}catch(i){$i.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function mi(r){const e=r.name;if(Wd.has(e))return $i.debug(`There were multiple attempts to register component ${e}.`),!1;Wd.set(e,r);for(const i of Uc.values())K_(i,r);for(const i of q1.values())K_(i,r);return!0}function $s(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function Dn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},zr=new Ks("app","Firebase",F1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Yn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw zr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io=j1;function q0(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const a={name:Zd,automaticDataCollectionEnabled:!0,...e},l=a.name;if(typeof l!="string"||!l)throw zr.create("bad-app-name",{appName:String(l)});if(i||(i=x0()),!i)throw zr.create("no-options");const u=Uc.get(l);if(u){if(jr(i,u.options)&&jr(a,u.config))return u;throw zr.create("duplicate-app",{appName:l})}const f=new WA(l);for(const y of Wd.values())f.addComponent(y);const m=new G1(i,a,f);return Uc.set(l,m),m}function Sm(r=Zd){const e=Uc.get(r);if(!e&&r===Zd&&x0())return q0();if(!e)throw zr.create("no-app",{appName:r});return e}function On(r,e,i){let a=H1[r]??r;i&&(a+=`-${i}`);const l=a.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const f=[`Unable to register library "${a}" with version "${e}":`];l&&f.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$i.warn(f.join(" "));return}mi(new Yn(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1="firebase-heartbeat-database",$1=1,Ol="firebase-heartbeat-store";let Vd=null;function F0(){return Vd||(Vd=H0(K1,$1,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Ol)}catch(i){console.warn(i)}}}}).catch(r=>{throw zr.create("idb-open",{originalErrorMessage:r.message})})),Vd}async function Y1(r){try{const i=(await F0()).transaction(Ol),a=await i.objectStore(Ol).get(G0(r));return await i.done,a}catch(e){if(e instanceof Xn)$i.warn(e.message);else{const i=zr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});$i.warn(i.message)}}}async function $_(r,e){try{const a=(await F0()).transaction(Ol,"readwrite");await a.objectStore(Ol).put(e,G0(r)),await a.done}catch(i){if(i instanceof Xn)$i.warn(i.message);else{const a=zr.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});$i.warn(a.message)}}}function G0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1=1024,X1=30;class Z1{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new J1(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,i;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Y_();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)==null?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:l}),this._heartbeatsCache.heartbeats.length>X1){const f=eR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){$i.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=Y_(),{heartbeatsToSend:a,unsentEntries:l}=W1(this._heartbeatsCache.heartbeats),u=Lc(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=i,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(i){return $i.warn(i),""}}}function Y_(){return new Date().toISOString().substring(0,10)}function W1(r,e=Q1){const i=[];let a=r.slice();for(const l of r){const u=i.find(f=>f.agent===l.agent);if(u){if(u.dates.push(l.date),Q_(i)>e){u.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),Q_(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class J1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return U0()?z0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Y1(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return $_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return $_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Q_(r){return Lc(JSON.stringify({version:2,heartbeats:r})).length}function eR(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tR(r){mi(new Yn("platform-logger",e=>new d1(e),"PRIVATE")),mi(new Yn("heartbeat",e=>new Z1(e),"PRIVATE")),On(Xd,G_,r),On(Xd,G_,"esm2020"),On("fire-js","")}tR("");var X_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Am;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,S){function R(){}R.prototype=S.prototype,N.F=S.prototype,N.prototype=new R,N.prototype.constructor=N,N.D=function(x,D,V){for(var C=Array(arguments.length-2),de=2;de<arguments.length;de++)C[de-2]=arguments[de];return S.prototype[D].apply(x,C)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(N,S,R){R||(R=0);const x=Array(16);if(typeof S=="string")for(var D=0;D<16;++D)x[D]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(D=0;D<16;++D)x[D]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=N.g[0],R=N.g[1],D=N.g[2];let V=N.g[3],C;C=S+(V^R&(D^V))+x[0]+3614090360&4294967295,S=R+(C<<7&4294967295|C>>>25),C=V+(D^S&(R^D))+x[1]+3905402710&4294967295,V=S+(C<<12&4294967295|C>>>20),C=D+(R^V&(S^R))+x[2]+606105819&4294967295,D=V+(C<<17&4294967295|C>>>15),C=R+(S^D&(V^S))+x[3]+3250441966&4294967295,R=D+(C<<22&4294967295|C>>>10),C=S+(V^R&(D^V))+x[4]+4118548399&4294967295,S=R+(C<<7&4294967295|C>>>25),C=V+(D^S&(R^D))+x[5]+1200080426&4294967295,V=S+(C<<12&4294967295|C>>>20),C=D+(R^V&(S^R))+x[6]+2821735955&4294967295,D=V+(C<<17&4294967295|C>>>15),C=R+(S^D&(V^S))+x[7]+4249261313&4294967295,R=D+(C<<22&4294967295|C>>>10),C=S+(V^R&(D^V))+x[8]+1770035416&4294967295,S=R+(C<<7&4294967295|C>>>25),C=V+(D^S&(R^D))+x[9]+2336552879&4294967295,V=S+(C<<12&4294967295|C>>>20),C=D+(R^V&(S^R))+x[10]+4294925233&4294967295,D=V+(C<<17&4294967295|C>>>15),C=R+(S^D&(V^S))+x[11]+2304563134&4294967295,R=D+(C<<22&4294967295|C>>>10),C=S+(V^R&(D^V))+x[12]+1804603682&4294967295,S=R+(C<<7&4294967295|C>>>25),C=V+(D^S&(R^D))+x[13]+4254626195&4294967295,V=S+(C<<12&4294967295|C>>>20),C=D+(R^V&(S^R))+x[14]+2792965006&4294967295,D=V+(C<<17&4294967295|C>>>15),C=R+(S^D&(V^S))+x[15]+1236535329&4294967295,R=D+(C<<22&4294967295|C>>>10),C=S+(D^V&(R^D))+x[1]+4129170786&4294967295,S=R+(C<<5&4294967295|C>>>27),C=V+(R^D&(S^R))+x[6]+3225465664&4294967295,V=S+(C<<9&4294967295|C>>>23),C=D+(S^R&(V^S))+x[11]+643717713&4294967295,D=V+(C<<14&4294967295|C>>>18),C=R+(V^S&(D^V))+x[0]+3921069994&4294967295,R=D+(C<<20&4294967295|C>>>12),C=S+(D^V&(R^D))+x[5]+3593408605&4294967295,S=R+(C<<5&4294967295|C>>>27),C=V+(R^D&(S^R))+x[10]+38016083&4294967295,V=S+(C<<9&4294967295|C>>>23),C=D+(S^R&(V^S))+x[15]+3634488961&4294967295,D=V+(C<<14&4294967295|C>>>18),C=R+(V^S&(D^V))+x[4]+3889429448&4294967295,R=D+(C<<20&4294967295|C>>>12),C=S+(D^V&(R^D))+x[9]+568446438&4294967295,S=R+(C<<5&4294967295|C>>>27),C=V+(R^D&(S^R))+x[14]+3275163606&4294967295,V=S+(C<<9&4294967295|C>>>23),C=D+(S^R&(V^S))+x[3]+4107603335&4294967295,D=V+(C<<14&4294967295|C>>>18),C=R+(V^S&(D^V))+x[8]+1163531501&4294967295,R=D+(C<<20&4294967295|C>>>12),C=S+(D^V&(R^D))+x[13]+2850285829&4294967295,S=R+(C<<5&4294967295|C>>>27),C=V+(R^D&(S^R))+x[2]+4243563512&4294967295,V=S+(C<<9&4294967295|C>>>23),C=D+(S^R&(V^S))+x[7]+1735328473&4294967295,D=V+(C<<14&4294967295|C>>>18),C=R+(V^S&(D^V))+x[12]+2368359562&4294967295,R=D+(C<<20&4294967295|C>>>12),C=S+(R^D^V)+x[5]+4294588738&4294967295,S=R+(C<<4&4294967295|C>>>28),C=V+(S^R^D)+x[8]+2272392833&4294967295,V=S+(C<<11&4294967295|C>>>21),C=D+(V^S^R)+x[11]+1839030562&4294967295,D=V+(C<<16&4294967295|C>>>16),C=R+(D^V^S)+x[14]+4259657740&4294967295,R=D+(C<<23&4294967295|C>>>9),C=S+(R^D^V)+x[1]+2763975236&4294967295,S=R+(C<<4&4294967295|C>>>28),C=V+(S^R^D)+x[4]+1272893353&4294967295,V=S+(C<<11&4294967295|C>>>21),C=D+(V^S^R)+x[7]+4139469664&4294967295,D=V+(C<<16&4294967295|C>>>16),C=R+(D^V^S)+x[10]+3200236656&4294967295,R=D+(C<<23&4294967295|C>>>9),C=S+(R^D^V)+x[13]+681279174&4294967295,S=R+(C<<4&4294967295|C>>>28),C=V+(S^R^D)+x[0]+3936430074&4294967295,V=S+(C<<11&4294967295|C>>>21),C=D+(V^S^R)+x[3]+3572445317&4294967295,D=V+(C<<16&4294967295|C>>>16),C=R+(D^V^S)+x[6]+76029189&4294967295,R=D+(C<<23&4294967295|C>>>9),C=S+(R^D^V)+x[9]+3654602809&4294967295,S=R+(C<<4&4294967295|C>>>28),C=V+(S^R^D)+x[12]+3873151461&4294967295,V=S+(C<<11&4294967295|C>>>21),C=D+(V^S^R)+x[15]+530742520&4294967295,D=V+(C<<16&4294967295|C>>>16),C=R+(D^V^S)+x[2]+3299628645&4294967295,R=D+(C<<23&4294967295|C>>>9),C=S+(D^(R|~V))+x[0]+4096336452&4294967295,S=R+(C<<6&4294967295|C>>>26),C=V+(R^(S|~D))+x[7]+1126891415&4294967295,V=S+(C<<10&4294967295|C>>>22),C=D+(S^(V|~R))+x[14]+2878612391&4294967295,D=V+(C<<15&4294967295|C>>>17),C=R+(V^(D|~S))+x[5]+4237533241&4294967295,R=D+(C<<21&4294967295|C>>>11),C=S+(D^(R|~V))+x[12]+1700485571&4294967295,S=R+(C<<6&4294967295|C>>>26),C=V+(R^(S|~D))+x[3]+2399980690&4294967295,V=S+(C<<10&4294967295|C>>>22),C=D+(S^(V|~R))+x[10]+4293915773&4294967295,D=V+(C<<15&4294967295|C>>>17),C=R+(V^(D|~S))+x[1]+2240044497&4294967295,R=D+(C<<21&4294967295|C>>>11),C=S+(D^(R|~V))+x[8]+1873313359&4294967295,S=R+(C<<6&4294967295|C>>>26),C=V+(R^(S|~D))+x[15]+4264355552&4294967295,V=S+(C<<10&4294967295|C>>>22),C=D+(S^(V|~R))+x[6]+2734768916&4294967295,D=V+(C<<15&4294967295|C>>>17),C=R+(V^(D|~S))+x[13]+1309151649&4294967295,R=D+(C<<21&4294967295|C>>>11),C=S+(D^(R|~V))+x[4]+4149444226&4294967295,S=R+(C<<6&4294967295|C>>>26),C=V+(R^(S|~D))+x[11]+3174756917&4294967295,V=S+(C<<10&4294967295|C>>>22),C=D+(S^(V|~R))+x[2]+718787259&4294967295,D=V+(C<<15&4294967295|C>>>17),C=R+(V^(D|~S))+x[9]+3951481745&4294967295,N.g[0]=N.g[0]+S&4294967295,N.g[1]=N.g[1]+(D+(C<<21&4294967295|C>>>11))&4294967295,N.g[2]=N.g[2]+D&4294967295,N.g[3]=N.g[3]+V&4294967295}a.prototype.v=function(N,S){S===void 0&&(S=N.length);const R=S-this.blockSize,x=this.C;let D=this.h,V=0;for(;V<S;){if(D==0)for(;V<=R;)l(this,N,V),V+=this.blockSize;if(typeof N=="string"){for(;V<S;)if(x[D++]=N.charCodeAt(V++),D==this.blockSize){l(this,x),D=0;break}}else for(;V<S;)if(x[D++]=N[V++],D==this.blockSize){l(this,x),D=0;break}}this.h=D,this.o+=S},a.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var S=1;S<N.length-8;++S)N[S]=0;S=this.o*8;for(var R=N.length-8;R<N.length;++R)N[R]=S&255,S/=256;for(this.v(N),N=Array(16),S=0,R=0;R<4;++R)for(let x=0;x<32;x+=8)N[S++]=this.g[R]>>>x&255;return N};function u(N,S){var R=m;return Object.prototype.hasOwnProperty.call(R,N)?R[N]:R[N]=S(N)}function f(N,S){this.h=S;const R=[];let x=!0;for(let D=N.length-1;D>=0;D--){const V=N[D]|0;x&&V==S||(R[D]=V,x=!1)}this.g=R}var m={};function y(N){return-128<=N&&N<128?u(N,function(S){return new f([S|0],S<0?-1:0)}):new f([N|0],N<0?-1:0)}function g(N){if(isNaN(N)||!isFinite(N))return b;if(N<0)return G(g(-N));const S=[];let R=1;for(let x=0;N>=R;x++)S[x]=N/R|0,R*=4294967296;return new f(S,0)}function E(N,S){if(N.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(N.charAt(0)=="-")return G(E(N.substring(1),S));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=g(Math.pow(S,8));let x=b;for(let V=0;V<N.length;V+=8){var D=Math.min(8,N.length-V);const C=parseInt(N.substring(V,V+D),S);D<8?(D=g(Math.pow(S,D)),x=x.j(D).add(g(C))):(x=x.j(R),x=x.add(g(C)))}return x}var b=y(0),A=y(1),j=y(16777216);r=f.prototype,r.m=function(){if(Z(this))return-G(this).m();let N=0,S=1;for(let R=0;R<this.g.length;R++){const x=this.i(R);N+=(x>=0?x:4294967296+x)*S,S*=4294967296}return N},r.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(F(this))return"0";if(Z(this))return"-"+G(this).toString(N);const S=g(Math.pow(N,6));var R=this;let x="";for(;;){const D=ve(R,S).g;R=te(R,D.j(S));let V=((R.g.length>0?R.g[0]:R.h)>>>0).toString(N);if(R=D,F(R))return V+x;for(;V.length<6;)V="0"+V;x=V+x}},r.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function F(N){if(N.h!=0)return!1;for(let S=0;S<N.g.length;S++)if(N.g[S]!=0)return!1;return!0}function Z(N){return N.h==-1}r.l=function(N){return N=te(this,N),Z(N)?-1:F(N)?0:1};function G(N){const S=N.g.length,R=[];for(let x=0;x<S;x++)R[x]=~N.g[x];return new f(R,~N.h).add(A)}r.abs=function(){return Z(this)?G(this):this},r.add=function(N){const S=Math.max(this.g.length,N.g.length),R=[];let x=0;for(let D=0;D<=S;D++){let V=x+(this.i(D)&65535)+(N.i(D)&65535),C=(V>>>16)+(this.i(D)>>>16)+(N.i(D)>>>16);x=C>>>16,V&=65535,C&=65535,R[D]=C<<16|V}return new f(R,R[R.length-1]&-2147483648?-1:0)};function te(N,S){return N.add(G(S))}r.j=function(N){if(F(this)||F(N))return b;if(Z(this))return Z(N)?G(this).j(G(N)):G(G(this).j(N));if(Z(N))return G(this.j(G(N)));if(this.l(j)<0&&N.l(j)<0)return g(this.m()*N.m());const S=this.g.length+N.g.length,R=[];for(var x=0;x<2*S;x++)R[x]=0;for(x=0;x<this.g.length;x++)for(let D=0;D<N.g.length;D++){const V=this.i(x)>>>16,C=this.i(x)&65535,de=N.i(D)>>>16,be=N.i(D)&65535;R[2*x+2*D]+=C*be,re(R,2*x+2*D),R[2*x+2*D+1]+=V*be,re(R,2*x+2*D+1),R[2*x+2*D+1]+=C*de,re(R,2*x+2*D+1),R[2*x+2*D+2]+=V*de,re(R,2*x+2*D+2)}for(N=0;N<S;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=S;N<2*S;N++)R[N]=0;return new f(R,0)};function re(N,S){for(;(N[S]&65535)!=N[S];)N[S+1]+=N[S]>>>16,N[S]&=65535,S++}function ee(N,S){this.g=N,this.h=S}function ve(N,S){if(F(S))throw Error("division by zero");if(F(N))return new ee(b,b);if(Z(N))return S=ve(G(N),S),new ee(G(S.g),G(S.h));if(Z(S))return S=ve(N,G(S)),new ee(G(S.g),S.h);if(N.g.length>30){if(Z(N)||Z(S))throw Error("slowDivide_ only works with positive integers.");for(var R=A,x=S;x.l(N)<=0;)R=ue(R),x=ue(x);var D=De(R,1),V=De(x,1);for(x=De(x,2),R=De(R,2);!F(x);){var C=V.add(x);C.l(N)<=0&&(D=D.add(R),V=C),x=De(x,1),R=De(R,1)}return S=te(N,D.j(S)),new ee(D,S)}for(D=b;N.l(S)>=0;){for(R=Math.max(1,Math.floor(N.m()/S.m())),x=Math.ceil(Math.log(R)/Math.LN2),x=x<=48?1:Math.pow(2,x-48),V=g(R),C=V.j(S);Z(C)||C.l(N)>0;)R-=x,V=g(R),C=V.j(S);F(V)&&(V=A),D=D.add(V),N=te(N,C)}return new ee(D,N)}r.B=function(N){return ve(this,N).h},r.and=function(N){const S=Math.max(this.g.length,N.g.length),R=[];for(let x=0;x<S;x++)R[x]=this.i(x)&N.i(x);return new f(R,this.h&N.h)},r.or=function(N){const S=Math.max(this.g.length,N.g.length),R=[];for(let x=0;x<S;x++)R[x]=this.i(x)|N.i(x);return new f(R,this.h|N.h)},r.xor=function(N){const S=Math.max(this.g.length,N.g.length),R=[];for(let x=0;x<S;x++)R[x]=this.i(x)^N.i(x);return new f(R,this.h^N.h)};function ue(N){const S=N.g.length+1,R=[];for(let x=0;x<S;x++)R[x]=N.i(x)<<1|N.i(x-1)>>>31;return new f(R,N.h)}function De(N,S){const R=S>>5;S%=32;const x=N.g.length-R,D=[];for(let V=0;V<x;V++)D[V]=S>0?N.i(V+R)>>>S|N.i(V+R+1)<<32-S:N.i(V+R);return new f(D,N.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,Am=f}).apply(typeof X_<"u"?X_:typeof self<"u"?self:typeof window<"u"?window:{});var _c=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var K0,El,$0,Ic,Jd,Y0,Q0,X0;(function(){var r,e=Object.defineProperty;function i(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof _c=="object"&&_c];for(var p=0;p<c.length;++p){var _=c[p];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var a=i(this);function l(c,p){if(p)e:{var _=a;c=c.split(".");for(var w=0;w<c.length-1;w++){var L=c[w];if(!(L in _))break e;_=_[L]}c=c[c.length-1],w=_[c],p=p(w),p!=w&&p!=null&&e(_,c,{configurable:!0,writable:!0,value:p})}}l("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(c){return c||function(p){var _=[],w;for(w in p)Object.prototype.hasOwnProperty.call(p,w)&&_.push([w,p[w]]);return _}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function m(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function y(c,p,_){return c.call.apply(c.bind,arguments)}function g(c,p,_){return g=y,g.apply(null,arguments)}function E(c,p){var _=Array.prototype.slice.call(arguments,1);return function(){var w=_.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function b(c,p){function _(){}_.prototype=p.prototype,c.Z=p.prototype,c.prototype=new _,c.prototype.constructor=c,c.Ob=function(w,L,H){for(var ie=Array(arguments.length-2),we=2;we<arguments.length;we++)ie[we-2]=arguments[we];return p.prototype[L].apply(w,ie)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function j(c){const p=c.length;if(p>0){const _=Array(p);for(let w=0;w<p;w++)_[w]=c[w];return _}return[]}function F(c,p){for(let w=1;w<arguments.length;w++){const L=arguments[w];var _=typeof L;if(_=_!="object"?_:L?Array.isArray(L)?"array":_:"null",_=="array"||_=="object"&&typeof L.length=="number"){_=c.length||0;const H=L.length||0;c.length=_+H;for(let ie=0;ie<H;ie++)c[_+ie]=L[ie]}else c.push(L)}}class Z{constructor(p,_){this.i=p,this.j=_,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function G(c){f.setTimeout(()=>{throw c},0)}function te(){var c=N;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class re{constructor(){this.h=this.g=null}add(p,_){const w=ee.get();w.set(p,_),this.h?this.h.next=w:this.g=w,this.h=w}}var ee=new Z(()=>new ve,c=>c.reset());class ve{constructor(){this.next=this.g=this.h=null}set(p,_){this.h=p,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ue,De=!1,N=new re,S=()=>{const c=Promise.resolve(void 0);ue=()=>{c.then(R)}};function R(){for(var c;c=te();){try{c.h.call(c.g)}catch(_){G(_)}var p=ee;p.j(c),p.h<100&&(p.h++,c.next=p.g,p.g=c)}De=!1}function x(){this.u=this.u,this.C=this.C}x.prototype.u=!1,x.prototype.dispose=function(){this.u||(this.u=!0,this.N())},x.prototype[Symbol.dispose]=function(){this.dispose()},x.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};f.addEventListener("test",_,p),f.removeEventListener("test",_,p)}catch{}return c})();function C(c){return/^[\s\xa0]*$/.test(c)}function de(c,p){D.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,p)}b(de,D),de.prototype.init=function(c,p){const _=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget,p||(_=="mouseover"?p=c.fromElement:_=="mouseout"&&(p=c.toElement)),this.relatedTarget=p,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&de.Z.h.call(this)},de.prototype.h=function(){de.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var be="closure_listenable_"+(Math.random()*1e6|0),K=0;function ne(c,p,_,w,L){this.listener=c,this.proxy=null,this.src=p,this.type=_,this.capture=!!w,this.ha=L,this.key=++K,this.da=this.fa=!1}function me(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Pe(c,p,_){for(const w in c)p.call(_,c[w],w,c)}function O(c,p){for(const _ in c)p.call(void 0,c[_],_,c)}function W(c){const p={};for(const _ in c)p[_]=c[_];return p}const ae="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function se(c,p){let _,w;for(let L=1;L<arguments.length;L++){w=arguments[L];for(_ in w)c[_]=w[_];for(let H=0;H<ae.length;H++)_=ae[H],Object.prototype.hasOwnProperty.call(w,_)&&(c[_]=w[_])}}function fe(c){this.src=c,this.g={},this.h=0}fe.prototype.add=function(c,p,_,w,L){const H=c.toString();c=this.g[H],c||(c=this.g[H]=[],this.h++);const ie=Ee(c,p,w,L);return ie>-1?(p=c[ie],_||(p.fa=!1)):(p=new ne(p,this.src,H,!!w,L),p.fa=_,c.push(p)),p};function Me(c,p){const _=p.type;if(_ in c.g){var w=c.g[_],L=Array.prototype.indexOf.call(w,p,void 0),H;(H=L>=0)&&Array.prototype.splice.call(w,L,1),H&&(me(p),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Ee(c,p,_,w){for(let L=0;L<c.length;++L){const H=c[L];if(!H.da&&H.listener==p&&H.capture==!!_&&H.ha==w)return L}return-1}var Ot="closure_lm_"+(Math.random()*1e6|0),qe={};function Nn(c,p,_,w,L){if(Array.isArray(p)){for(let H=0;H<p.length;H++)Nn(c,p[H],_,w,L);return null}return _=Wl(_),c&&c[be]?c.J(p,_,m(w)?!!w.capture:!1,L):oo(c,p,_,!1,w,L)}function oo(c,p,_,w,L,H){if(!p)throw Error("Invalid event type");const ie=m(L)?!!L.capture:!!L;let we=lo(c);if(we||(c[Ot]=we=new fe(c)),_=we.add(p,_,w,ie,H),_.proxy)return _;if(w=Zs(),_.proxy=w,w.src=c,w.listener=_,c.addEventListener)V||(L=ie),L===void 0&&(L=!1),c.addEventListener(p.toString(),w,L);else if(c.attachEvent)c.attachEvent(Js(p.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Zs(){function c(_){return p.call(c.src,c.listener,_)}const p=bh;return c}function Ws(c,p,_,w,L){if(Array.isArray(p))for(var H=0;H<p.length;H++)Ws(c,p[H],_,w,L);else w=m(w)?!!w.capture:!!w,_=Wl(_),c&&c[be]?(c=c.i,H=String(p).toString(),H in c.g&&(p=c.g[H],_=Ee(p,_,w,L),_>-1&&(me(p[_]),Array.prototype.splice.call(p,_,1),p.length==0&&(delete c.g[H],c.h--)))):c&&(c=lo(c))&&(p=c.g[p.toString()],c=-1,p&&(c=Ee(p,_,w,L)),(_=c>-1?p[c]:null)&&Qr(_))}function Qr(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[be])Me(p.i,c);else{var _=c.type,w=c.proxy;p.removeEventListener?p.removeEventListener(_,w,c.capture):p.detachEvent?p.detachEvent(Js(_),w):p.addListener&&p.removeListener&&p.removeListener(w),(_=lo(p))?(Me(_,c),_.h==0&&(_.src=null,p[Ot]=null)):me(c)}}}function Js(c){return c in qe?qe[c]:qe[c]="on"+c}function bh(c,p){if(c.da)c=!0;else{p=new de(p,this);const _=c.listener,w=c.ha||c.src;c.fa&&Qr(c),c=_.call(w,p)}return c}function lo(c){return c=c[Ot],c instanceof fe?c:null}var Jt="__closure_events_fn_"+(Math.random()*1e9>>>0);function Wl(c){return typeof c=="function"?c:(c[Jt]||(c[Jt]=function(p){return c.handleEvent(p)}),c[Jt])}function vt(){x.call(this),this.i=new fe(this),this.M=this,this.G=null}b(vt,x),vt.prototype[be]=!0,vt.prototype.removeEventListener=function(c,p,_,w){Ws(this,c,p,_,w)};function bt(c,p){var _,w=c.G;if(w)for(_=[];w;w=w.G)_.push(w);if(c=c.M,w=p.type||p,typeof p=="string")p=new D(p,c);else if(p instanceof D)p.target=p.target||c;else{var L=p;p=new D(w,c),se(p,L)}L=!0;let H,ie;if(_)for(ie=_.length-1;ie>=0;ie--)H=p.g=_[ie],L=_i(H,w,!0,p)&&L;if(H=p.g=c,L=_i(H,w,!0,p)&&L,L=_i(H,w,!1,p)&&L,_)for(ie=0;ie<_.length;ie++)H=p.g=_[ie],L=_i(H,w,!1,p)&&L}vt.prototype.N=function(){if(vt.Z.N.call(this),this.i){var c=this.i;for(const p in c.g){const _=c.g[p];for(let w=0;w<_.length;w++)me(_[w]);delete c.g[p],c.h--}}this.G=null},vt.prototype.J=function(c,p,_,w){return this.i.add(String(c),p,!1,_,w)},vt.prototype.K=function(c,p,_,w){return this.i.add(String(c),p,!0,_,w)};function _i(c,p,_,w){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();let L=!0;for(let H=0;H<p.length;++H){const ie=p[H];if(ie&&!ie.da&&ie.capture==_){const we=ie.listener,We=ie.ha||ie.src;ie.fa&&Me(c.i,ie),L=we.call(We,w)!==!1&&L}}return L&&!w.defaultPrevented}function Sh(c,p){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:f.setTimeout(c,p||0)}function uo(c){c.g=Sh(()=>{c.g=null,c.i&&(c.i=!1,uo(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class Ah extends x{constructor(p,_){super(),this.m=p,this.l=_,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:uo(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xr(c){x.call(this),this.h=c,this.g={}}b(Xr,x);var Xi=[];function zt(c){Pe(c.g,function(p,_){this.g.hasOwnProperty(_)&&Qr(p)},c),c.g={}}Xr.prototype.N=function(){Xr.Z.N.call(this),zt(this)},Xr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var yn=f.JSON.stringify,Yt=f.JSON.parse,Rh=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function Jl(){}function eu(){}var Zn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Zi(){D.call(this,"d")}b(Zi,D);function Mn(){D.call(this,"c")}b(Mn,D);var _n={},Wi=null;function ea(){return Wi=Wi||new vt}_n.Ia="serverreachability";function co(c){D.call(this,_n.Ia,c)}b(co,D);function Ji(c){const p=ea();bt(p,new co(p))}_n.STAT_EVENT="statevent";function ta(c,p){D.call(this,_n.STAT_EVENT,c),this.stat=p}b(ta,D);function ut(c){const p=ea();bt(p,new ta(p,c))}_n.Ja="timingevent";function tu(c,p){D.call(this,_n.Ja,c),this.size=p}b(tu,D);function er(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},p)}function tr(){this.g=!0}tr.prototype.ua=function(){this.g=!1};function ho(c,p,_,w,L,H){c.info(function(){if(c.g)if(H){var ie="",we=H.split("&");for(let Be=0;Be<we.length;Be++){var We=we[Be].split("=");if(We.length>1){const ft=We[0];We=We[1];const ln=ft.split("_");ie=ln.length>=2&&ln[1]=="type"?ie+(ft+"="+We+"&"):ie+(ft+"=redacted&")}}}else ie=null;else ie=H;return"XMLHTTP REQ ("+w+") [attempt "+L+"]: "+p+`
`+_+`
`+ie})}function fo(c,p,_,w,L,H,ie){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+L+"]: "+p+`
`+_+`
`+H+" "+ie})}function vi(c,p,_,w){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+Wn(c,_)+(w?" "+w:"")})}function Ih(c,p){c.info(function(){return"TIMEOUT: "+p})}tr.prototype.info=function(){};function Wn(c,p){if(!c.g)return p;if(!p)return null;try{const H=JSON.parse(p);if(H){for(c=0;c<H.length;c++)if(Array.isArray(H[c])){var _=H[c];if(!(_.length<2)){var w=_[1];if(Array.isArray(w)&&!(w.length<1)){var L=w[0];if(L!="noop"&&L!="stop"&&L!="close")for(let ie=1;ie<w.length;ie++)w[ie]=""}}}}return yn(H)}catch{return p}}var ct={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Nt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ei;function Zr(){}b(Zr,Jl),Zr.prototype.g=function(){return new XMLHttpRequest},Ei=new Zr;function Wr(c){return encodeURIComponent(String(c))}function Ch(c){var p=1;c=c.split(":");const _=[];for(;p>0&&c.length;)_.push(c.shift()),p--;return c.length&&_.push(c.join(":")),_}function xn(c,p,_,w){this.j=c,this.i=p,this.l=_,this.S=w||1,this.V=new Xr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new nr}function nr(){this.i=null,this.g="",this.h=!1}var na={},Jn={};function ei(c,p,_){c.M=1,c.A=wi(nt(p)),c.u=_,c.R=!0,ir(c,null)}function ir(c,p){c.F=Date.now(),Jr(c),c.B=nt(c.A);var _=c.B,w=c.S;Array.isArray(w)||(w=[String(w)]),su(_.i,"t",w),c.C=0,_=c.j.L,c.h=new nr,c.g=fa(c.j,_?p:null,!c.u),c.P>0&&(c.O=new Ah(g(c.Y,c,c.g),c.P)),p=c.V,_=c.g,w=c.ba;var L="readystatechange";Array.isArray(L)||(L&&(Xi[0]=L.toString()),L=Xi);for(let H=0;H<L.length;H++){const ie=Nn(_,L[H],w||p.handleEvent,!1,p.h||p);if(!ie)break;p.g[ie.key]=ie}p=c.J?W(c.J):{},c.u?(c.v||(c.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,p)):(c.v="GET",c.g.ea(c.B,c.v,null,p)),Ji(),ho(c.i,c.v,c.B,c.l,c.S,c.u)}xn.prototype.ba=function(c){c=c.target;const p=this.O;p&&Bt(c)==3?p.j():this.Y(c)},xn.prototype.Y=function(c){try{if(c==this.g)e:{const we=Bt(this.g),We=this.g.ya(),Be=this.g.ca();if(!(we<3)&&(we!=3||this.g&&(this.h.h||this.g.la()||cs(this.g)))){this.K||we!=4||We==7||(We==8||Be<=0?Ji(3):Ji(2)),ni(this);var p=this.g.ca();this.X=p;var _=rr(this);if(this.o=p==200,fo(this.i,this.v,this.B,this.l,this.S,we,p),this.o){if(this.U&&!this.L){t:{if(this.g){var w,L=this.g;if((w=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(w)){var H=w;break t}}H=null}if(c=H)vi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ia(this,c);else{this.o=!1,this.m=3,ut(12),ii(this),es(this);break e}}if(this.R){c=!0;let ft;for(;!this.K&&this.C<_.length;)if(ft=nu(this,_),ft==Jn){we==4&&(this.m=4,ut(14),c=!1),vi(this.i,this.l,null,"[Incomplete Response]");break}else if(ft==na){this.m=4,ut(15),vi(this.i,this.l,_,"[Invalid Chunk]"),c=!1;break}else vi(this.i,this.l,ft,null),ia(this,ft);if(ht(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),we!=4||_.length!=0||this.h.h||(this.m=1,ut(16),c=!1),this.o=this.o&&c,!c)vi(this.i,this.l,_,"[Invalid Chunked Response]"),ii(this),es(this);else if(_.length>0&&!this.W){this.W=!0;var ie=this.j;ie.g==this&&ie.aa&&!ie.P&&(ie.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),bo(ie),ie.P=!0,ut(11))}}else vi(this.i,this.l,_,null),ia(this,_);we==4&&ii(this),this.o&&!this.K&&(we==4?So(this.j,this):(this.o=!1,Jr(this)))}else hs(this.g),p==400&&_.indexOf("Unknown SID")>0?(this.m=3,ut(12)):(this.m=0,ut(13)),ii(this),es(this)}}}catch{}finally{}};function rr(c){if(!ht(c))return c.g.la();const p=cs(c.g);if(p==="")return"";let _="";const w=p.length,L=Bt(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return ii(c),es(c),"";c.h.i=new f.TextDecoder}for(let H=0;H<w;H++)c.h.h=!0,_+=c.h.i.decode(p[H],{stream:!(L&&H==w-1)});return p.length=0,c.h.g+=_,c.C=0,c.h.g}function ht(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function nu(c,p){var _=c.C,w=p.indexOf(`
`,_);return w==-1?Jn:(_=Number(p.substring(_,w)),isNaN(_)?na:(w+=1,w+_>p.length?Jn:(p=p.slice(w,w+_),c.C=w+_,p)))}xn.prototype.cancel=function(){this.K=!0,ii(this)};function Jr(c){c.T=Date.now()+c.H,ti(c,c.H)}function ti(c,p){if(c.D!=null)throw Error("WatchDog timer not null");c.D=er(g(c.aa,c),p)}function ni(c){c.D&&(f.clearTimeout(c.D),c.D=null)}xn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Ih(this.i,this.B),this.M!=2&&(Ji(),ut(17)),ii(this),this.m=2,es(this)):ti(this,this.T-c)};function es(c){c.j.I==0||c.K||So(c.j,c)}function ii(c){ni(c);var p=c.O;p&&typeof p.dispose=="function"&&p.dispose(),c.O=null,zt(c.V),c.g&&(p=c.g,c.g=null,p.abort(),p.dispose())}function ia(c,p){try{var _=c.j;if(_.I!=0&&(_.g==c||is(_.h,c))){if(!c.L&&is(_.h,c)&&_.I==3){try{var w=_.Ba.g.parse(p)}catch{w=null}if(Array.isArray(w)&&w.length==3){var L=w;if(L[0]==0){e:if(!_.v){if(_.g)if(_.g.F+3e3<c.F)ha(_),ri(_);else break e;wo(_),ut(18)}}else _.xa=L[1],0<_.xa-_.K&&L[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=er(g(_.Va,_),6e3));vn(_.h)<=1&&_.ta&&(_.ta=void 0)}else Ai(_,11)}else if((c.L||_.g==c)&&ha(_),!C(p))for(L=_.Ba.g.parse(p),p=0;p<L.length;p++){let Be=L[p];const ft=Be[0];if(!(ft<=_.K))if(_.K=ft,Be=Be[1],_.I==2)if(Be[0]=="c"){_.M=Be[1],_.ba=Be[2];const ln=Be[3];ln!=null&&(_.ka=ln,_.j.info("VER="+_.ka));const si=Be[4];si!=null&&(_.za=si,_.j.info("SVER="+_.za));const Pn=Be[5];Pn!=null&&typeof Pn=="number"&&Pn>0&&(w=1.5*Pn,_.O=w,_.j.info("backChannelRequestTimeoutMs_="+w)),w=_;const Ln=c.g;if(Ln){const Un=Ln.g?Ln.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Un){var H=w.h;H.g||Un.indexOf("spdy")==-1&&Un.indexOf("quic")==-1&&Un.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(ra(H,H.h),H.h=null))}if(w.G){const Ro=Ln.g?Ln.g.getResponseHeader("X-HTTP-Session-Id"):null;Ro&&(w.wa=Ro,Fe(w.J,w.G,Ro))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-c.F,_.j.info("Handshake RTT: "+_.T+"ms")),w=_;var ie=c;if(w.na=mu(w,w.L?w.ba:null,w.W),ie.L){Ti(w.h,ie);var we=ie,We=w.O;We&&(we.H=We),we.D&&(ni(we),Jr(we)),w.g=ie}else cu(w);_.i.length>0&&ps(_)}else Be[0]!="stop"&&Be[0]!="close"||Ai(_,7);else _.I==3&&(Be[0]=="stop"||Be[0]=="close"?Be[0]=="stop"?Ai(_,7):ds(_):Be[0]!="noop"&&_.l&&_.l.qa(Be),_.A=0)}}Ji(4)}catch{}}var Dh=class{constructor(c,p){this.g=c,this.map=p}};function ts(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ns(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function vn(c){return c.h?1:c.g?c.g.size:0}function is(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function ra(c,p){c.g?c.g.add(p):c.h=p}function Ti(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}ts.prototype.cancel=function(){if(this.i=sa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function sa(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const _ of c.g.values())p=p.concat(_.G);return p}return j(c.i)}var aa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Oh(c,p){if(c){c=c.split("&");for(let _=0;_<c.length;_++){const w=c[_].indexOf("=");let L,H=null;w>=0?(L=c[_].substring(0,w),H=c[_].substring(w+1)):L=c[_],p(L,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function kn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;c instanceof kn?(this.l=c.l,sr(this,c.j),this.o=c.o,this.g=c.g,rs(this,c.u),this.h=c.h,ar(this,au(c.i)),this.m=c.m):c&&(p=String(c).match(aa))?(this.l=!1,sr(this,p[1]||"",!0),this.o=ss(p[2]||""),this.g=ss(p[3]||"",!0),rs(this,p[4]),this.h=ss(p[5]||"",!0),ar(this,p[6]||"",!0),this.m=ss(p[7]||"")):(this.l=!1,this.i=new En(null,this.l))}kn.prototype.toString=function(){const c=[];var p=this.j;p&&c.push(St(p,po,!0),":");var _=this.g;return(_||p=="file")&&(c.push("//"),(p=this.o)&&c.push(St(p,po,!0),"@"),c.push(Wr(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&c.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(St(_,_.charAt(0)=="/"?or:go,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",St(_,ru)),c.join("")},kn.prototype.resolve=function(c){const p=nt(this);let _=!!c.j;_?sr(p,c.j):_=!!c.o,_?p.o=c.o:_=!!c.g,_?p.g=c.g:_=c.u!=null;var w=c.h;if(_)rs(p,c.u);else if(_=!!c.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var L=p.h.lastIndexOf("/");L!=-1&&(w=p.h.slice(0,L+1)+w)}if(L=w,L==".."||L==".")w="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){w=L.lastIndexOf("/",0)==0,L=L.split("/");const H=[];for(let ie=0;ie<L.length;){const we=L[ie++];we=="."?w&&ie==L.length&&H.push(""):we==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),w&&ie==L.length&&H.push("")):(H.push(we),w=!0)}w=H.join("/")}else w=L}return _?p.h=w:_=c.i.toString()!=="",_?ar(p,au(c.i)):_=!!c.m,_&&(p.m=c.m),p};function nt(c){return new kn(c)}function sr(c,p,_){c.j=_?ss(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function rs(c,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);c.u=p}else c.u=null}function ar(c,p,_){p instanceof En?(c.i=p,vo(c.i,c.l)):(_||(p=St(p,iu)),c.i=new En(p,c.l))}function Fe(c,p,_){c.i.set(p,_)}function wi(c){return Fe(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function ss(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function St(c,p,_){return typeof c=="string"?(c=encodeURI(c).replace(p,mo),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function mo(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var po=/[#\/\?@]/g,go=/[#\?:]/g,or=/[#\?]/g,iu=/[#\?@]/g,ru=/#/g;function En(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function bi(c){c.g||(c.g=new Map,c.h=0,c.i&&Oh(c.i,function(p,_){c.add(decodeURIComponent(p.replace(/\+/g," ")),_)}))}r=En.prototype,r.add=function(c,p){bi(this),this.i=null,c=Vn(this,c);let _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(p),this.h+=1,this};function yo(c,p){bi(c),p=Vn(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function _o(c,p){return bi(c),p=Vn(c,p),c.g.has(p)}r.forEach=function(c,p){bi(this),this.g.forEach(function(_,w){_.forEach(function(L){c.call(p,L,w,this)},this)},this)};function oa(c,p){bi(c);let _=[];if(typeof p=="string")_o(c,p)&&(_=_.concat(c.g.get(Vn(c,p))));else for(c=Array.from(c.g.values()),p=0;p<c.length;p++)_=_.concat(c[p]);return _}r.set=function(c,p){return bi(this),this.i=null,c=Vn(this,c),_o(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},r.get=function(c,p){return c?(c=oa(this,c),c.length>0?String(c[0]):p):p};function su(c,p,_){yo(c,p),_.length>0&&(c.i=null,c.g.set(Vn(c,p),j(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(let w=0;w<p.length;w++){var _=p[w];const L=Wr(_);_=oa(this,_);for(let H=0;H<_.length;H++){let ie=L;_[H]!==""&&(ie+="="+Wr(_[H])),c.push(ie)}}return this.i=c.join("&")};function au(c){const p=new En;return p.i=c.i,c.g&&(p.g=new Map(c.g),p.h=c.h),p}function Vn(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function vo(c,p){p&&!c.j&&(bi(c),c.i=null,c.g.forEach(function(_,w){const L=w.toLowerCase();w!=L&&(yo(this,w),su(this,L,_))},c)),c.j=p}function Eo(c,p){const _=new tr;if(f.Image){const w=new Image;w.onload=E(Qt,_,"TestLoadImage: loaded",!0,p,w),w.onerror=E(Qt,_,"TestLoadImage: error",!1,p,w),w.onabort=E(Qt,_,"TestLoadImage: abort",!1,p,w),w.ontimeout=E(Qt,_,"TestLoadImage: timeout",!1,p,w),f.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else p(!1)}function lr(c,p){const _=new tr,w=new AbortController,L=setTimeout(()=>{w.abort(),Qt(_,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:w.signal}).then(H=>{clearTimeout(L),H.ok?Qt(_,"TestPingServer: ok",!0,p):Qt(_,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(L),Qt(_,"TestPingServer: error",!1,p)})}function Qt(c,p,_,w,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),w(_)}catch{}}function ou(){this.g=new Rh}function as(c){this.i=c.Sb||null,this.h=c.ab||!1}b(as,Jl),as.prototype.g=function(){return new os(this.i,this.h)};function os(c,p){vt.call(this),this.H=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(os,vt),r=os.prototype,r.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=p,this.readyState=1,Si(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(p.body=c),(this.H||f).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Xt(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Si(this)),this.g&&(this.readyState=3,Si(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ur(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ur(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?Xt(this):Si(this),this.readyState==3&&ur(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,Xt(this))},r.Na=function(c){this.g&&(this.response=c,Xt(this))},r.ga=function(){this.g&&Xt(this)};function Xt(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Si(c)}r.setRequestHeader=function(c,p){this.A.append(c,p)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var _=p.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=p.next();return c.join(`\r
`)};function Si(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(os.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function cr(c){let p="";return Pe(c,function(_,w){p+=w,p+=":",p+=_,p+=`\r
`}),p}function Tn(c,p,_){e:{for(w in _){var w=!1;break e}w=!0}w||(_=cr(_),typeof c=="string"?_!=null&&Wr(_):Fe(c,p,_))}function Qe(c){vt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Qe,vt);var la=/^https?$/i,lu=["POST","PUT"];r=Qe.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,p,_,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ei.g(),this.g.onreadystatechange=A(g(this.Ca,this));try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(H){ls(this,H);return}if(c=_||"",_=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var L in w)_.set(L,w[L]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const H of w.keys())_.set(H,w.get(H));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(_.keys()).find(H=>H.toLowerCase()=="content-type"),L=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(lu,p,void 0)>=0)||w||L||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,ie]of _)this.g.setRequestHeader(H,ie);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(H){ls(this,H)}};function ls(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.o=5,us(c),Et(c)}function us(c){c.A||(c.A=!0,bt(c,"complete"),bt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,bt(this,"complete"),bt(this,"abort"),Et(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Et(this,!0)),Qe.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?To(this):this.Xa())},r.Xa=function(){To(this)};function To(c){if(c.h&&typeof u<"u"){if(c.v&&Bt(c)==4)setTimeout(c.Ca.bind(c),0);else if(bt(c,"readystatechange"),Bt(c)==4){c.h=!1;try{const H=c.ca();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var _;if(!(_=p)){var w;if(w=H===0){let ie=String(c.D).match(aa)[1]||null;!ie&&f.self&&f.self.location&&(ie=f.self.location.protocol.slice(0,-1)),w=!la.test(ie?ie.toLowerCase():"")}_=w}if(_)bt(c,"complete"),bt(c,"success");else{c.o=6;try{var L=Bt(c)>2?c.g.statusText:""}catch{L=""}c.l=L+" ["+c.ca()+"]",us(c)}}finally{Et(c)}}}}function Et(c,p){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const _=c.g;c.g=null,p||bt(c,"ready");try{_.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Bt(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Bt(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),Yt(p)}};function cs(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function hs(c){const p={};c=(c.g&&Bt(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(C(c[w]))continue;var _=Ch(c[w]);const L=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const H=p[L]||[];p[L]=H,H.push(_)}O(p,function(w){return w.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function fs(c,p,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||p}function ua(c){this.za=0,this.i=[],this.j=new tr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=fs("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=fs("baseRetryDelayMs",5e3,c),this.Za=fs("retryDelaySeedMs",1e4,c),this.Ta=fs("forwardChannelMaxRetries",2,c),this.va=fs("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new ts(c&&c.concurrentRequestLimit),this.Ba=new ou,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=ua.prototype,r.ka=8,r.I=1,r.connect=function(c,p,_,w){ut(0),this.W=c,this.H=p||{},_&&w!==void 0&&(this.H.OSID=_,this.H.OAID=w),this.F=this.X,this.J=mu(this,null,this.W),ps(this)};function ds(c){if(ms(c),c.I==3){var p=c.V++,_=nt(c.J);if(Fe(_,"SID",c.M),Fe(_,"RID",p),Fe(_,"TYPE","terminate"),gs(c,_),p=new xn(c,c.j,p),p.M=2,p.A=wi(nt(_)),_=!1,f.navigator&&f.navigator.sendBeacon)try{_=f.navigator.sendBeacon(p.A.toString(),"")}catch{}!_&&f.Image&&(new Image().src=p.A,_=!0),_||(p.g=fa(p.j,null),p.g.ea(p.A)),p.F=Date.now(),Jr(p)}du(c)}function ri(c){c.g&&(bo(c),c.g.cancel(),c.g=null)}function ms(c){ri(c),c.v&&(f.clearTimeout(c.v),c.v=null),ha(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function ps(c){if(!ns(c.h)&&!c.m){c.m=!0;var p=c.Ea;ue||S(),De||(ue(),De=!0),N.add(p,c),c.D=0}}function Nh(c,p){return vn(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=p.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=er(g(c.Ea,c,p),fu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const L=new xn(this,this.j,c);let H=this.o;if(this.U&&(H?(H=W(H),se(H,this.U)):H=this.U),this.u!==null||this.R||(L.J=H,H=null),this.S)e:{for(var p=0,_=0;_<this.i.length;_++){t:{var w=this.i[_];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(p+=w,p>4096){p=_;break e}if(p===4096||_===this.i.length-1){p=_+1;break e}}p=1e3}else p=1e3;p=ca(this,L,p),_=nt(this.J),Fe(_,"RID",c),Fe(_,"CVER",22),this.G&&Fe(_,"X-HTTP-Session-Id",this.G),gs(this,_),H&&(this.R?p="headers="+Wr(cr(H))+"&"+p:this.u&&Tn(_,this.u,H)),ra(this.h,L),this.Ra&&Fe(_,"TYPE","init"),this.S?(Fe(_,"$req",p),Fe(_,"SID","null"),L.U=!0,ei(L,_,null)):ei(L,_,p),this.I=2}}else this.I==3&&(c?uu(this,c):this.i.length==0||ns(this.h)||uu(this))};function uu(c,p){var _;p?_=p.l:_=c.V++;const w=nt(c.J);Fe(w,"SID",c.M),Fe(w,"RID",_),Fe(w,"AID",c.K),gs(c,w),c.u&&c.o&&Tn(w,c.u,c.o),_=new xn(c,c.j,_,c.D+1),c.u===null&&(_.J=c.o),p&&(c.i=p.G.concat(c.i)),p=ca(c,_,1e3),_.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),ra(c.h,_),ei(_,w,p)}function gs(c,p){c.H&&Pe(c.H,function(_,w){Fe(p,w,_)}),c.l&&Pe({},function(_,w){Fe(p,w,_)})}function ca(c,p,_){_=Math.min(c.i.length,_);const w=c.l?g(c.l.Ka,c.l,c):null;e:{var L=c.i;let we=-1;for(;;){const We=["count="+_];we==-1?_>0?(we=L[0].g,We.push("ofs="+we)):we=0:We.push("ofs="+we);let Be=!0;for(let ft=0;ft<_;ft++){var H=L[ft].g;const ln=L[ft].map;if(H-=we,H<0)we=Math.max(0,L[ft].g-100),Be=!1;else try{H="req"+H+"_"||"";try{var ie=ln instanceof Map?ln:Object.entries(ln);for(const[si,Pn]of ie){let Ln=Pn;m(Pn)&&(Ln=yn(Pn)),We.push(H+si+"="+encodeURIComponent(Ln))}}catch(si){throw We.push(H+"type="+encodeURIComponent("_badmap")),si}}catch{w&&w(ln)}}if(Be){ie=We.join("&");break e}}ie=void 0}return c=c.i.splice(0,_),p.G=c,ie}function cu(c){if(!c.g&&!c.v){c.Y=1;var p=c.Da;ue||S(),De||(ue(),De=!0),N.add(p,c),c.A=0}}function wo(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=er(g(c.Da,c),fu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,hu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=er(g(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ut(10),ri(this),hu(this))};function bo(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function hu(c){c.g=new xn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var p=nt(c.na);Fe(p,"RID","rpc"),Fe(p,"SID",c.M),Fe(p,"AID",c.K),Fe(p,"CI",c.F?"0":"1"),!c.F&&c.ia&&Fe(p,"TO",c.ia),Fe(p,"TYPE","xmlhttp"),gs(c,p),c.u&&c.o&&Tn(p,c.u,c.o),c.O&&(c.g.H=c.O);var _=c.g;c=c.ba,_.M=1,_.A=wi(nt(p)),_.u=null,_.R=!0,ir(_,c)}r.Va=function(){this.C!=null&&(this.C=null,ri(this),wo(this),ut(19))};function ha(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function So(c,p){var _=null;if(c.g==p){ha(c),bo(c),c.g=null;var w=2}else if(is(c.h,p))_=p.G,Ti(c.h,p),w=1;else return;if(c.I!=0){if(p.o)if(w==1){_=p.u?p.u.length:0,p=Date.now()-p.F;var L=c.D;w=ea(),bt(w,new tu(w,_)),ps(c)}else cu(c);else if(L=p.m,L==3||L==0&&p.X>0||!(w==1&&Nh(c,p)||w==2&&wo(c)))switch(_&&_.length>0&&(p=c.h,p.i=p.i.concat(_)),L){case 1:Ai(c,5);break;case 4:Ai(c,10);break;case 3:Ai(c,6);break;default:Ai(c,2)}}}function fu(c,p){let _=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(_*=2),_*p}function Ai(c,p){if(c.j.info("Error code "+p),p==2){var _=g(c.bb,c),w=c.Ua;const L=!w;w=new kn(w||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||sr(w,"https"),wi(w),L?Eo(w.toString(),_):lr(w.toString(),_)}else ut(2);c.I=0,c.l&&c.l.pa(p),du(c),ms(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),ut(2)):(this.j.info("Failed to ping google.com"),ut(1))};function du(c){if(c.I=0,c.ja=[],c.l){const p=sa(c.h);(p.length!=0||c.i.length!=0)&&(F(c.ja,p),F(c.ja,c.i),c.h.i.length=0,j(c.i),c.i.length=0),c.l.oa()}}function mu(c,p,_){var w=_ instanceof kn?nt(_):new kn(_);if(w.g!="")p&&(w.g=p+"."+w.g),rs(w,w.u);else{var L=f.location;w=L.protocol,p=p?p+"."+L.hostname:L.hostname,L=+L.port;const H=new kn(null);w&&sr(H,w),p&&(H.g=p),L&&rs(H,L),_&&(H.h=_),w=H}return _=c.G,p=c.wa,_&&p&&Fe(w,_,p),Fe(w,"VER",c.ka),gs(c,w),w}function fa(c,p,_){if(p&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Aa&&!c.ma?new Qe(new as({ab:_})):new Qe(c.ma),p.Fa(c.L),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function pu(){}r=pu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function da(){}da.prototype.g=function(c,p){return new Zt(c,p)};function Zt(c,p){vt.call(this),this.g=new ua(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(c?c["X-WebChannel-Client-Profile"]=p.sa:c={"X-WebChannel-Client-Profile":p.sa}),this.g.U=c,(c=p&&p.Qb)&&!C(c)&&(this.g.u=c),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!C(p)&&(this.g.G=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new hr(this)}b(Zt,vt),Zt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Zt.prototype.close=function(){ds(this.g)},Zt.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.v&&(_={},_.__data__=yn(c),c=_);p.i.push(new Dh(p.Ya++,c)),p.I==3&&ps(p)},Zt.prototype.N=function(){this.g.l=null,delete this.j,ds(this.g),delete this.g,Zt.Z.N.call(this)};function Ao(c){Zi.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const _ in p){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}b(Ao,Zi);function gu(){Mn.call(this),this.status=1}b(gu,Mn);function hr(c){this.g=c}b(hr,pu),hr.prototype.ra=function(){bt(this.g,"a")},hr.prototype.qa=function(c){bt(this.g,new Ao(c))},hr.prototype.pa=function(c){bt(this.g,new gu)},hr.prototype.oa=function(){bt(this.g,"b")},da.prototype.createWebChannel=da.prototype.g,Zt.prototype.send=Zt.prototype.o,Zt.prototype.open=Zt.prototype.m,Zt.prototype.close=Zt.prototype.close,X0=function(){return new da},Q0=function(){return ea()},Y0=_n,Jd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ct.NO_ERROR=0,ct.TIMEOUT=8,ct.HTTP_ERROR=6,Ic=ct,Nt.COMPLETE="complete",$0=Nt,eu.EventType=Zn,Zn.OPEN="a",Zn.CLOSE="b",Zn.ERROR="c",Zn.MESSAGE="d",vt.prototype.listen=vt.prototype.J,El=eu,Qe.prototype.listenOnce=Qe.prototype.K,Qe.prototype.getLastError=Qe.prototype.Ha,Qe.prototype.getLastErrorCode=Qe.prototype.ya,Qe.prototype.getStatus=Qe.prototype.ca,Qe.prototype.getResponseJson=Qe.prototype.La,Qe.prototype.getResponseText=Qe.prototype.la,Qe.prototype.send=Qe.prototype.ea,Qe.prototype.setWithCredentials=Qe.prototype.Fa,K0=Qe}).apply(typeof _c<"u"?_c:typeof self<"u"?self:typeof window<"u"?window:{});const Z_="@firebase/firestore",W_="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ft.UNAUTHENTICATED=new Ft(null),Ft.GOOGLE_CREDENTIALS=new Ft("google-credentials-uid"),Ft.FIRST_PARTY=new Ft("first-party-uid"),Ft.MOCK_USER=new Ft("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ro="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls=new lh("@firebase/firestore");function Ha(){return Ls.logLevel}function ce(r,...e){if(Ls.logLevel<=xe.DEBUG){const i=e.map(Rm);Ls.debug(`Firestore (${ro}): ${r}`,...i)}}function Us(r,...e){if(Ls.logLevel<=xe.ERROR){const i=e.map(Rm);Ls.error(`Firestore (${ro}): ${r}`,...i)}}function uh(r,...e){if(Ls.logLevel<=xe.WARN){const i=e.map(Rm);Ls.warn(`Firestore (${ro}): ${r}`,...i)}}function Rm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(r,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,Z0(r,a,i)}function Z0(r,e,i){let a=`FIRESTORE (${ro}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Us(a),new Error(a)}function lt(r,e,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,r||Z0(e,l,a)}function Ze(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends Xn{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class nR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Ft.UNAUTHENTICATED)))}shutdown(){}}class iR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class rR{constructor(e){this.t=e,this.currentUser=Ft.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){lt(this.o===void 0,42304);let a=this.i;const l=y=>this.i!==a?(a=this.i,i(y)):Promise.resolve();let u=new Vs;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Vs,e.enqueueRetryable((()=>l(this.currentUser)))};const f=()=>{const y=u;e.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},m=y=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((y=>m(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?m(y):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Vs)}}),0),f()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(lt(typeof a.accessToken=="string",31837,{l:a}),new W0(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return lt(e===null||typeof e=="string",2055,{h:e}),new Ft(e)}}class sR{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=Ft.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class aR{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new sR(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Ft.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class J_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class oR{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Dn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){lt(this.o===void 0,3512);const a=u=>{u.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ce("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?i(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>a(u)))};const l=u=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>l(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new J_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(lt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new J_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lR(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=lR(40);for(let u=0;u<l.length;++u)a.length<20&&l[u]<i&&(a+=e.charAt(l[u]%62))}return a}}function ze(r,e){return r<e?-1:r>e?1:0}function em(r,e){const i=Math.min(r.length,e.length);for(let a=0;a<i;a++){const l=r.charAt(a),u=e.charAt(a);if(l!==u)return Pd(l)===Pd(u)?ze(l,u):Pd(l)?1:-1}return ze(r.length,e.length)}const uR=55296,cR=57343;function Pd(r){const e=r.charCodeAt(0);return e>=uR&&e<=cR}function Xa(r,e,i){return r.length===e.length&&r.every(((a,l)=>i(a,e[l])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ev="__name__";class hi{constructor(e,i,a){i===void 0?i=0:i>e.length&&Ie(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&Ie(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return hi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof hi?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let l=0;l<a;l++){const u=hi.compareSegments(e.get(l),i.get(l));if(u!==0)return u}return ze(e.length,i.length)}static compareSegments(e,i){const a=hi.isNumericId(e),l=hi.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?hi.extractNumericId(e).compare(hi.extractNumericId(i)):em(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Am.fromString(e.substring(4,e.length-2))}}class rt extends hi{construct(e,i,a){return new rt(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new pe(J.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new rt(i)}static emptyPath(){return new rt([])}}const hR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Lt extends hi{construct(e,i,a){return new Lt(e,i,a)}static isValidIdentifier(e){return hR.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Lt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ev}static keyField(){return new Lt([ev])}static fromServerFormat(e){const i=[];let a="",l=0;const u=()=>{if(a.length===0)throw new pe(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let f=!1;for(;l<e.length;){const m=e[l];if(m==="\\"){if(l+1===e.length)throw new pe(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new pe(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=y,l+=2}else m==="`"?(f=!f,l++):m!=="."||f?(a+=m,l++):(u(),l++)}if(u(),f)throw new pe(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Lt(i)}static emptyPath(){return new Lt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.path=e}static fromPath(e){return new Ae(rt.fromString(e))}static fromName(e){return new Ae(rt.fromString(e).popFirst(5))}static empty(){return new Ae(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return rt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ae(new rt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J0(r,e,i){if(!i)throw new pe(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function fR(r,e,i,a){if(e===!0&&a===!0)throw new pe(J.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function tv(r){if(!Ae.isDocumentKey(r))throw new pe(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function nv(r){if(Ae.isDocumentKey(r))throw new pe(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function eE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Cm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ie(12329,{type:typeof r})}function tE(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new pe(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Cm(r);throw new pe(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(r,e){const i={typeString:r};return e&&(i.value=e),i}function Hl(r,e){if(!eE(r))throw new pe(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const l=e[a].typeString,u="value"in e[a]?{value:e[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const f=r[a];if(l&&typeof f!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(u!==void 0&&f!==u.value){i=`Expected '${a}' field to equal '${u.value}'`;break}}if(i)throw new pe(J.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv=-62135596800,rv=1e6;class tt{static now(){return tt.fromMillis(Date.now())}static fromDate(e){return tt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*rv);return new tt(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new pe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new pe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<iv)throw new pe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/rv}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:tt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Hl(e,tt._jsonSchema))return new tt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-iv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}tt._jsonSchemaVersion="firestore/timestamp/1.0",tt._jsonSchema={type:_t("string",tt._jsonSchemaVersion),seconds:_t("number"),nanoseconds:_t("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{static fromTimestamp(e){return new et(e)}static min(){return new et(new tt(0,0))}static max(){return new et(new tt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nl=-1;function dR(r,e){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=et.fromTimestamp(a===1e9?new tt(i+1,0):new tt(i,a));return new Hr(l,Ae.empty(),e)}function mR(r){return new Hr(r.readTime,r.key,Nl)}class Hr{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new Hr(et.min(),Ae.empty(),Nl)}static max(){return new Hr(et.max(),Ae.empty(),Nl)}}function pR(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=Ae.comparator(r.documentKey,e.documentKey),i!==0?i:ze(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class yR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dm(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==gR)throw r;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Ie(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new X(((a,l)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(a,l)},this.catchCallback=u=>{this.wrapFailure(i,u).next(a,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):X.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):X.reject(i)}static resolve(e){return new X(((i,a)=>{i(e)}))}static reject(e){return new X(((i,a)=>{a(e)}))}static waitFor(e){return new X(((i,a)=>{let l=0,u=0,f=!1;e.forEach((m=>{++l,m.next((()=>{++u,f&&u===l&&i()}),(y=>a(y)))})),f=!0,u===l&&i()}))}static or(e){let i=X.resolve(!1);for(const a of e)i=i.next((l=>l?X.resolve(l):a()));return i}static forEach(e,i){const a=[];return e.forEach(((l,u)=>{a.push(i.call(this,l,u))})),this.waitFor(a)}static mapArray(e,i){return new X(((a,l)=>{const u=e.length,f=new Array(u);let m=0;for(let y=0;y<u;y++){const g=y;i(e[g]).next((E=>{f[g]=E,++m,m===u&&a(f)}),(E=>l(E)))}}))}static doWhile(e,i){return new X(((a,l)=>{const u=()=>{e()===!0?i().next((()=>{u()}),l):a()};u()}))}}function _R(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function ql(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Om.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm=-1;function Mm(r){return r==null}function zc(r){return r===0&&1/r==-1/0}function vR(r){return typeof r=="number"&&Number.isInteger(r)&&!zc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE="";function ER(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=sv(e)),e=TR(r.get(i),e);return sv(e)}function TR(r,e){let i=e;const a=r.length;for(let l=0;l<a;l++){const u=r.charAt(l);switch(u){case"\0":i+="";break;case nE:i+="";break;default:i+=u}}return i}function sv(r){return r+nE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function av(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function so(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function iE(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e,i){this.comparator=e,this.root=i||Vt.EMPTY}insert(e,i){return new on(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Vt.BLACK,null,null))}remove(e){return new on(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Vt.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(e,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new vc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new vc(this.root,e,this.comparator,!1)}getReverseIterator(){return new vc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new vc(this.root,e,this.comparator,!0)}}class vc{constructor(e,i,a,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=i?a(e.key,i):1,i&&l&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Vt{constructor(e,i,a,l,u){this.key=e,this.value=i,this.color=a??Vt.RED,this.left=l??Vt.EMPTY,this.right=u??Vt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,l,u){return new Vt(e??this.key,i??this.value,a??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let l=this;const u=a(e,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(e,i,a),null):u===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Vt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return Vt.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Vt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Vt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ie(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ie(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ie(27949);return e+(this.isRed()?0:1)}}Vt.EMPTY=null,Vt.RED=!0,Vt.BLACK=!1;Vt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie(57766)}get value(){throw Ie(16141)}get color(){throw Ie(16727)}get left(){throw Ie(29726)}get right(){throw Ie(36894)}copy(e,i,a,l,u){return this}insert(e,i,a){return new Vt(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.comparator=e,this.data=new on(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new ov(this.data.getIterator())}getIteratorFrom(e){return new ov(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof Ut)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,u=a.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Ut(this.comparator);return i.data=e,i}}class ov{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.fields=e,e.sort(Lt.comparator)}static empty(){return new Gn([])}unionWith(e){let i=new Ut(Lt.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new Gn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Xa(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new wR("Invalid base64 string: "+u):u}})(e);return new pi(i)}static fromUint8Array(e){const i=(function(l){let u="";for(let f=0;f<l.length;++f)u+=String.fromCharCode(l[f]);return u})(e);return new pi(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}pi.EMPTY_BYTE_STRING=new pi("");const bR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zs(r){if(lt(!!r,39018),typeof r=="string"){let e=0;const i=bR.exec(r);if(lt(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Pt(r.seconds),nanos:Pt(r.nanos)}}function Pt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Za(r){return typeof r=="string"?pi.fromBase64String(r):pi.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE="server_timestamp",sE="__type__",aE="__previous_value__",oE="__local_write_time__";function xm(r){var i,a;return((a=(((i=r==null?void 0:r.mapValue)==null?void 0:i.fields)||{})[sE])==null?void 0:a.stringValue)===rE}function km(r){const e=r.mapValue.fields[aE];return xm(e)?km(e):e}function Bc(r){const e=zs(r.mapValue.fields[oE].timestampValue);return new tt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(e,i,a,l,u,f,m,y,g,E){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=y,this.useFetchStreams=g,this.isUsingEmulator=E}}const jc="(default)";class Hc{constructor(e,i){this.projectId=e,this.database=i||jc}static empty(){return new Hc("","")}get isDefaultDatabase(){return this.database===jc}isEqual(e){return e instanceof Hc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE="__type__",AR="__max__",Ec={mapValue:{}},uE="__vector__",tm="value";function Bs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?xm(r)?4:IR(r)?9007199254740991:RR(r)?10:11:Ie(28295,{value:r})}function gi(r,e){if(r===e)return!0;const i=Bs(r);if(i!==Bs(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Bc(r).isEqual(Bc(e));case 3:return(function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const f=zs(l.timestampValue),m=zs(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(l,u){return Za(l.bytesValue).isEqual(Za(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(l,u){return Pt(l.geoPointValue.latitude)===Pt(u.geoPointValue.latitude)&&Pt(l.geoPointValue.longitude)===Pt(u.geoPointValue.longitude)})(r,e);case 2:return(function(l,u){if("integerValue"in l&&"integerValue"in u)return Pt(l.integerValue)===Pt(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const f=Pt(l.doubleValue),m=Pt(u.doubleValue);return f===m?zc(f)===zc(m):isNaN(f)&&isNaN(m)}return!1})(r,e);case 9:return Xa(r.arrayValue.values||[],e.arrayValue.values||[],gi);case 10:case 11:return(function(l,u){const f=l.mapValue.fields||{},m=u.mapValue.fields||{};if(av(f)!==av(m))return!1;for(const y in f)if(f.hasOwnProperty(y)&&(m[y]===void 0||!gi(f[y],m[y])))return!1;return!0})(r,e);default:return Ie(52216,{left:r})}}function Ml(r,e){return(r.values||[]).find((i=>gi(i,e)))!==void 0}function Wa(r,e){if(r===e)return 0;const i=Bs(r),a=Bs(e);if(i!==a)return ze(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return ze(r.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=Pt(u.integerValue||u.doubleValue),y=Pt(f.integerValue||f.doubleValue);return m<y?-1:m>y?1:m===y?0:isNaN(m)?isNaN(y)?0:-1:1})(r,e);case 3:return lv(r.timestampValue,e.timestampValue);case 4:return lv(Bc(r),Bc(e));case 5:return em(r.stringValue,e.stringValue);case 6:return(function(u,f){const m=Za(u),y=Za(f);return m.compareTo(y)})(r.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),y=f.split("/");for(let g=0;g<m.length&&g<y.length;g++){const E=ze(m[g],y[g]);if(E!==0)return E}return ze(m.length,y.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=ze(Pt(u.latitude),Pt(f.latitude));return m!==0?m:ze(Pt(u.longitude),Pt(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return uv(r.arrayValue,e.arrayValue);case 10:return(function(u,f){var A,j,F,Z;const m=u.fields||{},y=f.fields||{},g=(A=m[tm])==null?void 0:A.arrayValue,E=(j=y[tm])==null?void 0:j.arrayValue,b=ze(((F=g==null?void 0:g.values)==null?void 0:F.length)||0,((Z=E==null?void 0:E.values)==null?void 0:Z.length)||0);return b!==0?b:uv(g,E)})(r.mapValue,e.mapValue);case 11:return(function(u,f){if(u===Ec.mapValue&&f===Ec.mapValue)return 0;if(u===Ec.mapValue)return 1;if(f===Ec.mapValue)return-1;const m=u.fields||{},y=Object.keys(m),g=f.fields||{},E=Object.keys(g);y.sort(),E.sort();for(let b=0;b<y.length&&b<E.length;++b){const A=em(y[b],E[b]);if(A!==0)return A;const j=Wa(m[y[b]],g[E[b]]);if(j!==0)return j}return ze(y.length,E.length)})(r.mapValue,e.mapValue);default:throw Ie(23264,{he:i})}}function lv(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return ze(r,e);const i=zs(r),a=zs(e),l=ze(i.seconds,a.seconds);return l!==0?l:ze(i.nanos,a.nanos)}function uv(r,e){const i=r.values||[],a=e.values||[];for(let l=0;l<i.length&&l<a.length;++l){const u=Wa(i[l],a[l]);if(u)return u}return ze(i.length,a.length)}function Ja(r){return nm(r)}function nm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=zs(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return Za(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return Ae.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",l=!0;for(const u of i.values||[])l?l=!1:a+=",",a+=nm(u);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",u=!0;for(const f of a)u?u=!1:l+=",",l+=`${f}:${nm(i.fields[f])}`;return l+"}"})(r.mapValue):Ie(61005,{value:r})}function Cc(r){switch(Bs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=km(r);return e?16+Cc(e):16;case 5:return 2*r.stringValue.length;case 6:return Za(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,u)=>l+Cc(u)),0)})(r.arrayValue);case 10:case 11:return(function(a){let l=0;return so(a.fields,((u,f)=>{l+=u.length+Cc(f)})),l})(r.mapValue);default:throw Ie(13486,{value:r})}}function im(r){return!!r&&"integerValue"in r}function Vm(r){return!!r&&"arrayValue"in r}function Dc(r){return!!r&&"mapValue"in r}function RR(r){var i,a;return((a=(((i=r==null?void 0:r.mapValue)==null?void 0:i.fields)||{})[lE])==null?void 0:a.stringValue)===uE}function wl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return so(r.mapValue.fields,((i,a)=>e.mapValue.fields[i]=wl(a))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=wl(r.arrayValue.values[i]);return e}return{...r}}function IR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===AR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this.value=e}static empty(){return new qn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Dc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=wl(i)}setAll(e){let i=Lt.emptyPath(),a={},l=[];e.forEach(((f,m)=>{if(!i.isImmediateParentOf(m)){const y=this.getFieldsMap(i);this.applyChanges(y,a,l),a={},l=[],i=m.popLast()}f?a[m.lastSegment()]=wl(f):l.push(m.lastSegment())}));const u=this.getFieldsMap(i);this.applyChanges(u,a,l)}delete(e){const i=this.field(e.popLast());Dc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return gi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let l=i.mapValue.fields[e.get(a)];Dc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,a){so(i,((l,u)=>e[l]=u));for(const l of a)delete e[l]}clone(){return new qn(wl(this.value))}}function cE(r){const e=[];return so(r.fields,((i,a)=>{const l=new Lt([i]);if(Dc(a)){const u=cE(a.mapValue).fields;if(u.length===0)e.push(l);else for(const f of u)e.push(l.child(f))}else e.push(l)})),new Gn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e,i,a,l,u,f,m){this.key=e,this.documentType=i,this.version=a,this.readTime=l,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Hn(e,0,et.min(),et.min(),et.min(),qn.empty(),0)}static newFoundDocument(e,i,a,l){return new Hn(e,1,i,et.min(),a,l,0)}static newNoDocument(e,i){return new Hn(e,2,i,et.min(),et.min(),qn.empty(),0)}static newUnknownDocument(e,i){return new Hn(e,3,i,et.min(),et.min(),qn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=et.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Hn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Hn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e,i){this.position=e,this.inclusive=i}}function cv(r,e,i){let a=0;for(let l=0;l<r.position.length;l++){const u=e[l],f=r.position[l];if(u.field.isKeyField()?a=Ae.comparator(Ae.fromName(f.referenceValue),i.key):a=Wa(f,i.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function hv(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!gi(r.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e,i="asc"){this.field=e,this.dir=i}}function CR(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{}class Dt extends hE{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new OR(e,i,a):i==="array-contains"?new xR(e,a):i==="in"?new kR(e,a):i==="not-in"?new VR(e,a):i==="array-contains-any"?new PR(e,a):new Dt(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new NR(e,a):new MR(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Wa(i,this.value)):i!==null&&Bs(this.value)===Bs(i)&&this.matchesComparison(Wa(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ie(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class qr extends hE{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new qr(e,i)}matches(e){return fE(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function fE(r){return r.op==="and"}function dE(r){return DR(r)&&fE(r)}function DR(r){for(const e of r.filters)if(e instanceof qr)return!1;return!0}function rm(r){if(r instanceof Dt)return r.field.canonicalString()+r.op.toString()+Ja(r.value);if(dE(r))return r.filters.map((e=>rm(e))).join(",");{const e=r.filters.map((i=>rm(i))).join(",");return`${r.op}(${e})`}}function mE(r,e){return r instanceof Dt?(function(a,l){return l instanceof Dt&&a.op===l.op&&a.field.isEqual(l.field)&&gi(a.value,l.value)})(r,e):r instanceof qr?(function(a,l){return l instanceof qr&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((u,f,m)=>u&&mE(f,l.filters[m])),!0):!1})(r,e):void Ie(19439)}function pE(r){return r instanceof Dt?(function(i){return`${i.field.canonicalString()} ${i.op} ${Ja(i.value)}`})(r):r instanceof qr?(function(i){return i.op.toString()+" {"+i.getFilters().map(pE).join(" ,")+"}"})(r):"Filter"}class OR extends Dt{constructor(e,i,a){super(e,i,a),this.key=Ae.fromName(a.referenceValue)}matches(e){const i=Ae.comparator(e.key,this.key);return this.matchesComparison(i)}}class NR extends Dt{constructor(e,i){super(e,"in",i),this.keys=gE("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class MR extends Dt{constructor(e,i){super(e,"not-in",i),this.keys=gE("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function gE(r,e){var i;return(((i=e.arrayValue)==null?void 0:i.values)||[]).map((a=>Ae.fromName(a.referenceValue)))}class xR extends Dt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Vm(i)&&Ml(i.arrayValue,this.value)}}class kR extends Dt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Ml(this.value.arrayValue,i)}}class VR extends Dt{constructor(e,i){super(e,"not-in",i)}matches(e){if(Ml(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Ml(this.value.arrayValue,i)}}class PR extends Dt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Vm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Ml(this.value.arrayValue,a)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(e,i=null,a=[],l=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function fv(r,e=null,i=[],a=[],l=null,u=null,f=null){return new LR(r,e,i,a,l,u,f)}function Pm(r){const e=Ze(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>rm(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(u){return u.field.canonicalString()+u.dir})(a))).join(","),Mm(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>Ja(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>Ja(a))).join(",")),e.Te=i}return e.Te}function Lm(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!CR(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!mE(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!hv(r.startAt,e.startAt)&&hv(r.endAt,e.endAt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(e,i=null,a=[],l=[],u=null,f="F",m=null,y=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function UR(r,e,i,a,l,u,f,m){return new ch(r,e,i,a,l,u,f,m)}function zR(r){return new ch(r)}function dv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function BR(r){return r.collectionGroup!==null}function bl(r){const e=Ze(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),i.add(u.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Ut(Lt.comparator);return f.filters.forEach((y=>{y.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{i.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Fc(u,a))})),i.has(Lt.keyField().canonicalString())||e.Ie.push(new Fc(Lt.keyField(),a))}return e.Ie}function Ps(r){const e=Ze(r);return e.Ee||(e.Ee=jR(e,bl(r))),e.Ee}function jR(r,e){if(r.limitType==="F")return fv(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((l=>{const u=l.dir==="desc"?"asc":"desc";return new Fc(l.field,u)}));const i=r.endAt?new qc(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new qc(r.startAt.position,r.startAt.inclusive):null;return fv(r.path,r.collectionGroup,e,r.filters,r.limit,i,a)}}function sm(r,e,i){return new ch(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function yE(r,e){return Lm(Ps(r),Ps(e))&&r.limitType===e.limitType}function _E(r){return`${Pm(Ps(r))}|lt:${r.limitType}`}function yl(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>pE(l))).join(", ")}]`),Mm(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>Ja(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>Ja(l))).join(",")),`Target(${a})`})(Ps(r))}; limitType=${r.limitType})`}function Um(r,e){return e.isFoundDocument()&&(function(a,l){const u=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):Ae.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)})(r,e)&&(function(a,l){for(const u of bl(a))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(a,l){for(const u of a.filters)if(!u.matches(l))return!1;return!0})(r,e)&&(function(a,l){return!(a.startAt&&!(function(f,m,y){const g=cv(f,m,y);return f.inclusive?g<=0:g<0})(a.startAt,bl(a),l)||a.endAt&&!(function(f,m,y){const g=cv(f,m,y);return f.inclusive?g>=0:g>0})(a.endAt,bl(a),l))})(r,e)}function HR(r){return(e,i)=>{let a=!1;for(const l of bl(r)){const u=qR(l,e,i);if(u!==0)return u;a=a||l.field.isKeyField()}return 0}}function qR(r,e,i){const a=r.field.isKeyField()?Ae.comparator(e.key,i.key):(function(u,f,m){const y=f.data.field(u),g=m.data.field(u);return y!==null&&g!==null?Wa(y,g):Ie(42886)})(r.field,e,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return Ie(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[l,u]of a)if(this.equalsFn(l,e))return u}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),l=this.inner[a];if(l===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],e))return void(l[u]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(e){so(this.inner,((i,a)=>{for(const[l,u]of a)e(l,u)}))}isEmpty(){return iE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR=new on(Ae.comparator);function Gc(){return FR}const vE=new on(Ae.comparator);function Tc(...r){let e=vE;for(const i of r)e=e.insert(i.key,i);return e}function EE(r){let e=vE;return r.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function xs(){return Sl()}function TE(){return Sl()}function Sl(){return new Ys((r=>r.toString()),((r,e)=>r.isEqual(e)))}const GR=new on(Ae.comparator),KR=new Ut(Ae.comparator);function Gt(...r){let e=KR;for(const i of r)e=e.add(i);return e}const $R=new Ut(ze);function YR(){return $R}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zm(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zc(e)?"-0":e}}function wE(r){return{integerValue:""+r}}function QR(r,e){return vR(e)?wE(e):zm(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(){this._=void 0}}function XR(r,e,i){return r instanceof xl?(function(l,u){const f={fields:{[sE]:{stringValue:rE},[oE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&xm(u)&&(u=km(u)),u&&(f.fields[aE]=u),{mapValue:f}})(i,e):r instanceof kl?SE(r,e):r instanceof Vl?AE(r,e):(function(l,u){const f=bE(l,u),m=mv(f)+mv(l.Ae);return im(f)&&im(l.Ae)?wE(m):zm(l.serializer,m)})(r,e)}function ZR(r,e,i){return r instanceof kl?SE(r,e):r instanceof Vl?AE(r,e):i}function bE(r,e){return r instanceof Kc?(function(a){return im(a)||(function(u){return!!u&&"doubleValue"in u})(a)})(e)?e:{integerValue:0}:null}class xl extends hh{}class kl extends hh{constructor(e){super(),this.elements=e}}function SE(r,e){const i=RE(e);for(const a of r.elements)i.some((l=>gi(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Vl extends hh{constructor(e){super(),this.elements=e}}function AE(r,e){let i=RE(e);for(const a of r.elements)i=i.filter((l=>!gi(l,a)));return{arrayValue:{values:i}}}class Kc extends hh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function mv(r){return Pt(r.integerValue||r.doubleValue)}function RE(r){return Vm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(e,i){this.field=e,this.transform=i}}function JR(r,e){return r.field.isEqual(e.field)&&(function(a,l){return a instanceof kl&&l instanceof kl||a instanceof Vl&&l instanceof Vl?Xa(a.elements,l.elements,gi):a instanceof Kc&&l instanceof Kc?gi(a.Ae,l.Ae):a instanceof xl&&l instanceof xl})(r.transform,e.transform)}class eI{constructor(e,i){this.version=e,this.transformResults=i}}class Hi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Hi}static exists(e){return new Hi(void 0,e)}static updateTime(e){return new Hi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Oc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class fh{}function IE(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new DE(r.key,Hi.none()):new Fl(r.key,r.data,Hi.none());{const i=r.data,a=qn.empty();let l=new Ut(Lt.comparator);for(let u of e.fields)if(!l.has(u)){let f=i.field(u);f===null&&u.length>1&&(u=u.popLast(),f=i.field(u)),f===null?a.delete(u):a.set(u,f),l=l.add(u)}return new Qs(r.key,a,new Gn(l.toArray()),Hi.none())}}function tI(r,e,i){r instanceof Fl?(function(l,u,f){const m=l.value.clone(),y=gv(l.fieldTransforms,u,f.transformResults);m.setAll(y),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,e,i):r instanceof Qs?(function(l,u,f){if(!Oc(l.precondition,u))return void u.convertToUnknownDocument(f.version);const m=gv(l.fieldTransforms,u,f.transformResults),y=u.data;y.setAll(CE(l)),y.setAll(m),u.convertToFoundDocument(f.version,y).setHasCommittedMutations()})(r,e,i):(function(l,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,i)}function Al(r,e,i,a){return r instanceof Fl?(function(u,f,m,y){if(!Oc(u.precondition,f))return m;const g=u.value.clone(),E=yv(u.fieldTransforms,y,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null})(r,e,i,a):r instanceof Qs?(function(u,f,m,y){if(!Oc(u.precondition,f))return m;const g=yv(u.fieldTransforms,y,f),E=f.data;return E.setAll(CE(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((b=>b.field)))})(r,e,i,a):(function(u,f,m){return Oc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,e,i)}function nI(r,e){let i=null;for(const a of r.fieldTransforms){const l=e.data.field(a.field),u=bE(a.transform,l||null);u!=null&&(i===null&&(i=qn.empty()),i.set(a.field,u))}return i||null}function pv(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Xa(a,l,((u,f)=>JR(u,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Fl extends fh{constructor(e,i,a,l=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Qs extends fh{constructor(e,i,a,l,u=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function CE(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);e.set(i,a)}})),e}function gv(r,e,i){const a=new Map;lt(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let l=0;l<i.length;l++){const u=r[l],f=u.transform,m=e.data.field(u.field);a.set(u.field,ZR(f,m,i[l]))}return a}function yv(r,e,i){const a=new Map;for(const l of r){const u=l.transform,f=i.data.field(l.field);a.set(l.field,XR(u,f,e))}return a}class DE extends fh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class iI extends fh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(e,i,a,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(e.key)&&tI(u,e,a[l])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Al(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Al(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=TE();return this.mutations.forEach((l=>{const u=e.get(l.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=i.has(l.key)?null:m;const y=IE(f,m);y!==null&&a.set(l.key,y),f.isValidDocument()||f.convertToNoDocument(et.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Gt())}isEqual(e){return this.batchId===e.batchId&&Xa(this.mutations,e.mutations,((i,a)=>pv(i,a)))&&Xa(this.baseMutations,e.baseMutations,((i,a)=>pv(i,a)))}}class Bm{constructor(e,i,a,l){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(e,i,a){lt(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let l=(function(){return GR})();const u=e.mutations;for(let f=0;f<u.length;f++)l=l.insert(u[f].key,a[f].version);return new Bm(e,i,a,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yt,Ve;function aI(r){switch(r){case J.OK:return Ie(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Ie(15467,{code:r})}}function oI(r){if(r===void 0)return Us("GRPC error has no .code"),J.UNKNOWN;switch(r){case yt.OK:return J.OK;case yt.CANCELLED:return J.CANCELLED;case yt.UNKNOWN:return J.UNKNOWN;case yt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case yt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case yt.INTERNAL:return J.INTERNAL;case yt.UNAVAILABLE:return J.UNAVAILABLE;case yt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case yt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case yt.NOT_FOUND:return J.NOT_FOUND;case yt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case yt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case yt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case yt.ABORTED:return J.ABORTED;case yt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case yt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case yt.DATA_LOSS:return J.DATA_LOSS;default:return Ie(39323,{code:r})}}(Ve=yt||(yt={}))[Ve.OK=0]="OK",Ve[Ve.CANCELLED=1]="CANCELLED",Ve[Ve.UNKNOWN=2]="UNKNOWN",Ve[Ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ve[Ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ve[Ve.NOT_FOUND=5]="NOT_FOUND",Ve[Ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ve[Ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ve[Ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ve[Ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ve[Ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ve[Ve.ABORTED=10]="ABORTED",Ve[Ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ve[Ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ve[Ve.INTERNAL=13]="INTERNAL",Ve[Ve.UNAVAILABLE=14]="UNAVAILABLE",Ve[Ve.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Am([4294967295,4294967295],0);class lI{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function am(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function uI(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function cI(r,e){return am(r,e.toTimestamp())}function Ga(r){return lt(!!r,49232),et.fromTimestamp((function(i){const a=zs(i);return new tt(a.seconds,a.nanos)})(r))}function OE(r,e){return om(r,e).canonicalString()}function om(r,e){const i=(function(l){return new rt(["projects",l.projectId,"databases",l.database])})(r).child("documents");return e===void 0?i:i.child(e)}function hI(r){const e=rt.fromString(r);return lt(vI(e),10190,{key:e.toString()}),e}function lm(r,e){return OE(r.databaseId,e.path)}function fI(r){const e=hI(r);return e.length===4?rt.emptyPath():mI(e)}function dI(r){return new rt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function mI(r){return lt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function _v(r,e,i){return{name:lm(r,e),fields:i.value.mapValue.fields}}function pI(r,e){let i;if(e instanceof Fl)i={update:_v(r,e.key,e.value)};else if(e instanceof DE)i={delete:lm(r,e.key)};else if(e instanceof Qs)i={update:_v(r,e.key,e.data),updateMask:_I(e.fieldMask)};else{if(!(e instanceof iI))return Ie(16599,{Vt:e.type});i={verify:lm(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(u,f){const m=f.transform;if(m instanceof xl)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof kl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Vl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Kc)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw Ie(20930,{transform:f.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(l,u){return u.updateTime!==void 0?{updateTime:cI(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ie(27497)})(r,e.precondition)),i}function gI(r,e){return r&&r.length>0?(lt(e!==void 0,14353),r.map((i=>(function(l,u){let f=l.updateTime?Ga(l.updateTime):Ga(u);return f.isEqual(et.min())&&(f=Ga(u)),new eI(f,l.transformResults||[])})(i,e)))):[]}function yI(r){let e=fI(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){lt(a===1,65062);const E=i.from[0];E.allDescendants?l=E.collectionId:e=e.child(E.collectionId)}let u=[];i.where&&(u=(function(b){const A=NE(b);return A instanceof qr&&dE(A)?A.getFilters():[A]})(i.where));let f=[];i.orderBy&&(f=(function(b){return b.map((A=>(function(F){return new Fc(qa(F.field),(function(G){switch(G){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(F.direction))})(A)))})(i.orderBy));let m=null;i.limit&&(m=(function(b){let A;return A=typeof b=="object"?b.value:b,Mm(A)?null:A})(i.limit));let y=null;i.startAt&&(y=(function(b){const A=!!b.before,j=b.values||[];return new qc(j,A)})(i.startAt));let g=null;return i.endAt&&(g=(function(b){const A=!b.before,j=b.values||[];return new qc(j,A)})(i.endAt)),UR(e,l,f,u,m,"F",y,g)}function NE(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=qa(i.unaryFilter.field);return Dt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=qa(i.unaryFilter.field);return Dt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=qa(i.unaryFilter.field);return Dt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=qa(i.unaryFilter.field);return Dt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ie(61313);default:return Ie(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Dt.create(qa(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ie(58110);default:return Ie(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return qr.create(i.compositeFilter.filters.map((a=>NE(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Ie(1026)}})(i.compositeFilter.op))})(r):Ie(30097,{filter:r})}function qa(r){return Lt.fromServerFormat(r.fieldPath)}function _I(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function vI(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(e){this.yt=e}}function TI(r){const e=yI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?sm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(){this.Cn=new bI}addToCollectionParentIndex(e,i){return this.Cn.add(i),X.resolve()}getCollectionParents(e,i){return X.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return X.resolve()}deleteFieldIndex(e,i){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,i){return X.resolve()}getDocumentsMatchingTarget(e,i){return X.resolve(null)}getIndexType(e,i){return X.resolve(0)}getFieldIndexes(e,i){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,i){return X.resolve(Hr.min())}getMinOffsetFromCollectionGroup(e,i){return X.resolve(Hr.min())}updateCollectionGroup(e,i,a){return X.resolve()}updateIndexEntries(e,i){return X.resolve()}}class bI{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),l=this.index[i]||new Ut(rt.comparator),u=!l.has(a);return this.index[i]=l.add(a),u}has(e){const i=e.lastSegment(),a=e.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(e){return(this.index[e]||new Ut(rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ME=41943040;class rn{static withCacheSize(e){return new rn(e,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rn.DEFAULT_COLLECTION_PERCENTILE=10,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rn.DEFAULT=new rn(ME,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rn.DISABLED=new rn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new eo(0)}static cr(){return new eo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev="LruGarbageCollector",SI=1048576;function Tv([r,e],[i,a]){const l=ze(r,i);return l===0?ze(e,a):l}class AI{constructor(e){this.Ir=e,this.buffer=new Ut(Tv),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Tv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class RI{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ce(Ev,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){ql(i)?ce(Ev,"Ignoring IndexedDB error during garbage collection: ",i):await Dm(i)}await this.Vr(3e5)}))}}class II{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return X.resolve(Om.ce);const a=new AI(i);return this.mr.forEachTarget(e,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.mr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(vv)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),vv):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let a,l,u,f,m,y,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),l=this.params.maximumSequenceNumbersToCollect):l=b,f=Date.now(),this.nthSequenceNumber(e,l)))).next((b=>(a=b,m=Date.now(),this.removeTargets(e,a,i)))).next((b=>(u=b,y=Date.now(),this.removeOrphanedDocuments(e,a)))).next((b=>(g=Date.now(),Ha()<=xe.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${l} in `+(m-f)+`ms
	Removed ${u} targets in `+(y-m)+`ms
	Removed ${b} documents in `+(g-y)+`ms
Total Duration: ${g-E}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:b}))))}}function CI(r,e){return new II(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(){this.changes=new Ys((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Hn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(e,i,a,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(a!==null&&Al(a.mutation,l,Gn.empty(),tt.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,Gt()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=Gt()){const l=xs();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,a).next((u=>{let f=Tc();return u.forEach(((m,y)=>{f=f.insert(m,y.overlayedDocument)})),f}))))}getOverlayedDocuments(e,i){const a=xs();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,Gt())))}populateOverlays(e,i,a){const l=[];return a.forEach((u=>{i.has(u)||l.push(u)})),this.documentOverlayCache.getOverlays(e,l).next((u=>{u.forEach(((f,m)=>{i.set(f,m)}))}))}computeViews(e,i,a,l){let u=Gc();const f=Sl(),m=(function(){return Sl()})();return i.forEach(((y,g)=>{const E=a.get(g.key);l.has(g.key)&&(E===void 0||E.mutation instanceof Qs)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),Al(E.mutation,g,E.mutation.getFieldMask(),tt.now())):f.set(g.key,Gn.empty())})),this.recalculateAndSaveOverlays(e,u).next((y=>(y.forEach(((g,E)=>f.set(g,E))),i.forEach(((g,E)=>m.set(g,new OI(E,f.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,i){const a=Sl();let l=new on(((f,m)=>f-m)),u=Gt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((f=>{for(const m of f)m.keys().forEach((y=>{const g=i.get(y);if(g===null)return;let E=a.get(y)||Gn.empty();E=m.applyToLocalView(g,E),a.set(y,E);const b=(l.get(m.batchId)||Gt()).add(y);l=l.insert(m.batchId,b)}))})).next((()=>{const f=[],m=l.getReverseIterator();for(;m.hasNext();){const y=m.getNext(),g=y.key,E=y.value,b=TE();E.forEach((A=>{if(!u.has(A)){const j=IE(i.get(A),a.get(A));j!==null&&b.set(A,j),u=u.add(A)}})),f.push(this.documentOverlayCache.saveOverlays(e,g,b))}return X.waitFor(f)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,l){return(function(f){return Ae.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):BR(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,l):this.getDocumentsMatchingCollectionQuery(e,i,a,l)}getNextDocuments(e,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,l).next((u=>{const f=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,l-u.size):X.resolve(xs());let m=Nl,y=u;return f.next((g=>X.forEach(g,((E,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(E)?X.resolve():this.remoteDocumentCache.getEntry(e,E).next((A=>{y=y.insert(E,A)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,y,g,Gt()))).next((E=>({batchId:m,changes:EE(E)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new Ae(i)).next((a=>{let l=Tc();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,l){const u=i.collectionGroup;let f=Tc();return this.indexManager.getCollectionParents(e,u).next((m=>X.forEach(m,(y=>{const g=(function(b,A){return new ch(A,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(i,y.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,a,l).next((E=>{E.forEach(((b,A)=>{f=f.insert(b,A)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,i,a,l){let u;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,u,l)))).next((f=>{u.forEach(((y,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,Hn.newInvalidDocument(E)))}));let m=Tc();return f.forEach(((y,g)=>{const E=u.get(y);E!==void 0&&Al(E.mutation,g,Gn.empty(),tt.now()),Um(i,g)&&(m=m.insert(y,g))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return X.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Ga(l.createTime)}})(i)),X.resolve()}getNamedQuery(e,i){return X.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:TI(l.bundledQuery),readTime:Ga(l.readTime)}})(i)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(){this.overlays=new on(Ae.comparator),this.qr=new Map}getOverlay(e,i){return X.resolve(this.overlays.get(i))}getOverlays(e,i){const a=xs();return X.forEach(i,(l=>this.getOverlay(e,l).next((u=>{u!==null&&a.set(l,u)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((l,u)=>{this.St(e,i,u)})),X.resolve()}removeOverlaysForBatchId(e,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(a)),X.resolve()}getOverlaysForCollection(e,i,a){const l=xs(),u=i.length+1,f=new Ae(i.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const y=m.getNext().value,g=y.getKey();if(!i.isPrefixOf(g.path))break;g.path.length===u&&y.largestBatchId>a&&l.set(y.getKey(),y)}return X.resolve(l)}getOverlaysForCollectionGroup(e,i,a,l){let u=new on(((g,E)=>g-E));const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===i&&g.largestBatchId>a){let E=u.get(g.largestBatchId);E===null&&(E=xs(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=xs(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((g,E)=>m.set(g,E))),!(m.size()>=l)););return X.resolve(m)}St(e,i,a){const l=this.overlays.get(a.key);if(l!==null){const f=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,f)}this.overlays=this.overlays.insert(a.key,new sI(i,a));let u=this.qr.get(i);u===void 0&&(u=Gt(),this.qr.set(i,u)),this.qr.set(i,u.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(){this.sessionToken=pi.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(){this.Qr=new Ut(Ct.$r),this.Ur=new Ut(Ct.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const a=new Ct(e,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Gr(new Ct(e,i))}zr(e,i){e.forEach((a=>this.removeReference(a,i)))}jr(e){const i=new Ae(new rt([])),a=new Ct(i,e),l=new Ct(i,e+1),u=[];return this.Ur.forEachInRange([a,l],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new Ae(new rt([])),a=new Ct(i,e),l=new Ct(i,e+1);let u=Gt();return this.Ur.forEachInRange([a,l],(f=>{u=u.add(f.key)})),u}containsKey(e){const i=new Ct(e,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Ct{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return Ae.comparator(e.key,i.key)||ze(e.Yr,i.Yr)}static Kr(e,i){return ze(e.Yr,i.Yr)||Ae.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Ut(Ct.$r)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,l){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new rI(u,i,a,l);this.mutationQueue.push(f);for(const m of l)this.Zr=this.Zr.add(new Ct(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return X.resolve(f)}lookupMutationBatch(e,i){return X.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,l=this.ei(a),u=l<0?0:l;return X.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Nm:this.tr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Ct(i,0),l=new Ct(i,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([a,l],(f=>{const m=this.Xr(f.Yr);u.push(m)})),X.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Ut(ze);return i.forEach((l=>{const u=new Ct(l,0),f=new Ct(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{a=a.add(m.Yr)}))})),X.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,l=a.length+1;let u=a;Ae.isDocumentKey(u)||(u=u.child(""));const f=new Ct(new Ae(u),0);let m=new Ut(ze);return this.Zr.forEachWhile((y=>{const g=y.key.path;return!!a.isPrefixOf(g)&&(g.length===l&&(m=m.add(y.Yr)),!0)}),f),X.resolve(this.ti(m))}ti(e){const i=[];return e.forEach((a=>{const l=this.Xr(a);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){lt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return X.forEach(i.mutations,(l=>{const u=new Ct(l.key,i.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,i){const a=new Ct(i,0),l=this.Zr.firstAfterOrEqual(a);return X.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(e){this.ri=e,this.docs=(function(){return new on(Ae.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,l=this.docs.get(a),u=l?l.size:0,f=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():Hn.newInvalidDocument(i))}getEntries(e,i){let a=Gc();return i.forEach((l=>{const u=this.docs.get(l);a=a.insert(l,u?u.document.mutableCopy():Hn.newInvalidDocument(l))})),X.resolve(a)}getDocumentsMatchingQuery(e,i,a,l){let u=Gc();const f=i.path,m=new Ae(f.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(m);for(;y.hasNext();){const{key:g,value:{document:E}}=y.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||pR(mR(E),a)<=0||(l.has(E.key)||Um(i,E))&&(u=u.insert(E.key,E.mutableCopy()))}return X.resolve(u)}getAllFromCollectionGroup(e,i,a,l){Ie(9500)}ii(e,i){return X.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new LI(this)}getSize(e){return X.resolve(this.size)}}class LI extends DI{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(a)})),X.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(e){this.persistence=e,this.si=new Ys((i=>Pm(i)),Lm),this.lastRemoteSnapshotVersion=et.min(),this.highestTargetId=0,this.oi=0,this._i=new jm,this.targetCount=0,this.ai=eo.ur()}forEachTarget(e,i){return this.si.forEach(((a,l)=>i(l))),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),X.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new eo(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,X.resolve()}updateTargetData(e,i){return this.Pr(i),X.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,i,a){let l=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=i&&a.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),l++)})),X.waitFor(u).next((()=>l))}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,i){const a=this.si.get(i)||null;return X.resolve(a)}addMatchingKeys(e,i,a){return this._i.Wr(i,a),X.resolve()}removeMatchingKeys(e,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,u=[];return l&&i.forEach((f=>{u.push(l.markPotentiallyOrphaned(e,f))})),X.waitFor(u)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),X.resolve()}getMatchingKeysForTargetId(e,i){const a=this._i.Hr(i);return X.resolve(a)}containsKey(e,i){return X.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(e,i){this.ui={},this.overlays={},this.ci=new Om(0),this.li=!1,this.li=!0,this.hi=new kI,this.referenceDelegate=e(this),this.Pi=new UI(this),this.indexManager=new wI,this.remoteDocumentCache=(function(l){return new PI(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new EI(i),this.Ii=new MI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new xI,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ui[e.toKey()];return a||(a=new VI(i,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,a){ce("MemoryPersistence","Starting transaction:",e);const l=new zI(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((u=>this.referenceDelegate.di(l).next((()=>u)))).toPromise().then((u=>(l.raiseOnCommittedEvent(),u)))}Ai(e,i){return X.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,i))))}}class zI extends yR{constructor(e){super(),this.currentSequenceNumber=e}}class Hm{constructor(e){this.persistence=e,this.Ri=new jm,this.Vi=null}static mi(e){return new Hm(e)}get fi(){if(this.Vi)return this.Vi;throw Ie(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),X.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),X.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),X.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((u=>this.fi.add(u.toString())))})).next((()=>a.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(a=>{const l=Ae.fromPath(a);return this.gi(e,l).next((u=>{u||i.removeEntry(l,et.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class $c{constructor(e,i){this.persistence=e,this.pi=new Ys((a=>ER(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=CI(this,i)}static mi(e,i){return new $c(e,i)}Ei(){}di(e){return X.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((l=>a+l))))}wr(e){let i=0;return this.pr(e,(a=>{i++})).next((()=>i))}pr(e,i){return X.forEach(this.pi,((a,l)=>this.br(e,a,l).next((u=>u?X.resolve():i(l)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.ii(e,(f=>this.br(e,f,i).next((m=>{m||(a++,u.removeEntry(f,et.min()))})))).next((()=>u.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),X.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),X.resolve()}removeReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),X.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Cc(e.data.value)),i}br(e,i,a){return X.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.pi.get(i);return X.resolve(l!==void 0&&l>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(e,i,a,l){this.targetId=e,this.fromCache=i,this.Es=a,this.ds=l}static As(e,i){let a=Gt(),l=Gt();for(const u of i.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new qm(e,i.fromCache,a,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return PA()?8:_R($t())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,l){const u={result:null};return this.ys(e,i).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,i,l,a).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new BI;return this.Ss(e,i,f).next((m=>{if(u.result=m,this.Vs)return this.bs(e,i,f,m.size)}))})).next((()=>u.result))}bs(e,i,a,l){return a.documentReadCount<this.fs?(Ha()<=xe.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",yl(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(Ha()<=xe.DEBUG&&ce("QueryEngine","Query:",yl(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(Ha()<=xe.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",yl(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ps(i))):X.resolve())}ys(e,i){if(dv(i))return X.resolve(null);let a=Ps(i);return this.indexManager.getIndexType(e,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=sm(i,null,"F"),a=Ps(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((u=>{const f=Gt(...u);return this.ps.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,a).next((y=>{const g=this.Ds(i,m);return this.Cs(i,g,f,y.readTime)?this.ys(e,sm(i,null,"F")):this.vs(e,g,i,y)}))))})))))}ws(e,i,a,l){return dv(i)||l.isEqual(et.min())?X.resolve(null):this.ps.getDocuments(e,a).next((u=>{const f=this.Ds(i,u);return this.Cs(i,f,a,l)?X.resolve(null):(Ha()<=xe.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),yl(i)),this.vs(e,f,i,dR(l,Nl)).next((m=>m)))}))}Ds(e,i){let a=new Ut(HR(e));return i.forEach(((l,u)=>{Um(e,u)&&(a=a.add(u))})),a}Cs(e,i,a,l){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const u=e.limitType==="F"?i.last():i.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}Ss(e,i,a){return Ha()<=xe.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",yl(i)),this.ps.getDocumentsMatchingQuery(e,i,Hr.min(),a)}vs(e,i,a,l){return this.ps.getDocumentsMatchingQuery(e,a,l).next((u=>(i.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI="LocalStore";class qI{constructor(e,i,a,l){this.persistence=e,this.Fs=i,this.serializer=l,this.Ms=new on(ze),this.xs=new Ys((u=>Pm(u)),Lm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new NI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function FI(r,e,i,a){return new qI(r,e,i,a)}async function kE(r,e){const i=Ze(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((u=>(l=u,i.Bs(e),i.mutationQueue.getAllMutationBatches(a)))).next((u=>{const f=[],m=[];let y=Gt();for(const g of l){f.push(g.batchId);for(const E of g.mutations)y=y.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)y=y.add(E.key)}return i.localDocuments.getDocuments(a,y).next((g=>({Ls:g,removedBatchIds:f,addedBatchIds:m})))}))}))}function GI(r,e){const i=Ze(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=e.batch.keys(),u=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,y,g,E){const b=g.batch,A=b.keys();let j=X.resolve();return A.forEach((F=>{j=j.next((()=>E.getEntry(y,F))).next((Z=>{const G=g.docVersions.get(F);lt(G!==null,48541),Z.version.compareTo(G)<0&&(b.applyToRemoteDocument(Z,g),Z.isValidDocument()&&(Z.setReadTime(g.commitVersion),E.addEntry(Z)))}))})),j.next((()=>m.mutationQueue.removeMutationBatch(y,b)))})(i,a,e,u).next((()=>u.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(m){let y=Gt();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(y=y.add(m.batch.mutations[g].key));return y})(e)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function KI(r){const e=Ze(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function $I(r,e){const i=Ze(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Nm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}class wv{constructor(){this.activeTargetIds=YR()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class YI{constructor(){this.Mo=new wv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,a){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new wv,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bv="ConnectivityMonitor";class Sv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ce(bv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ce(bv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wc=null;function um(){return wc===null?wc=(function(){return 268435456+Math.round(2147483648*Math.random())})():wc++,"0x"+wc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ld="RestConnection",XI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ZI{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===jc?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(e,i,a,l,u){const f=um(),m=this.zo(e,i.toUriEncodedString());ce(Ld,`Sending RPC '${e}' ${f}:`,m,a);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,u);const{host:g}=new URL(m),E=no(g);return this.Jo(e,m,y,a,E).then((b=>(ce(Ld,`Received RPC '${e}' ${f}: `,b),b)),(b=>{throw uh(Ld,`RPC '${e}' ${f} failed with error: `,b,"url: ",m,"request:",a),b}))}Ho(e,i,a,l,u,f){return this.Go(e,i,a,l,u)}jo(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ro})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,u)=>e[u]=l)),a&&a.headers.forEach(((l,u)=>e[u]=l))}zo(e,i){const a=XI[e];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qt="WebChannelConnection";class JI extends ZI{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,l,u){const f=um();return new Promise(((m,y)=>{const g=new K0;g.setWithCredentials(!0),g.listenOnce($0.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Ic.NO_ERROR:const b=g.getResponseJson();ce(qt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(b)),m(b);break;case Ic.TIMEOUT:ce(qt,`RPC '${e}' ${f} timed out`),y(new pe(J.DEADLINE_EXCEEDED,"Request time out"));break;case Ic.HTTP_ERROR:const A=g.getStatus();if(ce(qt,`RPC '${e}' ${f} failed with status:`,A,"response text:",g.getResponseText()),A>0){let j=g.getResponseJson();Array.isArray(j)&&(j=j[0]);const F=j==null?void 0:j.error;if(F&&F.status&&F.message){const Z=(function(te){const re=te.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(re)>=0?re:J.UNKNOWN})(F.status);y(new pe(Z,F.message))}else y(new pe(J.UNKNOWN,"Server responded with status "+g.getStatus()))}else y(new pe(J.UNAVAILABLE,"Connection failed."));break;default:Ie(9055,{l_:e,streamId:f,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ce(qt,`RPC '${e}' ${f} completed.`)}}));const E=JSON.stringify(l);ce(qt,`RPC '${e}' ${f} sending request:`,l),g.send(i,"POST",E,a,15)}))}T_(e,i,a){const l=um(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=X0(),m=Q0(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(y.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,a),y.encodeInitMessageHeaders=!0;const E=u.join("");ce(qt,`Creating RPC '${e}' stream ${l}: ${E}`,y);const b=f.createWebChannel(E,y);this.I_(b);let A=!1,j=!1;const F=new WI({Yo:G=>{j?ce(qt,`Not sending because RPC '${e}' stream ${l} is closed:`,G):(A||(ce(qt,`Opening RPC '${e}' stream ${l} transport.`),b.open(),A=!0),ce(qt,`RPC '${e}' stream ${l} sending:`,G),b.send(G))},Zo:()=>b.close()}),Z=(G,te,re)=>{G.listen(te,(ee=>{try{re(ee)}catch(ve){setTimeout((()=>{throw ve}),0)}}))};return Z(b,El.EventType.OPEN,(()=>{j||(ce(qt,`RPC '${e}' stream ${l} transport opened.`),F.o_())})),Z(b,El.EventType.CLOSE,(()=>{j||(j=!0,ce(qt,`RPC '${e}' stream ${l} transport closed`),F.a_(),this.E_(b))})),Z(b,El.EventType.ERROR,(G=>{j||(j=!0,uh(qt,`RPC '${e}' stream ${l} transport errored. Name:`,G.name,"Message:",G.message),F.a_(new pe(J.UNAVAILABLE,"The operation could not be completed")))})),Z(b,El.EventType.MESSAGE,(G=>{var te;if(!j){const re=G.data[0];lt(!!re,16349);const ee=re,ve=(ee==null?void 0:ee.error)||((te=ee[0])==null?void 0:te.error);if(ve){ce(qt,`RPC '${e}' stream ${l} received error:`,ve);const ue=ve.status;let De=(function(R){const x=yt[R];if(x!==void 0)return oI(x)})(ue),N=ve.message;De===void 0&&(De=J.INTERNAL,N="Unknown error status: "+ue+" with message "+ve.message),j=!0,F.a_(new pe(De,N)),b.close()}else ce(qt,`RPC '${e}' stream ${l} received:`,re),F.u_(re)}})),Z(m,Y0.STAT_EVENT,(G=>{G.stat===Jd.PROXY?ce(qt,`RPC '${e}' stream ${l} detected buffering proxy`):G.stat===Jd.NOPROXY&&ce(qt,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{F.__()}),0),F}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Ud(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dh(r){return new lI(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(e,i,a=1e3,l=1.5,u=6e4){this.Mi=e,this.timerId=i,this.d_=a,this.A_=l,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&ce("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av="PersistentStream";class eC{constructor(e,i,a,l,u,f,m,y){this.Mi=e,this.S_=a,this.b_=l,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new VE(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(Us(i.toString()),Us("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{e((()=>{const l=new pe(J.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(e,i){const a=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce(Av,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(ce(Av,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class tC extends eC{constructor(e,i,a,l,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return lt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,lt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){lt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=gI(e.writeResults,e.commitTime),a=Ga(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=dI(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>pI(this.serializer,a)))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{}class iC extends nC{constructor(e,i,a,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new pe(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,om(i,a),l,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new pe(J.UNKNOWN,u.toString())}))}Ho(e,i,a,l,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(e,om(i,a),l,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new pe(J.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class rC{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Us(i),this.aa=!1):ce("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gl="RemoteStore";class sC{constructor(e,i,a,l,u){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{a.enqueueAndForget((async()=>{$l(this)&&(ce(Gl,"Restarting streams for network reachability change."),await(async function(y){const g=Ze(y);g.Ea.add(4),await Kl(g),g.Ra.set("Unknown"),g.Ea.delete(4),await mh(g)})(this))}))})),this.Ra=new rC(a,l)}}async function mh(r){if($l(r))for(const e of r.da)await e(!0)}async function Kl(r){for(const e of r.da)await e(!1)}function $l(r){return Ze(r).Ea.size===0}async function PE(r,e,i){if(!ql(e))throw e;r.Ea.add(1),await Kl(r),r.Ra.set("Offline"),i||(i=()=>KI(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ce(Gl,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await mh(r)}))}function LE(r,e){return e().catch((i=>PE(r,i,e)))}async function ph(r){const e=Ze(r),i=Fr(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Nm;for(;aC(e);)try{const l=await $I(e.localStore,a);if(l===null){e.Ta.length===0&&i.L_();break}a=l.batchId,oC(e,l)}catch(l){await PE(e,l)}UE(e)&&zE(e)}function aC(r){return $l(r)&&r.Ta.length<10}function oC(r,e){r.Ta.push(e);const i=Fr(r);i.O_()&&i.X_&&i.ea(e.mutations)}function UE(r){return $l(r)&&!Fr(r).x_()&&r.Ta.length>0}function zE(r){Fr(r).start()}async function lC(r){Fr(r).ra()}async function uC(r){const e=Fr(r);for(const i of r.Ta)e.ea(i.mutations)}async function cC(r,e,i){const a=r.Ta.shift(),l=Bm.from(a,e,i);await LE(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await ph(r)}async function hC(r,e){e&&Fr(r).X_&&await(async function(a,l){if((function(f){return aI(f)&&f!==J.ABORTED})(l.code)){const u=a.Ta.shift();Fr(a).B_(),await LE(a,(()=>a.remoteSyncer.rejectFailedWrite(u.batchId,l))),await ph(a)}})(r,e),UE(r)&&zE(r)}async function Rv(r,e){const i=Ze(r);i.asyncQueue.verifyOperationInProgress(),ce(Gl,"RemoteStore received new credentials");const a=$l(i);i.Ea.add(3),await Kl(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await mh(i)}async function fC(r,e){const i=Ze(r);e?(i.Ea.delete(2),await mh(i)):e||(i.Ea.add(2),await Kl(i),i.Ra.set("Unknown"))}function Fr(r){return r.fa||(r.fa=(function(i,a,l){const u=Ze(i);return u.sa(),new tC(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:lC.bind(null,r),r_:hC.bind(null,r),ta:uC.bind(null,r),na:cC.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await ph(r)):(await r.fa.stop(),r.Ta.length>0&&(ce(Gl,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(e,i,a,l,u){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=u,this.deferred=new Vs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,l,u){const f=Date.now()+a,m=new Fm(e,i,f,l,u);return m.start(a),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function BE(r,e){if(Us("AsyncQueue",`${e}: ${r}`),ql(r))return new pe(J.UNAVAILABLE,`${e}: ${r}`);throw r}class dC{constructor(){this.queries=Iv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=Ze(i),u=l.queries;l.queries=Iv(),u.forEach(((f,m)=>{for(const y of m.Sa)y.onError(a)}))})(this,new pe(J.ABORTED,"Firestore shutting down"))}}function Iv(){return new Ys((r=>_E(r)),yE)}function mC(r){r.Ca.forEach((e=>{e.next()}))}var Cv,Dv;(Dv=Cv||(Cv={})).Ma="default",Dv.Cache="cache";const pC="SyncEngine";class gC{constructor(e,i,a,l,u,f){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Ys((m=>_E(m)),yE),this.Iu=new Map,this.Eu=new Set,this.du=new on(Ae.comparator),this.Au=new Map,this.Ru=new jm,this.Vu={},this.mu=new Map,this.fu=eo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function yC(r,e,i){const a=TC(r);try{const l=await(function(f,m){const y=Ze(f),g=tt.now(),E=m.reduce(((j,F)=>j.add(F.key)),Gt());let b,A;return y.persistence.runTransaction("Locally write mutations","readwrite",(j=>{let F=Gc(),Z=Gt();return y.Ns.getEntries(j,E).next((G=>{F=G,F.forEach(((te,re)=>{re.isValidDocument()||(Z=Z.add(te))}))})).next((()=>y.localDocuments.getOverlayedDocuments(j,F))).next((G=>{b=G;const te=[];for(const re of m){const ee=nI(re,b.get(re.key).overlayedDocument);ee!=null&&te.push(new Qs(re.key,ee,cE(ee.value.mapValue),Hi.exists(!0)))}return y.mutationQueue.addMutationBatch(j,g,te,m)})).next((G=>{A=G;const te=G.applyToLocalDocumentSet(b,Z);return y.documentOverlayCache.saveOverlays(j,G.batchId,te)}))})).then((()=>({batchId:A.batchId,changes:EE(b)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(l.batchId),(function(f,m,y){let g=f.Vu[f.currentUser.toKey()];g||(g=new on(ze)),g=g.insert(m,y),f.Vu[f.currentUser.toKey()]=g})(a,l.batchId,i),await gh(a,l.changes),await ph(a.remoteStore)}catch(l){const u=BE(l,"Failed to persist write");i.reject(u)}}function Ov(r,e,i){const a=Ze(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&l.push(m.snapshot)})),(function(f,m){const y=Ze(f);y.onlineState=m;let g=!1;y.queries.forEach(((E,b)=>{for(const A of b.Sa)A.va(m)&&(g=!0)})),g&&mC(y)})(a.eventManager,e),l.length&&a.Pu.H_(l),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function _C(r,e){const i=Ze(r),a=e.batch.batchId;try{const l=await GI(i.localStore,e);HE(i,a,null),jE(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await gh(i,l)}catch(l){await Dm(l)}}async function vC(r,e,i){const a=Ze(r);try{const l=await(function(f,m){const y=Ze(f);return y.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let E;return y.mutationQueue.lookupMutationBatch(g,m).next((b=>(lt(b!==null,37113),E=b.keys(),y.mutationQueue.removeMutationBatch(g,b)))).next((()=>y.mutationQueue.performConsistencyCheck(g))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(g,E,m))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E))).next((()=>y.localDocuments.getDocuments(g,E)))}))})(a.localStore,e);HE(a,e,i),jE(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await gh(a,l)}catch(l){await Dm(l)}}function jE(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function HE(r,e,i){const a=Ze(r);let l=a.Vu[a.currentUser.toKey()];if(l){const u=l.get(e);u&&(i?u.reject(i):u.resolve(),l=l.remove(e)),a.Vu[a.currentUser.toKey()]=l}}async function gh(r,e,i){const a=Ze(r),l=[],u=[],f=[];a.Tu.isEmpty()||(a.Tu.forEach(((m,y)=>{f.push(a.pu(y,e,i).then((g=>{var E;if((g||i)&&a.isPrimaryClient){const b=g?!g.fromCache:(E=i==null?void 0:i.targetChanges.get(y.targetId))==null?void 0:E.current;a.sharedClientState.updateQueryState(y.targetId,b?"current":"not-current")}if(g){l.push(g);const b=qm.As(y.targetId,g);u.push(b)}})))})),await Promise.all(f),a.Pu.H_(l),await(async function(y,g){const E=Ze(y);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>X.forEach(g,(A=>X.forEach(A.Es,(j=>E.persistence.referenceDelegate.addReference(b,A.targetId,j))).next((()=>X.forEach(A.ds,(j=>E.persistence.referenceDelegate.removeReference(b,A.targetId,j)))))))))}catch(b){if(!ql(b))throw b;ce(HI,"Failed to update sequence numbers: "+b)}for(const b of g){const A=b.targetId;if(!b.fromCache){const j=E.Ms.get(A),F=j.snapshotVersion,Z=j.withLastLimboFreeSnapshotVersion(F);E.Ms=E.Ms.insert(A,Z)}}})(a.localStore,u))}async function EC(r,e){const i=Ze(r);if(!i.currentUser.isEqual(e)){ce(pC,"User change. New user:",e.toKey());const a=await kE(i.localStore,e);i.currentUser=e,(function(u,f){u.mu.forEach((m=>{m.forEach((y=>{y.reject(new pe(J.CANCELLED,f))}))})),u.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await gh(i,a.Ls)}}function TC(r){const e=Ze(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_C.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=vC.bind(null,e),e}class Yc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=dh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return FI(this.persistence,new jI,e.initialUser,this.serializer)}Cu(e){return new xE(Hm.mi,this.serializer)}Du(e){return new YI}async terminate(){var e,i;(e=this.gcScheduler)==null||e.stop(),(i=this.indexBackfillerScheduler)==null||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Yc.provider={build:()=>new Yc};class wC extends Yc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){lt(this.persistence.referenceDelegate instanceof $c,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new RI(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?rn.withCacheSize(this.cacheSizeBytes):rn.DEFAULT;return new xE((a=>$c.mi(a,i)),this.serializer)}}class cm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Ov(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=EC.bind(null,this.syncEngine),await fC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new dC})()}createDatastore(e){const i=dh(e.databaseInfo.databaseId),a=(function(u){return new JI(u)})(e.databaseInfo);return(function(u,f,m,y){return new iC(u,f,m,y)})(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,l,u,f,m){return new sC(a,l,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(i=>Ov(this.syncEngine,i,0)),(function(){return Sv.v()?new Sv:new QI})())}createSyncEngine(e,i){return(function(l,u,f,m,y,g,E){const b=new gC(l,u,f,m,y,g);return E&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await(async function(l){const u=Ze(l);ce(Gl,"RemoteStore shutting down."),u.Ea.add(5),await Kl(u),u.Aa.shutdown(),u.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(i=this.eventManager)==null||i.terminate()}}cm.provider={build:()=>new cm};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gr="FirestoreClient";class bC{constructor(e,i,a,l,u){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=Ft.UNAUTHENTICATED,this.clientId=Im.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,(async f=>{ce(Gr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(a,(f=>(ce(Gr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Vs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=BE(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function zd(r,e){r.asyncQueue.verifyOperationInProgress(),ce(Gr,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await kE(e.localStore,l),a=l)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function Nv(r,e){r.asyncQueue.verifyOperationInProgress();const i=await SC(r);ce(Gr,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((a=>Rv(e.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>Rv(e.remoteStore,l))),r._onlineComponents=e}async function SC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ce(Gr,"Using user provided OfflineComponentProvider");try{await zd(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===J.FAILED_PRECONDITION||l.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;uh("Error using user provided cache. Falling back to memory cache: "+i),await zd(r,new Yc)}}else ce(Gr,"Using default OfflineComponentProvider"),await zd(r,new wC(void 0));return r._offlineComponents}async function AC(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ce(Gr,"Using user provided OnlineComponentProvider"),await Nv(r,r._uninitializedComponentsProvider._online)):(ce(Gr,"Using default OnlineComponentProvider"),await Nv(r,new cm))),r._onlineComponents}function RC(r){return AC(r).then((e=>e.syncEngine))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qE(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE="firestore.googleapis.com",xv=!0;class kv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new pe(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=FE,this.ssl=xv}else this.host=e.host,this.ssl=e.ssl??xv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ME;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<SI)throw new pe(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}fR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=qE(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new pe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new pe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new pe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class yh{constructor(e,i,a,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new nR;switch(a.type){case"firstParty":return new aR(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new pe(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=Mv.get(i);a&&(ce("ComponentProvider","Removing Datastore"),Mv.delete(i),a.terminate())})(this),Promise.resolve()}}function IC(r,e,i,a={}){var g;r=tE(r,yh);const l=no(e),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${i}`;l&&(V0(`https://${m}`),P0("Firestore",!0)),u.host!==FE&&u.host!==m&&uh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...u,host:m,ssl:l,emulatorOptions:a};if(!jr(y,f)&&(r._setSettings(y),a.mockUserToken)){let E,b;if(typeof a.mockUserToken=="string")E=a.mockUserToken,b=Ft.MOCK_USER;else{E=CA(a.mockUserToken,(g=r._app)==null?void 0:g.options.projectId);const A=a.mockUserToken.sub||a.mockUserToken.user_id;if(!A)throw new pe(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Ft(A)}r._authCredentials=new iR(new W0(E,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Gm(this.firestore,e,this._query)}}class Kt{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Br(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Kt(this.firestore,e,this._key)}toJSON(){return{type:Kt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(Hl(i,Kt._jsonSchema))return new Kt(e,a||null,new Ae(rt.fromString(i.referencePath)))}}Kt._jsonSchemaVersion="firestore/documentReference/1.0",Kt._jsonSchema={type:_t("string",Kt._jsonSchemaVersion),referencePath:_t("string")};class Br extends Gm{constructor(e,i,a){super(e,i,zR(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Kt(this.firestore,null,new Ae(e))}withConverter(e){return new Br(this.firestore,e,this._path)}}function CC(r,e,...i){if(r=an(r),J0("collection","path",e),r instanceof yh){const a=rt.fromString(e,...i);return nv(a),new Br(r,null,a)}{if(!(r instanceof Kt||r instanceof Br))throw new pe(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(rt.fromString(e,...i));return nv(a),new Br(r.firestore,null,a)}}function DC(r,e,...i){if(r=an(r),arguments.length===1&&(e=Im.newId()),J0("doc","path",e),r instanceof yh){const a=rt.fromString(e,...i);return tv(a),new Kt(r,null,new Ae(a))}{if(!(r instanceof Kt||r instanceof Br))throw new pe(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(rt.fromString(e,...i));return tv(a),new Kt(r.firestore,r instanceof Br?r.converter:null,new Ae(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv="AsyncQueue";class Pv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new VE(this,"async_queue_retry"),this._c=()=>{const a=Ud();a&&ce(Vv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=Ud();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Ud();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Vs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ql(e))throw e;ce(Vv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,Us("INTERNAL UNHANDLED ERROR: ",Lv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=Fm.createAndSchedule(this,e,i,a,(u=>this.hc(u)));return this.tc.push(l),l}uc(){this.nc&&Ie(47125,{Pc:Lv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function Lv(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class GE extends yh{constructor(e,i,a,l){super(e,i,a,l),this.type="firestore",this._queue=new Pv,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Pv(e),this._firestoreClient=void 0,await e}}}function OC(r,e){const i=typeof r=="object"?r:Sm(),a=typeof r=="string"?r:jc,l=$s(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const u=RA("firestore");u&&IC(l,...u)}return l}function NC(r){if(r._terminated)throw new pe(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||MC(r),r._firestoreClient}function MC(r){var a,l,u;const e=r._freezeSettings(),i=(function(m,y,g,E){return new SR(m,y,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,qE(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)})(r._databaseId,((a=r._app)==null?void 0:a.options.appId)||"",r._persistenceKey,e);r._componentsProvider||(l=e.localCache)!=null&&l._offlineComponentProvider&&((u=e.localCache)!=null&&u._onlineComponentProvider)&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new bC(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(m){const y=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(y),_online:y}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fn(pi.fromBase64String(e))}catch(i){throw new pe(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Fn(pi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Fn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Hl(e,Fn._jsonSchema))return Fn.fromBase64String(e.bytes)}}Fn._jsonSchemaVersion="firestore/bytes/1.0",Fn._jsonSchema={type:_t("string",Fn._jsonSchemaVersion),bytes:_t("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new pe(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Lt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new pe(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new pe(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:qi._jsonSchemaVersion}}static fromJSON(e){if(Hl(e,qi._jsonSchema))return new qi(e.latitude,e.longitude)}}qi._jsonSchemaVersion="firestore/geoPoint/1.0",qi._jsonSchema={type:_t("string",qi._jsonSchemaVersion),latitude:_t("number"),longitude:_t("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,l){if(a.length!==l.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==l[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Fi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Hl(e,Fi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Fi(e.vectorValues);throw new pe(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Fi._jsonSchemaVersion="firestore/vectorValue/1.0",Fi._jsonSchema={type:_t("string",Fi._jsonSchemaVersion),vectorValues:_t("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC=/^__.*__$/;class kC{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new Qs(e,this.data,this.fieldMask,i,this.fieldTransforms):new Fl(e,this.data,i,this.fieldTransforms)}}function KE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie(40011,{Ac:r})}}class Ym{constructor(e,i,a,l,u,f){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Ym({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var l;const i=(l=this.path)==null?void 0:l.child(e),a=this.Vc({path:i,fc:!1});return a.gc(e),a}yc(e){var l;const i=(l=this.path)==null?void 0:l.child(e),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Qc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(KE(this.Ac)&&xC.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class VC{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||dh(e)}Cc(e,i,a,l=!1){return new Ym({Ac:e,methodName:i,Dc:a,path:Lt.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function PC(r){const e=r._freezeSettings(),i=dh(r._databaseId);return new VC(r._databaseId,!!e.ignoreUndefinedProperties,i)}function LC(r,e,i,a,l,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,e,i,l);XE("Data must be an object, but it was:",f,a);const m=YE(a,f);let y,g;if(u.merge)y=new Gn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const b of u.mergeFields){const A=UC(e,b,i);if(!f.contains(A))throw new pe(J.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);BC(E,A)||E.push(A)}y=new Gn(E),g=f.fieldTransforms.filter((b=>y.covers(b.field)))}else y=null,g=f.fieldTransforms;return new kC(new qn(m),y,g)}class Qm extends $m{_toFieldTransform(e){return new WR(e.path,new xl)}isEqual(e){return e instanceof Qm}}function $E(r,e){if(QE(r=an(r)))return XE("Unsupported field value:",e,r),YE(r,e);if(r instanceof $m)return(function(a,l){if(!KE(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(l);u&&l.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,l){const u=[];let f=0;for(const m of a){let y=$E(m,l.wc(f));y==null&&(y={nullValue:"NULL_VALUE"}),u.push(y),f++}return{arrayValue:{values:u}}})(r,e)}return(function(a,l){if((a=an(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return QR(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=tt.fromDate(a);return{timestampValue:am(l.serializer,u)}}if(a instanceof tt){const u=new tt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:am(l.serializer,u)}}if(a instanceof qi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Fn)return{bytesValue:uI(l.serializer,a._byteString)};if(a instanceof Kt){const u=l.databaseId,f=a.firestore._databaseId;if(!f.isEqual(u))throw l.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:OE(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Fi)return(function(f,m){return{mapValue:{fields:{[lE]:{stringValue:uE},[tm]:{arrayValue:{values:f.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return zm(m.serializer,g)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${Cm(a)}`)})(r,e)}function YE(r,e){const i={};return iE(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):so(r,((a,l)=>{const u=$E(l,e.mc(a));u!=null&&(i[a]=u)})),{mapValue:{fields:i}}}function QE(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof tt||r instanceof qi||r instanceof Fn||r instanceof Kt||r instanceof $m||r instanceof Fi)}function XE(r,e,i){if(!QE(i)||!eE(i)){const a=Cm(i);throw a==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+a)}}function UC(r,e,i){if((e=an(e))instanceof Km)return e._internalPath;if(typeof e=="string")return ZE(r,e);throw Qc("Field path arguments must be of type string or ",r,!1,void 0,i)}const zC=new RegExp("[~\\*/\\[\\]]");function ZE(r,e,i){if(e.search(zC)>=0)throw Qc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Km(...e.split("."))._internalPath}catch{throw Qc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function Qc(r,e,i,a,l){const u=a&&!a.isEmpty(),f=l!==void 0;let m=`Function ${e}() called with invalid data`;i&&(m+=" (via `toFirestore()`)"),m+=". ";let y="";return(u||f)&&(y+=" (found",u&&(y+=` in field ${a}`),f&&(y+=` in document ${l}`),y+=")"),new pe(J.INVALID_ARGUMENT,m+r+y)}function BC(r,e){return r.some((i=>i.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(e,i,a,l,u){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new jC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(JE("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class jC extends WE{data(){return super.data()}}function JE(r,e){return typeof e=="string"?ZE(r,e):e instanceof Km?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HC(r,e,i){let a;return a=r?r.toFirestore(e):e,a}class bc{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ka extends WE{constructor(e,i,a,l,u,f){super(e,i,a,l,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Nc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(JE("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Ka._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Ka._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ka._jsonSchema={type:_t("string",Ka._jsonSchemaVersion),bundleSource:_t("string","DocumentSnapshot"),bundleName:_t("string"),bundle:_t("string")};class Nc extends Ka{data(e={}){return super.data(e)}}class Rl{constructor(e,i,a,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new bc(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new Nc(this._firestore,this._userDataWriter,a.key,a,new bc(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new pe(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,u){if(l._snapshot.oldDocs.isEmpty()){let f=0;return l._snapshot.docChanges.map((m=>{const y=new Nc(l._firestore,l._userDataWriter,m.doc.key,m.doc,new bc(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);return m.doc,{type:"added",doc:y,oldIndex:-1,newIndex:f++}}))}{let f=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const y=new Nc(l._firestore,l._userDataWriter,m.doc.key,m.doc,new bc(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);let g=-1,E=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:qC(m.type),doc:y,oldIndex:g,newIndex:E}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Rl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Im.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((u=>{u._document!==null&&(i.push(u._document),a.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),l.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function qC(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ie(61501,{type:r})}}Rl._jsonSchemaVersion="firestore/querySnapshot/1.0",Rl._jsonSchema={type:_t("string",Rl._jsonSchemaVersion),bundleSource:_t("string","QuerySnapshot"),bundleName:_t("string"),bundle:_t("string")};function FC(r,e){const i=tE(r.firestore,GE),a=DC(r),l=HC(r.converter,e);return GC(i,[LC(PC(r.firestore),"addDoc",a._key,l,r.converter!==null,{}).toMutation(a._key,Hi.exists(!1))]).then((()=>a))}function GC(r,e){return(function(a,l){const u=new Vs;return a.asyncQueue.enqueueAndForget((async()=>yC(await RC(a),l,u))),u.promise})(NC(r),e)}function KC(){return new Qm("serverTimestamp")}(function(e,i=!0){(function(l){ro=l})(io),mi(new Yn("firestore",((a,{instanceIdentifier:l,options:u})=>{const f=a.getProvider("app").getImmediate(),m=new GE(new rR(a.getProvider("auth-internal")),new oR(f,a.getProvider("app-check-internal")),(function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new pe(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hc(g.options.projectId,E)})(f,l),f);return u={useFetchStreams:i,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),On(Z_,W_,e),On(Z_,W_,"esm2020")})();var $C="firebase",YC="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */On($C,YC,"app");const eT="@firebase/installations",Xm="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT=1e4,nT=`w:${Xm}`,iT="FIS_v2",QC="https://firebaseinstallations.googleapis.com/v1",XC=3600*1e3,ZC="installations",WC="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},js=new Ks(ZC,WC,JC);function rT(r){return r instanceof Xn&&r.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sT({projectId:r}){return`${QC}/projects/${r}/installations`}function aT(r){return{token:r.token,requestStatus:2,expiresIn:t2(r.expiresIn),creationTime:Date.now()}}async function oT(r,e){const a=(await e.json()).error;return js.create("request-failed",{requestName:r,serverCode:a.code,serverMessage:a.message,serverStatus:a.status})}function lT({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function e2(r,{refreshToken:e}){const i=lT(r);return i.append("Authorization",n2(e)),i}async function uT(r){const e=await r();return e.status>=500&&e.status<600?r():e}function t2(r){return Number(r.replace("s","000"))}function n2(r){return`${iT} ${r}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i2({appConfig:r,heartbeatServiceProvider:e},{fid:i}){const a=sT(r),l=lT(r),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&l.append("x-firebase-client",g)}const f={fid:i,authVersion:iT,appId:r.appId,sdkVersion:nT},m={method:"POST",headers:l,body:JSON.stringify(f)},y=await uT(()=>fetch(a,m));if(y.ok){const g=await y.json();return{fid:g.fid||i,registrationStatus:2,refreshToken:g.refreshToken,authToken:aT(g.authToken)}}else throw await oT("Create Installation",y)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cT(r){return new Promise(e=>{setTimeout(e,r)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r2(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2=/^[cdef][\w-]{21}$/,hm="";function a2(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const i=o2(r);return s2.test(i)?i:hm}catch{return hm}}function o2(r){return r2(r).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _h(r){return`${r.appName}!${r.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT=new Map;function fT(r,e){const i=_h(r);dT(i,e),l2(i,e)}function dT(r,e){const i=hT.get(r);if(i)for(const a of i)a(e)}function l2(r,e){const i=u2();i&&i.postMessage({key:r,fid:e}),c2()}let ks=null;function u2(){return!ks&&"BroadcastChannel"in self&&(ks=new BroadcastChannel("[Firebase] FID Change"),ks.onmessage=r=>{dT(r.data.key,r.data.fid)}),ks}function c2(){hT.size===0&&ks&&(ks.close(),ks=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2="firebase-installations-database",f2=1,Hs="firebase-installations-store";let Bd=null;function Zm(){return Bd||(Bd=H0(h2,f2,{upgrade:(r,e)=>{switch(e){case 0:r.createObjectStore(Hs)}}})),Bd}async function Xc(r,e){const i=_h(r),l=(await Zm()).transaction(Hs,"readwrite"),u=l.objectStore(Hs),f=await u.get(i);return await u.put(e,i),await l.done,(!f||f.fid!==e.fid)&&fT(r,e.fid),e}async function mT(r){const e=_h(r),a=(await Zm()).transaction(Hs,"readwrite");await a.objectStore(Hs).delete(e),await a.done}async function vh(r,e){const i=_h(r),l=(await Zm()).transaction(Hs,"readwrite"),u=l.objectStore(Hs),f=await u.get(i),m=e(f);return m===void 0?await u.delete(i):await u.put(m,i),await l.done,m&&(!f||f.fid!==m.fid)&&fT(r,m.fid),m}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wm(r){let e;const i=await vh(r.appConfig,a=>{const l=d2(a),u=m2(r,l);return e=u.registrationPromise,u.installationEntry});return i.fid===hm?{installationEntry:await e}:{installationEntry:i,registrationPromise:e}}function d2(r){const e=r||{fid:a2(),registrationStatus:0};return pT(e)}function m2(r,e){if(e.registrationStatus===0){if(!navigator.onLine){const l=Promise.reject(js.create("app-offline"));return{installationEntry:e,registrationPromise:l}}const i={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},a=p2(r,i);return{installationEntry:i,registrationPromise:a}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:g2(r)}:{installationEntry:e}}async function p2(r,e){try{const i=await i2(r,e);return Xc(r.appConfig,i)}catch(i){throw rT(i)&&i.customData.serverCode===409?await mT(r.appConfig):await Xc(r.appConfig,{fid:e.fid,registrationStatus:0}),i}}async function g2(r){let e=await Uv(r.appConfig);for(;e.registrationStatus===1;)await cT(100),e=await Uv(r.appConfig);if(e.registrationStatus===0){const{installationEntry:i,registrationPromise:a}=await Wm(r);return a||i}return e}function Uv(r){return vh(r,e=>{if(!e)throw js.create("installation-not-found");return pT(e)})}function pT(r){return y2(r)?{fid:r.fid,registrationStatus:0}:r}function y2(r){return r.registrationStatus===1&&r.registrationTime+tT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _2({appConfig:r,heartbeatServiceProvider:e},i){const a=v2(r,i),l=e2(r,i),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&l.append("x-firebase-client",g)}const f={installation:{sdkVersion:nT,appId:r.appId}},m={method:"POST",headers:l,body:JSON.stringify(f)},y=await uT(()=>fetch(a,m));if(y.ok){const g=await y.json();return aT(g)}else throw await oT("Generate Auth Token",y)}function v2(r,{fid:e}){return`${sT(r)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jm(r,e=!1){let i;const a=await vh(r.appConfig,u=>{if(!gT(u))throw js.create("not-registered");const f=u.authToken;if(!e&&w2(f))return u;if(f.requestStatus===1)return i=E2(r,e),u;{if(!navigator.onLine)throw js.create("app-offline");const m=S2(u);return i=T2(r,m),m}});return i?await i:a.authToken}async function E2(r,e){let i=await zv(r.appConfig);for(;i.authToken.requestStatus===1;)await cT(100),i=await zv(r.appConfig);const a=i.authToken;return a.requestStatus===0?Jm(r,e):a}function zv(r){return vh(r,e=>{if(!gT(e))throw js.create("not-registered");const i=e.authToken;return A2(i)?{...e,authToken:{requestStatus:0}}:e})}async function T2(r,e){try{const i=await _2(r,e),a={...e,authToken:i};return await Xc(r.appConfig,a),i}catch(i){if(rT(i)&&(i.customData.serverCode===401||i.customData.serverCode===404))await mT(r.appConfig);else{const a={...e,authToken:{requestStatus:0}};await Xc(r.appConfig,a)}throw i}}function gT(r){return r!==void 0&&r.registrationStatus===2}function w2(r){return r.requestStatus===2&&!b2(r)}function b2(r){const e=Date.now();return e<r.creationTime||r.creationTime+r.expiresIn<e+XC}function S2(r){const e={requestStatus:1,requestTime:Date.now()};return{...r,authToken:e}}function A2(r){return r.requestStatus===1&&r.requestTime+tT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R2(r){const e=r,{installationEntry:i,registrationPromise:a}=await Wm(e);return a?a.catch(console.error):Jm(e).catch(console.error),i.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I2(r,e=!1){const i=r;return await C2(i),(await Jm(i,e)).token}async function C2(r){const{registrationPromise:e}=await Wm(r);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D2(r){if(!r||!r.options)throw jd("App Configuration");if(!r.name)throw jd("App Name");const e=["projectId","apiKey","appId"];for(const i of e)if(!r.options[i])throw jd(i);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function jd(r){return js.create("missing-app-config-values",{valueName:r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT="installations",O2="installations-internal",N2=r=>{const e=r.getProvider("app").getImmediate(),i=D2(e),a=$s(e,"heartbeat");return{app:e,appConfig:i,heartbeatServiceProvider:a,_delete:()=>Promise.resolve()}},M2=r=>{const e=r.getProvider("app").getImmediate(),i=$s(e,yT).getImmediate();return{getId:()=>R2(i),getToken:l=>I2(i,l)}};function x2(){mi(new Yn(yT,N2,"PUBLIC")),mi(new Yn(O2,M2,"PRIVATE"))}x2();On(eT,Xm);On(eT,Xm,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zc="analytics",k2="firebase_id",V2="origin",P2=60*1e3,L2="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ep="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sn=new lh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},gn=new Ks("analytics","Analytics",U2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z2(r){if(!r.startsWith(ep)){const e=gn.create("invalid-gtag-resource",{gtagURL:r});return sn.warn(e.message),""}return r}function _T(r){return Promise.all(r.map(e=>e.catch(i=>i)))}function B2(r,e){let i;return window.trustedTypes&&(i=window.trustedTypes.createPolicy(r,e)),i}function j2(r,e){const i=B2("firebase-js-sdk-policy",{createScriptURL:z2}),a=document.createElement("script"),l=`${ep}?l=${r}&id=${e}`;a.src=i?i==null?void 0:i.createScriptURL(l):l,a.async=!0,document.head.appendChild(a)}function H2(r){let e=[];return Array.isArray(window[r])?e=window[r]:window[r]=e,e}async function q2(r,e,i,a,l,u){const f=a[l];try{if(f)await e[f];else{const y=(await _T(i)).find(g=>g.measurementId===l);y&&await e[y.appId]}}catch(m){sn.error(m)}r("config",l,u)}async function F2(r,e,i,a,l){try{let u=[];if(l&&l.send_to){let f=l.send_to;Array.isArray(f)||(f=[f]);const m=await _T(i);for(const y of f){const g=m.find(b=>b.measurementId===y),E=g&&e[g.appId];if(E)u.push(E);else{u=[];break}}}u.length===0&&(u=Object.values(e)),await Promise.all(u),r("event",a,l||{})}catch(u){sn.error(u)}}function G2(r,e,i,a){async function l(u,...f){try{if(u==="event"){const[m,y]=f;await F2(r,e,i,m,y)}else if(u==="config"){const[m,y]=f;await q2(r,e,i,a,m,y)}else if(u==="consent"){const[m,y]=f;r("consent",m,y)}else if(u==="get"){const[m,y,g]=f;r("get",m,y,g)}else if(u==="set"){const[m]=f;r("set",m)}else r(u,...f)}catch(m){sn.error(m)}}return l}function K2(r,e,i,a,l){let u=function(...f){window[a].push(arguments)};return window[l]&&typeof window[l]=="function"&&(u=window[l]),window[l]=G2(u,r,e,i),{gtagCore:u,wrappedGtag:window[l]}}function $2(r){const e=window.document.getElementsByTagName("script");for(const i of Object.values(e))if(i.src&&i.src.includes(ep)&&i.src.includes(r))return i;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y2=30,Q2=1e3;class X2{constructor(e={},i=Q2){this.throttleMetadata=e,this.intervalMillis=i}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,i){this.throttleMetadata[e]=i}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const vT=new X2;function Z2(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function W2(r){var f;const{appId:e,apiKey:i}=r,a={method:"GET",headers:Z2(i)},l=L2.replace("{app-id}",e),u=await fetch(l,a);if(u.status!==200&&u.status!==304){let m="";try{const y=await u.json();(f=y.error)!=null&&f.message&&(m=y.error.message)}catch{}throw gn.create("config-fetch-failed",{httpStatus:u.status,responseMessage:m})}return u.json()}async function J2(r,e=vT,i){const{appId:a,apiKey:l,measurementId:u}=r.options;if(!a)throw gn.create("no-app-id");if(!l){if(u)return{measurementId:u,appId:a};throw gn.create("no-api-key")}const f=e.getThrottleMetadata(a)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new nD;return setTimeout(async()=>{m.abort()},P2),ET({appId:a,apiKey:l,measurementId:u},f,m,e)}async function ET(r,{throttleEndTimeMillis:e,backoffCount:i},a,l=vT){var m;const{appId:u,measurementId:f}=r;try{await eD(a,e)}catch(y){if(f)return sn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${y==null?void 0:y.message}]`),{appId:u,measurementId:f};throw y}try{const y=await W2(r);return l.deleteThrottleMetadata(u),y}catch(y){const g=y;if(!tD(g)){if(l.deleteThrottleMetadata(u),f)return sn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${g==null?void 0:g.message}]`),{appId:u,measurementId:f};throw y}const E=Number((m=g==null?void 0:g.customData)==null?void 0:m.httpStatus)===503?j_(i,l.intervalMillis,Y2):j_(i,l.intervalMillis),b={throttleEndTimeMillis:Date.now()+E,backoffCount:i+1};return l.setThrottleMetadata(u,b),sn.debug(`Calling attemptFetch again in ${E} millis`),ET(r,b,a,l)}}function eD(r,e){return new Promise((i,a)=>{const l=Math.max(e-Date.now(),0),u=setTimeout(i,l);r.addEventListener(()=>{clearTimeout(u),a(gn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function tD(r){if(!(r instanceof Xn)||!r.customData)return!1;const e=Number(r.customData.httpStatus);return e===429||e===500||e===503||e===504}class nD{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function iD(r,e,i,a,l){if(l&&l.global){r("event",i,a);return}else{const u=await e,f={...a,send_to:u};r("event",i,f)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rD(){if(U0())try{await z0()}catch(r){return sn.warn(gn.create("indexeddb-unavailable",{errorInfo:r==null?void 0:r.toString()}).message),!1}else return sn.warn(gn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function sD(r,e,i,a,l,u,f){const m=J2(r);m.then(A=>{i[A.measurementId]=A.appId,r.options.measurementId&&A.measurementId!==r.options.measurementId&&sn.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${A.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(A=>sn.error(A)),e.push(m);const y=rD().then(A=>{if(A)return a.getId()}),[g,E]=await Promise.all([m,y]);$2(u)||j2(u,g.measurementId),l("js",new Date);const b=(f==null?void 0:f.config)??{};return b[V2]="firebase",b.update=!0,E!=null&&(b[k2]=E),l("config",g.measurementId,b),g.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(e){this.app=e}_delete(){return delete Il[this.app.options.appId],Promise.resolve()}}let Il={},Bv=[];const jv={};let Hd="dataLayer",oD="gtag",Hv,TT,qv=!1;function lD(){const r=[];if(L0()&&r.push("This is a browser extension environment."),LA()||r.push("Cookies are not available."),r.length>0){const e=r.map((a,l)=>`(${l+1}) ${a}`).join(" "),i=gn.create("invalid-analytics-context",{errorInfo:e});sn.warn(i.message)}}function uD(r,e,i){lD();const a=r.options.appId;if(!a)throw gn.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)sn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw gn.create("no-api-key");if(Il[a]!=null)throw gn.create("already-exists",{id:a});if(!qv){H2(Hd);const{wrappedGtag:u,gtagCore:f}=K2(Il,Bv,jv,Hd,oD);TT=u,Hv=f,qv=!0}return Il[a]=sD(r,Bv,jv,e,Hv,Hd,i),new aD(r)}function cD(r=Sm()){r=an(r);const e=$s(r,Zc);return e.isInitialized()?e.getImmediate():hD(r)}function hD(r,e={}){const i=$s(r,Zc);if(i.isInitialized()){const l=i.getImmediate();if(jr(e,i.getOptions()))return l;throw gn.create("already-initialized")}return i.initialize({options:e})}function fD(r,e,i,a){r=an(r),iD(TT,Il[r.app.options.appId],e,i,a).catch(l=>sn.error(l))}const Fv="@firebase/analytics",Gv="0.10.18";function dD(){mi(new Yn(Zc,(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),l=e.getProvider("installations-internal").getImmediate();return uD(a,l,i)},"PUBLIC")),mi(new Yn("analytics-internal",r,"PRIVATE")),On(Fv,Gv),On(Fv,Gv,"esm2020");function r(e){try{const i=e.getProvider(Zc).getImmediate();return{logEvent:(a,l,u)=>fD(i,a,l,u)}}catch(i){throw gn.create("interop-component-reg-failed",{reason:i})}}}dD();function wT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const mD=wT,bT=new Ks("auth","Firebase",wT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wc=new lh("@firebase/auth");function pD(r,...e){Wc.logLevel<=xe.WARN&&Wc.warn(`Auth (${io}): ${r}`,...e)}function Mc(r,...e){Wc.logLevel<=xe.ERROR&&Wc.error(`Auth (${io}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(r,...e){throw tp(r,...e)}function fi(r,...e){return tp(r,...e)}function ST(r,e,i){const a={...mD(),[e]:i};return new Ks("auth","Firebase",a).create(e,{appName:r.name})}function Gi(r){return ST(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function tp(r,...e){if(typeof r!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return bT.create(r,...e)}function _e(r,e,...i){if(!r)throw tp(e,...i)}function zi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Mc(e),new Error(e)}function Yi(r,e){r||zi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fm(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.href)||""}function gD(){return Kv()==="http:"||Kv()==="https:"}function Kv(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(gD()||L0()||"connection"in navigator)?navigator.onLine:!0}function _D(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(e,i){this.shortDelay=e,this.longDelay=i,Yi(i>e,"Short delay should be less than long delay!"),this.isMobile=NA()||kA()}get(){return yD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function np(r,e){Yi(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;zi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;zi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;zi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ED=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],TD=new Yl(3e4,6e4);function $r(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Yr(r,e,i,a,l={}){return RT(r,l,async()=>{let u={},f={};a&&(e==="GET"?f=a:u={body:JSON.stringify(a)});const m=jl({key:r.config.apiKey,...f}).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:y,...u};return xA()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&no(r.emulatorConfig.host)&&(g.credentials="include"),AT.fetch()(await IT(r,r.config.apiHost,i,m),g)})}async function RT(r,e,i){r._canInitEmulator=!1;const a={...vD,...e};try{const l=new bD(r),u=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Sc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[y,g]=m.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sc(r,"credential-already-in-use",f);if(y==="EMAIL_EXISTS")throw Sc(r,"email-already-in-use",f);if(y==="USER_DISABLED")throw Sc(r,"user-disabled",f);const E=a[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw ST(r,E,g);Qn(r,E)}}catch(l){if(l instanceof Xn)throw l;Qn(r,"network-request-failed",{message:String(l)})}}async function Ql(r,e,i,a,l={}){const u=await Yr(r,e,i,a,l);return"mfaPendingCredential"in u&&Qn(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function IT(r,e,i,a){const l=`${e}${i}?${a}`,u=r,f=u.config.emulator?np(r.config,l):`${r.config.apiScheme}://${l}`;return ED.includes(i)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function wD(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class bD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(fi(this.auth,"network-request-failed")),TD.get())})}}function Sc(r,e,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=fi(r,e,a);return l.customData._tokenResponse=i,l}function $v(r){return r!==void 0&&r.enterprise!==void 0}class SD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===e)return wD(i.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function AD(r,e){return Yr(r,"GET","/v2/recaptchaConfig",$r(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RD(r,e){return Yr(r,"POST","/v1/accounts:delete",e)}async function Jc(r,e){return Yr(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ID(r,e=!1){const i=an(r),a=await i.getIdToken(e),l=ip(a);_e(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:l,token:a,authTime:Cl(qd(l.auth_time)),issuedAtTime:Cl(qd(l.iat)),expirationTime:Cl(qd(l.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function qd(r){return Number(r)*1e3}function ip(r){const[e,i,a]=r.split(".");if(e===void 0||i===void 0||a===void 0)return Mc("JWT malformed, contained fewer than 3 sections"),null;try{const l=N0(i);return l?JSON.parse(l):(Mc("Failed to decode base64 JWT payload"),null)}catch(l){return Mc("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function Yv(r){const e=ip(r);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pl(r,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof Xn&&CD(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function CD({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Cl(this.lastLoginAt),this.creationTime=Cl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eh(r){var b;const e=r.auth,i=await r.getIdToken(),a=await Pl(r,Jc(e,{idToken:i}));_e(a==null?void 0:a.users.length,e,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const u=(b=l.providerUserInfo)!=null&&b.length?CT(l.providerUserInfo):[],f=ND(r.providerData,u),m=r.isAnonymous,y=!(r.email&&l.passwordHash)&&!(f!=null&&f.length),g=m?y:!1,E={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new dm(l.createdAt,l.lastLoginAt),isAnonymous:g};Object.assign(r,E)}async function OD(r){const e=an(r);await eh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ND(r,e){return[...r.filter(a=>!e.some(l=>l.providerId===a.providerId)),...e]}function CT(r){return r.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MD(r,e){const i=await RT(r,{},async()=>{const a=jl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:u}=r.config,f=await IT(r,l,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:m,body:a};return r.emulatorConfig&&no(r.emulatorConfig.host)&&(y.credentials="include"),AT.fetch()(f,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function xD(r,e){return Yr(r,"POST","/v2/accounts:revokeToken",$r(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Yv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){_e(e.length!==0,"internal-error");const i=Yv(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(_e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:l,expiresIn:u}=await MD(e,i);this.updateTokensAndExpiration(a,l,Number(u))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:l,expirationTime:u}=i,f=new $a;return a&&(_e(typeof a=="string","internal-error",{appName:e}),f.refreshToken=a),l&&(_e(typeof l=="string","internal-error",{appName:e}),f.accessToken=l),u&&(_e(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new $a,this.toJSON())}_performRefresh(){return zi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xr(r,e){_e(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Kn{constructor({uid:e,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new DD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new dm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await Pl(this,this.stsTokenManager.getToken(this.auth,e));return _e(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return ID(this,e)}reload(){return OD(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new Kn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await eh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Dn(this.auth.app))return Promise.reject(Gi(this.auth));const e=await this.getIdToken();return await Pl(this,RD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,l=i.email??void 0,u=i.phoneNumber??void 0,f=i.photoURL??void 0,m=i.tenantId??void 0,y=i._redirectEventId??void 0,g=i.createdAt??void 0,E=i.lastLoginAt??void 0,{uid:b,emailVerified:A,isAnonymous:j,providerData:F,stsTokenManager:Z}=i;_e(b&&Z,e,"internal-error");const G=$a.fromJSON(this.name,Z);_e(typeof b=="string",e,"internal-error"),xr(a,e.name),xr(l,e.name),_e(typeof A=="boolean",e,"internal-error"),_e(typeof j=="boolean",e,"internal-error"),xr(u,e.name),xr(f,e.name),xr(m,e.name),xr(y,e.name),xr(g,e.name),xr(E,e.name);const te=new Kn({uid:b,auth:e,email:l,emailVerified:A,displayName:a,isAnonymous:j,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:G,createdAt:g,lastLoginAt:E});return F&&Array.isArray(F)&&(te.providerData=F.map(re=>({...re}))),y&&(te._redirectEventId=y),te}static async _fromIdTokenResponse(e,i,a=!1){const l=new $a;l.updateFromServerResponse(i);const u=new Kn({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:a});return await eh(u),u}static async _fromGetAccountInfoResponse(e,i,a){const l=i.users[0];_e(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?CT(l.providerUserInfo):[],f=!(l.email&&l.passwordHash)&&!(u!=null&&u.length),m=new $a;m.updateFromIdToken(a);const y=new Kn({uid:l.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new dm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(u!=null&&u.length)};return Object.assign(y,g),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qv=new Map;function Bi(r){Yi(r instanceof Function,"Expected a class definition");let e=Qv.get(r);return e?(Yi(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Qv.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}DT.type="NONE";const Xv=DT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xc(r,e,i){return`firebase:${r}:${e}:${i}`}class Ya{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:l,name:u}=this.auth;this.fullUserKey=xc(this.userKey,l.apiKey,u),this.fullPersistenceKey=xc("persistence",l.apiKey,u),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await Jc(this.auth,{idToken:e}).catch(()=>{});return i?Kn._fromGetAccountInfoResponse(this.auth,i,e):null}return Kn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new Ya(Bi(Xv),e,a);const l=(await Promise.all(i.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=l[0]||Bi(Xv);const f=xc(a,e.config.apiKey,e.name);let m=null;for(const g of i)try{const E=await g._get(f);if(E){let b;if(typeof E=="string"){const A=await Jc(e,{idToken:E}).catch(()=>{});if(!A)break;b=await Kn._fromGetAccountInfoResponse(e,A,E)}else b=Kn._fromJSON(e,E);g!==u&&(m=b),u=g;break}}catch{}const y=l.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!y.length?new Ya(u,e,a):(u=y[0],m&&await u._set(f,m.toJSON()),await Promise.all(i.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new Ya(u,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zv(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(xT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(OT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(VT(e))return"Blackberry";if(PT(e))return"Webos";if(NT(e))return"Safari";if((e.includes("chrome/")||MT(e))&&!e.includes("edge/"))return"Chrome";if(kT(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function OT(r=$t()){return/firefox\//i.test(r)}function NT(r=$t()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function MT(r=$t()){return/crios\//i.test(r)}function xT(r=$t()){return/iemobile/i.test(r)}function kT(r=$t()){return/android/i.test(r)}function VT(r=$t()){return/blackberry/i.test(r)}function PT(r=$t()){return/webos/i.test(r)}function rp(r=$t()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function kD(r=$t()){var e;return rp(r)&&!!((e=window.navigator)!=null&&e.standalone)}function VD(){return VA()&&document.documentMode===10}function LT(r=$t()){return rp(r)||kT(r)||PT(r)||VT(r)||/windows phone/i.test(r)||xT(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UT(r,e=[]){let i;switch(r){case"Browser":i=Zv($t());break;case"Worker":i=`${Zv($t())}-${r}`;break;default:i=r}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${io}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=u=>new Promise((f,m)=>{try{const y=e(u);f(y)}catch(y){m(y)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LD(r,e={}){return Yr(r,"GET","/v2/passwordPolicy",$r(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UD=6;class zD{constructor(e){var a;const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??UD,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((a=e.allowedNonAlphanumericCharacters)==null?void 0:a.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<e.length;l++)a=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,l,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e,i,a,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Wv(this),this.idTokenSubscription=new Wv(this),this.beforeStateQueue=new PD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=Bi(i)),this._initializationPromise=this.queue(async()=>{var a,l,u;if(!this._deleted&&(this.persistenceManager=await Ya.create(this,e),(a=this._resolvePersistenceManagerAvailable)==null||a.call(this),!this._deleted)){if((l=this._popupRedirectResolver)!=null&&l._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=((u=this.currentUser)==null?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await Jc(this,{idToken:e}),a=await Kn._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var u;if(Dn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(u=this.redirectUser)==null?void 0:u._redirectEventId,m=a==null?void 0:a._redirectEventId,y=await this.tryRedirectSignIn(e);(!f||f===m)&&(y!=null&&y.user)&&(a=y.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(f){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await eh(e)}catch(i){if((i==null?void 0:i.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=_D()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Dn(this.app))return Promise.reject(Gi(this));const i=e?an(e):null;return i&&_e(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Dn(this.app)?Promise.reject(Gi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Dn(this.app)?Promise.reject(Gi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Bi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await LD(this),i=new zD(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ks("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await xD(this,a)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&Bi(e)||this._popupRedirectResolver;_e(i,this,"argument-error"),this.redirectPersistenceManager=await Ya.create(this,[Bi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var i,a;return this._isInitialized&&await this.queue(async()=>{}),((i=this._currentUser)==null?void 0:i._redirectEventId)===e?this._currentUser:((a=this.redirectUser)==null?void 0:a._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((i=this.currentUser)==null?void 0:i.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,l){if(this._deleted)return()=>{};const u=typeof i=="function"?i:i.next.bind(i);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof i=="function"){const y=e.addObserver(i,a,l);return()=>{f=!0,y()}}else{const y=e.addObserver(i);return()=>{f=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=UT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var l;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await((l=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:l.getHeartbeatsHeader());i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){var i;if(Dn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((i=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getToken());return e!=null&&e.error&&pD(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Xs(r){return an(r)}class Wv{constructor(e){this.auth=e,this.observer=null,this.addObserver=HA(i=>this.observer=i)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Eh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function jD(r){Eh=r}function zT(r){return Eh.loadJS(r)}function HD(){return Eh.recaptchaEnterpriseScript}function qD(){return Eh.gapiScript}function FD(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class GD{constructor(){this.enterprise=new KD}ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}class KD{ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}const $D="recaptcha-enterprise",BT="NO_RECAPTCHA";class YD{constructor(e){this.type=$D,this.auth=Xs(e)}async verify(e="verify",i=!1){async function a(u){if(!i){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{AD(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new SD(y);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(y=>{m(y)})})}function l(u,f,m){const y=window.grecaptcha;$v(y)?y.enterprise.ready(()=>{y.enterprise.execute(u,{action:e}).then(g=>{f(g)}).catch(()=>{f(BT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new GD().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{a(this.auth).then(m=>{if(!i&&$v(window.grecaptcha))l(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let y=HD();y.length!==0&&(y+=m),zT(y).then(()=>{l(m,u,f)}).catch(g=>{f(g)})}}).catch(m=>{f(m)})})}}async function Jv(r,e,i,a=!1,l=!1){const u=new YD(r);let f;if(l)f=BT;else try{f=await u.verify(i)}catch{f=await u.verify(i,!0)}const m={...e};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const y=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const y=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return a?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function mm(r,e,i,a,l){var u;if((u=r._getRecaptchaConfig())!=null&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await Jv(r,e,i,i==="getOobCode");return a(r,f)}else return a(r,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await Jv(r,e,i,i==="getOobCode");return a(r,m)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QD(r,e){const i=$s(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),u=i.getOptions();if(jr(u,e??{}))return l;Qn(l,"already-initialized")}return i.initialize({options:e})}function XD(r,e){const i=(e==null?void 0:e.persistence)||[],a=(Array.isArray(i)?i:[i]).map(Bi);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(a,e==null?void 0:e.popupRedirectResolver)}function ZD(r,e,i){const a=Xs(r);_e(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const l=!1,u=jT(e),{host:f,port:m}=WD(e),y=m===null?"":`:${m}`,g={url:`${u}//${f}${y}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){_e(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),_e(jr(g,a.config.emulator)&&jr(E,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=g,a.emulatorConfig=E,a.settings.appVerificationDisabledForTesting=!0,no(f)?(V0(`${u}//${f}${y}`),P0("Auth",!0)):JD()}function jT(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function WD(r){const e=jT(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const u=l[1];return{host:u,port:e0(a.substr(u.length+1))}}else{const[u,f]=a.split(":");return{host:u,port:e0(f)}}}function e0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function JD(){function r(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return zi("not implemented")}_getIdTokenResponse(e){return zi("not implemented")}_linkToIdToken(e,i){return zi("not implemented")}_getReauthenticationResolver(e){return zi("not implemented")}}async function eO(r,e){return Yr(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tO(r,e){return Ql(r,"POST","/v1/accounts:signInWithPassword",$r(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nO(r,e){return Ql(r,"POST","/v1/accounts:signInWithEmailLink",$r(r,e))}async function iO(r,e){return Ql(r,"POST","/v1/accounts:signInWithEmailLink",$r(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll extends sp{constructor(e,i,a,l=null){super("password",a),this._email=e,this._password=i,this._tenantId=l}static _fromEmailAndPassword(e,i){return new Ll(e,i,"password")}static _fromEmailAndCode(e,i,a=null){return new Ll(e,i,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e;if(i!=null&&i.email&&(i!=null&&i.password)){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return mm(e,i,"signInWithPassword",tO);case"emailLink":return nO(e,{email:this._email,oobCode:this._password});default:Qn(e,"internal-error")}}async _linkToIdToken(e,i){switch(this.signInMethod){case"password":const a={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return mm(e,a,"signUpPassword",eO);case"emailLink":return iO(e,{idToken:i,email:this._email,oobCode:this._password});default:Qn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qa(r,e){return Ql(r,"POST","/v1/accounts:signInWithIdp",$r(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO="http://localhost";class qs extends sp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new qs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):Qn("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:l,...u}=i;if(!a||!l)return null;const f=new qs(a,l);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const i=this.buildRequest();return Qa(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,Qa(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,Qa(e,i)}buildRequest(){const e={requestUri:rO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=jl(i)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sO(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function aO(r){const e=_l(vl(r)).link,i=e?_l(vl(e)).deep_link_id:null,a=_l(vl(r)).deep_link_id;return(a?_l(vl(a)).link:null)||a||i||e||r}class ap{constructor(e){const i=_l(vl(e)),a=i.apiKey??null,l=i.oobCode??null,u=sO(i.mode??null);_e(a&&l&&u,"argument-error"),this.apiKey=a,this.operation=u,this.code=l,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(e){const i=aO(e);try{return new ap(i)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(){this.providerId=ao.PROVIDER_ID}static credential(e,i){return Ll._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){const a=ap.parseLink(i);return _e(a,"argument-error"),Ll._fromEmailAndCode(e,a.code,a.tenantId)}}ao.PROVIDER_ID="password";ao.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ao.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl extends HT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr extends Xl{constructor(){super("facebook.com")}static credential(e){return qs._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return kr.credentialFromTaggedObject(e)}static credentialFromError(e){return kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return kr.credential(e.oauthAccessToken)}catch{return null}}}kr.FACEBOOK_SIGN_IN_METHOD="facebook.com";kr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr extends Xl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return qs._fromParams({providerId:Vr.PROVIDER_ID,signInMethod:Vr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return Vr.credentialFromTaggedObject(e)}static credentialFromError(e){return Vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return Vr.credential(i,a)}catch{return null}}}Vr.GOOGLE_SIGN_IN_METHOD="google.com";Vr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends Xl{constructor(){super("github.com")}static credential(e){return qs._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pr.credentialFromTaggedObject(e)}static credentialFromError(e){return Pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pr.credential(e.oauthAccessToken)}catch{return null}}}Pr.GITHUB_SIGN_IN_METHOD="github.com";Pr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr extends Xl{constructor(){super("twitter.com")}static credential(e,i){return qs._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return Lr.credentialFromTaggedObject(e)}static credentialFromError(e){return Lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return Lr.credential(i,a)}catch{return null}}}Lr.TWITTER_SIGN_IN_METHOD="twitter.com";Lr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oO(r,e){return Ql(r,"POST","/v1/accounts:signUp",$r(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,l=!1){const u=await Kn._fromIdTokenResponse(e,a,l),f=t0(a);return new Fs({user:u,providerId:f,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const l=t0(a);return new Fs({user:e,providerId:l,_tokenResponse:a,operationType:i})}}function t0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th extends Xn{constructor(e,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,th.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,l){return new th(e,i,a,l)}}function qT(r,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?th._fromErrorAndOperation(r,u,e,a):u})}async function lO(r,e,i=!1){const a=await Pl(r,e._linkToIdToken(r.auth,await r.getIdToken()),i);return Fs._forOperation(r,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uO(r,e,i=!1){const{auth:a}=r;if(Dn(a.app))return Promise.reject(Gi(a));const l="reauthenticate";try{const u=await Pl(r,qT(a,l,e,r),i);_e(u.idToken,a,"internal-error");const f=ip(u.idToken);_e(f,a,"internal-error");const{sub:m}=f;return _e(r.uid===m,a,"user-mismatch"),Fs._forOperation(r,l,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Qn(a,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FT(r,e,i=!1){if(Dn(r.app))return Promise.reject(Gi(r));const a="signIn",l=await qT(r,a,e),u=await Fs._fromIdTokenResponse(r,a,l);return i||await r._updateCurrentUser(u.user),u}async function cO(r,e){return FT(Xs(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GT(r){const e=Xs(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function BN(r,e,i){if(Dn(r.app))return Promise.reject(Gi(r));const a=Xs(r),f=await mm(a,{returnSecureToken:!0,email:e,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",oO).catch(y=>{throw y.code==="auth/password-does-not-meet-requirements"&&GT(r),y}),m=await Fs._fromIdTokenResponse(a,"signIn",f);return await a._updateCurrentUser(m.user),m}function jN(r,e,i){return Dn(r.app)?Promise.reject(Gi(r)):cO(an(r),ao.credential(e,i)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&GT(r),a})}function hO(r,e,i,a){return an(r).onIdTokenChanged(e,i,a)}function fO(r,e,i){return an(r).beforeAuthStateChanged(e,i)}const nh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(nh,"1"),this.storage.removeItem(nh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dO=1e3,mO=10;class $T extends KT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=LT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&e(i,l,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((f,m,y)=>{this.notifyListeners(f,y)});return}const a=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const f=this.storage.getItem(a);!i&&this.localCache[a]===f||this.notifyListeners(a,f)},u=this.storage.getItem(a);VD()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,mO):l()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},dO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}$T.type="LOCAL";const pO=$T;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT extends KT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}YT.type="SESSION";const QT=YT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gO(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const a=new Th(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:l,data:u}=i.data,f=this.handlersMap[l];if(!(f!=null&&f.size))return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const m=Array.from(f).map(async g=>g(i.origin,u)),y=await gO(m);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:y})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Th.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function op(r="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return r+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,f;return new Promise((m,y)=>{const g=op("",20);l.port1.start();const E=setTimeout(()=>{y(new Error("unsupported_event"))},a);f={messageChannel:l,onMessage(b){const A=b;if(A.data.eventId===g)switch(A.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(A.data.response);break;default:clearTimeout(E),clearTimeout(u),y(new Error("invalid_response"));break}}},this.handlers.add(f),l.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:i},[l.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function di(){return window}function _O(r){di().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XT(){return typeof di().WorkerGlobalScope<"u"&&typeof di().importScripts=="function"}async function vO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function EO(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)==null?void 0:r.controller)||null}function TO(){return XT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZT="firebaseLocalStorageDb",wO=1,ih="firebaseLocalStorage",WT="fbase_key";class Zl{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function wh(r,e){return r.transaction([ih],e?"readwrite":"readonly").objectStore(ih)}function bO(){const r=indexedDB.deleteDatabase(ZT);return new Zl(r).toPromise()}function pm(){const r=indexedDB.open(ZT,wO);return new Promise((e,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(ih,{keyPath:WT})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(ih)?e(a):(a.close(),await bO(),e(await pm()))})})}async function n0(r,e,i){const a=wh(r,!0).put({[WT]:e,value:i});return new Zl(a).toPromise()}async function SO(r,e){const i=wh(r,!1).get(e),a=await new Zl(i).toPromise();return a===void 0?null:a.value}function i0(r,e){const i=wh(r,!0).delete(e);return new Zl(i).toPromise()}const AO=800,RO=3;class JT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await pm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>RO)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return XT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Th._getInstance(TO()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){var i,a;if(this.activeServiceWorker=await vO(),!this.activeServiceWorker)return;this.sender=new yO(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(i=e[0])!=null&&i.fulfilled&&(a=e[0])!=null&&a.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||EO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await pm();return await n0(e,nh,"1"),await i0(e,nh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>n0(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>SO(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>i0(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const u=wh(l,!1).getAll();return new Zl(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:l,value:u}of e)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),AO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}JT.type="LOCAL";const IO=JT;new Yl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CO(r,e){return e?Bi(e):(_e(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp extends sp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Qa(e,this._buildIdpRequest())}_linkToIdToken(e,i){return Qa(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return Qa(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function DO(r){return FT(r.auth,new lp(r),r.bypassAuthState)}function OO(r){const{auth:e,user:i}=r;return _e(i,e,"internal-error"),uO(i,new lp(r),r.bypassAuthState)}async function NO(r){const{auth:e,user:i}=r;return _e(i,e,"internal-error"),lO(i,new lp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(e,i,a,l,u=!1){this.auth=e,this.resolver=a,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:l,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const y={auth:this.auth,requestUri:i,sessionId:a,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(y))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return DO;case"linkViaPopup":case"linkViaRedirect":return NO;case"reauthViaPopup":case"reauthViaRedirect":return OO;default:Qn(this.auth,"internal-error")}}resolve(e){Yi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Yi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MO=new Yl(2e3,1e4);class Fa extends ew{constructor(e,i,a,l,u){super(e,i,l,u),this.provider=a,this.authWindow=null,this.pollId=null,Fa.currentPopupAction&&Fa.currentPopupAction.cancel(),Fa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _e(e,this.auth,"internal-error"),e}async onExecution(){Yi(this.filter.length===1,"Popup operations only handle one event");const e=op();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(fi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(fi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Fa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var i,a;if((a=(i=this.authWindow)==null?void 0:i.window)!=null&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(fi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,MO.get())};e()}}Fa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xO="pendingRedirect",kc=new Map;class kO extends ew{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=kc.get(this.auth._key());if(!e){try{const a=await VO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}kc.set(this.auth._key(),e)}return this.bypassAuthState||kc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function VO(r,e){const i=UO(e),a=LO(r);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function PO(r,e){kc.set(r._key(),e)}function LO(r){return Bi(r._redirectPersistence)}function UO(r){return xc(xO,r.config.apiKey,r.name)}async function zO(r,e,i=!1){if(Dn(r.app))return Promise.reject(Gi(r));const a=Xs(r),l=CO(a,e),f=await new kO(a,l,i).execute();return f&&!i&&(delete f.user._redirectEventId,await a._persistUserIfCurrent(f.user),await a._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BO=600*1e3;class jO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!HO(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){var a;if(e.error&&!tw(e)){const l=((a=e.error.code)==null?void 0:a.split("auth/")[1])||"internal-error";i.onError(fi(this.auth,l))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=BO&&this.cachedEventUids.clear(),this.cachedEventUids.has(r0(e))}saveEventToCache(e){this.cachedEventUids.add(r0(e)),this.lastProcessedEventTime=Date.now()}}function r0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function tw({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function HO(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return tw(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qO(r,e={}){return Yr(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,GO=/^https?/;async function KO(r){if(r.config.emulator)return;const{authorizedDomains:e}=await qO(r);for(const i of e)try{if($O(i))return}catch{}Qn(r,"unauthorized-domain")}function $O(r){const e=fm(),{protocol:i,hostname:a}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&f.hostname===a}if(!GO.test(i))return!1;if(FO.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YO=new Yl(3e4,6e4);function s0(){const r=di().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function QO(r){return new Promise((e,i)=>{var l,u,f;function a(){s0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{s0(),i(fi(r,"network-request-failed"))},timeout:YO.get()})}if((u=(l=di().gapi)==null?void 0:l.iframes)!=null&&u.Iframe)e(gapi.iframes.getContext());else if((f=di().gapi)!=null&&f.load)a();else{const m=FD("iframefcb");return di()[m]=()=>{gapi.load?a():i(fi(r,"network-request-failed"))},zT(`${qD()}?onload=${m}`).catch(y=>i(y))}}).catch(e=>{throw Vc=null,e})}let Vc=null;function XO(r){return Vc=Vc||QO(r),Vc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZO=new Yl(5e3,15e3),WO="__/auth/iframe",JO="emulator/auth/iframe",eN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nN(r){const e=r.config;_e(e.authDomain,r,"auth-domain-config-required");const i=e.emulator?np(e,JO):`https://${r.config.authDomain}/${WO}`,a={apiKey:e.apiKey,appName:r.name,v:io},l=tN.get(r.config.apiHost);l&&(a.eid=l);const u=r._getFrameworks();return u.length&&(a.fw=u.join(",")),`${i}?${jl(a).slice(1)}`}async function iN(r){const e=await XO(r),i=di().gapi;return _e(i,r,"internal-error"),e.open({where:document.body,url:nN(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:eN,dontclear:!0},a=>new Promise(async(l,u)=>{await a.restyle({setHideOnLeave:!1});const f=fi(r,"network-request-failed"),m=di().setTimeout(()=>{u(f)},ZO.get());function y(){di().clearTimeout(m),l(a)}a.ping(y).then(y,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},sN=500,aN=600,oN="_blank",lN="http://localhost";class a0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function uN(r,e,i,a=sN,l=aN){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),f=Math.max((window.screen.availWidth-a)/2,0).toString();let m="";const y={...rN,width:a.toString(),height:l.toString(),top:u,left:f},g=$t().toLowerCase();i&&(m=MT(g)?oN:i),OT(g)&&(e=e||lN,y.scrollbars="yes");const E=Object.entries(y).reduce((A,[j,F])=>`${A}${j}=${F},`,"");if(kD(g)&&m!=="_self")return cN(e||"",m),new a0(null);const b=window.open(e||"",m,E);_e(b,r,"popup-blocked");try{b.focus()}catch{}return new a0(b)}function cN(r,e){const i=document.createElement("a");i.href=r,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN="__/auth/handler",fN="emulator/auth/handler",dN=encodeURIComponent("fac");async function o0(r,e,i,a,l,u){_e(r.config.authDomain,r,"auth-domain-config-required"),_e(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:io,eventId:l};if(e instanceof HT){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",jA(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,b]of Object.entries({}))f[E]=b}if(e instanceof Xl){const E=e.getScopes().filter(b=>b!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const y=await r._getAppCheckToken(),g=y?`#${dN}=${encodeURIComponent(y)}`:"";return`${mN(r)}?${jl(m).slice(1)}${g}`}function mN({config:r}){return r.emulator?np(r,fN):`https://${r.authDomain}/${hN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fd="webStorageSupport";class pN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=QT,this._completeRedirectFn=zO,this._overrideRedirectResult=PO}async _openPopup(e,i,a,l){var f;Yi((f=this.eventManagers[e._key()])==null?void 0:f.manager,"_initialize() not called before _openPopup()");const u=await o0(e,i,a,fm(),l);return uN(e,u,op())}async _openRedirect(e,i,a,l){await this._originValidation(e);const u=await o0(e,i,a,fm(),l);return _O(u),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:u}=this.eventManagers[i];return l?Promise.resolve(l):(Yi(u,"If manager is not set, promise should be"),u)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await iN(e),a=new jO(e);return i.register("authEvent",l=>(_e(l==null?void 0:l.authEvent,e,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Fd,{type:Fd},l=>{var f;const u=(f=l==null?void 0:l[0])==null?void 0:f[Fd];u!==void 0&&i(!!u),Qn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=KO(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return LT()||NT()||rp()}}const gN=pN;var l0="@firebase/auth",u0="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _N(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function vN(r){mi(new Yn("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=a.options;_e(f&&!f.includes(":"),"invalid-api-key",{appName:a.name});const y={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:UT(r)},g=new BD(a,l,u,y);return XD(g,i),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),mi(new Yn("auth-internal",e=>{const i=Xs(e.getProvider("auth").getImmediate());return(a=>new yN(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),On(l0,u0,_N(r)),On(l0,u0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN=300,TN=k0("authIdTokenMaxAge")||EN;let c0=null;const wN=r=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>TN)return;const l=i==null?void 0:i.token;c0!==l&&(c0=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function bN(r=Sm()){const e=$s(r,"auth");if(e.isInitialized())return e.getImmediate();const i=QD(r,{popupRedirectResolver:gN,persistence:[IO,pO,QT]}),a=k0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(a,location.origin);if(location.origin===u.origin){const f=wN(u.toString());fO(i,f,()=>f(i.currentUser)),hO(i,m=>f(m))}}const l=M0("auth");return l&&ZD(i,`http://${l}`),i}function SN(){var r;return((r=document.getElementsByTagName("head"))==null?void 0:r[0])??document}jD({loadJS(r){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=e,a.onerror=l=>{const u=fi("internal-error");u.customData=l,i(u)},a.type="text/javascript",a.charset="UTF-8",SN().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});vN("Browser");const AN={apiKey:"AIzaSyCddND9ciUpeL3xTpWTUMyQ0TG9FyUCdiU",authDomain:"gen-lang-client-0595612537.firebaseapp.com",databaseURL:"https://gen-lang-client-0595612537-default-rtdb.firebaseio.com",projectId:"gen-lang-client-0595612537",storageBucket:"gen-lang-client-0595612537.firebasestorage.app",messagingSenderId:"1022447215307",appId:"1:1022447215307:web:5fbf39694b90d420d2314e",measurementId:"G-9YGZ8Z594C"},up=q0(AN);cD(up);const HN=bN(up),RN=OC(up),IN="cvHistory";async function CN({jdText:r,jobPosition:e,locationRequirement:i,candidates:a,userEmail:l,weights:u,hardFilters:f}){try{const m=a.length,y={A:0,B:0,C:0};a.forEach(A=>{var F;const j=A.status==="FAILED"?"C":((F=A.analysis)==null?void 0:F.Hạng)||"C";j==="A"?y.A++:j==="B"?y.B++:y.C++});const E=[...a].filter(A=>A.status==="SUCCESS").sort((A,j)=>{var F,Z;return(((F=j.analysis)==null?void 0:F["Tổng điểm"])||0)-(((Z=A.analysis)==null?void 0:Z["Tổng điểm"])||0)}).slice(0,3).map(A=>{var j,F,Z,G,te;return{id:A.id,name:A.candidateName,score:((j=A.analysis)==null?void 0:j["Tổng điểm"])||0,jdFit:parseInt(((G=(Z=(F=A.analysis)==null?void 0:F["Chi tiết"])==null?void 0:Z.find(re=>re["Tiêu chí"].startsWith("Phù hợp JD")))==null?void 0:G.Điểm.split("/")[0])||"0",10),grade:((te=A.analysis)==null?void 0:te.Hạng)||"C"}});return(await FC(CC(RN,IN),{jobPosition:e,locationRequirement:i,jdTextSnippet:r.slice(0,300),totalCandidates:m,grades:y,topCandidates:E,userEmail:l,fullPayload:{jdText:r,jobPosition:e,weights:u,hardFilters:f,candidates:a},createdAt:KC(),timestamp:Date.now()})).id}catch(m){throw console.error("Failed to save history session",m),m}}const DN=q.lazy(()=>rh(()=>import("./ScreenerPage-B_MN00On.js"),[])),nw=q.lazy(()=>rh(()=>import("./ProcessPage-DNV4jkgs.js"),[]));q.lazy(()=>rh(()=>import("./AchievementsContactPage-JrBGrbjx.js"),[]));const ON=q.lazy(()=>rh(()=>import("./LoginPage-DrZ3C9cG.js"),[]));function NN(r){const e=q.useRef(void 0);return q.useEffect(()=>{e.current=r}),e.current}const MN=()=>le.jsx(sA,{children:le.jsx(xN,{})}),xN=()=>{const[r,e]=q.useState(!0),[i,a]=q.useState(!1),[l,u]=q.useState(!1);_m();const f=()=>{u(!0),setTimeout(()=>{e(!1),u(!1)},800)},m=A=>{a(!0)},y=()=>{e(!0)},[g,E]=q.useState(Date.now()),b=()=>{y(),E(Date.now())};return i?r?le.jsx("div",{className:`min-h-screen text-slate-200 flex items-center justify-center transition-all duration-800 ease-in-out ${l?"opacity-0 scale-95":"opacity-100 scale-100"}`,children:le.jsx("div",{className:"mx-auto max-w-7xl w-full px-4 sm:px-6 lg:px-10 py-8",children:le.jsx(nw,{isIntroMode:!0,onStart:f})})}):le.jsx(kN,{onResetRequest:b,className:`transition-all duration-800 ease-in-out ${r?"opacity-0 scale-95":"opacity-100 scale-100"}`},g):le.jsx(ON,{onLogin:m})},kN=({onResetRequest:r,className:e})=>{const[i,a]=q.useState(()=>{var de;return typeof window<"u"&&((de=window.localStorage)==null?void 0:de.getItem("authEmail"))||""}),[l,u]=q.useState([]),f=Kr(),m=_m(),y=q.useCallback(()=>{try{localStorage.removeItem("authEmail")}catch{}window.location.reload()},[]),[g,E]=q.useState(""),[b,A]=q.useState(""),[j,F]=q.useState(pA),[Z,G]=q.useState({location:"",minExp:"",seniority:"",education:"",industry:"",language:"",languageLevel:"",certificates:"",salaryMin:"",salaryMax:"",workFormat:"",contractType:"",locationMandatory:!0,minExpMandatory:!0,seniorityMandatory:!0,educationMandatory:!1,contactMandatory:!1,industryMandatory:!0,languageMandatory:!1,certificatesMandatory:!1,salaryMandatory:!1,workFormatMandatory:!1,contractTypeMandatory:!1}),[te,re]=q.useState([]),[ee,ve]=q.useState([]),[ue,De]=q.useState(!1),[N,S]=q.useState("");q.useEffect(()=>{const de=()=>{try{const K=localStorage.getItem("authEmail")||"";a(ne=>ne&&ne.length>0?ne:K)}catch{}};de(),window.addEventListener("storage",de);const be=setInterval(de,5e3);return()=>{window.removeEventListener("storage",de),clearInterval(be)}},[]),q.useCallback(de=>{if(de)try{E(de.jdText||""),A(de.jobPosition||""),de.weights&&F(de.weights),de.hardFilters&&G(de.hardFilters),de.candidates&&ve(de.candidates),u(["jd","weights","upload","analysis"]),m("/analysis")}catch(be){console.warn("Restore failed",be)}},[m]);const R=NN(ue);q.useEffect(()=>{!g||g.length<120||G(de=>{if(de.industry&&de.industryManual)return de;const be=Kb(g,{threshold:.45});return be&&be.industry!==de.industry?{...de,industry:be.industry}:de})},[g]),q.useEffect(()=>{if(R&&!ue&&ee.length>0){const de=ee.filter(be=>be.status==="SUCCESS");if(de.length>0){const be=de.map(ne=>({...ne,id:ne.id||`${ne.fileName}-${ne.candidateName}-${Math.random()}`})),K={timestamp:Date.now(),job:{position:b,locationRequirement:Z.location||"Không có"},candidates:be};localStorage.setItem("cvAnalysis.latest",JSON.stringify(K)),CN({jdText:g,jobPosition:b,locationRequirement:Z.location||"Không có",candidates:be,userEmail:i||"anonymous",weights:j,hardFilters:Z}).catch(ne=>console.warn("Save history failed",ne))}}},[ue,R,ee,b,Z.location,g,i]);const x=q.useMemo(()=>{switch(f.pathname){case"/process":return"process";case"/weights":return"weights";case"/upload":return"upload";case"/analysis":return"analysis";case"/":default:return"jd"}},[f.pathname]),D=q.useCallback(de=>{const be={jd:"/",weights:"/weights",upload:"/upload",analysis:"/analysis",process:"/process"};be[de]&&m(be[de])},[m]),V=q.useCallback(de=>{u(be=>[...new Set([...be,de])])},[]),C={jdText:g,setJdText:E,jobPosition:b,setJobPosition:A,weights:j,setWeights:F,hardFilters:Z,setHardFilters:G,cvFiles:te,setCvFiles:re,analysisResults:ee,setAnalysisResults:ve,isLoading:ue,setIsLoading:De,loadingMessage:N,setLoadingMessage:S,activeStep:x,setActiveStep:D,completedSteps:l,markStepAsCompleted:V};return le.jsxs("div",{className:`min-h-screen text-slate-200 ${e||""}`,children:[le.jsx(gA,{activeStep:x,setActiveStep:D,completedSteps:l,onReset:r,onLogout:y,userEmail:i}),le.jsxs("main",{className:"transition-all duration-300 md:ml-[240px] h-screen overflow-y-auto",children:[le.jsx(yA,{activeStep:x,completedSteps:l}),le.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-10 py-2",children:le.jsx(q.Suspense,{fallback:le.jsx("div",{className:"flex justify-center items-center h-64",children:le.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}),children:le.jsxs(PS,{children:[le.jsx(Kd,{path:"/process",element:le.jsx(nw,{})}),le.jsx(Kd,{path:"/*",element:le.jsx(DN,{...C})})]})})})]})]})},iw=document.getElementById("root");if(!iw)throw new Error("Could not find root element to mount to");const VN=Hb.createRoot(iw);VN.render(le.jsx(kb.StrictMode,{children:le.jsx(MN,{})}));export{UN as M,kb as R,rh as _,LN as a,BN as b,PN as c,HN as d,h0 as g,le as j,q as r,jN as s};
